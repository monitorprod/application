{"version":3,"sources":["icons/logo.svg","icons/injector.svg","icons/mold.svg","pages/landing/logo-dark.png","pages/landing/intro.jpg","pages/landing/about1.jpg","pages/landing/about2.jpg","pages/landing/about3.jpg","pages/landing/about4.jpg","pages/landing/logo.png","pages/landing/favicon-32x32.png","pages/landing/favicon-16x16.png","pages/landing/bg-showcase-1.png","pages/landing/bg-showcase-2.png","pages/landing/bg-showcase-3.png","utils/lodash.js","utils/addHooks.js","utils/validateForm.js","utils/getColor.js","utils/getConfigs.js","utils/getEventType.js","utils/getDateJSON.js","utils/getLastReadingCycle.js","utils/getPermissions.js","utils/mapPermissions.js","utils/login.js","utils/logout.js","api.js","pages/dashboard/target-line-plugin.js","utils/useAuth.js","utils/runHooks.js","utils/useUpsertService.js","utils/useDeleteService.js","utils/useFindService.js","utils/useGetService.js","utils/useFindDeleteService.js","utils/useStatusSensor.js","utils/useSensorAllURL.js","utils/index.js","components/buttons/index.js","components/layout/MainTabsNav.js","components/layout/CompanyLogin.js","components/not-found/index.js","components/loader/index.js","components/layout/SnackNotification.js","components/layout/Notifications.js","components/layout/NotificationMessageItem.js","components/errors/index.js","components/master-data-form/Tree.js","components/layout/TreeSupportItem.js","pages/sysadmin/companies/SendEmailAction.js","pages/sysadmin/companies/model.js","components/layout/TicketsList.js","components/layout/Logout.js","components/layout/useTicketContext.js","components/layout/UserActions.js","components/layout/Shell.js","components/routes/ClientRoute.js","components/routes/AdminRoute.js","components/routes/SessionRoute.js","components/breadcrumbs/index.js","components/master-data-list/GridToolbar.js","components/master-data-list/GridCard.js","components/master-data-list/Grid.js","components/master-data-list/Filter.js","components/master-data-list/TableRow.js","components/master-data-list/Table.js","components/master-data-list/index.js","components/pages/withMasterDataList.js","components/master-data-form/Actions.js","components/master-data-form/useDEFAULT.js","components/master-data-form/AutoComplete.js","components/master-data-form/IntegerInput.js","components/master-data-form/CheckList.js","components/master-data-form/FormInput.js","components/master-data-form/FieldsRow.js","components/master-data-form/useENTER.js","components/master-data-form/index.js","components/pages/withMasterDataForm.js","components/master-data-card/index.js","components/pages/withAdministrationPage.js","components/plant-turns-table/model.js","components/plant-turns-table/NewTurn.js","components/plant-turns-table/TurnPanel.js","components/plant-turns-table/Form.js","components/plant-turns-table/index.js","components/plant-holidays-table/model.js","components/plant-holidays-table/NewHoliday.js","components/plant-holidays-table/HolidayPanel.js","components/plant-holidays-table/Form.js","components/plant-holidays-table/index.js","pages/master-data/machines/SensorURL.js","pages/master-data/machines/SensorAllURL.js","pages/master-data/machines/model.js","pages/master-data/molds/model.js","pages/master-data/products/model.js","pages/master-data/sensors/model.js","pages/master-data/setups/model.js","pages/master-data/models.js","components/mold-products-table/model.js","components/mold-products-table/NewProduct.js","components/mold-products-table/AddProduct.js","components/mold-products-table/ProductPanel.js","components/mold-products-table/Form.js","components/mold-products-table/index.js","components/machine-mold-products-table/model.js","components/machine-mold-products-table/AddMachine.js","components/machine-mold-products-table/MachinePanel.js","components/machine-mold-products-table/Form.js","components/machine-mold-products-table/index.js","components/wiki-page-wiki-sections-table/model.js","components/wiki-page-wiki-sections-table/Form.js","components/wiki-page-wiki-sections-table/NewWikiSection.js","components/wiki-page-wiki-sections-table/WikiSectionPanel.js","components/wiki-page-wiki-sections-table/index.js","components/chat-support/message/index.js","components/chat-support/dropbox.js","components/chat-support/Input.js","components/chat-support/index.js","components/index.js","pages/login/index.js","pages/help/model.js","pages/help/TreeItem.js","pages/help/home/model.js","pages/help/home/index.js","pages/help/index.js","pages/support/tickets/model.js","pages/support/index.js","pages/landing/index.js","pages/under-construction/index.js","utils/svgIcons.js","pages/master-data/index.js","pages/master-data/molds/MoldProductsList.js","pages/master-data/molds/Form.js","pages/master-data/molds/MoldProductForm.js","pages/master-data/routes.js","pages/administration/index.js","pages/reset-password/index.js","pages/administration/plants/model.js","pages/administration/plants/Form.js","pages/administration/attributes/model.js","pages/administration/production-order-types/model.js","pages/administration/production-order-event-types/Color.js","pages/administration/production-order-event-types/model.js","pages/administration/machine-types/model.js","pages/administration/nozzle-types/model.js","pages/administration/product-mat-types/model.js","pages/administration/users/SendEmailAction.js","pages/administration/users/SendReportAction.js","pages/administration/users/RoleHelp.js","pages/administration/users/model.js","pages/administration/models.js","pages/administration/waste-justifications/model.js","pages/administration/routes.js","pages/dashboard/PlantFilter.js","pages/dashboard/index.js","pages/dashboard/GaugeChart.js","pages/dashboard/PieChart.js","pages/dashboard/IndicatorsReport.js","pages/dashboard/index2.js","pages/dashboard/production/Status.js","pages/dashboard/production/ProductionOrderCard.js","pages/dashboard/production/index.js","pages/dashboard/production/production-order/model.js","pages/dashboard/production/production-order/Actions.js","pages/dashboard/production/production-order/StatusLine.js","pages/dashboard/production/production-order/Status.js","pages/dashboard/production/production-order/Selection.js","pages/dashboard/production/production-order/useDEFAULT.js","pages/dashboard/production/production-order/EventDrawer.js","pages/dashboard/production/production-order/index.js","pages/dashboard/production-waste/DataRow.js","pages/dashboard/DateFilter.js","pages/dashboard/production-report/MenuFilter.js","pages/dashboard/production-waste/index.js","pages/dashboard/production-report/DataRow.js","pages/dashboard/production-report/index.js","pages/dashboard/production-history/ProductionGauge.js","pages/dashboard/production-history/MachineRow.js","pages/dashboard/production-history/index.js","pages/dashboard/production-oee/BarChart.js","pages/dashboard/production-oee/PlantMachinesList.js","pages/dashboard/production-oee/index.js","pages/dashboard/CarouselPage.js","pages/dashboard/routes.js","pages/sysadmin/index.js","pages/sysadmin/configs/model.js","pages/sysadmin/configs/index.js","pages/sysadmin/sensors/CustomActions.js","pages/sysadmin/sensors/SensorStatus.js","pages/sysadmin/sensors/EventStatus.js","pages/sysadmin/sensors/model.js","pages/sysadmin/colors/Color.js","pages/sysadmin/colors/model.js","pages/sysadmin/measurement-units/model.js","pages/sysadmin/plant-statuses/model.js","pages/sysadmin/production-order-statuses/model.js","pages/sysadmin/production-order-action-types/Color.js","pages/sysadmin/models.js","pages/sysadmin/production-order-action-types/model.js","pages/sysadmin/company-statuses/model.js","pages/sysadmin/machine-statuses/model.js","pages/sysadmin/mold-statuses/model.js","pages/sysadmin/product-statuses/model.js","pages/sysadmin/sensor-statuses/model.js","pages/sysadmin/roles/model.js","pages/sysadmin/role-statuses/model.js","pages/sysadmin/user-statuses/model.js","pages/sysadmin/ticket-statuses/model.js","pages/sysadmin/routes.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","lodashGet","get","lodashMap","map","lodashForEach","foreach","lodashFilter","filter","lodashReduce","reduce","lodashFind","find","lodashFindIndex","findindex","lodashIsNil","isnil","lodashSplit","split","lodashDeburr","deburr","lodashDebounce","debounce","lodashToUpper","toupper","lodashToLower","upperfirst","tolower","lodashTrim","trim","lodashFlattenDeep","flattendeep","lodashFill","fill","addHooks","hooks","identity","hooksToAdd","targetHooks","Array","isArray","sourceHooks","validateField","field","requiredKey","formItem","setFormErrors","OR","isValid","value","validation","key","indexOf","prev","handleValidate","validationResult","data","target","name","item","validateForm","fields","isValidField","required","getColor","path","getConfigs","a","client","service","configs","c","set","query","$populateAll","actionTypes","type","id","console","log","getEventType","getDateJSON","date","dateD","moment","year","month","hour","minute","second","getLastReadingCycle","productionOrder","lastReading","getPermissions","privileges","permissions","length","privilege","mapPermissions","payload","userPermissions","roles","permission","role","login","email","password","companyUUID","authenticate","strategy","response","localStorage","setItem","accessToken","getItem","passport","verifyJWT","logout","removeItem","setCompanyUUID","context","params","feathers","socket","io","configure","socketio","timeout","auth","storageKey","storage","window","before","all","React","Chartist","createContext","useAuth","dependencies","useContext","ApiContext","useState","session","setSesstion","loading","setLoading","setPermissions","hasAccess","setHasAccess","stringPrivileges","JSON","stringify","stringDependencies","useEffect","parsedPrivileges","parse","runHooks","continueOperation","hooksToRun","Promise","hook","result","useUpsertService","propsModel","model","propsFields","newItem","setNewItem","setFormItem","formErrors","errors","setErrors","setModel","setFields","flattenFields","stringHooks","stringFormItem","handleChange","useCallback","asyncHandleChange","handleSubmit","e","preventDefault","cleanFormItem","patch","create","validatorKey","fieldIdentity","fieldError","handleFormErrors","text","useDeleteService","propsItem","handleDelete","confirm","remove","useFindService","propsQuery","timeCarousel","list","setList","setQuery","trigger","setTrigger","stringQuery","useDebouncedCallback","setTimeout","doFind","reload","Date","now","useGetService","useFindDeleteService","$sort","findQuery","setFindQuery","findLoading","findErrors","stringFindQuery","afterDelete","doDelete","deleteLoading","deleteErrors","deleteRef","setDeleteRef","useStatusSensor","ip","activeEventType","undefinedEventType","activeColor","undefinedColor","status","setStatus","deviceURL","getStatusSensor","didTimeOut","resolve","reject","fetchTimeout","fetch","then","clearTimeout","catch","getStatusInterval","setInterval","clearInterval","href","useSensorAllURL","unreachableSensors","setUnreachableSensors","sensorsURL","setSensorsURL","sensor","machineId","sensorId","url","Redirect","eRedirect","BrowserRouter","eBrowserRouter","Route","eRoute","Link","eLink","Switch","eSwitch","withRouter","eWithRouter","withStyles","eWithStyles","classNames","eClassNames","eLodashGet","eLodashMap","eLodashForEach","eLodashFilter","eLodashReduce","eLodashFind","eLodashFindIndex","eLodashIsNil","eLodashSplit","eLodashDeburr","eLodashDebounce","eLodashToUpper","eLodashToLower","eLodashTrim","eLodashFlattenDeep","eLodashFill","formatNumber","eFormatNumber","NUMBER_FORMAT","integerSeparator","decimal","eAddHooks","eValidateForm","eGetColor","eGetConfigs","eGetEventType","eGetDateJSON","eGetLastReadingCycle","eGetPermissions","eMapPermissions","eLogin","eLogout","eUseAuth","eUseUpsertService","eUseDeleteService","eUseFindService","eUseGetService","eUseFindDeleteService","eUseStatusSensor","eUseSensorAllURL","theme","button","navbar","marginRight","spacing","color","profile","backgroundColor","palette","common","white","boxShadow","header","borderRadius","padding","margin","fontSize","toolbar","minHeight","table","secondary","main","lowercase","textTransform","icon","submit","black","delete","primary","editAction","deleteAction","clearAction","position","right","bottom","chatSupport","marginTop","withTheme","classes","avatar","variants","fullWidth","onClick","props","Component","IconButton","Button","buttonProps","Tooltip","className","title","aria-label","variant","Fragment","Hidden","mdUp","Icon","smDown","Avatar","style","width","height","background","nav","flex","minWidth","wrapper","selected","pathname","location","actions","BottomNavigation","showLabels","BottomNavigationAction","label","xsDown","component","to","form","display","alignItems","textField","borderColor","loginName","setLoginName","error","setError","redirect","setRedirect","handleLogin","request","URL","search","URLSearchParams","json","push","TextField","helperText","placeholder","onChange","onKeyPress","which","notFound","textAlign","Typography","loader","marginBottom","LinearProgress","SnackNotification","forwardRef","ref","closeSnackbar","useSnackbar","notification","productionExceeded","stop","noise","Card","card","CardActions","root","gutterBottom","createdAt","format","icons","close","maxWidth","marginLeft","paddingBottom","paddingTop","maxHeight","overflow","whiteSpace","badge","top","justifyContent","userMenuItem","borderTopLeftRadius","borderTopRightRadius","breakpoints","up","border","down","listHeader","hasSession","isAdminApp","open","setOpen","MenuRef","useRef","handleClose","event","current","contains","enqueueSnackbar","newNotification","preventDuplicate","autoHideDuration","anchorOrigin","vertical","horizontal","content","handleRemove","handleRemoveAll","onNotification","navigator","serviceWorker","ready","Notification","requestPermission","showNotification","body","logo","image","vibrate","action","productionOrderId","pushNotification","on","removeListener","userName","initials","outerWidth","fragment","alert","empty","buttonRef","node","aria-owns","undefined","aria-haspopup","Popper","anchorEl","transition","disablePortal","TransitionProps","placement","Grow","transformOrigin","Paper","ClickAwayListener","onClickAway","AppBar","Toolbar","edge","List","Divider","ListItem","ListItemText","ListItemSecondaryAction","UnreadBadge","Badge","link","urgent","nested","paddingLeft","ticket","withoutClosedTickets","reloadTicket","ticketId","viewedAt","listMessages","setQueryMessages","userId","unreadMessages","message","STATUS","changeUrgency","ticketStatusId","resp","changeClose","ticket_status","ListItemAvatar","ListItemIcon","getAvatar","paddingRight","textDecoration","toLowerCase","badgeContent","dark","SnackbarContent","panel","details","flexDirection","flexWrap","deep","match","propsReload","reloadTree","customContent","options","paramsId","paramsProp","expandRef","setExpandRef","handleExpand","Grid","container","direction","dontShowNotFound","beforeTree","xs","isSelected","parseInt","linkProps","dontTreeItemLink","formPath","ExpansionPanel","expanded","ExpansionPanelSummary","expandIcon","afterTreeItem","alt","src","customTreeName","customName","customTree","ExpansionPanelDetails","afterTree","TreeSupportItem","company","companyId","listTicket","loadingTicket","SendEmailAction","zIndex","send","setSend","handleSendEmail","$sendEmail","RegExp","test","readOnly","show","ifThis","autoFocus","replace","isCNPJValid","defaultValue","config","enum","customValue","customData","metadata","listPath","newItemText","links","customBreadCrumbsName","fantasyName","customActions","isList","isForm","ticketsList","overflowX","addTicket","setWithoutClosedTickets","reloadMessages","$in","t","onNewEvent","aria-labelledby","startIcon","FormControlLabel","control","p","labelPlacement","Companies","ticketCompany","ticketOpen","ticketUrgent","borderBottomLeftRadius","borderBottomRightRadius","handleLogout","useTicketContext","connected","setConnected","tickets","userUnreadMessages","swtichTheme","supportOpen","setSupportOpen","handleClick","handleToggle","checked","Collapse","overflowY","in","unmountOnExit","userActions","sysAdminActions","scrollbarWidth","flexGrow","home","children","isAdmin","isLoginApp","isDevelopmentEnvironment","includes","MainTabsNav","ClientRoute","AdminRoute","SessionRoute","grid","firstLink","arrow","index","spacer","fab","dontCreate","writePermissions","Fab","controls","CardContent","hasIdentity","dontEdit","dontDelete","sm","menu","setSelected","setSearch","sortType","setSortType","anchor","setAnchor","handleSelect","selectedString","queryString","newQuery","param","values","Object","keys","$like","modelCustomName","currentTarget","Menu","onClose","MenuItem","row","TableRow","hidden","only","TableCell","scrollArea","Table","TableHead","dontFilter","customText","TableBody","colSpan","MasterDataListPage","withMasterDataListPage","history","justify","dontSave","dontCopy","copyItem","uuid","useDEFAULT","populate","setConfigValue","configValue","populatedValue","defaultConfig","defaultThis","defaultCustomValue","popper","TextFieldProps","InputProps","queryField","sortQuery","findModel","modelThis","modelService","modelQuery","useCustomQuery","setFindModel","getLoading","setGetModel","setOptions","updateQuery","inputValue","$or","DownshiftRef","PopperRef","selectItem","enumValue","focused","setFocused","handleFocus","select","handleBlur","handleClear","selectedItem","selectedValue","onInputValueChange","itemToString","getInputProps","getItemProps","isOpen","getMenuProps","inputRef","onFocus","onBlur","disabled","square","clientWidth","IntegerInput","other","allowEmptyFormatting","thousandSeparator","decimalSeparator","decimalScale","onValueChange","floatValue","parseFloat","getInputRef","option","checkbox","spliceAndPush","arraySplice","identitySplice","arrayPush","identityPush","splice","handleOptionChange","fieldValue","fieldDeleteValue","customOptionContent","Checkbox","textfield","inputBootstrap","checkboxLabel","editor","pointerEvents","short","setup","wiki","contact","getInputType","getInputValue","inputComponent","readOnlyIfThis","readOnlyUntil","readOnlyCustomIf","variantsCustomIf","useCustomIf","useVariantIf","customIfValue","variantIfValue","readOnlyValue","variantsValue","setReadOnly","setVariants","max","maxLength","maxValue","minValue","min","DatePicker","DateTimePicker","TimePicker","getInputComponent","getInputFormat","handleInputChange","toISOString","EditorState","createEmpty","editorState","setEditorState","contentBlock","htmlToDraft","contentState","ContentState","createFromBlockArray","contentBlocks","draftToHtml","convertToRaw","getCurrentContent","createWithContent","ampm","disableOpenOnEnter","keyboard","toolbarHidden","wrapperClassName","editorClassName","onEditorStateChange","multiline","FieldsRow","isContainer","showIfThis","showFieldValue","showField","setShowField","useENTER","handleKeyPress","flatFields","nodeName","nextField","document","querySelector","focus","dontUseEnter","addEventListener","removeEventListener","tree","treeModel","propsFormErrors","propsData","propsLoading","propsErrors","setReloadTree","reloadHome","setReloadHome","reloadTreeHook","asyncReloadTreeHook","reloadHomeHook","asyncReloadHomeHook","redirectToItemHook","noRedirect","asyncRedirectToItemHook","upsertSubmit","upsertLoading","upsertErrors","redirectToListHook","hasWriteAccess","hasActions","copyData","stringCopyData","parsedCopyData","itemIsNull","dontShowTree","elevation","replaceNewItem","onSubmit","saveOnEnter","beforeForm","customError","afterForm","MasterDataFormPage","dontUseBreadcrumbs","withMasterDataFormPage","area","kpi","order","svgIcon","description","CardActionArea","AdministrationPage","gridItem","outline","outlineOffset","setExpanded","group","lg","withAdministrationPage","FormRef","setFormRef","isExpanded","stopPropagation","turn","Portal","plant","propsHandleChange","plantId","refsMap","rest","resetForm","resetList","newTurn","monday","tuesday","wednesday","thursday","friday","saturday","sunday","turnStartT","startTime","turnEndT","endTime","isSameOrAfter","subtract","newTurnStartT","newTurnEndT","isBetween","toDate","turns","hoursPerWeek","Math","round","hours","days","day","diff","NewTurn","Form","holiday","startDate","endDate","isSame","newHoliday","holidays","sort","b","NewHoliday","SensorURL","cursor","machineName","machineURL","escape","SensorAllURL","rel","dontFilterWhenChild","plantStatusId","machinesIcon","readPermissions","mold","idealCycle","moldsIcon","product","weight","machine","$ne","$nin","machineStatusId","moldStatusId","until","productStatusId","moldId","products","calculateCycle","factor","MachinesModel","eMachinesModel","MoldsModel","eMoldsModel","ProductsModel","eProductsModel","SensorsModel","eSensorsModel","SetupsModel","eSetupsModel","productId","handleAddProduct","cavities","handleEditProduct","handleDeleteProduct","afterChange","productItem","productLoading","productErrors","addProductQuery","intCavities","newProduct","moldProduct","NewProduct","AddProduct","handleAddMachine","handleEditMachine","handleDeleteMachine","addMachineQuery","minCycle","maxCycle","machineMoldProduct","WikiPagesModel","slice","wikiSection","wikiPage","wikiPageId","newWikiSection","wiki_sections","colored","listTextWrap","wordWrap","viewed","tab","user","classnames","dbx","Dropbox","input","appBar","iconButton","divider","ticketClosed","file","setFile","uploadResponse","setUploadResponse","size","filesUpload","contents","workItems","offset","chunkSize","acc","blob","idx","items","filesUploadSessionStart","session_id","sessionId","filesUploadSessionAppendV2","commit","mode","autorename","mute","filesUploadSessionFinish","getElementById","appendChild","createTextNode","evt","files","click","InputBase","inputProps","orientation","appbarRoot","question","inline","subheader","left","transform","lineHeight","scrollRef","setListMessages","$markAsViewed","loadingMessages","newMessage","scrollTo","Shell","eShell","eClientRoute","eAdminRoute","eSessionRoute","eWithMasterDataListPage","eWithMasterDataFormPage","eWithAdministrationPage","MasterDataCard","eMasterDataCard","MasterDataForm","eMasterDataForm","PlantTurnsTable","ePlantTurnsTable","PlantHolidaysTable","ePlantHolidaysTable","MoldProductsTable","eMoldProductsTable","MachineMoldProductsTable","eMachineMoldProductsTable","WikiPageWikiSectionsTable","eWikiPageWikiSectionsTable","FormInput","eFormInput","eFieldsRow","Tree","eTree","BreadCrumbs","eBreadCrumbs","Loader","eLoader","Errors","eErrors","NotFound","eNotFound","eButton","ChatSupport","eChatSupport","goToHome","footer","success","authLoading","loginForm","setLoginForm","Error","handleChangePassword","handleResetPassword","$forgotPassword","stringSession","stringPermissions","parsedSession","autoComplete","TreeItem","afterSubmit","hrStyle","buttonForm","Logo","HomeModel","dontRedirect","headerLogo","borderLeft","containerButton","ticketItem","ticketLoading","ticketErrors","onPatched","TicketModel","phone","setContact","setSuccess","lang","charSet","sizes","favicon32","favicon16","logoPNG","data-toggle","data-target","aria-controls","aria-expanded","introIMG","backgroundImage","BackgroundShowcase1","BackgroundShowcase2","BackgroundShowcase3","about1IMG","about2IMG","about3IMG","about4IMG","noValidate","data-validation-required-message","data-dismiss","aria-hidden","logoDarkPNG","MoldIcon","SvgIcon","viewBox","d","MachineIcon","level","MasterDataRoutes","exact","MasterDataPage","MasterDataMoldsFormPage","MasterDataMoldProductsFormPage","default","UnderConstructionPage","newPassword","confirmPassword","PlatnsModel","Color","isSystemEvent","SendReportAction","$sendReport","RoleHelp","tooltip","writeMasterData","readMasterData","crudAdminData","crudUserData","writeActiveProductionOrders","writeScheduledStopProductionOrders","openProductionOrders","writeProductionOrderEvents","editProductionOrderEvents","readProductionOrders","readProductionOrderReports","readPendingWaste","writePendingWaste","editPendingWaste","r","join","AttributesModel","eAttributesModel","ProductionOrderTypesModel","eProductionOrderTypesModel","ProductionOrderEventTypesModel","eProductionOrderEventTypesModel","MachineTypesModel","eMachineTypesModel","NozzleTypesModel","eNozzleTypesModel","PlantsModel","ePlantsModel","ProductMatTypesModel","eProductMatTypesModel","UsersModel","WasteJustificationsModel","AdministrationRoutes","ResetPasswordPage","AdminPlantFormPage","memo","setText","firstUpdate","setFirstUpdate","parsedSelected","copyFilter","kpiLabel","export","noJustifiedEventType","inactiveMachines","setInactiveMachines","pendingWaste","setPendingWaste","plantIdQuery","setPlantIdQuery","inactiveMachinesLoading","setInactiveMachinesLoading","pendingWasteLoading","setPendingWasteLoading","$reportLabels","sd","startOf","add","ed","endOf","ReportLabelsData","getReportLabelsData","noJustifiedColor","getLinkLabel","hasProductionAccess","hasReportsAccess","hasWasteAccess","plugins","targetLine","chart","class","axisX","horizontalBars","targetLineX","chartRect","x1","projectValue","svg","elem","x2","y1","y2","targetLineY","axisY","centerX","centerY","relativePercentage","thetaRad","percentToDegree","PI","topX","cos","topY","sin","leftX","leftY","rightX","rightY","cx","cy","x","y","_node","innerHTML","toFixed","chartistGaugeOptions","startAngle","total","showLabel","series","bgColor","listener","draw","element","attr","legend","spacing9","titleLegend","iconLegend","chartistOptions","chartPadding","labelOffset","labelDirection","labelInterpolationFnc","fillSectorColor","prototype","call","labelsNames","linkIcon","weekLoading","setWeekLoading","$reportYesterdaySummary","YesterdaySummaryData","setOEEData","graphOEE","setInactivityData","graphInactivity","setStatsData","graphStats","getYesterdaySummaryData","$reportIndicators","dates","ReportIndicatorsData","graphIndicators","setWeekReportData","getReportIndicatorsData","oeeData","weekReportData","inactivityData","statsData","weekReportOptions","showGrid","FixedScaleAxis","high","low","ticks","appendToBody","tooltipFnc","meta","fillBarColor","graphTotalNonPlannedStoppedTime","currentCycle","standardCycle","borderTop","noOPEventType","cycle","setCycleValue","productionOrderEvent","setProductionOrderEvent","stringProductionOrder","pProductionOrder","pLastEvent","lastEvent","setShowUndefinedAlert","setShowStoppedAlert","setShowNoActiveOPAlert","setShowMaxProductionAlert","setProductionOrder","setLastEvent","setBackgrund","confirmedProduction","missingProduction","findProductionOrders","isActive","actualStartDate","$limit","productionOrders","$withoutOP","sensors","mi","si","$exists","$gte","events","asyncFindProductionOrders","stringPProductionOrder","parsedPProductionOrder","stringPLastEvent","parsedPLastEvent","stringLastEvent","parsedProductionOrder","parsedLastEvent","setStatusColor","noJustified","noActiveOP","undefinedEV","productionOrderActionTypeId","readings","isProductionType","findReadingAlert","activeOrder","inProductionOrder","reloadEvents","onEventCreated","poi","onProductionOrder","endD","md","noWrap","displayType","limit","showUndefinedAlert","showStoppedAlert","showNoActiveOPAlert","showMaxProductionAlert","$productionOrders","$skip","customIf","productionOrderType","productionOrderTypeId","moldProducts","UM","setProductionOrderCycles","cyclesData","machineMoldProductCycles","machineProductCycles","isInProduction","navigation","hasCRUDAccess","prevProductionOrder","prevProductionOrderProps","nextProductionOrder","nextProductionOrderProps","activeProductionOrder","activeProductionOrderProps","totalProduction","wastedProduction","actualEndDate","borderBottom","turnName","fontStyle","isFirst","hasEditAccess","typesMap","allowEdition","setAllowEdition","handleEdit","getActionType","ev","at","$editEvent","tr","production","eventDetail","currentOp","setCurrentOp","setEvents","setTypesMap","setIsExpanded","page","setPage","paginatedList","setPaginatedList","historyResult","setHistoryResult","eventTypes","getTypesMap","$populateUsers","reverse","findEvents","undefinedProduction","expectedEndDate","productionTime","expectedProduction","openCavities","disableHeight","rowHeight","nextEV","tu","alignContent","formReadOnly","afterSelected","selectedMachine","setSelectedMachine","selectedSensor","setSelectedSensor","beforeSubmit","expectedProductionUM","cycleUM","loadingUpsert","errorsUpsert","sidebar","drawer","itemIcon","side","handleDrawer","eventLoading","setEventLoading","sendEvent","productionOrderEventTypeId","designedStatus","designed","listContent","hideTracksWhenNotNeeded","Drawer","formContainer","isClosed","breadCrumbs","inputWrapper","$eventsAndNavigation","loadingGet","errorsGet","setMachine","openDrawer","setOpenDrawer","getMachineNavigation","machineNavigation","hasInProductionAccess","hasNotInProductionAccess","hasEventsAccess","productionOrderTypeQuery","Selection","groupBy","historyBy","setShow","stringItem","cpw","cp","wasteP","wp","wpw","confirmP","wji","handleUpdate","_id","enabled","colspan","handleGroupExpand","expandId","setDate","maxDate","minDate","isEndDate","setIsOpen","isAfter","locale","cancelLabel","autoOk","onOpen","setFilter","menuRef","MenuList","exportWrapper","exportLoader","alignSelf","pendingWasteData","setPendingWasteData","setHeader","setStartDate","setEndDate","setHistoryBy","typesBy","setTypesBy","groupByExpandMap","setGroupByExpandMap","stringStartDate","stringEndDate","$pendingWaste","PendingWasteData","expandMap","asyncGetPendingWasteData","getPendingWasteData","loadingSubmit","setLoadingSubmit","wItem","groupData","promise","dontShow","newWaste","ti","tp","waste","active","closed","groupTotal","isNil","availabilityData","setAvailabilityData","setGroupBy","eventsBy","setEventsBy","$reportAvailability","ReportAvailabilityData","asyncGetReportAvailabilityData","getReportAvailabilityData","loadingPDF","setLoadingPDF","fnPDFReport","linkPDF","createElement","createObjectURL","download","tableContent","frameId","i","rows","sa","userAgent","write","execCommand","encodeURIComponent","faFileExcel","faFilePdf","mipoi","filters","stackBars","divisor","innerWidth","array","clone","transformTooltipTextFnc","isSameDay","setData","labels","reportHistoryData","setReportHistoryData","stringDate","asyncGetReportHistoryData","companyQuery","$adminQueryCompanyId","machineQuery","$reportHistory","cd","same","ReportHistoryData","getReportHistoryData","getReportHistoryDataInterval","reverseData","toolbarTitle","toolbarLabel","treeItemSelected","graphWrapper","graphSidebar","graphItem","graphItemDetail","graphTitle","graphSidebarTitle","graphIcon","graphDetailTitle","graphDetail","fontWeight","allPlants","graphOEEData","setGraphOEEData","qualityData","setQualityData","performanceData","setPerformanceData","actionsData","setActionsData","loadingGraph","setLoadingGraph","$reportOEE","ReportOEEData","graphAvailability","graphQuality","graphPerformance","graphActions","asyncGetReportOEEData","getReportOEEData","GraphOEEData","v","asyncGetGraphOEEData","getGraphOEEData","graphOEEOptions","OEE","showArea","urlParams","plannedTime","totalProductionInEvents","confirmedProductionInEvents","wastedProductionInEvents","readingsInEvents","realCycleInEvents","listMachines","hasProductionOrdersAccess","totalPages","ceil","pagesProduction","pagesProductionHistory","dots","infinite","autoplay","autoplaySpeed","speed","slidesToShow","slidesToScroll","pageProductionHistory","pageProduction","CarouselPage","DashboardPage","ReportsPage","ProductionPage","ProductionOrderPage","ProductionWastePage","ProductionHistoryPage","ProductionReportPage","ProductionOEEPage","SysAdminPage","this","newButton","deleteButton","CustomActions","archiveStatus","handleArchive","sensorStatusId","barcode","newSensor","handleSync","sensorUUID","SensorStatus","EventStatus","noScheduledStopEventType","scheduledStopEventType","noScheduledStopColor","scheduledStopColor","eventDiff","getStatusEvent","CompaniesModel","eCompaniesModel","ColorsModel","eColorsModel","MeasurementUnitsModel","eMeasurementUnitsModel","PlantStatusesModel","ePlantStatusesModel","ProductionOrderStatusesModel","eProductionOrderStatusesModel","ProductionOrderActionTypesModel","CompanyStatusesModel","MachineStatusesModel","MoldStatusesModel","ProductStatusesModel","SensorStatusesModel","RolesModel","RoleStatusesModel","UserStatusesModel","TicketStatusesModel","SysAdminRoutes","ConfigsPage","App","setDark","createMuiTheme","typography","useNextVariants","ThemeProvider","utils","MomentUtils","CssBaseline","maxSnack","LoginPage","DashboardRoutes","WikiPage","SupportTicket","isLocalhost","Boolean","hostname","registerValidSW","swUrl","register","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","onUpdate","onSuccess","ReactDOM","render","process","origin","contentType","headers","unregister","checkValidServiceWorker"],"mappings":"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SACZqD,YAAa,cAGA,IACbF,YACAha,QACA+L,KArMkB,CAClB,CACE,CACExM,KAAM,OACN1J,SAAU,QACVwC,KAAM,UAGV,CACE,CACEkH,KAAM,YACN1J,SAAU,UACVwC,KAAM,UAER,CACEkH,KAAM,YACN1J,SAAU,WACVsxB,IAAK,GACL3N,WAAW,EACXhiB,UAAU,EACVa,KAAM,UAER,CACEkH,KAAM,SACN1J,SAAU,eACV2B,UAAU,EACVqG,MAAO,gBACP8b,aAAc,CACZC,OAAQ,sBAId,CACE,CACEra,KAAM,OACN1J,SAAU,OACV2B,UAAU,EACVa,KAAM,UAER,CACEkH,KAAM,YACN1J,SAAU,WACV2B,UAAU,EACVa,KAAM,WAER,CACE,CACEkH,KAAM,iBACN1J,SAAU,aACVwC,KAAM,WAER,CACEkH,KAAM,KACN1J,SAAU,eACV4T,SAAU,QACV5L,MAAO,CACL/F,QAAS,oBACTI,MAAO,CACLG,KAAM,SAGVb,SAAU,gBAIhB,CACE,CACE,CACE+H,KAAM,aACN1J,SAAU,QACVwC,KAAM,UAER,CACEkH,KAAM,uBACN1J,SAAU,kBACVwC,KAAM,SAGV,CACE,CACEkH,KAAM,YACN1J,SAAU,WACVwC,KAAM,UAER,CACEkH,KAAM,eACN1J,SAAU,eACVwC,KAAM,UAIZ,CACE,CACEkH,KAAM,eACN1J,SAAU,aACVgI,MAAO,gBAET,CACE0B,KAAM,cACN1J,SAAU,SACVwC,KAAM,WAER,CACEkH,KAAM,UACN1J,SAAU,QACVwC,KAAM,WAER,CACE,CACEkH,KAAM,SACN1J,SAAU,SACVwC,KAAM,WAER,CACEkH,KAAM,KACN1J,SAAU,KACV4T,SAAU,QACV2X,SAAU,CAAC,WAAY,UAAW,YAClC5pB,SAAU,CAAC,CAAC,SAAU,QAAS,WAC/BqG,MAAO,CACL/F,QAAS,oBACTI,MAAO,CACLG,KAAM,aAGVshB,aAAc,CACZC,OAAQ,kBAId,CACE,CACEra,KAAM,2BACN1J,SAAU,sBACVwC,KAAM,WAER,CACEkH,KAAM,KACN1J,SAAU,wBACV4T,SAAU,QACV5L,MAAO,CACL/F,QAAS,oBACT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","file":"static/js/main.b19b3c74.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.10c8593f.svg\";","module.exports = __webpack_public_path__ + \"static/media/injector.168dc031.svg\";","module.exports = __webpack_public_path__ + \"static/media/mold.b1894e2a.svg\";","module.exports = __webpack_public_path__ + \"static/media/logo-dark.f159a8d1.png\";","module.exports = __webpack_public_path__ + \"static/media/intro.135fbc8c.jpg\";","module.exports = __webpack_public_path__ + \"static/media/about1.dec583f7.jpg\";","module.exports = __webpack_public_path__ + \"static/media/about2.97981d66.jpg\";","module.exports = __webpack_public_path__ + \"static/media/about3.02812765.jpg\";","module.exports = __webpack_public_path__ + \"static/media/about4.c32c406b.jpg\";","module.exports = __webpack_public_path__ + \"static/media/logo.78952398.png\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAgY0hSTQAAeiYAAICEAAD6AAAAgOgAAHUwAADqYAAAOpgAABdwnLpRPAAAAVBQTFRF////8/Pz29vb1tbW+fn519fXfHx8QUFBHBwcLy8v3dzZ/+eZ/+26//78/v7+p6enKSkpAAAA2dfR/9BI/8EV/+SU/f77qampFxcX2dfQ/9FH/7YA/8IU/+mv3t7eMTEx/9BJ/7gA/7oA/81E//noh4eH/7kA/8AO/+uw+Pj4s7Ozubm59fX1WFhY/9FI/7wF/+ab+/v7rq6uUlJSBAQE3d3d/70G/+iffX19EBAQLCws2traPDw8/8Qd/vPKhISEBgYG/7cA/7sA/9t0//77wcHBGRkZ2tfQ/9JF//ffcHBwHRwc2tfS/9Za/9Zg//ba/f//5ubmq6urg4ODlJSU6enpRERE2tnX//nf//3x7e3tioqKLS0t1dXV2dnZ5eXlV1dX1NTU9/f3aGhooqKiDg4OUVFRAgICPT09Hh4etra2o6OjtLS08PDw8vLyoaGhAp6M4AAAAAFiS0dEAIgFHUgAAAAJcEhZcwAAAEgAAABIAEbJaz4AAAD8SURBVDjLY2AYwoCRiZkFjzQrGzsHJxc3Dy92aT5+AUFBQQ4hYRFRMawKxCUEQQokpaRlZLHJy8kLghUIKSgqKatgUaAqCFOgpqSugSqnyaylraMLU6CnpKRvgCxtaGTMYcJpyo6kwMwc2esWlkBxK2sbmAJhJTVbOyTP2TsIoiiQ1HN0cnZBKHB1E0RV4C6l5uGJZIOXIKoCbx9fP/8AiFxgUHBIaBiaAo7wiEiIdFS0vINgTCwnuoI4qNHxCSZAbkxiDA4FSclgLm4FKakEFKQJpgOBIGciJ4QRw5QBYWRaQxRkpWQDQUpObg6EoZWnnQ9mGOVRK3UOCwAAoek8remBZVEAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTktMDMtMDdUMTU6MjI6NDcrMDA6MDAX6Wg+AAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE5LTAzLTA3VDE1OjIyOjQ3KzAwOjAwZrTQggAAAEZ0RVh0c29mdHdhcmUASW1hZ2VNYWdpY2sgNi43LjgtOSAyMDE0LTA1LTEyIFExNiBodHRwOi8vd3d3LmltYWdlbWFnaWNrLm9yZ9yG7QAAAAAYdEVYdFRodW1iOjpEb2N1bWVudDo6UGFnZXMAMaf/uy8AAAAYdEVYdFRodW1iOjpJbWFnZTo6aGVpZ2h0ADE5Mg8AcoUAAAAXdEVYdFRodW1iOjpJbWFnZTo6V2lkdGgAMTky06whCAAAABl0RVh0VGh1bWI6Ok1pbWV0eXBlAGltYWdlL3BuZz+yVk4AAAAXdEVYdFRodW1iOjpNVGltZQAxNTUxOTcyMTY3I89bNwAAAA90RVh0VGh1bWI6OlNpemUAMEJClKI+7AAAAFZ0RVh0VGh1bWI6OlVSSQBmaWxlOi8vL21udGxvZy9mYXZpY29ucy8yMDE5LTAzLTA3L2UxODRlNWEzMjUxZDg2ZDM2Y2E4MmE3YWY5ZTkxNGJiLmljby5wbmfA/GasAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAgY0hSTQAAeiYAAICEAAD6AAAAgOgAAHUwAADqYAAAOpgAABdwnLpRPAAAAMxQTFRF////8fHx4eLi+vn3///++/v7p6enPDw8Njc54c2U/+aZ/v35qqqqDw8PAAAAHR4h3sFy/8AQ/+ej9vb219fX3t7eSEhI3sJ0/7sA/9FS0NDQUlJSFhYWeHh4Li4u3sJz/9Rc5ubmOjo6cHBwLS0t/8Yh/u692dnZzMzMnZ2dAwMDHR4f3tCm//HC/v/+8PDwfX19GhoaLy8vbm5uHR0ddnZ2BAQEJycnbGxs3d3ddXV1XV1do6OjXl5eX19fpaWle3t7cXFx6urq/v7+Ke5pUwAAAAFiS0dEAIgFHUgAAAAJcEhZcwAAAEgAAABIAEbJaz4AAACBSURBVBjTY2AgBTAyMbMgcVnZ2Dk4ubgRAjy8fPwCgkJQnrCIqBgfH7+4hCSELyUtIysHFJCXUADzFZX4+JRVgAICqmpAw9Q1NLUgAto6unoM+gaGRsZ8EAETUaByUzM+cwuYgCVQwMraWtbG1s7W3sHa2tEJKODs7AwnSPIXAgAAOtMOgXa08DAAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTktMDMtMDdUMTU6MjI6NDcrMDA6MDAX6Wg+AAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE5LTAzLTA3VDE1OjIyOjQ3KzAwOjAwZrTQggAAAEZ0RVh0c29mdHdhcmUASW1hZ2VNYWdpY2sgNi43LjgtOSAyMDE0LTA1LTEyIFExNiBodHRwOi8vd3d3LmltYWdlbWFnaWNrLm9yZ9yG7QAAAAAYdEVYdFRodW1iOjpEb2N1bWVudDo6UGFnZXMAMaf/uy8AAAAYdEVYdFRodW1iOjpJbWFnZTo6aGVpZ2h0ADE5Mg8AcoUAAAAXdEVYdFRodW1iOjpJbWFnZTo6V2lkdGgAMTky06whCAAAABl0RVh0VGh1bWI6Ok1pbWV0eXBlAGltYWdlL3BuZz+yVk4AAAAXdEVYdFRodW1iOjpNVGltZQAxNTUxOTcyMTY3I89bNwAAAA90RVh0VGh1bWI6OlNpemUAMEJClKI+7AAAAFZ0RVh0VGh1bWI6OlVSSQBmaWxlOi8vL21udGxvZy9mYXZpY29ucy8yMDE5LTAzLTA3L2UxODRlNWEzMjUxZDg2ZDM2Y2E4MmE3YWY5ZTkxNGJiLmljby5wbmfA/GasAAAAAElFTkSuQmCC\"","module.exports = __webpack_public_path__ + \"static/media/bg-showcase-1.d2bd7dec.png\";","module.exports = __webpack_public_path__ + \"static/media/bg-showcase-2.9c5122b0.png\";","module.exports = __webpack_public_path__ + \"static/media/bg-showcase-3.e9d2dab5.png\";","import get from \"lodash.get\";\nimport map from \"lodash.map\";\nimport foreach from \"lodash.foreach\";\nimport filter from \"lodash.filter\";\nimport reduce from \"lodash.reduce\";\nimport find from \"lodash.find\";\nimport findindex from \"lodash.findindex\";\nimport isnil from \"lodash.isnil\";\nimport split from \"lodash.split\";\nimport deburr from \"lodash.deburr\";\nimport debounce from \"lodash.debounce\";\nimport toupper from \"lodash.toupper\";\nimport upperfirst from \"lodash.upperfirst\";\nimport tolower from \"lodash.tolower\";\nimport trim from \"lodash.trim\";\nimport flattendeep from \"lodash.flattendeep\";\nimport fill from \"lodash.fill\";\n\nexport const lodashGet = get;\nexport const lodashMap = map;\nexport const lodashForEach = foreach;\nexport const lodashFilter = filter;\nexport const lodashReduce = reduce;\nexport const lodashFind = find;\nexport const lodashFindIndex = findindex;\nexport const lodashIsNil = isnil;\nexport const lodashSplit = split;\nexport const lodashDeburr = deburr;\nexport const lodashDebounce = debounce;\nexport const lodashToUpper = toupper;\nexport const lodashUpperFirst = upperfirst;\nexport const lodashToLower = tolower;\nexport const lodashTrim = trim;\nexport const lodashFlattenDeep = flattendeep;\nexport const lodashFill = fill;\n","const addHooks = ({ hooks, identity, hooksToAdd }) => {\n  let targetHooks = hooks[identity] || [];\n  if (!Array.isArray(targetHooks)) {\n    targetHooks = [targetHooks];\n  }\n  let sourceHooks = hooksToAdd || [];\n  if (!Array.isArray(sourceHooks)) {\n    sourceHooks = [];\n  }\n  return {\n    ...hooks,\n    [identity]: [...targetHooks, ...sourceHooks]\n  };\n};\n\nexport default addHooks;\n","import { lodashGet, lodashMap, lodashForEach, lodashIsNil } from \"./lodash\";\n\nconst validateForm = ({ fields, formItem, setFormErrors }) => {\n  let isValid = true;\n  lodashForEach(fields, field => {\n    let isValidField = true;\n    if (Array.isArray(field)) {\n      isValidField = validateForm({\n        fields: field,\n        formItem,\n        setFormErrors\n      });\n    } else {\n      isValidField = validateField({\n        field,\n        requiredKey: field.required,\n        formItem,\n        setFormErrors\n      });\n    }\n    if (isValid) {\n      isValid = isValidField;\n    }\n  });\n  return isValid;\n};\n\nconst validateField = ({ field, requiredKey, formItem, setFormErrors, OR = false }) => {\n  let isValid = true;\n  const value = lodashGet(formItem, field.identity);\n  if (Array.isArray(requiredKey)) {\n    const validation = lodashMap(requiredKey, key =>\n      validateField({\n        field,\n        requiredKey: key,\n        formItem,\n        setFormErrors,\n        OR: !OR\n      })\n    );\n    if (OR) {\n      return validation.indexOf(true) !== -1;\n    }\n    return validation.indexOf(false) === -1;\n  }\n  const required =\n    typeof requiredKey === \"boolean\" ? requiredKey : !!lodashGet(formItem, requiredKey);\n  if (required && (lodashIsNil(value) || value === \"\")) {\n    setFormErrors(prev => ({ ...prev, [field.identity]: true }));\n    isValid = false;\n  }\n  if (field.handleValidate) {\n    const validationResult = field.handleValidate({\n      data: {\n        target: {\n          name: field.identity,\n          value\n        }\n      },\n      item: formItem\n    });\n    if (typeof validationResult === \"string\") {\n      setFormErrors(prev => ({ ...prev, [field.identity]: validationResult }));\n      isValid = false;\n    }\n  }\n  return isValid;\n};\n\nexport default validateForm;\n","import { lodashGet } from \"./lodash\";\n\nconst getColor = ({ data, path }) =>\n  lodashGet(data, `${path}.hex`) ||\n  lodashGet(data, `${path}.rgb`) ||\n  lodashGet(data, `${path}.hsv`);\n\nexport default getColor;\n","import { lodashForEach } from \"./lodash\";\n\nconst getConfigs = async ({ client }) => {\n  try {\n    if (!client.get(\"config.machine.status\")) {\n      const { data: configs } = await client.service(\"configs\").find();\n      lodashForEach(configs, c => client.set(`config.${c.name}`, c));\n    }\n    if (!client.get(\"actionType.init\")) {\n      const { data: actionTypes } = await client\n        .service(\"production_order_action_types\")\n        .find({ query: { $populateAll: true } });\n      lodashForEach(actionTypes, type => client.set(`actionType.${type.id}`, type));\n      client.set(\"actionType.init\", true);\n    }\n  } catch (e) {\n    console.log(e);\n  }\n};\n\nexport default getConfigs;\n","import { lodashGet } from \"./lodash\";\n\nconst getEventType = ({ client, type }) =>\n  lodashGet(client.get(`config.productionOrder.eventType.${type}`), \"value\");\n\nexport default getEventType;\n","import moment from \"moment\";\n\nconst getDateJSON = ({ date }) => {\n  const dateD = moment(date);\n  return {\n    year: dateD.year(),\n    month: dateD.month(),\n    date: dateD.date(),\n    hour: dateD.hour(),\n    minute: dateD.minute(),\n    second: dateD.second()\n  };\n};\n\nexport default getDateJSON;\n","import { lodashGet } from \"./lodash\";\n\nconst getLastReadingCycle = ({ data: productionOrder }) => {\n  let lastReading =\n    lodashGet(productionOrder, \"lastReading.0\") ||\n    lodashGet(productionOrder, \"mostRecentEvent.0\") ||\n    [];\n  const totalReadingsTime =\n    lodashGet(lastReading, \"tr\") > 0 ? lodashGet(lastReading, \"r.length\") || 0 : 0;\n  return (totalReadingsTime * 60) / (lodashGet(lastReading, \"tr\") || 1);\n};\n\nexport default getLastReadingCycle;\n","import { lodashReduce } from \"./lodash\";\n\nconst getPermissions = ({ privileges = [], permissions = {} }) =>\n  !privileges.length ||\n  lodashReduce(privileges, (query, privilege) => query || !!permissions[privilege], false);\n\nexport default getPermissions;\n","import { lodashForEach, lodashReduce } from \"./lodash\";\n\nconst getPermissions = ({ payload, privilege }) =>\n  lodashReduce(payload.roles, (permission, role) => permission || role[privilege], false);\n\nconst mapPermissions = ({ payload = {} }) => {\n  const userPermissions = {};\n  lodashForEach(\n    [\n      \"writeMasterData\",\n      \"readMasterData\",\n      \"crudAdminData\",\n      \"crudUserData\",\n      \"writeActiveProductionOrders\",\n      \"writeScheduledStopProductionOrders\",\n      \"openProductionOrders\",\n      \"writeProductionOrderEvents\",\n      \"editProductionOrderEvents\",\n      \"readProductionOrders\",\n      \"readProductionOrderReports\",\n      \"readPendingWaste\",\n      \"writePendingWaste\",\n      \"editPendingWaste\"\n    ],\n    privilege => (userPermissions[privilege] = getPermissions({ payload, privilege }))\n  );\n  return userPermissions;\n};\n\nexport default mapPermissions;\n","const login = async ({ client, email, password, companyUUID }) => {\n  let response;\n  // console.log(\">>> effect login\", email, password, companyUUID)\n  if (email && password && companyUUID) {\n    response = await client.authenticate({\n      strategy: \"local\",\n      email,\n      password,\n      companyUUID\n    });\n    localStorage.setItem(\"companyUUID\", companyUUID);\n  } else {\n    response = await client.authenticate({\n      strategy: \"jwt\",\n      accessToken: localStorage.getItem(\"monitorprod-jwt\"),\n      companyUUID: localStorage.getItem(\"companyUUID\")\n    });\n  }\n  const payload = await client.passport.verifyJWT(response.accessToken);\n  return payload;\n};\n\nexport default login;\n","const logout = async ({ client }) => {\n  await client.logout();\n  localStorage.removeItem(\"companyUUID\");\n};\n\nexport default logout;\n","import React from \"react\";\nimport feathers from \"@feathersjs/feathers\";\nimport socketio from \"@feathersjs/socketio-client\";\nimport auth from \"@feathersjs/authentication-client\";\nimport io from \"socket.io-client\";\n\nconst setCompanyUUID = async (context) => {\n  const companyUUID = localStorage.getItem(\"companyUUID\");\n  const { data, params } = context;\n  context.data = { ...data, companyUUID };\n  params.query = {\n    ...params.query,\n    companyUUID,\n  };\n  return context;\n};\nconst client = feathers();\n// client.set(\"cloudURL\", \"https://www.monitorprod.com.br\");\nclient.set(\"cloudURL\", \"https://monitorprod.herokuapp.com\");\n// client.set(\"cloudURL\", \"http://localhost:3030\");\nconst socket = io(client.get(\"cloudURL\"));\nclient\n  .configure(socketio(socket, { timeout: 100000 }))\n  .configure(\n    auth({ storageKey: \"monitorprod-jwt\", storage: window.localStorage })\n  )\n  .hooks({\n    before: {\n      all: [setCompanyUUID],\n    },\n  });\n\n  client.socket = socket;\n\nexport default React.createContext(client);\n","/**\n * Chartist.js plugin to display a target line on a chart.\n * With code from @gionkunz in https://github.com/gionkunz/chartist-js/issues/235\n * and @OscarGodson in https://github.com/gionkunz/chartist-js/issues/491.\n * and @EmersonBottero in https://github.com/gionkunz/chartist-js/issues/235\n * Based on https://github.com/gionkunz/chartist-plugin-pointlabels\n */\n\n// eslint-disable-next-line no-unused-vars\n/* global Chartist */\nimport Chartist from \"chartist\";\nimport { NUMBER_FORMAT } from \"../../utils\";\n\n((window, document, Chartist) => {\n  Chartist.plugins = Chartist.plugins || {};\n  Chartist.plugins.targetLine = (options) => {\n    const targetLine = (chart) => {\n      chart.on(\"created\", (context) => {\n        options.class = \"ct-target-line\";\n        if (context.axisX && context.options.horizontalBars) {\n          const targetLineX =\n            context.chartRect.x1 + context.axisX.projectValue(options.value);\n          context.svg.elem(\n            \"line\",\n            {\n              x1: targetLineX,\n              x2: targetLineX,\n              y1: context.chartRect.y1,\n              y2: context.chartRect.y2,\n            },\n            options.class\n          );\n        } else if (context.axisX && !context.options.horizontalBars) {\n          const targetLineY =\n            context.chartRect.y1 - context.axisY.projectValue(options.value);\n          context.svg.elem(\n            \"line\",\n            {\n              x1: context.chartRect.x1,\n              x2: context.chartRect.x2,\n              y1: targetLineY,\n              y2: targetLineY,\n            },\n            options.class\n          );\n        } else {\n          options.class = \"ct-gauge-needle\";\n          const centerX = (context.chartRect.x1 + context.chartRect.x2) / 2;\n          const centerY = (context.chartRect.y1 + context.chartRect.y2) / 2;\n          const needleLength = 150;\n          const needleRadius = 5;\n          const percentToDegree = (p) => p * 360;\n          const degreeToRadian = (d) => (d * Math.PI) / 180;\n          const percentToRadian = (p) => degreeToRadian(percentToDegree(p));\n          // TODO this is hardcoded, consider the arc and length on options\n          // const relativePercentage =\n          //   Math.round(\n          //     ((parseFloat(options.value) * (116.66666 - -16.66666)) / 100 + -16.66666) * 10\n          //   ) / 10;\n          const relativePercentage = parseFloat(options.value);\n          const thetaRad = percentToRadian(\n            (relativePercentage > 105 ? 105 : relativePercentage) / 100 / 2\n          );\n          const topX = centerX - needleLength * Math.cos(thetaRad);\n          const topY = centerY - needleLength * Math.sin(thetaRad);\n          const leftX =\n            centerX - needleRadius * Math.cos(thetaRad - Math.PI / 2);\n          const leftY =\n            centerY - needleRadius * Math.sin(thetaRad - Math.PI / 2);\n          const rightX =\n            centerX - needleRadius * Math.cos(thetaRad + Math.PI / 2);\n          const rightY =\n            centerY - needleRadius * Math.sin(thetaRad + Math.PI / 2);\n          context.svg.elem(\n            \"circle\",\n            {\n              cx: centerX,\n              cy: centerY,\n              r: needleRadius,\n            },\n            options.class\n          );\n          context.svg.elem(\n            \"path\",\n            {\n              d: `M ${leftX} ${leftY} L ${topX} ${topY} L ${rightX} ${rightY}`,\n            },\n            options.class\n          );\n          const text = context.svg.elem(\n            \"text\",\n            {\n              x: topX,\n              y: topY - 20,\n              style: `fill:${options.color};stroke:${options.color};`,\n            },\n            options.class\n          );\n          text._node.innerHTML = `${NUMBER_FORMAT(\n            parseFloat(options.value).toFixed(2)\n          )}%`;\n        }\n      });\n    };\n    return targetLine;\n  };\n})(window, document, Chartist);\n","import { useContext, useState, useEffect } from \"react\";\nimport ApiContext from \"../api\";\nimport login from \"./login\";\nimport getConfigs from \"./getConfigs\";\nimport getPermissions from \"./getPermissions\";\nimport mapPermissions from \"./mapPermissions\";\n\nconst useAuth = ({ dependencies = [], privileges = [] } = {}) => {\n  const client = useContext(ApiContext);\n  const [session, setSesstion] = useState();\n  const [loading, setLoading] = useState(true);\n  const [permissions, setPermissions] = useState({});\n  const [hasAccess, setHasAccess] = useState(false);\n  const stringPrivileges = JSON.stringify(privileges);\n  const stringDependencies = JSON.stringify(dependencies);\n  useEffect(() => {\n    const parsedPrivileges = JSON.parse(stringPrivileges);\n    // const parsedDependencies = JSON.parse(stringDependencies);\n    const authenticate = async () => {\n      setLoading(true);\n      try {\n        const payload = await login({ client });\n        await getConfigs({ client });\n        setSesstion(payload);\n        const userPermissions = mapPermissions({ payload });\n        setPermissions(userPermissions);\n        if (!parsedPrivileges.length) {\n          setHasAccess(true);\n        } else {\n          setHasAccess(\n            getPermissions({ privileges: parsedPrivileges, permissions: userPermissions })\n          );\n        }\n      } catch (error) {\n        setSesstion();\n      } finally {\n        setLoading(false);\n      }\n    };\n    // console.log(\">>> effect AUTH\");\n    authenticate();\n  }, [client, stringPrivileges, stringDependencies]);\n  return { session, loading, permissions, hasAccess };\n};\n\nexport default useAuth;\n","import { lodashMap } from \"./lodash\";\n\nconst runHooks = async ({ hooks = {}, identity, data }) => {\n  let continueOperation = true;\n  if (hooks[identity]) {\n    let hooksToRun = hooks[identity];\n    if (!Array.isArray(hooksToRun)) {\n      hooksToRun = [hooksToRun];\n    }\n    await Promise.all(\n      lodashMap(hooksToRun, async hook => {\n        const result = await hook({ data });\n        if (continueOperation) {\n          continueOperation = result;\n        }\n      })\n    );\n  }\n  return continueOperation;\n};\n\nexport default runHooks;\n","import { useContext, useState, useEffect, useCallback } from \"react\";\nimport ApiContext from \"../api\";\nimport {\n  lodashForEach,\n  lodashFind,\n  lodashIsNil,\n  lodashSplit,\n  lodashToUpper,\n  lodashFlattenDeep\n} from \"./lodash\";\nimport runHooks from \"./runHooks\";\nimport validateForm from \"./validateForm\";\n\nconst useUpsertService = ({\n  model: propsModel,\n  fields: propsFields,\n  data,\n  hooks = {}\n}) => {\n  const client = useContext(ApiContext);\n  const [newItem, setNewItem] = useState({});\n  const [formItem, setFormItem] = useState({ ...data });\n  const [formErrors, setFormErrors] = useState({});\n  const [loading, setLoading] = useState();\n  const [errors, setErrors] = useState();\n  const [model, setModel] = useState(propsModel);\n  const [fields, setFields] = useState(propsFields);\n  useEffect(() => {\n    setErrors();\n    setFormErrors({});\n    setFormItem({ ...data });\n  }, [data]);\n  const flattenFields = lodashFlattenDeep(fields);\n  const stringHooks = JSON.stringify(hooks);\n  const stringFormItem = JSON.stringify(formItem);\n  const handleChange = useCallback(\n    ({ target }) => {\n      const asyncHandleChange = async () => {\n        const field =\n          lodashFind(flattenFields, { identity: target.name }) || {};\n        // console.log(\"!!! useCallback handleChange\", target, field.identity);\n        if (field.handleChange) {\n          field.handleChange({\n            client,\n            data: { target },\n            field,\n            item: JSON.parse(stringFormItem),\n            handleChange\n          });\n        }\n        setFormItem(prev => {\n          // console.log(\"!!setFormItem\", target, field, data);\n          return {\n            ...prev,\n            [target.name]:\n              !lodashIsNil(target.value) &&\n              field.type !== \"boolean\" &&\n              field.type !== \"checklist\" &&\n              field.type !== \"table\" &&\n              field.type !== \"image\" &&\n              field.type !== \"content\" &&\n              target.name !== \"loginName\"\n                ? lodashToUpper(target.value)\n                : target.value || null\n          };\n        });\n        await runHooks({\n          hooks,\n          data: target,\n          identity: \"afterChange\"\n        });\n      };\n      asyncHandleChange();\n    },\n    // [client, stringFormItem, flattenFields, hooks],\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [client, stringFormItem, stringHooks]\n  );\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setLoading(true);\n    setErrors();\n    setFormErrors({});\n    try {\n      let continueOperation = true;\n      if (!validateForm({ fields, formItem, setFormErrors })) {\n        continueOperation = false;\n      }\n      if (\n        !(await runHooks({ hooks, data: formItem, identity: \"beforeSubmit\" }))\n      ) {\n        continueOperation = false;\n      }\n      if (!continueOperation) {\n        setLoading(false);\n        return;\n      }\n      const cleanFormItem = {\n        id: formItem.id\n      };\n      lodashForEach(\n        flattenFields,\n        ({ identity }) => (cleanFormItem[identity] = formItem[identity])\n      );\n      if (cleanFormItem.id) {\n        console.log(\"patch\", cleanFormItem);\n        await client.service(model).patch(cleanFormItem.id, cleanFormItem);\n        await runHooks({ hooks, data: formItem, identity: \"afterSubmit\" });\n      } else {\n        console.log(\"create\", cleanFormItem);\n        const data = await client.service(model).create(cleanFormItem);\n        setNewItem(data);\n        await runHooks({ hooks, data, identity: \"afterSubmit\" });\n      }\n    } catch (error) {\n      console.log(\"upsert error:\", error);\n      lodashForEach(error.errors, ({ path, validatorKey }) => {\n        const fieldIdentity = lodashSplit(path, \"_\")[0];\n        const fieldError = lodashFind(flattenFields, {\n          identity: fieldIdentity\n        });\n        if (validatorKey === \"not_unique\" && fieldError) {\n          handleFormErrors({\n            identity: fieldError.identity,\n            value: `Já existe um registro com esse ${fieldError.text}`\n          });\n        }\n      });\n      setErrors(error);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleFormErrors = ({ identity, value }) =>\n    setFormErrors(prev => ({ ...prev, [identity]: value }));\n  return {\n    newItem,\n    formItem,\n    formErrors,\n    handleChange,\n    handleSubmit,\n    handleFormErrors,\n    loading,\n    errors,\n    setModel,\n    setFields\n  };\n};\n\nexport default useUpsertService;\n","import { useContext, useState, useEffect } from \"react\";\nimport ApiContext from \"../api\";\nimport runHooks from \"./runHooks\";\n\nconst useDeleteService = ({ model: propsModel, item: propsItem, hooks = {} }) => {\n  const client = useContext(ApiContext);\n  const [item, setItem] = useState(propsItem);\n  const [loading, setLoading] = useState();\n  const [errors, setErrors] = useState();\n  const [model, setModel] = useState(propsModel);\n  useEffect(() => {\n    // console.log(\">>> effect DELETE setErrors\");\n    setErrors();\n  }, [item]);\n  const handleDelete = ({ id }) => async () => {\n    if (!window.confirm(\"Você quer apagar o item?\")) {\n      return;\n    }\n    setErrors();\n    setLoading(true);\n    try {\n      console.log(\"delete\", item);\n      await runHooks({ hooks, item, identity: \"beforeDelete\" });\n      await client.service(model).remove(id || item.id);\n      await runHooks({ hooks, item, identity: \"afterDelete\" });\n    } catch (error) {\n      setErrors(error);\n    } finally {\n      setLoading(false);\n    }\n  };\n  return { item, handleDelete, loading, errors, setModel, setItem };\n};\n\nexport default useDeleteService;\n","import { useContext, useState, useEffect, useCallback } from \"react\";\nimport { useDebouncedCallback } from \"use-debounce\";\nimport ApiContext from \"../api\";\n\nconst useFindService = ({ model: propsModel, query: propsQuery = {}, timeCarousel }) => {\n  const client = useContext(ApiContext);\n  const [list, setList] = useState([]);\n  const [loading, setLoading] = useState();\n  const [errors, setErrors] = useState();\n  const [model, setModel] = useState(propsModel);\n  const [query, setQuery] = useState(propsQuery);\n  const [trigger, setTrigger] = useState();\n  const stringQuery = JSON.stringify(query);\n  const [doFind] = useDebouncedCallback(\n    useCallback(() => {\n      const find = async () => {\n        // console.log(\">>> effect FIND\", stringQuery, trigger);\n        setLoading(true);\n        setErrors();\n        try {\n          const { data } = await client.service(model).find({ query: JSON.parse(stringQuery) });\n          setList(data);\n        } catch (error) {\n          setErrors(error);\n        } finally {\n          setLoading(false);\n        }\n      };\n      if (timeCarousel) {\n        setTimeout(() => {\n          find()\n        }, timeCarousel * 1000)\n      } else {\n        find();\n      } \n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [client, model, stringQuery, trigger]),\n    300\n  );\n  useEffect(() => {\n    // const find = async () => {\n    //   console.log(\">>> effect FIND\", stringQuery, trigger);\n    //   setLoading(true);\n    //   setErrors();\n    //   try {\n    //     const { data } = await client.service(model).find({ query: JSON.parse(stringQuery) });\n    //     setList(data);\n    //   } catch (error) {\n    //     setErrors(error);\n    //   } finally {\n    //     setLoading(false);\n    //   }\n    // };\n    // find();\n    doFind();\n  }, [doFind]);\n  const reload = useCallback(() => {\n    // console.log(\"!! useCallback FIND reload\");\n    setTrigger(Date.now());\n  }, []);\n  return { list, loading, errors, reload, setModel, setQuery };\n};\n\nexport default useFindService;\n","import { useContext, useState, useEffect, useCallback } from \"react\";\nimport ApiContext from \"../api\";\n\nconst useGetService = ({ model: propsModel, id, query: propsQuery = {} }) => {\n  const client = useContext(ApiContext);\n  const [item, setItem] = useState({});\n  const [loading, setLoading] = useState();\n  const [errors, setErrors] = useState();\n  const [model, setModel] = useState(propsModel);\n  const [query, setQuery] = useState(propsQuery);\n  const [trigger, setTrigger] = useState();\n  const stringQuery = JSON.stringify(query);\n  useEffect(() => {\n    const get = async () => {\n      // console.log(\">>> effect GET\");\n      setLoading(true);\n      setErrors();\n      try {\n        if (id !== \"new\" && id !== \"list\" && id) {\n          const data = await client.service(model).get(id, { query: JSON.parse(stringQuery) });\n          // console.log(\"!!! GET\", data);\n          setItem(data);\n        } else {\n          setItem();\n        }\n      } catch (error) {\n        setErrors(error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    get();\n  }, [client, model, id, trigger, stringQuery]);\n  const reload = useCallback(() => {\n    // console.log(\"!! useCallback GET reload\");\n    setTrigger(Date.now());\n  }, []);\n  return { item, loading, errors, reload, setModel, setQuery };\n};\n\nexport default useGetService;\n","import { useState, useEffect } from \"react\";\nimport useFindService from \"./useFindService\";\nimport useDeleteService from \"./useDeleteService\";\n\nconst useFindDeleteService = ({ model, query = {} }) => {\n  const [findQuery, setFindQuery] = useState({\n    $populateAll: true,\n    $sort: {\n      name: 1\n    },\n    ...query\n  });\n  const { list, loading: findLoading, errors: findErrors, reload, setQuery } = useFindService({\n    model,\n    query: findQuery\n  });\n  const stringQuery = JSON.stringify(query);\n  useEffect(() => {\n    // console.log(\"!!!efect setFindQuery\", stringQuery, query);\n    setFindQuery(prev => ({ ...prev, ...JSON.parse(stringQuery) }));\n  }, [stringQuery]);\n  const stringFindQuery = JSON.stringify(findQuery);\n  useEffect(() => {\n    // console.log(\"!!!efect setQuery\", stringFindQuery, findQuery);\n    setQuery(JSON.parse(stringFindQuery));\n  }, [stringFindQuery, setQuery]);\n  const reloadFindHook = async () => reload();\n  const { handleDelete: doDelete, loading: deleteLoading, errors: deleteErrors } = useDeleteService(\n    {\n      model,\n      hooks: {\n        afterDelete: [reloadFindHook]\n      }\n    }\n  );\n  const [deleteRef, setDeleteRef] = useState({});\n  const handleDelete = ({ id }) => () => {\n    setDeleteRef(prev => ({ ...prev, [id]: true }));\n    doDelete({ id })();\n  };\n  return {\n    list,\n    setFindQuery,\n    handleDelete,\n    deleteRef,\n    deleteLoading,\n    findLoading,\n    loading: deleteLoading || findLoading,\n    errors: deleteErrors || findErrors\n  };\n};\n\nexport default useFindDeleteService;\n","import { useContext, useState, useEffect } from \"react\";\nimport ApiContext from \"../api\";\nimport getColor from \"./getColor\";\nimport getEventType from \"./getEventType\";\n\nconst useStatusSensor = ({ ip }) => {\n  const client = useContext(ApiContext);\n  const activeEventType = getEventType({ client, type: \"active\" });\n  const undefinedEventType = getEventType({ client, type: \"undefined\" });\n  const activeColor = getColor({\n    data: client.get(`actionType.${activeEventType}`),\n    path: \"color\"\n  });\n  const undefinedColor = getColor({\n    data: client.get(`actionType.${undefinedEventType}`),\n    path: \"color\"\n  });\n  const [status, setStatus] = useState(undefinedColor);\n  const deviceURL = `http://${ip}:3030`;\n  useEffect(() => {\n    const getStatusSensor = async () => {\n      const FETCH_TIMEOUT = 5000;\n      let didTimeOut = false;\n      const response = await new Promise((resolve, reject) => {\n        const fetchTimeout = setTimeout(() => {\n          didTimeOut = true;\n          resolve(undefinedColor);\n        }, FETCH_TIMEOUT);\n        // fetch(`${client.get(\"cloudURL\")}/redirect_status_sensor?url=${deviceURL}/use_status_sensor`)\n        fetch(`${deviceURL}/use_status_sensor`)\n          .then(() => {\n            clearTimeout(fetchTimeout);\n            if (!didTimeOut) {\n              resolve(activeColor);\n            }\n          })\n          .catch(() => resolve(undefinedColor));\n      });\n      setStatus(response);\n    };\n    getStatusSensor();\n    const getStatusInterval = setInterval(() => {\n      getStatusSensor();\n    }, 10000);\n    return () => {\n      clearInterval(getStatusInterval);\n    };\n  }, [activeColor, deviceURL, undefinedColor]);\n  return { status, href: `${deviceURL}/use_status_sensor` };\n};\n\nexport default useStatusSensor;\n","import { useState, useEffect } from \"react\";\nimport { lodashFind } from \"./lodash\";\nimport useFindService from \"./useFindService\";\n\nconst useSensorAllURL = () => {\n  const [unreachableSensors, setUnreachableSensors] = useState([]);\n  const [sensorsURL, setSensorsURL] = useState(\"\");\n  const { list } = useFindService({\n    model: \"sensors\"\n  });\n  useEffect(() => {\n    const getStatusSensor = async () => {\n      const sensor =\n        lodashFind(\n          list,\n          sensor => sensor.ip && sensor.machineId && unreachableSensors.indexOf(sensor.id) === -1\n        ) || {};\n      const deviceURL = `http://${sensor.ip}:3030`;\n      const FETCH_TIMEOUT = 5000;\n      let didTimeOut = false;\n      const response = await new Promise((resolve, reject) => {\n        const fetchTimeout = setTimeout(() => {\n          didTimeOut = true;\n          resolve({\n            sensorId: sensor.id\n          });\n        }, FETCH_TIMEOUT);\n        fetch(`${deviceURL}/use_status_sensor`)\n          .then(() => {\n            clearTimeout(fetchTimeout);\n            if (!didTimeOut) {\n              resolve({\n                url: `http://${sensor.ip}:3030/realtime-dashboard`\n              });\n            }\n          })\n          .catch(() =>\n            resolve({\n              sensorId: sensor.id\n            })\n          );\n      });\n      if (response.sensorId) {\n        setUnreachableSensors(prev => [...prev, response.sensorId]);\n      } else {\n        setSensorsURL(response.url);\n      }\n    };\n    getStatusSensor();\n  }, [list, unreachableSensors]);\n  return { sensorsURL };\n};\n\nexport default useSensorAllURL;\n","import { Redirect as eRedirect } from \"react-router\";\nimport {\n  BrowserRouter as eBrowserRouter,\n  Route as eRoute,\n  Link as eLink,\n  Switch as eSwitch,\n} from \"react-router-dom\";\nimport { withRouter as eWithRouter } from \"react-router\";\nimport { withStyles as eWithStyles } from \"@material-ui/styles\";\nimport eClassNames from \"classnames\";\nimport {\n  lodashGet as eLodashGet,\n  lodashMap as eLodashMap,\n  lodashForEach as eLodashForEach,\n  lodashFilter as eLodashFilter,\n  lodashReduce as eLodashReduce,\n  lodashFind as eLodashFind,\n  lodashFindIndex as eLodashFindIndex,\n  lodashIsNil as eLodashIsNil,\n  lodashSplit as eLodashSplit,\n  lodashDeburr as eLodashDeburr,\n  lodashDebounce as eLodashDebounce,\n  lodashToUpper as eLodashToUpper,\n  lodashUpperFirst as eLodashUpperFirst,\n  lodashToLower as eLodashToLower,\n  lodashTrim as eLodashTrim,\n  lodashFlattenDeep as eLodashFlattenDeep,\n  lodashFill as eLodashFill,\n} from \"./lodash\";\nimport * as eFormatNumber from \"format-number\";\nimport eAddHooks from \"./addHooks\";\nimport eValidateForm from \"./validateForm\";\nimport eGetColor from \"./getColor\";\nimport eGetConfigs from \"./getConfigs\";\nimport eGetEventType from \"./getEventType\";\nimport eGetDateJSON from \"./getDateJSON\";\nimport eGetLastReadingCycle from \"./getLastReadingCycle\";\nimport eGetPermissions from \"./getPermissions\";\nimport eMapPermissions from \"./mapPermissions\";\nimport eLogin from \"./login\";\nimport eLogout from \"./logout\";\nimport eUseAuth from \"./useAuth\";\nimport eUseUpsertService from \"./useUpsertService\";\nimport eUseDeleteService from \"./useDeleteService\";\nimport eUseFindService from \"./useFindService\";\nimport eUseGetService from \"./useGetService\";\nimport eUseFindDeleteService from \"./useFindDeleteService\";\nimport eUseStatusSensor from \"./useStatusSensor\";\nimport eUseSensorAllURL from \"./useSensorAllURL\";\n\nexport const Redirect = eRedirect;\nexport const BrowserRouter = eBrowserRouter;\nexport const Route = eRoute;\nexport const Link = eLink;\nexport const Switch = eSwitch;\nexport const withRouter = eWithRouter;\nexport const withStyles = eWithStyles;\nexport const classNames = eClassNames;\nexport const lodashGet = eLodashGet;\nexport const lodashMap = eLodashMap;\nexport const lodashForEach = eLodashForEach;\nexport const lodashFilter = eLodashFilter;\nexport const lodashReduce = eLodashReduce;\nexport const lodashFind = eLodashFind;\nexport const lodashFindIndex = eLodashFindIndex;\nexport const lodashIsNil = eLodashIsNil;\nexport const lodashSplit = eLodashSplit;\nexport const lodashDeburr = eLodashDeburr;\nexport const lodashDebounce = eLodashDebounce;\nexport const lodashToUpper = eLodashToUpper;\nexport const lodashUpperFirst = eLodashUpperFirst;\nexport const lodashToLower = eLodashToLower;\nexport const lodashTrim = eLodashTrim;\nexport const lodashFlattenDeep = eLodashFlattenDeep;\nexport const lodashFill = eLodashFill;\nexport const formatNumber = eFormatNumber;\nexport const NUMBER_FORMAT = formatNumber({\n  integerSeparator: \".\",\n  decimal: \",\",\n});\nexport const addHooks = eAddHooks;\nexport const validateForm = eValidateForm;\nexport const getColor = eGetColor;\nexport const getConfigs = eGetConfigs;\nexport const getEventType = eGetEventType;\nexport const getDateJSON = eGetDateJSON;\nexport const getLastReadingCycle = eGetLastReadingCycle;\nexport const getPermissions = eGetPermissions;\nexport const mapPermissions = eMapPermissions;\nexport const login = eLogin;\nexport const logout = eLogout;\nexport const useAuth = eUseAuth;\nexport const useUpsertService = eUseUpsertService;\nexport const useDeleteService = eUseDeleteService;\nexport const useFindService = eUseFindService;\nexport const useGetService = eUseGetService;\nexport const useFindDeleteService = eUseFindDeleteService;\nexport const useStatusSensor = eUseStatusSensor;\nexport const useSensorAllURL = eUseSensorAllURL;\n","import React from \"react\";\nimport { Tooltip, Button, IconButton, Icon, Hidden, Avatar } from \"@material-ui/core\";\nimport { withStyles, classNames, lodashMap, lodashSplit } from \"../../utils\";\n\nconst styles = theme => ({\n  button: {},\n  navbar: {\n    marginRight: theme.spacing(2),\n    color: \"inherit\"\n  },\n  profile: {\n    backgroundColor: \"unset\",\n    color: theme.palette.common.white,\n    boxShadow: \"none\"\n  },\n  header: {\n    borderRadius: 4,\n    padding: `0 !important`,\n    margin: `0 0 0 ${theme.spacing(1)}px`,\n    fontSize: \".75rem\",\n    \"& button, & a\": {\n      padding: `0 ${theme.spacing(1)}px !important`,\n      margin: \"0 !important\"\n    }\n  },\n  toolbar: {\n    minHeight: \"unset\",\n    padding: `${theme.spacing(1 / 2)}px ${theme.spacing(1)}px`\n  },\n  table: {\n    borderRadius: 4,\n    minHeight: \"unset\",\n    backgroundColor: theme.palette.secondary.main,  \n    \"& span\":{\n      color: \"black !important\",\n    }\n    // backgroundColor: \"unset\"\n  },\n  lowercase: {\n    textTransform: \"lowercase !important\"\n  },\n  icon: {\n    marginRight: theme.spacing(1)\n  },\n  submit: {\n    borderRadius: 4,\n    backgroundColor: theme.palette.secondary.main,\n    color: theme.palette.common.black\n  },\n  delete: {\n    borderRadius: 4,\n    backgroundColor: theme.palette.primary.delete,\n    color: theme.palette.common.white\n  },\n  editAction: {\n    color: theme.palette.primary.main\n  },\n  deleteAction: {\n    color: theme.palette.primary.delete\n  },\n  clearAction: {\n    position: \"absolute\",\n    right: 0,\n    bottom: 0\n  },\n  chatSupport: {\n    marginRight: theme.spacing(1),\n    marginTop: '3px',\n    color: \"inherit\"\n  }\n});\n\nconst FormButton = ({\n  classes,\n  text,\n  icon,\n  avatar,\n  type = \"button\",\n  variants = \"\",\n  fullWidth = false,\n  onClick = () => {},\n  ...props\n}) => {\n  // console.log(\">>> render FormButton\");\n  const Component = type === \"icon\" ? IconButton : Button;\n  const buttonProps = {};\n  if (fullWidth) {\n    buttonProps.fullWidth = true;\n  }\n  return (\n    <Tooltip\n      className={classNames(lodashMap(lodashSplit(variants, \" \"), key => classes[key]))}\n      title={type === \"icon\" ? text : \"\"}\n    >\n      <div>\n        <Component\n          type={type && type !== \"icon\" ? type : \"button\"}\n          aria-label={text}\n          variant=\"contained\"\n          className={classNames(\n            classes.button,\n            lodashMap(lodashSplit(variants, \" \"), key => classes[key])\n          )}\n          onClick={onClick}\n          {...buttonProps}\n          {...props}\n        >\n          {icon && (\n            <React.Fragment>\n              <Hidden mdUp>\n                <Icon className={classes.lowercase}>{icon}</Icon>\n              </Hidden>\n              <Hidden smDown>\n                <Icon\n                  className={classNames(classes.lowercase, { [classes.icon]: type !== \"icon\" })}\n                >\n                  {icon}\n                </Icon>\n                {type !== \"icon\" && text}\n              </Hidden>\n            </React.Fragment>\n          )}\n          {!icon && type !== \"icon\" && text}\n          {avatar && (\n            <Avatar style={{ width: \"24px\", height: \"24px\", background: \"none\" }}>{avatar}</Avatar>\n          )}\n        </Component>\n      </div>\n    </Tooltip>\n  );\n};\n\nexport default withStyles(styles, { withTheme: true })(FormButton);\n","import React from \"react\";\nimport { BottomNavigation, BottomNavigationAction, Hidden, Icon } from \"@material-ui/core\";\nimport { Link, withRouter, withStyles, lodashMap } from \"../../utils\";\n\nconst styles = theme => ({\n  nav: {\n    flex: 1,\n    backgroundColor: \"transparent\",\n    '&>a':{\n      //shows all buttons on mobile\n      minWidth: 'unset'\n    }\n  },\n  wrapper: {\n    color: \"rgba(255, 255, 255, 0.5)\",\n  },\n  selected: {\n    fontSize: \"0.8rem !important\",\n    color: theme.palette.secondary.main,\n    \"&>span\": {\n      color: theme.palette.secondary.main\n    }\n  }\n});\n\nconst MainTabs = ({ location: { pathname }, classes, actions }) => (\n  <BottomNavigation value={pathname} showLabels className={classes.nav}>\n    {lodashMap(actions, ({ icon, href, text }) => (\n      <BottomNavigationAction\n        classes={{\n          selected: classes.selected,\n          wrapper: classes.wrapper,\n          label: classes.wrapper\n        }}\n        key={text}\n        label={<Hidden xsDown>{text}</Hidden>}\n        icon={<Icon>{icon}</Icon>}\n        component={Link}\n        to={href}\n        value={pathname.indexOf(href) !== -1 && pathname.indexOf(`${href}-`) === -1 ? pathname : -1}\n      />\n    ))}\n  </BottomNavigation>\n);\n\nexport default withRouter(withStyles(styles, { withTheme: true })(MainTabs));\n","import React, { useContext, useState } from \"react\";\nimport { TextField } from \"@material-ui/core\";\nimport ApiContext from \"../../api\";\nimport { Redirect, withStyles } from \"../../utils\";\nimport Button from \"../buttons\";\n\nconst styles = theme => ({\n  form: {\n    display: \"flex\",\n    alignItems: \"center\"\n  },\n  textField: {\n    width: 175,\n    \"&>div\": {\n      color: theme.palette.common.white,\n      \"&::before,&::after\": {\n        borderColor: `${theme.palette.common.white} !important`\n      }\n    }\n  }\n});\n\nconst CompanyLogin = ({ classes }) => {\n  const client = useContext(ApiContext);\n  // TODO verify no setState on render\n  const [loginName, setLoginName] = useState();\n  const [error, setError] = useState();\n  const [redirect, setRedirect] = useState();\n  const handleChange = ({ target }) => {\n    setLoginName(target.value);\n  };\n  const handleKeyPress = e => {\n    if (e.which === 13) {\n      handleLogin(e);\n    }\n  };\n  const handleLogin = async e => {\n    e.preventDefault();\n    setError();\n    const request = new URL(`${client.get(\"cloudURL\")}/use_company_login_name`);\n    const params = { loginName };\n    request.search = new URLSearchParams(params);\n    const response = await (await fetch(request)).json();\n    if (response.companyUUID) {\n      setRedirect(`/login/${response.companyUUID}`);\n    } else {\n      setError(\"Empresa não encontrada.\");\n    }\n  };\n  return (\n    <form className={classes.form}>\n      {redirect && <Redirect push to={redirect} />}\n      <TextField\n        className={classes.textField}\n        error={!!error}\n        helperText={error}\n        required\n        name=\"loginName\"\n        placeholder=\"Login da Empresa\"\n        value={loginName || \"\"}\n        onChange={handleChange}\n        onKeyPress={handleKeyPress}\n      />\n      <Button\n        type=\"icon\"\n        text=\"Iniciar Sessão\"\n        icon=\"lock_outlined\"\n        color=\"inherit\"\n        onClick={handleLogin}\n      />\n    </form>\n  );\n};\n\nexport default withStyles(styles, { withTheme: true })(CompanyLogin);\n","import React from \"react\";\nimport { Typography } from \"@material-ui/core\";\nimport { withStyles } from \"../../utils\";\n\nconst styles = theme => ({\n  notFound: {\n    width: \"100%\",\n    textAlign: \"center\"\n  }\n});\n\nconst NotFound = ({ classes }) => (\n  <Typography className={classes.notFound} variant=\"body1\">\n    Nenhum item encontrado.\n  </Typography>\n);\n\nexport default withStyles(styles, { withTheme: true })(NotFound);\n","import React from \"react\";\nimport { LinearProgress } from \"@material-ui/core\";\nimport { withStyles } from \"../../utils\";\n\nconst styles = theme => ({\n  loader: {\n    width: \"100%\",\n    marginBottom: theme.spacing(1)\n  }\n});\n\nconst Loader = ({ classes }) => <LinearProgress className={classes.loader} variant=\"query\" />;\n\nexport default withStyles(styles, { withTheme: true })(Loader);\n","import React, { forwardRef } from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '../../utils';\nimport {\n  Card,\n  CardActions,\n  Typography,\n  Icon,\n  IconButton\n} from '@material-ui/core';\nimport { useSnackbar } from 'notistack';\nimport moment from 'moment';\n\nconst styles = theme => ({\n  card: {\n    maxWidth: 450,\n    minWidth: 344,\n  },\n  productionExceeded: {\n    padding: '8px 8px 8px 16px',\n    backgroundColor: '#adff2f',\n  },\n  stop: {\n    padding: '8px 8px 8px 16px',\n    backgroundColor: '#993399',\n  },\n  noise: {\n    padding: '8px 8px 8px 16px',\n    backgroundColor: '#ffa000',\n  },\n  icons: {\n    marginLeft: 'auto',\n  },\n});\n\nconst SnackNotification = forwardRef((props, ref) => {\n\n  const { closeSnackbar } = useSnackbar();\n\n  // SET CSS\n  let variant;\n\n  if (props.notification.type === \"production_exceeded\") {\n    variant = props.classes.productionExceeded\n  }\n  if (props.notification.type === \"stop\") {\n    variant = props.classes.stop\n  }\n  if (props.notification.type === \"noise\") {\n    variant = props.classes.noise\n  }\n\n  return (\n    <Card className={props.classes.card} ref={ref}>\n      <CardActions\n        classes={{ root: `${variant}` }}\n      >\n        <div>\n          <Typography variant='body2' gutterBottom>{props.notification.title}</Typography>\n          <Typography\n            variant='subtitle2'\n            color='textSecondary'\n            gutterBottom\n          >\n            {moment(props.notification.createdAt).format(\"ddd, DD [de] MMM [de] YYYY HH:mm\")}\n          </Typography>\n        </div>\n        <div className={props.classes.icons}>\n          <IconButton\n            key=\"close\"\n            aria-label=\"close\"\n            color=\"inherit\"\n            className={props.classes.close}\n            onClick={() => closeSnackbar(props.id)}\n          >\n            <Icon>close</Icon>\n          </IconButton>\n        </div>\n      </CardActions>\n    </Card>\n  )\n})\n\nSnackNotification.propTypes = {\n  id: PropTypes.number.isRequired,\n};\n\nexport default withStyles(styles, { withTheme: true })(SnackNotification);\n","import React, { useContext, useRef, useState, useEffect } from \"react\";\nimport moment from \"moment\";\nimport {\n  Popper,\n  Grow,\n  IconButton,\n  Icon,\n  Paper,\n  ClickAwayListener,\n  List,Divider,  ListItemText,\n  ListItemSecondaryAction, ListItem,\n  AppBar, Toolbar,\n  Typography,\n} from \"@material-ui/core\";\nimport { useSnackbar } from 'notistack';\nimport ApiContext from \"../../api\";\nimport {\n  Link,\n  withStyles,\n  lodashGet,\n  lodashMap,\n  lodashSplit,\n  lodashToUpper,\n  useFindService\n} from \"../../utils\";\nimport Button from \"../buttons\";\nimport NotFound from \"../not-found\";\nimport Loader from \"../loader\";\nimport logo from \"../../icons/logo.svg\";\nimport SnackNotification from \"./SnackNotification\";\n\nconst styles = theme => ({\n  list: {\n    paddingBottom: \"0px\",\n    paddingTop: \"0px\",\n    position: 'sticky',\n    maxWidth: 350,\n    maxHeight: 750,\n    overflow: 'overlay',\n  },\n  item: {\n    height: \"auto\",\n    color: theme.palette.type === \"dark\"? theme.palette.common.white : theme.palette.primary.main,\n    whiteSpace: \"normal\",\n    padding: theme.spacing(1),\n    \"&>div\": {\n      width: \"100%\"\n    }\n  },\n  wrapper: {\n    position: \"relative\",\n    \"&>div\": {\n      margin: 0\n    }\n  },\n  badge: {\n    position: \"absolute\",\n    top: 5,\n    right: 5,\n    fontSize: \".65rem\",\n    background: theme.palette.primary.delete,\n    borderRadius: \"50%\",\n    height: 18,\n    width: 18,\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\"\n  },\n  userMenuItem: {\n    backgroundColor: theme.palette.primary.header,\n    color: theme.palette.common.white,\n    borderTopLeftRadius: \"4px\",\n    borderTopRightRadius: \"4px\",\n    \"&:hover\": {\n      backgroundColor: theme.palette.primary.header\n    }\n  },\n  button: {\n    height: 50,\n    color: theme.palette.common.white,\n    \"&>span>div\": {\n      width: \"100% !important\",\n      height: \"100% !important\",\n      borderRadius: 0\n    },\n    [theme.breakpoints.up(\"md\")]: {\n      background: \"none\",\n      border: \"none\",\n      boxShadow: \"none\"\n    },\n    [theme.breakpoints.down(\"sm\")]: {\n      width: 50,\n      padding: 0\n    }\n  },\n  icon: {\n    fontSize: \"1.5rem\"\n  },\n  listHeader:{\n    backgroundColor: theme.palette.secondary.main,\n    color: theme.palette.primary.main,\n    height: 64\n  },\n});\n\nconst Notifications = ({ classes, theme, hasSession, session, isAdminApp }) => {\n  const client = useContext(ApiContext);\n  const { list, loading, reload } = useFindService({\n    model: \"notifications\",\n    query: {\n      $sort: {\n        createdAt: -1\n      }\n    }\n  });\n  const [open, setOpen] = useState(false);\n  const MenuRef = useRef(null);\n  const handleToggle = () => {\n    setOpen(prev => !prev);\n  };\n  const handleClose = event => {\n    if (MenuRef.current.contains(event.target)) {\n      return;\n    }\n    setOpen(false);\n  };\n  const { enqueueSnackbar } = useSnackbar();\n  const newNotification = ({ notification }) => {\n    enqueueSnackbar('', {\n      preventDuplicate: true,\n      autoHideDuration: 5000,\n      anchorOrigin: {\n        vertical: 'bottom',\n        horizontal: 'left',\n      },\n      content: (key) => (\n        <SnackNotification id={key} notification={notification} />\n      )\n    });\n  }\n  const handleRemove = ({ id }) => async e => {\n    e.preventDefault();\n    await client.service(\"notifications\").remove(id);\n    reload();\n  };\n\n  const handleRemoveAll = list => async  e => {\n    await Promise.all(\n      lodashMap(\n        list,      \n        async (notification) => await client.service(\"notifications\").remove(notification.id))\n    )\n    .then( reload() );\n  }\n\n  useEffect(() => {\n    // console.log(\"!!! effect onNotification\")\n    const onNotification = notification => {\n      newNotification({ notification })\n      const pushNotification = async () => {\n        try {\n          const serviceWorker = await window.navigator.serviceWorker.ready;\n          window.Notification.requestPermission(status => {\n            if (status === \"granted\") {\n              serviceWorker.showNotification(notification.title, {\n                body: moment(notification.createdAt).format(\"ddd, DD [de] MMM [de] YYYY HH:mm\"),\n                badge: logo,\n                image: logo,\n                icon: logo,\n                vibrate: [10000],\n                actions: [\n                  {\n                    action: \"url\",\n                    title: \"Ir para OP\",\n                    url: `/dashboard/production/${notification.machineId}/order/${notification.productionOrderId}`\n                  }\n                ]\n              });\n            }\n          });\n        } catch (error) {\n          console.log(\"PUSH ERROR\", error);\n        }\n      };\n      pushNotification();\n      reload();\n    };\n    client.service(\"notifications\").on(\"created\", onNotification);\n    return () => {\n      client.service(\"notifications\").removeListener(\"created\", onNotification);\n    };\n  }, [client, reload, newNotification]);\n  const userName = lodashGet(session, \"user.name\");\n  let initials = \"\";\n  const isMobile = window.outerWidth <= theme.breakpoints.width(\"md\");\n  lodashMap(lodashSplit(userName, \" \"), fragment => (initials += lodashToUpper(fragment[0])));\n  useEffect(() => {\n    try {\n      window.Notification.requestPermission(status => {\n        if (status !== \"granted\") {\n          alert(\n            \"Não tem notificações ativas! Por favor, recarrege a página de monitorprod.com.br para ativar-las.\"\n          );\n        }\n      });\n    } catch (error) {\n      console.log(\"PUSH ERROR\", error);\n    }\n  }, []);\n  const empty = !loading && list.length === 0;\n  return (\n    <React.Fragment>\n      <div className={classes.wrapper}>\n        <Button\n          className={classes.button}\n          buttonRef={node => {\n            MenuRef.current = node;\n          }}\n          aria-owns={open ? \"menu-list-grow\" : undefined}\n          aria-haspopup=\"true\"\n          onClick={handleToggle}\n          text= \"notifications\"\n          type = \"icon\"\n          icon = \"notifications\"\n          variants=\"navbar\"\n        />\n        {!isAdminApp && !loading && list.length > 0 && (\n          <div className={classes.badge}>{list.length}</div>\n        )}\n      </div>\n      <Popper open={open} anchorEl={MenuRef.current} transition disablePortal>\n        {({ TransitionProps, placement }) => (\n          <Grow\n            {...TransitionProps}\n            id=\"menu-list-grow\"\n            style={{\n              transformOrigin: placement === \"bottom\" ? \"center top\" : \"center bottom\"\n            }}\n          >\n            <Paper style={{ width: 350 }}>\n              <ClickAwayListener onClickAway={handleClose}>\n                <div >\n                  <AppBar position=\"static\" color=\"secondary\" style={{borderRadius:'5px'}}>\n                    <Toolbar>\n                      <Typography variant='button' style={{flex: 1}}>Dispensar Todos</Typography>\n                      <IconButton edge=\"end\" color='primary' aria-label=\"dispensar\" onClick={handleRemoveAll(list)}>\n                        <Icon>delete_sweep</Icon>\n                      </IconButton>\n                    </Toolbar>\n                  </AppBar>\n                  <List className={classes.list}>\n                    {loading && <Loader />}\n                    {!isAdminApp && (\n                      <div style={{ width: 350, maxHeight: '75vh'}}>\n                        {empty && <NotFound />}\n                        {!empty &&\n                          lodashMap(\n                            list,\n                            ({ id, title, productionOrderId, machineId, createdAt }) => (\n                              <React.Fragment>\n                                <Divider />\n\n                                <ListItem\n                                  key={id}\n                                  className={classes.item}\n                                  component={Link}\n                                  to={`/dashboard/production/${machineId}/order/${productionOrderId}`}\n                                >\n                                  <ListItemText\n                                    primary={title.split(':')[1]}\n                                    secondary={<div style={{display:'flex'}}>\n                                      <div>{title.split(':')[0]}</div>\n                                      <div style={{position: 'absolute',right: '60px'}}>{moment(createdAt).format(\"DD/MM HH:mm\")}</div>\n                                    </div>}\n                                  />\n                                  <ListItemSecondaryAction>\n                                    <IconButton edge=\"end\" aria-label=\"dispensar\" onClick={handleRemove({ id })}>\n                                      <Icon>delete</Icon>\n                                    </IconButton>\n                                  </ListItemSecondaryAction>\n                                </ListItem>\n                              </React.Fragment>\n                            )\n                          )}\n                      </div>\n                    )}\n                  </List>                \n                </div>\n              </ClickAwayListener>\n            </Paper>\n          </Grow>\n        )}\n      </Popper>\n    </React.Fragment>\n  );\n};\n\nexport default withStyles(styles, { withTheme: true })(Notifications);\n","import React, { useEffect, useContext } from 'react';\n\nimport ApiContext from '../../api';\nimport {\n  withStyles,\n  lodashGet,\n  useFindService,\n  Link,\n  useAuth\n} from '../../utils';\n\nimport {\n  ListItemAvatar, ListItemIcon, IconButton, Tooltip,Typography,\n  ListItemSecondaryAction, ListItem, ListItemText, Divider, Badge\n} from '@material-ui/core';\n\nimport CloseIcon from '@material-ui/icons/Close';\nimport ReportIcon from '@material-ui/icons/Report';\nimport DoneIcon from \"@material-ui/icons/Done\";\nimport ReportOutlineIcon from \"@material-ui/icons/ReportOutlined\";\nimport moment from 'moment';\n\nconst styles = theme => ({\n  link:{\n    color: theme.palette.type === \"dark\"? theme.palette.common.white : theme.palette.primary.main,\n    textTransform: 'capitalize'\n  },\n  urgent:{\n    color: theme.palette.error.main,\n  },\n  nested:{\n    paddingLeft: theme.spacing(4),\n  },\n  badge:{\n    top: '8px',\n    right: '-20px'\n  }\n});\n\nconst UnreadBadge = withStyles((theme) => ({\n  badge: {\n    right: -20,\n    top: 8,\n  },\n}))(Badge);\n\nconst NotificationMessageItem = ({ classes, ticket, isAdminApp , type, withoutClosedTickets, reloadTicket}) => {\n\n  const client = useContext(ApiContext);\n\n\n  /* Query to filter messages */\n  const query = {\n    ticketId: ticket.id\n  }\n\n  /* Ticket List */\n  const { list: listMessages, reload: reloadMessages, loading: loadingMessages, setQuery: setQueryMessages } = useFindService({\n    model: \"ticket_messages\",\n    query: {\n      ...query,\n      viewedAt: null\n    }\n  })\n  \n  const { session } = useAuth();\n\n  const userId = lodashGet(session, 'userId')\n  \n  const unreadMessages = listMessages.filter(message => message.userId !== userId)\n\n  const STATUS ={\n    \"EM ANDAMENTO\" : 1,\n    \"URGENTE\" : 11,\n    \"FECHADO\" : 21\n  }\n\n  const changeUrgency = async ticket => {\n    await client.service(\"tickets\").patch(ticket.id,ticket.ticketStatusId === STATUS[\"EM ANDAMENTO\"] ? {ticketStatusId : STATUS.URGENTE} : {ticketStatusId: STATUS[\"EM ANDAMENTO\"]})\n    .then(resp => reloadTicket())\n  }\n\n  const changeClose = async ticket => {\n    await client.service(\"tickets\").patch(ticket.id,(ticket.ticketStatusId === STATUS[\"EM ANDAMENTO\"] || ticket.ticketStatusId === STATUS.URGENTE) ? {ticketStatusId : STATUS.FECHADO} : {ticketStatusId: STATUS[\"EM ANDAMENTO\"]})\n    .then(resp => reloadTicket())\n  }\n\n  const stringQuery = JSON.stringify(query);\n\n  useEffect(() => {\n    setQueryMessages(prev => ({ ...prev, ...JSON.parse(stringQuery) }));\n  }, [stringQuery, setQueryMessages]);\n\n  const getAvatar = (status, isAdminApp) =>{\n    if (isAdminApp && status != \"FECHADO\")\n      return ticket.ticket_status.name === \"URGENTE\" ? <ReportIcon className={classes.urgent} style={{fontSize:\"40\"}}/> : <ReportOutlineIcon style={{fontSize:\"40\"}}/>;\n\n    switch (status) {\n      case \"FECHADO\":\n        return  <CloseIcon /> \n      case \"URGENTE\":\n        return  <ReportIcon className={classes.urgent}/> \n          \n      default:\n        return <ReportOutlineIcon />\n    }\n  }\n\n  if (!(ticket.ticket_status != null && ticket.ticket_status.name === \"FECHADO\" && withoutClosedTickets))\n    return (\n      <React.Fragment>\n        <Divider />\n        <ListItem \n          className={type === \"Menu\" ? classes.nested : null}\n          button\n          key={ticket.id}\n          component={Link}\n          to={`/support/${ticket.id}`}\n        >\n        {!isAdminApp && <ListItemAvatar>\n            <ListItemIcon>\n              <Tooltip title={ticket.ticket_status.name} aria-label={ticket.ticket_status.name}>\n                {getAvatar(ticket.ticket_status.name, isAdminApp)}\n              </Tooltip>\n            </ListItemIcon>\n          </ListItemAvatar>}\n\n          <ListItemText  style={{paddingRight: isAdminApp? '40px' : ''}}\n            primary={<div className={classes.link} style={{textDecoration: ticket.ticket_status.name === \"FECHADO\" ? 'line-through' : ''}}>{ticket.id} - {ticket.title.toLowerCase()}</div>}\n            secondary={\n              <UnreadBadge badgeContent={unreadMessages.length} color=\"secondary\" >\n                <span  style={{textDecoration: ticket.ticket_status.name === \"FECHADO\" ? 'line-through' : ''}}>{ticket.ticket_status.name} : {moment(ticket.createdAt).format(\"DD/MM/YYYY HH:mm\")}</span>\n              </UnreadBadge>\n            }\n          />\n          { isAdminApp && type != \"Menu\" &&\n            <ListItemSecondaryAction>\n              <Tooltip title={ticket.ticket_status.name === \"URGENTE\" ? \"URGENTE\" : \"NORMAL\"} aria-label=\"URGENCIA\">\n                <IconButton edge=\"end\" aria-label=\"delete\" onClick={() => changeUrgency(ticket)}>\n                {ticket.ticket_status.name === \"URGENTE\" ? <ReportIcon className={classes.urgent}/>: <ReportOutlineIcon />}\n                </IconButton>\n              </Tooltip>\n              <Tooltip title={ticket.ticket_status.name === \"FECHADO\" ? \"FECHADO\" : \"EM ANDAMENTO\"} aria-label=\"FECHADO\">\n                  <IconButton edge=\"end\" aria-label=\"delete\" onClick={() => changeClose(ticket)}>\n                    {ticket.ticket_status.name != \"FECHADO\" ? <DoneIcon /> : <CloseIcon />}\n                  </IconButton>\n              </Tooltip>\n            </ListItemSecondaryAction>\n          }\n        </ListItem>\n        </React.Fragment>\n    )\n    else\n      return null\n}\n\nexport default withStyles(styles, { withTheme: true })(NotificationMessageItem);","import React from \"react\";\nimport { withStyles } from \"../../utils\";\nimport { SnackbarContent } from \"@material-ui/core\";\n\nconst styles = theme => ({\n  error: {\n    margin: `0 auto ${theme.spacing(1)}px`,\n    backgroundColor: theme.palette.error.dark,\n    whiteSpace: \"pre-wrap\",\n    \"&>div\": {\n      padding: 0\n    }\n  }\n});\n\nconst Errors = ({ classes, errors }) => (\n  <SnackbarContent className={classes.error} message={errors.message || errors} />\n);\n\nexport default withStyles(styles, { withTheme: true })(Errors);\n","import React, { useState, useEffect } from \"react\";\nimport {\n  ExpansionPanel,\n  ExpansionPanelSummary,\n  ExpansionPanelDetails,\n  Grid,\n  Avatar,\n  Icon,\n  Typography\n} from \"@material-ui/core\";\nimport {\n  Link,\n  withRouter,\n  withStyles,\n  classNames,\n  lodashGet,\n  lodashMap,\n  useFindService\n} from \"../../utils\";\nimport moment from 'moment';\nimport NotFound from \"../not-found\";\nimport Loader from \"../loader\";\nimport Errors from \"../errors\";\n\nconst styles = theme => ({\n  panel: {\n    boxShadow: \"none\",\n    backgroundColor: \"unset\"\n  },\n  header: {\n    padding: 0,\n    minHeight: \"unset !important\",\n    \"&>div\": {\n      margin: \"0 !important\"\n    }\n  },\n  details: {\n    padding: \"0 !important\",\n    flexDirection: \"column\",\n    flexWrap: \"nowrap\"\n  },\n  card: {\n    color: theme.palette.type === \"dark\" ?  theme.palette.common.white : theme.palette.common.black,\n    flexWrap: \"nowrap\",\n    textDecoration: \"none\",\n    padding: `${theme.spacing(1)}px ${theme.spacing(2)}px`,\n    paddingLeft: ({ deep = 0 }) => `${theme.spacing(2 * (deep + 1))}px`\n  },\n  selected: {\n    backgroundColor: theme.palette.primary.form\n  },\n  avatar: {\n    width: theme.spacing(4),\n    height: theme.spacing(4),\n    marginRight: theme.spacing(1),\n    color: theme.palette.primary.main\n  }\n});\n\n// TODO move this file to its own folder\nconst Tree = ({\n  match: { params },\n  classes,\n  model,\n  query = {},\n  deep = 0,\n  reload: propsReload,\n  reloadTree,\n  customContent = {},\n  options = {}\n}) => {\n  const { list, loading, errors, reload } = useFindService({\n    model: model.name,\n    query: { $sort: { name: 1 }, ...query }\n  });\n  // TODO why is Tree reloading when clicking on an item\n  useEffect(() => {\n    // console.log(\"!!effect Tree propsReload\", propsReload);\n    reload(propsReload);\n  }, [reload, propsReload]);\n  const empty = !loading && !errors && list.length === 0;\n  const paramsId = lodashGet(params, model.paramsProp);\n  const [expandRef, setExpandRef] = useState({\n    [paramsId]: true\n  });\n  const handleExpand = ({ id }) => () => setExpandRef(prev => ({ ...prev, [id]: !prev[id] }));\n  // console.log(\"!!! TREE render\", deep, lodashGet(list, \"0.name\"));\n  return (\n    <Grid container direction=\"column\">\n      {loading && <Loader />}\n      {errors && <Errors errors={errors} />}\n      {!options.dontShowNotFound && empty && <NotFound />}\n      {!loading && (\n        <Grid container spacing={1}>\n          {customContent.beforeTree && (\n            <Grid item xs={12}>\n              {customContent.beforeTree()}\n            </Grid>\n          )}\n          {lodashMap(list, item => {\n            const isSelected = parseInt(paramsId, \"10\") === item.id;\n            const linkProps = {};\n            if (!options.dontTreeItemLink) {\n              linkProps.component = Link;\n              linkProps.to = `${model.formPath}/${item.id}`;\n            }\n            return (\n              <Grid key={item.id} item xs={12}>\n                <ExpansionPanel\n                  className={classes.panel}\n                  expanded={expandRef[item.id]}\n                  onChange={handleExpand({ id: item.id })}//TODO: this is causing an error on console (it is really necessary????)\n                >\n                  <ExpansionPanelSummary\n                    className={classNames(classes.header, {\n                      [classes.selected]: isSelected\n                    })}\n                    expandIcon={customContent.afterTreeItem && <Icon>expand_more_icon</Icon>}\n                  >\n                    <Grid container alignItems=\"center\" className={classes.card} {...linkProps}>\n                      {item.image && (\n                        <Avatar alt={item.name} src={item.image} className={classes.avatar} />\n                      )}\n                      {!item.image && model.icon && model.icon.type === \"svg\" && (\n                        <img className={classes.avatar} alt=\"icon\" src={model.icon.src} />\n                      )}\n                      {!item.image && model.icon && !model.icon.type && (\n                        <Icon className={classes.avatar}>{model.icon}</Icon>\n                      )}\n                      {!customContent.customTreeName && (\n                        <Typography variant=\"body1\">\n                          {item.identity ? `${item.identity} - ` : \"\"}\n                          {item.name}\n                        </Typography>\n                      )}\n                      {customContent.customTreeName && (\n                        <Typography variant=\"body1\">\n                          {customContent.customTreeName({ data: item })}\n                        </Typography>\n                      )}\n                      {customContent.customName && (\n                        <Typography variant=\"body1\">\n                          {customContent.customName({ data: item })}\n                        </Typography>\n                      )}\n                      {customContent.customTree && (\n                        <Grid item>\n                          {customContent.customTree({ data: item })}\n                        </Grid>\n                      )}\n                    </Grid>\n                  </ExpansionPanelSummary>\n                  {customContent.afterTreeItem && (\n                    <ExpansionPanelDetails className={classes.details}>\n                      {customContent.afterTreeItem({\n                        data: item,\n                        reloadTree\n                      })}\n                    </ExpansionPanelDetails>\n                  )}\n                </ExpansionPanel>\n              </Grid>\n            );\n          })}\n        </Grid>\n      )}\n      {customContent.afterTree && <div>{customContent.afterTree({ reloadTree })}</div>}\n    </Grid>\n  );\n};\n\nexport default withRouter(withStyles(styles, { withTheme: true })(Tree));\n","import React, { useEffect, useContext } from 'react';\nimport {\n  lodashMap,\n  useFindService\n} from '../../utils';\n\nimport { Loader, NotFound } from \"..\";\nimport NotificationMessageItem from './NotificationMessageItem';\nimport ApiContext from '../../api';\n\nconst TreeSupportItem = ({ company, isAdminApp, type, withoutClosedTickets }) => {\n\n  const client = useContext(ApiContext);\n\n  const { list: listTicket, loading: loadingTicket, reload: reloadTicket } = useFindService({\n    model: \"tickets\",\n    query: {\n      $populateAll: true,\n      companyId: company.id,\n      $sort: {\n        createdAt: -1\n      }\n    }\n  });\n\n  const empty = !loadingTicket && !listTicket.length;\n\n  return (\n    <React.Fragment>\n      {empty && <NotFound />}\n      {loadingTicket && <Loader />}\n      {lodashMap(listTicket, ticket => (        \n        <NotificationMessageItem isAdminApp={isAdminApp} key={ticket.id} ticket={ticket} type={type} withoutClosedTickets={withoutClosedTickets} reloadTicket={reloadTicket}/>\n      ))}\n    </React.Fragment>\n  );\n}\n\nexport default TreeSupportItem;","import React, { useContext, useState } from \"react\";\nimport { Icon } from \"@material-ui/core\";\nimport ApiContext from \"../../../api\";\nimport { withStyles } from \"../../../utils\";\nimport Button from \"../../../components/buttons\";\nimport Loader from \"../../../components/loader\";\nimport Errors from \"../../../components/errors\";\n\nconst styles = theme => ({\n  actions: {\n    position: \"relative\",\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\"\n  },\n  loader: {\n    height: \"100%\",\n    width: \"100%\",\n    background: \"rgba(255,255,255,.5)\",\n    zIndex: 1,\n    position: \"absolute\",\n    right: 0,\n    top: 0,\n    padding: \"0 8px\",\n    \"&>div\": {\n      position: \"relative\",\n      top: 25\n    }\n  },\n  icon: {\n    fontSize: 30,\n    color: theme.palette.primary.main\n  }\n});\n\nconst SendEmailAction = withStyles(styles, { withTheme: true })(({ classes, data = {}, field }) => {\n  const client = useContext(ApiContext);\n  const [loading, setLoading] = useState();\n  const [errors, setErrors] = useState();\n  const [send, setSend] = useState();\n  const handleSendEmail = async () => {\n    setLoading(true);\n    setErrors();\n    try {\n      await client\n        .service(\"companies\")\n        .patch(data.id, { loginName: data.loginName }, { query: { $sendEmail: true } });\n      setSend(true);\n    } catch (error) {\n      setErrors(error);\n    } finally {\n      setLoading(false);\n    }\n  };\n  return (\n    !!data.id && (\n      <div className={classes.actions}>\n        {loading && (\n          <div className={classes.loader}>\n            <Loader />\n          </div>\n        )}\n        <Button text=\"(Re) Iniciar Senha\" icon=\"mail\" onClick={handleSendEmail} />\n        {send && <Icon className={classes.icon}>done</Icon>}\n        {errors && (\n          <React.Fragment>\n            <Icon className={classes.icon}>clear</Icon>\n            <Errors errors={errors} />\n          </React.Fragment>\n        )}\n      </div>\n    )\n  );\n});\n\nexport default SendEmailAction;\n","import React from \"react\";\nimport { isValid as isCNPJValid } from \"@fnando/cnpj\";\nimport { Grid } from \"@material-ui/core\";\nimport { Link, lodashGet, lodashToLower, lodashForEach } from \"../../../utils\";\nimport { Button } from \"../../../components\";\nimport SendEmailAction from \"./SendEmailAction\";\n\nconst isValid = value => {\n  const CEPRegExp = new RegExp(/^\\d{5}-?\\d{3}$/);\n  return CEPRegExp.test(value);\n};\n\nexport const list = [\n  {\n    text: \"Nome Fantasia\",\n    identity: \"fantasyName\",\n    filter: {\n      type: \"string\"\n    }\n  },\n  {\n    text: \"Identificação Fiscal\",\n    identity: \"taxId\",\n    filter: {\n      type: \"string\"\n    }\n  },\n  {\n    text: \"Nivel\",\n    identity: \"level\",\n    filter: {\n      type: \"string\"\n    }\n  },\n  {\n    text: \"Admin Sis\",\n    identity: \"adminContact\",\n    filter: {\n      type: \"string\"\n    }\n  },\n  {\n    text: \"Email Admin Sis\",\n    identity: \"adminEmail\",\n    filter: {\n      type: \"string\"\n    }\n  },\n  {\n    text: \"Status\",\n    identity: \"company_status.name\",\n    model: {\n      service: \"company_statuses\",\n      identity: \"companyStatusId\"\n    }\n  }\n];\n\nexport const form = [\n  [\n    {\n      text: \"UUID\",\n      identity: \"uuid\",\n      variants: \"display fullWidth\",\n      readOnly: true,\n      show: {\n        ifThis: \"id\"\n      },\n      type: \"string\"\n    }\n  ],\n  [\n    {\n      text: \"Nome Fantasia\",\n      identity: \"fantasyName\",\n      autoFocus: true,\n      required: true,\n      type: \"string\",\n      handleChange: ({ data = {}, handleChange }) => {\n        const value = lodashGet(data, \"target.value\");\n        if (value) {\n          handleChange({\n            target: {\n              name: \"loginName\",\n              value: lodashToLower(value).replace(/\\s/g, \"\")\n            }\n          });\n        }\n      }\n    },\n    {\n      text: \"Identificação Fiscal\",\n      identity: \"taxId\",\n      required: true,\n      type: \"string\",\n      handleValidate: ({ data = {} }) => {\n        const value = lodashGet(data, \"target.value\");\n        if (!isCNPJValid(value)) {\n          return \"CNPJ não é válido\";\n        }\n        return true;\n      }\n    },\n    {\n      text: \"Status\",\n      identity: \"companyStatusId\",\n      required: true,\n      model: \"company_statuses\",\n      defaultValue: {\n        config: \"company.status.init\"\n      }\n    },\n    {\n      text: \"Nivel\",\n      identity: \"level\",\n      required: true,\n      enum: [\"N1\", \"N6\"],\n      defaultValue: \"N1\"\n    },\n    {\n      text: \"Login da Empresa\",\n      identity: \"loginName\",\n      type: \"string\"\n    }\n  ],\n  [\n    [\n      {\n        text: \"Limite de Usuários\",\n        identity: \"usersLimit\",\n        required: true,\n        defaultValue: 50,\n        type: \"integer\"\n      },\n      {\n        text: \"Usuários\",\n        identity: \"usersNumber\",\n        readOnly: true,\n        show: {\n          ifThis: \"id\"\n        },\n        type: \"integer\",\n        defaultValue: {\n          customValue: async ({ data = {}, field, client, handleChange }) => {\n            const { data: list } = await client.service(\"users\").find({\n              query: {\n                companyId: data.id\n              }\n            });\n            handleChange({\n              target: { name: field.identity, value: list.length }\n            });\n          }\n        }\n      }\n    ],\n    [\n      {\n        text: \"Limite de Máquinas\",\n        identity: \"machinesLimit\",\n        required: true,\n        defaultValue: 50,\n        type: \"integer\"\n      },\n      {\n        text: \"Máquinas\",\n        identity: \"machinesNumber\",\n        readOnly: true,\n        show: {\n          ifThis: \"id\"\n        },\n        type: \"integer\",\n        defaultValue: {\n          customValue: async ({ data = {}, field, client, handleChange }) => {\n            const { data: list } = await client.service(\"machines\").find({\n              query: {\n                companyId: data.id\n              }\n            });\n            handleChange({\n              target: { name: field.identity, value: list.length }\n            });\n          }\n        }\n      }\n    ]\n  ],\n  [\n    [\n      {\n        text: \"Razão Social\",\n        identity: \"companyName\",\n        required: true,\n        type: \"string\"\n      },\n      {\n        text: \"Insc. Estadual\",\n        identity: \"stateRegistration\",\n        type: \"string\"\n      },\n      {\n        text: \"Insc. Municipal\",\n        identity: \"municipalRegistration\",\n        type: \"string\"\n      }\n    ]\n  ],\n  [\n    {\n      text: \"Contato Admin Sist\",\n      identity: \"adminContact\",\n      required: true,\n      type: \"string\"\n    },\n    {\n      text: \"Email Admin Sist\",\n      identity: \"adminEmail\",\n      required: true,\n      type: \"email\",\n      customData: ({ ...props }) => <SendEmailAction {...props} />\n    }\n  ],\n  [\n    {\n      text: \"Contato Comercial\",\n      identity: \"technicalContact\",\n      required: true,\n      type: \"string\"\n    },\n    {\n      text: \"Email Comercial\",\n      identity: \"technicalEmail\",\n      required: true,\n      type: \"email\"\n    }\n  ],\n  [\n    {\n      text: \"Endereço\",\n      identity: \"address\",\n      type: \"string\"\n    },\n    {\n      text: \"Número\",\n      identity: \"addressNumber\",\n      type: \"string\"\n    },\n    {\n      text: \"Bairro\",\n      identity: \"neighborhood\",\n      type: \"string\"\n    }\n  ],\n  [\n    {\n      text: \"Estado\",\n      identity: \"state\",\n      type: \"string\",\n      enum: [\n        \"AC\",\n        \"AL\",\n        \"AM\",\n        \"AP\",\n        \"BA\",\n        \"CE\",\n        \"DF\",\n        \"ES\",\n        \"GO\",\n        \"MA\",\n        \"MG\",\n        \"MS\",\n        \"MT\",\n        \"PA\",\n        \"PB\",\n        \"PE\",\n        \"PI\",\n        \"PR\",\n        \"RJ\",\n        \"RN\",\n        \"RO\",\n        \"RR\",\n        \"RS\",\n        \"SC\",\n        \"SE\",\n        \"SP\",\n        \"TO\"\n      ]\n    },\n    {\n      text: \"Cidade\",\n      identity: \"city\",\n      type: \"string\"\n    },\n    {\n      text: \"CEP\",\n      identity: \"cep\",\n      required: true,\n      type: \"string\",\n      handleValidate: ({ data = {} }) => {\n        const value = lodashGet(data, \"target.value\");\n        if (!isValid(value)) {\n          return \"CEP não é válido\";\n        }\n        return true;\n      },\n      async handleChange({ data = {}, handleChange }) {\n        let value = lodashGet(data, \"target.value\");\n        if (isValid(value)) {\n          let response = await fetch(`https://viacep.com.br/ws/${value}/json`);\n          response = await response.json();\n          lodashForEach(\n            [\n              {\n                key: \"address\",\n                value: \"logradouro\"\n              },\n              {\n                key: \"neighborhood\",\n                value: \"bairro\"\n              },\n              {\n                key: \"state\",\n                value: \"uf\"\n              },\n              {\n                key: \"city\",\n                value: \"localidade\"\n              }\n            ],\n            ({ key, value }) => {\n              handleChange({\n                target: {\n                  name: key,\n                  value: `${response[value]}`\n                }\n              });\n            }\n          );\n        }\n      }\n    }\n  ],\n  [\n    {\n      text: \"Fone\",\n      identity: \"phone\",\n      required: true,\n      type: \"string\"\n    },\n    {\n      text: \"Fone 2\",\n      identity: \"phone2\",\n      type: \"string\"\n    }\n  ]\n];\n\nexport const links = [\n  {\n    text: \"Clientes\",\n    href: \"/sysadmin/companies\"\n  }\n];\n\nexport const metadata = {\n  name: \"companies\",\n  listPath: \"/sysadmin/companies\",\n  formPath: \"/sysadmin/companies\",\n  paramsProp: \"companyId\",\n  newItemText: \"Novo Cliente\"\n};\n\nexport default {\n  metadata,\n  list,\n  form,\n  links,\n  customContent: {\n    customBreadCrumbsName: ({ data = {} }) => data.fantasyName,\n    customTreeName: ({ data = {} }) => data.fantasyName\n  },\n  customActions: ({ isList, isForm, data: company }) => (\n    <React.Fragment>\n      {isList && (\n        <Button\n          text=\"Visualizar Histórico\"\n          icon=\"view_day\"\n          type=\"icon\"\n          component={Link}\n          to={`/sysadmin/companies/${company.id}/production-history`}\n        />\n      )}\n      {isForm && company.id && (\n        <Grid item>\n          <Button\n            text=\"Visualizar Histórico\"\n            icon=\"view_day\"\n            component={Link}\n            to={`/sysadmin/companies/${company.id}/production-history`}\n          />\n        </Grid>\n      )}\n    </React.Fragment>\n  ),\n  query: {\n    $sort: { fantasyName: 1 }\n  }\n};\n","import React, { useState, useContext, useEffect } from \"react\";\n\nimport {\n  lodashMap,\n  lodashGet,\n  lodashFilter,\n  useFindService,\n  useAuth,\n  Link,\n  withStyles\n} from \"../../utils\"\n\nimport {\n  Icon,\n  AppBar,\n  Toolbar,\n  Button,FormControlLabel,\n  Typography,\n  Badge,\n  Switch,\n  List, ListItemIcon, Grid,\n  ListItem, ListItemText\n} from \"@material-ui/core\";\n\nimport ReportIcon from '@material-ui/icons/Report';\nimport ReportOutlineIcon from \"@material-ui/icons/ReportOutlined\";\n\n// import NotFound from \"../not-found\";\n// import Button from \"../buttons\";\nimport NotificationMessageItem from \"./NotificationMessageItem\";\nimport Tree from \"../master-data-form/Tree\";\nimport TreeSupportItem from \"./TreeSupportItem\";\n\nimport Companies from \"../../pages/sysadmin/companies/model\";\n\nimport ApiContext from \"../../api\";\n\nconst styles = theme => ({\n  ticketsList:{\n    maxHeight: '100%' ,overflow: 'overlay', overflowX: 'hidden', paddingTop: 0\n  },\n  addTicket:{\n    backgroundColor: theme.palette.secondary.main,\n    color: theme.palette.primary.main,\n  },\n  wrapper: {\n    position: \"relative\",\n    \"&>div\": {\n      margin: 0\n    }\n  },\n  button: {\n    height: 50,\n    \"&>span>div\": {\n      width: \"100% !important\",\n      height: \"100% !important\",\n      borderRadius: 0\n    },\n    [theme.breakpoints.up(\"md\")]: {\n      background: \"none\",\n      border: \"none\",\n      color: theme.palette.common.white,\n      boxShadow: \"none\"\n    },\n    [theme.breakpoints.down(\"sm\")]: {\n      width: 50,\n      padding: 0\n    }\n  },\n  userMenuItem: {\n    backgroundColor: theme.palette.primary.header,\n    color: theme.palette.common.white,\n    borderTopLeftRadius: \"4px\",\n    borderTopRightRadius: \"4px\",\n    \"&:hover\": {\n      backgroundColor: theme.palette.primary.header\n    }\n  },\n  badge: {\n    position: \"absolute\",\n    top: 0,\n    right: 0,\n    fontSize: \".65rem\",\n    background: theme.palette.primary.delete,\n    borderRadius: \"50%\",\n    height: 18,\n    width: 18,\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\"\n  },\n  list: {\n    paddingBottom: \"0px\",\n    maxWidth: 350,\n    //maxHeight: 350\n  },\n  item: {\n    height: \"auto\",\n    whiteSpace: \"normal\",\n    padding: theme.spacing(1),\n    \"&>div\": {\n      width: \"100%\"\n    }\n  },\n  // open: {\n  //   width: '20px',\n  //   height: '20px',\n  //   borderRadius: '20px',\n  //   backgroundColor: 'rgb(129, 215, 66)',\n  //   color: 'white',\n  //   textAlign: 'center',\n  //   marginLeft: '5px'\n  // },\n  // closed: {\n  //   width: '20px',\n  //   height: '20px',\n  //   borderRadius: '20px',\n  //   backgroundColor: 'rgb(51, 51, 51)',\n  //   color: 'white',\n  //   textAlign: 'center',\n  //   marginLeft: '5px'\n  // },\n  // urgent: {\n  //   width: '20px',\n  //   height: '20px',\n  //   borderRadius: '20px',\n  //   backgroundColor: 'red',\n  //   color: 'white',\n  //   textAlign: 'center',\n  //   marginLeft: '5px'\n  // },\n  nested: {\n    paddingLeft: theme.spacing(4),\n  },\n  listHeader:{\n    paddingLeft: theme.spacing(4),\n    minHeight: 64,\n    backgroundColor: theme.palette.secondary.main,\n    color: theme.palette.primary.main\n  },\n  urgent:{\n    color: theme.palette.error.main,\n    margin: 2\n  },\n  icon:{\n    color: theme.palette.type === \"dark\"? theme.palette.common.white : theme.palette.primary.main,\n    margin: 2\n  }\n});\n\nconst TicketsList = ({ classes, isAdminApp, type }) => {\n  const client = useContext(ApiContext);\n  const { session } = useAuth();\n  const companyId = lodashGet(session, 'companyId')\n  const [withoutClosedTickets, setWithoutClosedTickets] = useState(true);\n\n  const { list: listTicket, loading: loadingTicket, reload: reloadTicket } = useFindService({\n    model: \"tickets\",\n    query: {\n      $populateAll: true,\n      $sort: {\n        createdAt: -1\n      }\n    }\n  });\n\n  const { list: listMessages, reload: reloadMessages, loading: loadingMessages, setQuery: setQueryMessages } = useFindService({\n    model: \"ticket_messages\"\n  })\n\n  useEffect(() => {\n    setQueryMessages({\n      ticketId: {\n        $in: lodashMap(listTicket, t => t.id)\n      },\n      viewedAt: null,\n      companyId: companyId\n    })\n  }, [listTicket, companyId, setQueryMessages])\n\n  const userId = lodashGet(session, 'userId')\n  const listMessagesUser = lodashFilter(listMessages, (ticket) => ticket.userId !== userId)\n\n  useEffect(() => {\n    const onNewEvent = () => {\n      console.log('nova mensagem de suport');\n      reloadMessages()\n    }\n    client.service(\"ticket_messages\").on(\"created\", onNewEvent);\n    client.service(\"ticket_messages\").on(\"patched\", onNewEvent);\n    return () => {\n      client.service(\"ticket_messages\").removeListener(\"created\", onNewEvent);\n      client.service(\"ticket_messages\").removeListener(\"patched\", onNewEvent);\n    }\n  }, [client]);\n\n  useEffect(() => {\n    const onNewEvent = () => {\n      console.log('nova solicitação de suport');\n\n      reloadTicket()\n    }\n    client.service(\"tickets\").on(\"created\", onNewEvent);\n    client.service(\"tickets\").on(\"patched\", onNewEvent);\n    return () => {\n      client.service(\"tickets\").removeListener(\"created\", onNewEvent);\n      client.service(\"tickets\").removeListener(\"patched\", onNewEvent);\n    }\n  }, [client]);\n\n  const empty = !loadingTicket && listTicket.length === 0;\n\n  return (\n    <List  component=\"nav\" className={classes.ticketsList} aria-labelledby=\"Lista de tickets\" >\n      <div style={{ width: 350}}>\n        {type === \"Menu\" && !isAdminApp &&\n          <ListItem button component={Link} to=\"/support/\" className={classes.addTicket, classes.nested, classes.listHeader} >\n            <ListItemIcon>\n              <Icon >help</Icon>\n            </ListItemIcon>\n          <ListItemText primary={<Typography variant='button'>Abrir Novo</Typography>} />\n          </ListItem>\n        }\n        {type != \"Menu\" &&\n            <Toolbar variant=\"dense\">\n              {!isAdminApp && <Button variant=\"contained\"  color=\"secondary\" component={Link} to=\"/support/\" startIcon={<Icon>edit</Icon>}>  Novo </Button>}\n              <span style={{flex:1, color:'black'}}></span>\n              <FormControlLabel\n                style={{margin:'4px'}}\n                value={withoutClosedTickets}\n                control={<Switch color=\"secondary\" onChange = {() =>setWithoutClosedTickets(p => !p)}/>}\n                label=\"CONCLUÍDOS\"\n                labelPlacement=\"start\"\n              />\n            </Toolbar>\n        }\n        {!empty && !isAdminApp &&\n          lodashMap(\n            listTicket,\n            ticket => (\n              <NotificationMessageItem key={ticket.id} ticket={ticket} type={type} reloadTicket={reloadTicket}  withoutClosedTickets={withoutClosedTickets}/>\n            )\n          )}\n        {!empty && isAdminApp &&\n          <Tree\n            model={Companies.metadata}\n            options={{\n              dontTreeItemLink: isAdminApp\n            }}\n            query={Companies.query}\n            customContent={{\n              ...Companies.customContent,\n              customTree: ({ data }) => {\n                const ticketCompany = lodashFilter(listTicket, (ticket) => ticket.companyId === data.id)\n                const ticketOpen = lodashFilter(ticketCompany, (ticket) =>  ticket.ticketStatusId === parseInt(lodashGet(client.get(\"config.ticket.status.init\"), \"value\")))\n                // const ticketClosed = lodashFilter(ticketCompany, (ticket) =>  ticket.ticketStatusId === parseInt(lodashGet(client.get(\"config.ticket.status.closed\"), \"value\")))\n                const ticketUrgent = lodashFilter(ticketCompany, (ticket) =>  ticket.ticketStatusId === parseInt(lodashGet(client.get(\"config.ticket.status.urgent\"), \"value\")))\n                return (\n                  <Grid container>\n                    {ticketUrgent.length >= 1 && <Badge color=\"secondary\" badgeContent={ticketUrgent.length}><ReportIcon className={classes.urgent} /></Badge>} <div style={{width:12}}/>\n                    {ticketOpen.length >= 1 && <Badge color=\"secondary\" badgeContent={ticketOpen.length}><ReportOutlineIcon className={classes.icon} /></Badge>} <div style={{width:12}}/>\n                    {/* {ticketClosed.length >= 1 && <Badge color=\"secondary\" badgeContent={ticketClosed.length}><CloseIcon className={classes.icon}  /> </Badge>} */}\n                  </Grid>\n                )\n              },\n              afterTreeItem: ({ data }) =>\n                <TreeSupportItem isAdminApp={isAdminApp} company={data} type={type} withoutClosedTickets={withoutClosedTickets}/>\n            }}\n          />\n        }\n      </div>\n    </List>\n  )\n}\n\nexport default withStyles(styles, { withTheme: true })(TicketsList)","import React, { useContext } from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faSignOutAlt } from \"@fortawesome/free-solid-svg-icons\";\nimport { MenuItem, Hidden ,ListItemText, ListItem, ListItemIcon} from \"@material-ui/core\";\nimport ApiContext from \"../../api\";\nimport { withStyles, logout } from \"../../utils\";\nimport Button from \"../buttons\";\nimport ExitToApp from '@material-ui/icons/ExitToApp';\n\nconst styles = theme => ({\n  root: {\n    backgroundColor: theme.palette.primary.header,\n    color: theme.palette.common.white,\n    borderBottomLeftRadius: \"4px\",\n    borderBottomRightRadius: \"4px\"\n  },\n  wrapper: {\n    position: \"relative\",\n    \"&>div\": {\n      margin: 0\n    }\n  },\n  button: {\n    width: 50,\n    \"&>span>div\": {\n      width: \"100% !important\",\n      height: \"100% !important\",\n      borderRadius: 0\n    }\n  },\n  icon: {\n    width: \"18px !important\",\n    height: \"18px !important\",\n    color: theme.palette.common.white,\n  }\n});\n\nconst Logout = ({ classes, isAdminApp }) => {\n  const client = useContext(ApiContext);\n  const handleLogout = async () => {\n    const companyUUID = localStorage.getItem(\"companyUUID\");\n    await logout({ client });\n    window.location = `/login/${isAdminApp ? \"admin\" : companyUUID}`;\n  };\n  return (\n    <ListItem button onClick={handleLogout}>\n      <ListItemIcon>\n        <ExitToApp />\n      </ListItemIcon>\n      <ListItemText primary=\"Deslogar\" />\n    </ListItem>\n\n    // <React.Fragment>\n    //   <Hidden smDown>\n    //     <div className={classes.wrapper}>\n    //       <Button\n    //         className={classes.button}\n    //         onClick={handleLogout}\n    //         text=\"Sair\"\n    //         type=\"icon\"\n    //         avatar={<FontAwesomeIcon icon={faSignOutAlt} className={classes.icon} />}\n    //         variants=\"navbar\"\n    //       />\n    //     </div>\n    //   </Hidden>\n    //   <Hidden mdUp>\n    //     <MenuItem onClick={handleLogout} className={classes.root}>\n    //       Sair\n    //       <span style={{ flex: \"1\" }} />\n    //       <FontAwesomeIcon icon={faSignOutAlt} className={classes.icon} />\n    //     </MenuItem>\n    //   </Hidden>\n    // </React.Fragment>\n  );\n};\n\nexport default withStyles(styles, { withTheme: true })(Logout);\n","import { useState, useContext, useEffect } from \"react\";\nimport {\n    lodashMap,\n    lodashGet,\n    lodashFilter,\n    useFindService\n  } from \"../../utils\"\nimport ApiContext from \"../../api\";\n\nconst useTicketContext = ({session}) =>{\n\nconst client = useContext(ApiContext);\nconst [connected, setConnected] = useState(false);\n\nclient.socket.on('connect', () => setConnected(true) );\n\nconst userId = lodashGet(session, 'userId')\nconst companyId = lodashGet(session, 'companyId')\n\nconst { list: tickets, reload: reloadTicket } = useFindService({\n    model: \"tickets\",\n    query: {\n      $populateAll: true,\n      $sort: {\n        createdAt: -1\n      }\n    }\n  });\n\n  const { list: unreadMessages, reload: reloadMessages, setQuery: setQueryMessages } = useFindService({\n    model: \"ticket_messages\"\n  });\n\n  useEffect(()=> {  \n    console.log('conectou no TicketContext')  \n    client.service(\"tickets\").on(\"created\", () => {\n      reloadTicket()})\n  } ,[connected]);\n  \n  useEffect(() => {\n    setQueryMessages({\n      ticketId: {\n        $in: lodashMap(tickets, t => t.id)\n      },\n      viewedAt: null,\n      companyId: companyId\n    })\n  }, [tickets, companyId, setQueryMessages])\n\n  useEffect(() => {\n    client.service(\"ticket_messages\").on(\"created\", () =>{console.log('nova mensagem...'); reloadMessages()});\n  }, [connected,reloadMessages]);\n\n  let userUnreadMessages = lodashFilter(unreadMessages, ticket => ticket.userId !== userId) || []\n\n  console.log( userUnreadMessages);\n\n  return {userUnreadMessages};\n}\nexport default useTicketContext;","import React, { useRef, useState, useContext, useEffect } from \"react\";\n\nimport {\n  lodashMap,\n  lodashGet,\n  lodashFilter,\n  useFindService,\n  lodashSplit,\n  lodashToUpper,\n  Link,\n  withStyles\n} from \"../../utils\"\n\nimport {\n  Icon,\n  Popper,\n  Grow,\n  Paper,\n  ClickAwayListener,\n  Switch,\n  Divider,\n  Badge,\n  MenuItem,\n  MenuList,\n  Grid\n} from \"@material-ui/core\";\n\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Collapse from '@material-ui/core/Collapse';\nimport Chat from '@material-ui/icons/Chat';\nimport MenuBook from '@material-ui/icons/MenuBook';\nimport ExpandLess from '@material-ui/icons/ExpandLess';\nimport ExpandMore from '@material-ui/icons/ExpandMore';\n\nimport TicketsList from './TicketsList'\nimport Button from \"../buttons\";\nimport Logout from \"./Logout\";\n\nimport useTicketContext from \"./useTicketContext\";\n\nconst styles = theme => ({\n  button: {\n    height: 50,\n    color: theme.palette.common.white,\n    \"&>span>div\": {\n      width: \"100% !important\",\n      height: \"100% !important\",\n      borderRadius: 0\n    },\n    [theme.breakpoints.up(\"md\")]: {\n      background: \"none\",\n      border: \"none\",\n      boxShadow: \"none\"\n    },\n    [theme.breakpoints.down(\"sm\")]: {\n      width: 50,\n      padding: 0\n    }\n  },\n  userMenuItem: {\n    backgroundColor: theme.palette.primary.header,\n    color: theme.palette.common.white,\n    borderTopLeftRadius: \"4px\",\n    borderTopRightRadius: \"4px\",\n    \"&:hover\": {\n      backgroundColor: theme.palette.primary.header\n    }\n  },\n  badge: {\n    position: \"absolute\",\n    top: 0,\n    right: 0,\n    fontSize: \".65rem\",\n    background: theme.palette.primary.delete,\n    borderRadius: \"50%\",\n    height: 18,\n    width: 18,\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\"\n  },\n  list: {\n    paddingBottom: \"0px\",\n    width: 350,\n    maxHeight: 350\n  },\n  item: {\n    height: \"auto\",\n    whiteSpace: \"normal\",\n    padding: theme.spacing(1),\n    \"&>div\": {\n      width: \"100%\"\n    }\n  },\n});\n\nconst UnreadBadge = withStyles((theme) => ({\n  badge: {\n    right: 29,\n    top: 14,\n  },\n}))(Badge);\n\nconst UserActions = ({ classes, isAdminApp, hasSession, session , swtichTheme, dark}) => {\n\n  const [supportOpen, setSupportOpen] = useState(false);\n  const {userUnreadMessages} = useTicketContext({session});\n\n  const handleClick = () => {\n    setSupportOpen(prev => !prev);\n  };\n\n\n  const [open, setOpen] = useState(false);\n  const MenuRef = useRef(null);\n\n  const handleClose = event => {\n    if (MenuRef.current.contains(event.target)) {\n      return;\n    }\n    setOpen(false);\n  };\n\n  const handleToggle = () => {\n    setOpen(prev => !prev)\n  };\n\n  const userName = lodashGet(session, \"user.name\");\n  let initials = \"\";\n  lodashMap(lodashSplit(userName, \" \"), fragment => (initials += lodashToUpper(fragment[0])));\n\n  //const empty = !loadingTicket && tickets.length === 0;\n\n  return (\n    <React.Fragment>\n      <UnreadBadge badgeContent={userUnreadMessages.length} color=\"secondary\">\n        <Button\n          className={classes.button}\n          buttonRef={node => {\n\n            MenuRef.current = node;\n          }}\n          aria-owns={open ? \"menu-list-grow\" : undefined}\n          aria-haspopup=\"true\"\n          onClick={handleToggle}\n          type=\"icon\"\n          variants=\"navbar\"\n          icon=\"account_circle\"\n          text={isAdminApp ? \"Admin\" : userName}\n        />\n        </UnreadBadge>\n      <Popper open={open} anchorEl={MenuRef.current} transition disablePortal>\n        {({ TransitionProps, placement }) => (\n          <Grow\n            {...TransitionProps}\n            id=\"menu-list-grow\"\n            style={{\n              transformOrigin: placement === \"bottom\" ? \"center top\" : \"center bottom\"\n            }}\n          >\n            <Paper style={{ width: 350 }}>\n              <ClickAwayListener onClickAway={handleClose}>\n\n              <List\n                component=\"nav\"\n                aria-labelledby=\"Menu do Usuário\"                \n              >\n                  <ListItem>\n                    <ListItemIcon>\n                      <Switch edge=\"start\" color=\"secondary\" onChange={swtichTheme} checked={dark}/>\n                    </ListItemIcon>\n                    <ListItemText primary=\"Tema Escuro\" />\n                  </ListItem>\n\n                  <Divider />\n\n                  {!isAdminApp && (\n                    <ListItem button component={Link} to=\"/administration/reset-password\" onClick={handleToggle}>\n                      <ListItemIcon>\n                        <Icon>lock_outlined</Icon>\n                      </ListItemIcon>\n                      <ListItemText primary=\"Alterar Senha\" />\n                    </ListItem>\n                  )}\n\n                  <Logout />                    \n                 \n                  <Divider />\n\n                  <ListItem button   component={Link} to=\"/help/home\" onClick={handleToggle}>\n                    <ListItemIcon>\n                      <MenuBook />\n                    </ListItemIcon>\n                    <ListItemText primary=\"Manual Wiki\"/>\n                  </ListItem>\n                  <ListItem button onClick={handleClick}>\n                    <ListItemIcon>\n                      <Chat />\n                    </ListItemIcon>\n                    <ListItemText primary=\"Suporte Técnico\" />\n                    {supportOpen ? <ExpandLess /> : <ExpandMore />}\n                  </ListItem>\n                  <Collapse style={{maxHeight:'250px', overflowY:'overlay', overflowX:'hidden'}} in={supportOpen} timeout=\"auto\" unmountOnExit>\n                    <TicketsList hasSession={hasSession} session={session} isAdminApp={isAdminApp} type=\"Menu\" handleToggle={handleToggle}/>\n                  </Collapse>\n                </List>\n              </ClickAwayListener>\n            </Paper>\n          </Grow>\n        )}\n      </Popper>\n    </React.Fragment>\n  )\n\n}\n\nexport default withStyles(styles, { withTheme: true })(UserActions)","import React, { useContext } from \"react\";\nimport { Grid, AppBar, Toolbar, Avatar } from \"@material-ui/core\";\nimport {\n  Link,\n  withRouter,\n  withStyles,\n  lodashFilter,\n  getPermissions,\n  useAuth,\n} from \"../../utils\";\nimport Button from \"../buttons\";\nimport MainTabsNav from \"./MainTabsNav\";\nimport CompanyLogin from \"./CompanyLogin\";\nimport Notifications from \"./Notifications\";\nimport logo from \"../../icons/logo.svg\";\nimport UserActions from \"./UserActions\";\nimport ApiContext from \"../../api\";\n\nconst userActions = [\n  {\n    icon: \"assignment\",\n    href: \"/master-data\",\n    text: \"Cadastros\",\n    permissions: [\"writeMasterData\", \"readMasterData\"],\n  },\n  {\n    icon: \"assessment\",\n    href: \"/dashboard\",\n    text: \"Painel de Controle\",\n    permissions: [\n      \"readProductionOrders\",\n      \"readProductionOrderReports\",\n      \"writeActiveProductionOrders\",\n      \"writeScheduledStopProductionOrders\",\n      \"writeProductionOrderEvents\",\n    ],\n  },\n  {\n    icon: \"table_chart\",\n    href: \"/reports\",\n    text: \"Relatórios\",\n    permissions: [\"readProductionOrderReports\"],\n  },\n  {\n    icon: \"settings_applications\",\n    href: \"/administration\",\n    text: \"Configurações\",\n    permissions: [\"crudAdminData\", \"crudUserData\"],\n  },\n];\n\nconst sysAdminActions = [\n  {\n    icon: \"domain\",\n    href: \"/sysadmin/companies\",\n    text: \"Clientes\",\n  },\n  {\n    icon: \"memory\",\n    href: \"/sysadmin/sensors\",\n    text: \"Sensores\",\n  },\n  {\n    icon: \"assignment\",\n    href: \"/sysadmin/master-data\",\n    text: \"Cadastros\",\n  },\n];\n\nconst styles = (theme) => ({\n  \"@global\": {\n    /* width */\n    \"::-webkit-scrollbar\": {\n      width: \"6px\",\n      height: \"6px\",\n\n      /* FireFox */\n      scrollbarWidth: \"thin\",\n    },\n    /* Track */\n    \"::-webkit-scrollbar-track\": {\n      background: \"transparent\",\n    },\n    \"::-webkit-scrollbar-track-piece\": {\n      backgroundColor: \"transparent\",\n    },\n\n    /* Handle */\n    \"::-webkit-scrollbar-thumb\": {\n      background: \"rgba(0, 0, 0, 0.54)\",\n      borderRadius: \"3px\",\n    },\n\n    /* Handle on hover */\n    \"::-webkit-scrollbar-thumb:hover\": {\n      background: \"#555\",\n    },\n  },\n  root: {\n    height: \"100vh\",\n    flexWrap: \"nowrap\",\n    flexGrow: 1,\n    [theme.breakpoints.down(\"md\")]: {\n      fontSize: 14,\n    },\n    [theme.breakpoints.down(\"xs\")]: {\n      fontSize: 12,\n    },\n  },\n  title: {\n    flex: 1,\n  },\n  main: {\n    overflowY: \"auto\",\n    display: \"flex\",\n    flexGrow: 1,\n    [theme.breakpoints.down(\"sm\")]: {\n      flexDirection: \"column\",\n    },\n  },\n  home: {\n    marginRight: theme.spacing(2),\n  },\n  content: {\n    overflowX: \"hidden\",\n    overflowY: \"auto\",\n    flexGrow: 1,\n    flexWrap: \"nowrap\",\n    padding: theme.spacing(3),\n    [theme.breakpoints.down(\"xs\")]: {\n      padding: theme.spacing(1),\n    },\n  },\n});\n\nconst Shell = ({\n  location: { pathname },\n  classes,\n  children,\n  swtichTheme,\n  dark,\n}) => {\n  const { session, permissions } = useAuth({ dependencies: [pathname] });\n  const isAdminApp = session && session.isAdmin;\n  const isLoginApp = pathname.indexOf(\"login\") !== -1;\n  const hasSession = !isLoginApp && session;\n  const actions = isAdminApp ? sysAdminActions : userActions;\n\n  const client = useContext(ApiContext);\n  const isDevelopmentEnvironment =\n    client.get(\"cloudURL\").includes(\"heroku\") ||\n    client.get(\"cloudURL\").includes(\"localhost\");\n\n  return (\n    <Grid container direction=\"column\" className={classes.root}>\n      <AppBar position=\"static\">\n        <Toolbar>\n          {\" \"}\n          {/*on mobile we can swipe the menu* style={{overflow:'overlay'}}*/}\n          {isDevelopmentEnvironment && <span>DEV</span>}\n          {!isAdminApp && !hasSession && (\n            <Avatar\n              className={classes.home}\n              alt=\"Logo\"\n              src={logo}\n              component={Link}\n              to=\"/\"\n            />\n          )}{\" \"}\n          {/*on mobile the logo takes to much space in the menu*/}\n          {hasSession && isAdminApp && (\n            <Button\n              type=\"icon\"\n              text=\"SysAdmin\"\n              icon=\"settings\"\n              variants=\"navbar\"\n              component={Link}\n              to=\"/sysadmin\"\n            />\n          )}\n          {!session && !isLoginApp && <CompanyLogin />}\n          {hasSession && (\n            <MainTabsNav\n              actions={lodashFilter(\n                actions,\n                (action) =>\n                  !action.permissions ||\n                  getPermissions({\n                    privileges: action.permissions,\n                    permissions,\n                  })\n              )}\n            />\n          )}\n          {hasSession && (\n            <Notifications\n              hasSession={hasSession}\n              session={session}\n              isAdminApp={isAdminApp}\n            />\n          )}\n          {hasSession && (\n            <UserActions\n              hasSession={hasSession}\n              session={session}\n              isAdminApp={isAdminApp}\n              swtichTheme={swtichTheme}\n              dark={dark}\n            />\n          )}\n        </Toolbar>\n      </AppBar>\n      <main className={classes.main}>\n        <Grid container direction=\"column\" className={classes.content}>\n          {children}\n        </Grid>\n      </main>\n    </Grid>\n  );\n};\n\nexport default withRouter(withStyles(styles, { withTheme: true })(Shell));\n","import React from \"react\";\nimport { Redirect, Route, useAuth } from \"../../utils\";\nimport Loader from \"../loader\";\n\nconst ClientRoute = props => {\n  const { session, loading, hasAccess } = useAuth({\n    privileges: props.permissions\n  });\n  if (loading) {\n    return <Loader />;\n  }\n  const companyUUID = localStorage.getItem(\"companyUUID\");\n  if (!session || !hasAccess) {\n    return <Redirect push to={companyUUID ? `/login/${companyUUID}` : \"/\"} />;\n  }\n  return <Route {...props} />;\n};\n\nexport default ClientRoute;\n","import React from \"react\";\nimport { Redirect, Route, useAuth, lodashGet } from \"../../utils\";\nimport Loader from \"../loader\";\n\nconst AdminRoute = props => {\n  const { session, loading } = useAuth();\n  if (loading) {\n    return <Loader />;\n  }\n  if (!lodashGet(session, \"isAdmin\")) {\n    return <Redirect push to=\"/login/admin\" />;\n  }\n  return <Route {...props} />;\n};\n\nexport default AdminRoute;\n","import React from \"react\";\nimport { Redirect, Route, useAuth } from \"../../utils\";\nimport Loader from \"../loader\";\n\nconst SessionRoute = props => {\n  const { session, loading } = useAuth();\n  if (loading) {\n    return <Loader />;\n  }\n  const companyUUID = localStorage.getItem(\"companyUUID\");\n  if (!session) {\n    return <Redirect push to={companyUUID ? `/login/${companyUUID}` : \"/\"} />;\n  }\n  return <Route {...props} />;\n};\n\nexport default SessionRoute;\n","import React from \"react\";\nimport { Grid, Button, Icon } from \"@material-ui/core\";\nimport { Link, withStyles, classNames, lodashMap } from \"../../utils\";\n\nconst styles = theme => ({\n  grid: {\n    minHeight: 64,\n    zIndex: 10,\n    width: `calc(100% + ${theme.spacing(6)}px)`,\n    margin: -theme.spacing(3),\n    marginBottom: theme.spacing(2),\n    padding: `0 ${theme.spacing(3)}px`,\n    backgroundColor: theme.palette.secondary.main,\n    [theme.breakpoints.down(\"xs\")]: {\n      margin: -theme.spacing(1),\n      marginBottom: theme.spacing(1),\n      width: `calc(100% + ${theme.spacing(2)}px)`,\n      padding: `0 ${theme.spacing(1)}px`,\n      minHeight: 56\n    }\n  },\n  link: {\n    \"& a\": {\n      minHeight: 0\n    }\n  },\n  firstLink: {\n    \"& a\": {\n      paddingLeft: 0\n    }\n  },\n  wrapper: {\n    display: \"flex\",\n    color: '#000000de',\n  },\n  arrow: {\n    fontSize: \"1.25rem\"\n  },\n  button: {\n    color: '#000000de',\n  }\n});\n\nconst BreadCrumbs = ({ classes, links }) => (\n  <Grid container alignItems=\"center\" className={classes.grid}>\n    {lodashMap(links, ({ text, href }, index) => (\n      <React.Fragment key={index}>\n        {index !== 0 && (\n          <Grid item className={classes.wrapper}>\n            <Icon className={classes.arrow}>arrow_forward_ios</Icon>\n          </Grid>\n        )}\n        <Grid\n          item\n          className={classNames(classes.link, {\n            [classes.firstLink]: index === 0\n          })}\n        >\n          {href ? (\n            <Button className={classes.button} component={Link } to={href}>\n              {text}\n            </Button>\n          ) : (\n            <Button className={classes.button} >{text}</Button>\n          )}\n        </Grid>\n      </React.Fragment>\n    ))}\n  </Grid>\n);\n\nexport default withStyles(styles, { withTheme: true })(BreadCrumbs);\n","import React from \"react\";\nimport { Toolbar, Fab } from \"@material-ui/core\";\nimport { Link, withStyles, getPermissions, useAuth } from \"../../utils\";\nimport Button from \"../buttons\";\nimport AddIcon from '@material-ui/icons/Add';\n\nconst styles = theme => ({\n  toolbar: {\n    padding: 0,\n    minHeight: 40,\n    marginBottom: theme.spacing(1)\n  },\n  spacer: {\n    flex: \"1 1 100%\"\n  },\n  actions: {\n    color: theme.palette.text.secondary\n  },\n  fab: {\n    position: 'absolute',\n    bottom: theme.spacing(2),\n    right: theme.spacing(2),\n    zIndex: 1\n  },\n});\n\nconst GridToolbar = ({ classes, model, options = {} }) => {\n  const { permissions } = useAuth();\n  const showToolbar =\n    !options.dontCreate && getPermissions({ privileges: options.writePermissions, permissions });\n  return (\n    showToolbar && (\n      <Fab color=\"secondary\" aria-label=\"criar\"  className={classes.fab}>\n        <AddIcon />\n      </Fab>\n      // <Toolbar className={classes.toolbar}>\n      //   <div className={classes.spacer} />\n      //   <div className={classes.actions}>\n      //     {showToolbar && (\n      //       <Button\n      //         text=\"Criar\"\n      //         icon=\"add_icon\"\n      //         variants=\"toolbar\"\n      //         component={Link}\n      //         to={`${model.formPath}/new`}\n      //       />\n      //     )}\n      //   </div>\n      // </Toolbar>\n    )\n  );\n};\n\nexport default withStyles(styles, { withTheme: true })(GridToolbar);\n","import React from \"react\";\nimport { Grid, Card, CardContent, Avatar, Typography } from \"@material-ui/core\";\nimport { Link, withStyles, lodashGet, lodashMap, getPermissions, useAuth } from \"../../utils\";\nimport Button from \"../buttons\";\nimport Loader from \"../loader\";\n\nconst styles = theme => ({\n  card: {\n    display: \"flex\",\n    position: \"relative\"\n  },\n  content: {\n    flex: 1,\n    padding: theme.spacing(1)\n  },\n  header: {\n    minHeight: 40,\n    marginBottom: theme.spacing(1)\n  },\n  avatar: {\n    marginRight: theme.spacing(1)\n  },\n  controls: {\n    width: \"unset\"\n  },\n  loader: {\n    height: \"100%\",\n    width: \"100%\",\n    background: \"rgba(255,255,255,.5)\",\n    zIndex: 1,\n    position: \"absolute\",\n    right: 0,\n    top: 0,\n    padding: \"0 8px\",\n    \"&>div\": {\n      position: \"relative\",\n      top: \"50%\"\n    }\n  }\n});\n\nconst GridCard = ({\n  classes,\n  model,\n  fields,\n  data,\n  handleDelete,\n  loading,\n  options = {},\n  customContent = {},\n  customActions\n}) => {\n  const { permissions } = useAuth();\n  return (\n    <Card className={classes.card}>\n      {loading && (\n        <div className={classes.loader}>\n          <Loader />\n        </div>\n      )}\n      <CardContent className={classes.content}>\n        <Grid container alignItems=\"center\" className={classes.header}>\n          {data.image && <Avatar alt={data.name} src={data.image} className={classes.avatar} />}\n          <Typography component=\"h5\" variant=\"h5\">\n            {data.name}\n          </Typography>\n        </Grid>\n        <Grid container spacing={2}>\n          {lodashMap(\n            fields,\n            ({ identity, text, hasIdentity, customData }) =>\n              identity !== \"name\" &&\n              (lodashGet(data, identity) || customData) && (\n                <Grid item key={identity}>\n                  <Typography variant=\"subtitle1\" color=\"textSecondary\">\n                    {text}\n                  </Typography>\n                  <Typography component=\"p\">\n                    {customData && customData({ data })}\n                    {!customData && (\n                      <React.Fragment>\n                        {hasIdentity ? (data.identity ? `${data.identity} - ` : \"\") : \"\"}\n                        {lodashGet(data, identity)}\n                      </React.Fragment>\n                    )}\n                  </Typography>\n                </Grid>\n              )\n          )}\n        </Grid>\n      </CardContent>\n      <Grid container direction=\"column\" className={classes.controls}>\n        {!options.dontEdit && (!customContent.dontEdit || customContent.dontEdit({ data })) && (\n          <Button\n            type=\"icon\"\n            text=\"Editar\"\n            icon=\"edit_icon\"\n            variants=\"editAction\"\n            component={Link}\n            to={`${model.formPath}/${data.id}`}\n          />\n        )}\n        {getPermissions({ privileges: options.writePermissions, permissions }) &&\n          !options.dontDelete &&\n          (!customContent.dontDelete || customContent.dontDelete({ data })) && (\n            <Button\n              type=\"icon\"\n              text=\"Deletar\"\n              icon=\"delete\"\n              variants=\"deleteAction\"\n              onClick={handleDelete(data)}\n            />\n          )}\n        {customActions && customActions({ isList: true, data })}\n      </Grid>\n    </Card>\n  );\n};\n\nexport default withStyles(styles, { withTheme: true })(GridCard);\n","import React from \"react\";\nimport { Grid } from \"@material-ui/core\";\nimport { withStyles, lodashMap, useFindDeleteService } from \"../../utils\";\nimport NotFound from \"../not-found\";\nimport Loader from \"../loader\";\nimport Errors from \"../errors\";\nimport GridToolbar from \"./GridToolbar\";\nimport GridCard from \"./GridCard\";\n\nconst styles = theme => ({\n  container: {\n    flexWrap: \"nowrap\"\n  },\n  grid: {\n    overflowY: \"auto\"\n  }\n});\n\nconst MasterDataGrid = ({\n  classes,\n  model,\n  fields,\n  query = {},\n  options = {},\n  customContent = {},\n  customActions\n}) => {\n  const {\n    list,\n    handleDelete,\n    deleteRef,\n    deleteLoading,\n    findLoading,\n    errors\n  } = useFindDeleteService({ model: model.name, query });\n  const empty = !findLoading && !errors && list.length === 0;\n  return (\n    <Grid container direction=\"column\" className={classes.container}>\n      <GridToolbar model={model} options={options} />\n      {findLoading && <Loader />}\n      {errors && <Errors errors={errors} />}\n      {empty && <NotFound />}\n      {!findLoading && (\n        <Grid className={classes.grid} container spacing={1}>\n          {lodashMap(list, item => (\n            <Grid item xs={12} sm={6} key={item.id}>\n              <GridCard\n                model={model}\n                fields={fields}\n                data={item}\n                loading={deleteRef[item.id] && deleteLoading}\n                handleDelete={handleDelete}\n                options={options}\n                customContent={customContent}\n                customActions={customActions}\n              />\n            </Grid>\n          ))}\n        </Grid>\n      )}\n    </Grid>\n  );\n};\n\nexport default withStyles(styles, { withTheme: true })(MasterDataGrid);\n","import React, { useState, useEffect } from \"react\";\nimport { Icon, Button, Menu, MenuItem, Typography, TextField } from \"@material-ui/core\";\nimport { withStyles, lodashGet, lodashMap, useFindService } from \"../../utils\";\n\nconst styles = theme => ({\n  menu: {\n    height: 300\n  },\n  icon: {\n    color: theme.palette.common.white\n  }\n});\n\nconst Filter = ({ classes, field, query = {}, setFindQuery }) => {\n  // TODO useMemo and useReduce\n  // const [query, setQuery] = useState({});\n  const [selected, setSelected] = useState({});\n  const [search, setSearch] = useState();\n  const [sortType, setSortType] = useState();\n  const { list } = useFindService({\n    // const { list, loading, errors } = useFindService({\n    model: lodashGet(field, \"model.service\"),\n    query: lodashGet(field, \"model.query\")\n  });\n  const [anchor, setAnchor] = useState(null);\n  const handleClick = e => setAnchor(e.currentTarget);\n  const handleClose = () => setAnchor(null);\n  const handleSearch = ({ target }) => {\n    setSearch(target.value);\n  };\n  const handleSelect = ({ id }) => () => {\n    setSelected(prev => {\n      if (prev[id]) {\n        delete prev[id];\n      } else {\n        prev[id] = true;\n      }\n      return prev;\n    });\n    handleClose();\n  };\n  const clearSelection = () => {\n    setSelected({});\n    setSearch();\n    setSortType();\n    handleClose();\n  };\n  const sortASC = () => {\n    setSortType(1);\n    handleClose();\n  };\n  const sortDESC = () => {\n    setSortType(-1);\n    handleClose();\n  };\n  const selectedString = JSON.stringify(selected);\n  const queryString = JSON.stringify(query);\n  useEffect(() => {\n    setFindQuery(prev => {\n      const newQuery = { ...prev, ...JSON.parse(queryString) };\n      const param = lodashGet(field, \"model.identity\") || lodashGet(field, \"identity\");\n      const values = Object.keys(JSON.parse(selectedString));\n      if (param && values.length) {\n        newQuery[param] = {\n          $in: values\n        };\n      } else {\n        delete newQuery[param];\n      }\n      return newQuery;\n    });\n  }, [selectedString, queryString, field, setFindQuery]);\n  useEffect(() => {\n    setFindQuery(prev => {\n      const newQuery = { ...prev, ...JSON.parse(queryString) };\n      const param = lodashGet(field, \"filter.identity\") || lodashGet(field, \"identity\");\n      if (param && search) {\n        newQuery[param] = {\n          $like: `%${search}%`\n        };\n      } else {\n        delete newQuery[param];\n      }\n      return newQuery;\n    });\n  }, [queryString, search, field, setFindQuery]);\n  useEffect(() => {\n    setFindQuery(prev => {\n      const newQuery = { ...prev, ...JSON.parse(queryString) };\n      const param = lodashGet(field, \"filter.identity\") || lodashGet(field, \"identity\");\n      if (param && sortType) {\n        newQuery[\"$sort\"] = {\n          [param]: sortType\n        };\n      } else if (param !== \"identity\" && param !== \"name\") {\n        delete newQuery[\"$sort\"][param];\n      }\n      return newQuery;\n    });\n  }, [queryString, sortType, field, setFindQuery]);\n  const modelCustomName = lodashGet(field, \"model.customName\");\n  return (\n    <React.Fragment>\n      <Button\n        aria-owns={anchor ? `filter-${field.text}` : undefined}\n        aria-haspopup=\"true\"\n        onClick={handleClick}\n      >\n        <Typography variant=\"body1\">{field.text}</Typography>\n        <Icon className={classes.icon}>arrow_drop_down</Icon>\n        {(Object.keys(selected).length > 0 || search || sortType) && (\n          <Icon className={classes.icon}>filter_list</Icon>\n        )}\n      </Button>\n      {(field.model || field.filter) && (\n        <Menu\n          className={classes.menu}\n          id={`filter-${field.text}`}\n          anchorEl={anchor}\n          open={!!anchor}\n          onClose={handleClose}\n        >\n          <MenuItem onClick={sortASC}>\n            {sortType === 1 && <Icon>done</Icon>}Ordenação ascendente\n          </MenuItem>\n          <MenuItem onClick={sortDESC}>\n            {sortType === -1 && <Icon>done</Icon>}Ordenação descendente\n          </MenuItem>\n          <MenuItem onClick={clearSelection}>Remover filtros</MenuItem>\n          {field.filter && (\n            <MenuItem>\n              <TextField\n                name={field.identity}\n                label={\"Pesquisa\"}\n                value={search}\n                onChange={handleSearch}\n              />\n            </MenuItem>\n          )}\n          {lodashMap(list, item => (\n            <MenuItem key={item.id} onClick={handleSelect({ id: item.id })}>\n              {selected[item.id] && <Icon>done</Icon>}\n              {!modelCustomName && item.name}\n              {modelCustomName && modelCustomName({ data: item })}\n            </MenuItem>\n          ))}\n        </Menu>\n      )}\n    </React.Fragment>\n  );\n};\n\nexport default withStyles(styles, { withTheme: true })(Filter);\n","import React from \"react\";\nimport { Hidden, TableCell, TableRow, Typography } from \"@material-ui/core\";\nimport { Link, withStyles, lodashGet, lodashMap, getPermissions, useAuth } from \"../../utils\";\nimport Button from \"../buttons\";\nimport Loader from \"../loader\";\n\nconst styles = theme => ({\n  row: {\n    \"&:nth-of-type(odd)\": {\n      backgroundColor: theme.palette.primary.table\n    }\n  },\n  actions: {\n    position: \"relative\",\n    justifyContent: \"center\",\n    display: \"flex\"\n  },\n  loader: {\n    height: \"100%\",\n    width: \"100%\",\n    background: \"rgba(255,255,255,.5)\",\n    zIndex: 1,\n    position: \"absolute\",\n    right: 0,\n    top: 0,\n    padding: \"0 8px\",\n    \"&>div\": {\n      position: \"relative\",\n      top: 25\n    }\n  }\n});\n\nconst MasterTableRow = ({\n  classes,\n  model,\n  fields,\n  data,\n  handleDelete,\n  loading,\n  options = {},\n  customContent = {},\n  customActions\n}) => {\n  const { permissions } = useAuth();\n  return (\n    <TableRow className={classes.row} key={data.id}>\n      {lodashMap(fields, ({ identity, hidden, hasIdentity, customData }) => (\n        <Hidden key={identity} only={hidden ? \"md\" : \"xs\"}>\n          <TableCell>\n            <Typography variant=\"body2\">\n              {customData && customData({ data })}\n              {!customData && (\n                <React.Fragment>\n                  {hasIdentity ? (data.identity ? `${data.identity} - ` : \"\") : \"\"}\n                  {lodashGet(data, identity)}\n                </React.Fragment>\n              )}\n            </Typography>\n          </TableCell>\n        </Hidden>\n      ))}\n      <TableCell>\n        <div className={classes.actions}>\n          {loading && (\n            <div className={classes.loader}>\n              <Loader />\n            </div>\n          )}\n          {!options.dontEdit && (!customContent.dontEdit || customContent.dontEdit({ data })) && (\n            <Button\n              type=\"icon\"\n              text=\"Editar\"\n              icon=\"edit_icon\"\n              variants=\"editAction\"\n              component={Link}\n              to={`${model.formPath}/${data.id}`}\n            />\n          )}\n          {getPermissions({ privileges: options.writePermissions, permissions }) &&\n            !options.dontDelete &&\n            (!customContent.dontDelete || customContent.dontDelete({ data })) && (\n              <Button\n                type=\"icon\"\n                text=\"Deletar\"\n                icon=\"delete\"\n                variants=\"deleteAction\"\n                onClick={handleDelete(data)}\n              />\n            )}\n          {customActions && customActions({ isList: true, data })}\n        </div>\n      </TableCell>\n    </TableRow>\n  );\n};\n\nexport default withStyles(styles, { withTheme: true })(MasterTableRow);\n","import React from \"react\";\nimport {\n  Hidden,\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableRow,\n  Typography\n} from \"@material-ui/core\";\nimport {\n  Link,\n  withStyles,\n  lodashMap,\n  getPermissions,\n  useAuth,\n  useFindDeleteService\n} from \"../../utils\";\nimport NotFound from \"../not-found\";\nimport Loader from \"../loader\";\nimport Errors from \"../errors\";\nimport Button from \"../buttons\";\nimport Filter from \"./Filter\";\nimport MasterTableRow from \"./TableRow\";\n\nconst styles = theme => ({\n  root: {\n    flex: 1,\n    overflow: \"hidden\"\n  },\n  scrollArea: {\n    height: \"100%\",\n    minHeight: \"300px\",\n    overflow: 'overlay'\n  },\n  container: {\n    flex: 1,\n    overflow: \"hidden\"\n  },\n  actions: {\n    justifyContent: \"center\",\n    display: \"flex\"\n  },\n  header: {\n    position: \"sticky\",\n    top: 0,\n    zIndex: 1,\n    backgroundColor: theme.palette.primary.main,\n    color: theme.palette.common.white,\n    padding: theme.spacing(1),\n    \"& p,& a span\": {\n      color: theme.palette.common.white,\n      textTransform: \"uppercase\"\n    }\n  }\n});\n\nconst MasterDataTable = ({\n  classes,\n  model,\n  fields,\n  query = {},\n  options = {},\n  customContent = {},\n  customActions\n}) => {\n  const { permissions } = useAuth();\n  const {\n    list,\n    setFindQuery,\n    handleDelete,\n    deleteRef,\n    deleteLoading,\n    findLoading,\n    errors\n  } = useFindDeleteService({ model: model.name, query });\n  const empty = !findLoading && !errors && list.length === 0;\n  return (\n    // TODO add pagination!!\n    <div className={classes.root}>\n      <div className={classes.scrollArea} style={{ width: \"none\" }}>\n        <Table className={classes.table}>\n          <TableHead>\n            <TableRow>\n              {lodashMap(fields, field => (\n                <Hidden key={field.identity} only={field.hidden ? \"md\" : \"xs\"}>\n                  <TableCell className={classes.header}>\n                    {!(field.customContent && field.customContent.dontFilter) && (\n                      <Filter field={field} query={query} setFindQuery={setFindQuery} />\n                    )}\n                    {field.customContent && field.customContent.dontFilter && !field.customText && (\n                      <Typography variant=\"body1\">{field.text}</Typography>\n                    )}\n                    {field.customContent &&\n                      field.customContent.dontFilter &&\n                      field.customText &&\n                      field.customText()}\n                  </TableCell>\n                </Hidden>\n              ))}\n              <TableCell className={classes.header}>\n                {!options.dontCreate &&\n                  getPermissions({ privileges: options.writePermissions, permissions }) && (\n                    <div className={classes.actions}>\n                      <Button\n                        text=\"Criar\"\n                        icon=\"add_icon\"\n                        variants=\"table\"\n                        component={Link}\n                        to={`${model.formPath}/new`}\n                      />\n                    </div>\n                  )}\n              </TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {(findLoading || errors || empty) && (\n              <TableRow className={classes.row}>\n                <TableCell colSpan={fields.length + 1}>\n                  {findLoading && <Loader />}\n                  {errors && <Errors errors={errors} />}\n                  {empty && <NotFound />}\n                </TableCell>\n              </TableRow>\n            )}\n            {!findLoading &&\n              lodashMap(list, item => (\n                <MasterTableRow\n                  key={item.id}\n                  model={model}\n                  fields={fields}\n                  data={item}\n                  loading={deleteRef[item.id] && deleteLoading}\n                  handleDelete={handleDelete}\n                  options={options}\n                  customContent={customContent}\n                  customActions={customActions}\n                />\n              ))}\n          </TableBody>\n        </Table>\n      </div>\n    </div>\n  );\n};\n\nexport default withStyles(styles, { withTheme: true })(MasterDataTable);\n","import React from \"react\";\nimport { Hidden } from \"@material-ui/core\";\nimport { withStyles } from \"../../utils\";\nimport Grid from \"./Grid\";\nimport Table from \"./Table\";\n\nconst styles = theme => ({});\n\nconst MasterDataList = ({\n  classes,\n  model,\n  fields,\n  query = {},\n  options = {},\n  customContent = {},\n  customActions\n}) => (\n  <React.Fragment>\n    <Hidden smDown>\n      <Table\n        model={model}\n        fields={fields}\n        query={query}\n        options={options}\n        customContent={customContent}\n        customActions={customActions}\n      />\n    </Hidden>\n    <Hidden mdUp>\n      <Grid\n        model={model}\n        fields={fields}\n        query={query}\n        options={options}\n        customContent={customContent}\n        customActions={customActions}\n      />\n    </Hidden>\n  </React.Fragment>\n);\n\nexport default withStyles(styles, { withTheme: true })(MasterDataList);\n","import React from \"react\";\nimport { withStyles } from \"../../utils\";\nimport BreadCrumbs from \"../breadcrumbs\";\nimport MasterDataList from \"../master-data-list\";\n\nconst styles = theme => ({});\n\nconst MasterDataListPage = withStyles(styles, { withTheme: true })(\n  ({\n    classes,\n    metadata,\n    list,\n    links,\n    query = {},\n    options = {},\n    customContent = {},\n    customActions\n  }) => (\n    <React.Fragment>\n      <BreadCrumbs links={links} />\n      <MasterDataList\n        model={metadata}\n        fields={list}\n        query={query}\n        options={options}\n        customContent={customContent}\n        customActions={customActions}\n      />\n    </React.Fragment>\n  )\n);\n\nconst withMasterDataListPage = ({\n  metadata,\n  list,\n  links,\n  query = {},\n  options = {},\n  customContent = {},\n  customActions\n}) => (\n  <MasterDataListPage\n    metadata={metadata}\n    list={list}\n    links={links}\n    query={query}\n    options={options}\n    customContent={customContent}\n    customActions={customActions}\n  />\n);\n\nexport default withMasterDataListPage;\n","import React from \"react\";\nimport { Grid } from \"@material-ui/core\";\nimport { Link, withRouter, withStyles, lodashMap, lodashFlattenDeep } from \"../../utils\";\nimport Button from \"../buttons\";\n\nconst styles = theme => ({\n  container: {\n    minHeight: 44,\n    marginBottom: theme.spacing(2)\n  }\n});\n\nconst Actions = ({\n  history,\n  classes,\n  model,\n  fields,\n  formItem,\n  handleSubmit,\n  handleDelete,\n  options = {},\n  customContent = {},\n  customActions\n}) => {\n  const handleCopy = () => {\n    const copyItem = { ...formItem };\n    delete copyItem.id;\n    delete copyItem.uuid;\n    localStorage.setItem(`copy-${model.name}`, JSON.stringify(copyItem));\n    lodashMap(lodashFlattenDeep(fields), field => {\n      if (field.defaultValue) {\n        window.localStorage.setItem(`dont-default${field.identity}`, true);\n      }\n    });\n    history.push(`${model.formPath}/new`);\n  };\n  return (\n    <Grid\n      item\n      container\n      spacing={1}\n      direction=\"row\"\n      justify=\"flex-start\"\n      alignItems=\"center\"\n      className={classes.container}\n    >\n      {!options.dontSave &&\n        (!customContent.dontEdit || customContent.dontEdit({ data: formItem })) && (\n          <Grid item>\n            <Button\n              type=\"submit\"\n              text=\"Gravar\"\n              icon=\"save\"\n              variants=\"submit\"\n              onClick={handleSubmit}\n            />\n          </Grid>\n        )}\n      {formItem.id &&\n        !options.dontDelete &&\n        (!customContent.dontDelete || customContent.dontDelete({ data: formItem })) && (\n          <Grid item>\n            <Button\n              text=\"Deletar\"\n              icon=\"delete\"\n              variants=\"delete\"\n              onClick={handleDelete(formItem)}\n            />\n          </Grid>\n        )}\n      {formItem.id && !options.dontCreate && (\n        <Grid item>\n          <Button text=\"Criar Novo\" icon=\"add\" component={Link} to={`${model.formPath}/new`} />\n        </Grid>\n      )}\n      {formItem.id && !options.dontCreate && !options.dontCopy && (\n        <Grid item>\n          <Button text=\"Criar como Copia\" icon=\"file_copy\" onClick={handleCopy} />\n        </Grid>\n      )}\n      {customActions && customActions({ isForm: true, data: formItem })}\n    </Grid>\n  );\n};\n\nexport default withRouter(withStyles(styles, { withTheme: true })(Actions));\n","import { useContext, useEffect } from \"react\";\nimport ApiContext from \"../../api\";\nimport { lodashGet, lodashForEach, lodashIsNil, getConfigs } from \"../../utils\";\n\nconst useDEFAULT = ({ field, formItem, value, loading, handleChange = () => {} }) => {\n  const client = useContext(ApiContext);\n  useEffect(() => {\n    // console.log(\"!! effect POPULATE\");\n    if (field.populate) {\n      let populate = field.populate;\n      if (!Array.isArray(populate)) {\n        populate = [populate];\n      }\n      if (value) {\n        lodashForEach(populate, key => {\n          if (formItem[key] !== value) {\n            // console.log(\"effect populate\", field, formItem);\n            handleChange({ target: { name: key, value } });\n          }\n        });\n      }\n    }\n    // TODO don't depend on the whole formItem somehow\n  }, [field, formItem, handleChange, value]);\n  // TODO handleChange calling too many times, and maybe value too\n  // useEffect(() => {\n  //   console.log(\"!! effect populate handleChange\", handleChange);\n  // }, [handleChange]);\n  useEffect(() => {\n    // console.log(\"!!! effect DEFAULT\");\n    let continueOperation = true;\n    const setConfigValue = async ({ config }) => {\n      await getConfigs({ client });\n      const configValue = lodashGet(client.get(`config.${config}`), \"value\");\n      if (configValue) {\n        handleChange({\n          target: { name: field.identity, value: configValue }\n        });\n      }\n    };\n    // TODO set DIRTY logic to set default value, is overwriting\n    // TODO 0 value must be allowed, only nil\n    if (!formItem[field.identity]) {\n      // TODO populate if value on formItem, use upsertLoading flag?\n      if (field.populate) {\n        // console.log(\"effect default value POPULATE\");\n        let populate = field.populate;\n        if (!Array.isArray(populate)) {\n          populate = [populate];\n        }\n        let populatedValue = false;\n        lodashForEach(populate, key => {\n          // TODO 0 value must be allowed, only nil\n          if (!populatedValue && formItem[key]) {\n            handleChange({\n              target: { name: field.identity, value: formItem[key] }\n            });\n            populatedValue = true;\n          }\n        });\n        if (populatedValue) {\n          continueOperation = false;\n        }\n      }\n      // TODO 0 value must be allowed, only nil\n      if (continueOperation && !lodashIsNil(loading) && !loading && field.defaultValue) {\n        if (window.localStorage.getItem(`dont-default${field.identity}`)) {\n          window.localStorage.removeItem(`dont-default${field.identity}`);\n        } else {\n          // console.log(\"!!! effect default value default\", field.defaultValue);\n          let defaultValue = field.defaultValue;\n          const defaultConfig = lodashGet(defaultValue, \"config\");\n          const defaultThis = lodashGet(defaultValue, \"this\");\n          const defaultCustomValue = lodashGet(defaultValue, \"customValue\");\n          if (defaultConfig) {\n            setConfigValue({ config: defaultConfig });\n          } else if (defaultThis) {\n            handleChange({\n              target: {\n                name: field.identity,\n                value: lodashGet(formItem, defaultThis)\n              }\n            });\n          } else if (defaultCustomValue) {\n            defaultCustomValue({ data: formItem, field, client, handleChange });\n          } else if (defaultValue) {\n            handleChange({\n              target: { name: field.identity, value: defaultValue }\n            });\n          }\n        }\n      }\n      // if (field.type === \"date\" || field.type === \"datetime\") {\n      //   // console.log(\"effect default value date\");\n      //   return setTimeout(\n      //     () =>\n      //       handleChange({\n      //         target: { name: field.identity, value: new Date().toISOString() }\n      //       }),\n      //     0\n      //   );\n      // }\n    }\n  }, [client, field, handleChange, formItem, loading]);\n};\n\nexport default useDEFAULT;\n","import React, { useRef, useState, useEffect } from \"react\";\nimport Downshift from \"downshift\";\nimport { TextField, Popper, Paper, MenuItem, Avatar, Icon, Typography } from \"@material-ui/core\";\nimport {\n  withStyles,\n  lodashGet,\n  lodashMap,\n  lodashDeburr,\n  lodashDebounce,\n  lodashToLower,\n  lodashTrim,\n  useGetService,\n  useFindService\n} from \"../../utils\";\nimport NotFound from \"../not-found\";\nimport Loader from \"../loader\";\nimport Button from \"../buttons\";\n// TODO make this work\n// import FormMenu from \"./FormMenu\";\n\nconst styles = theme => ({\n  popper: {\n    zIndex: 10,\n    minWidth: 300\n  },\n  wrapper: {\n    position: \"relative\"\n  },\n  menu: {\n    marginTop: theme.spacing(1),\n    minWidth: 300,\n    maxHeight: 300,\n    overflowY: \"auto\"\n  },\n  avatar: {\n    width: theme.spacing(4),\n    height: theme.spacing(4),\n    marginRight: theme.spacing(1),\n    color: theme.palette.primary.main\n  }\n});\n\nconst AutoComplete = ({\n  classes,\n  field,\n  formItem,\n  query = {},\n  value,\n  handleChange,\n  TextFieldProps = {},\n  InputProps = {}\n}) => {\n  // TODO abstrac to a hook shared with checklist\n  let hasIdentity = lodashGet(field, \"model.hasIdentity\");\n  let queryField = lodashGet(field, \"model.customContent.queryField\");\n  let modelCustomName = lodashGet(field, \"model.customName\");\n  const sortQuery = {};\n  if (hasIdentity) {\n    sortQuery.identity = 1;\n  } else if (queryField) {\n    sortQuery[queryField] = 1;\n  } else {\n    sortQuery.name = 1;\n  }\n  // let findQuery = { ...query, $limit: 5, $sort: { ...sortQuery } };\n  let findQuery = { ...query, $sort: { ...sortQuery } };\n  let findModel = field.model || \"\";\n  const modelThis = lodashGet(field, \"model.this\");\n  if (modelThis) {\n    findModel = lodashGet(formItem, modelThis);\n  }\n  const modelService = lodashGet(field, \"model.service\");\n  const modelQuery = lodashGet(field, \"model.query\");\n  let useCustomQuery = () => {};\n  if (modelService) {\n    if (modelQuery) {\n      findQuery = { ...findQuery, ...modelQuery };\n    }\n    useCustomQuery = lodashGet(field, \"model.useCustomQuery\") || useCustomQuery;\n    findModel = modelService;\n  }\n  // console.log(\"!!!useCustomQuery\", useCustomQuery({ data: formItem }));\n  findQuery = { ...findQuery, ...useCustomQuery({ data: formItem }) };\n  const { list, loading, errors, setModel: setFindModel, setQuery } = useFindService({\n    model: findModel,\n    query: findQuery\n  });\n  const { item, loading: getLoading, setModel: setGetModel } = useGetService({\n    model: findModel,\n    id: value\n  });\n  // TODO verify invocation of effects, reduce the ones not needed\n  useEffect(() => {\n    // console.log(\">>> effect findModel\", field.identity, findModel);\n    setFindModel(findModel);\n    setGetModel(findModel);\n  }, [setFindModel, setGetModel, findModel]);\n  // TODO really a need for this stringify?\n  const stringFindQuery = JSON.stringify(findQuery);\n  useEffect(() => {\n    // console.log(\">>> effect findQuery\", field.identity, findQuery);\n    setQuery(JSON.parse(stringFindQuery));\n  }, [setQuery, stringFindQuery]);\n  const [options, setOptions] = useState([]);\n\n  useEffect(() => {\n    // TODO test this effect more\n    // console.log(\">>> effect findList\", list, field.identity);\n    if (findModel) {\n      setOptions(list);\n    }\n  }, [findModel, list]);\n  useEffect(() => {\n    // console.log(\">>> effect field.enum\", field.enum);\n    if (field.enum) {\n      setOptions(lodashMap(field.enum, value => ({ id: value, name: value })));\n    }\n  }, [field.enum]);\n  // TODO support custom fields for search\n  const updateQuery = lodashDebounce(({ value }) => {\n    const inputValue = lodashToLower(lodashDeburr(lodashTrim(value)));\n    let query = {};\n    if (hasIdentity) {\n      query.$or = [\n        {\n          identity: {\n            $like: `%${inputValue}%`\n          }\n        },\n        {\n          name: {\n            $like: `%${inputValue}%`\n          }\n        }\n      ];\n    } else if (queryField) {\n      query[queryField] = {\n        $like: `%${inputValue}%`\n      };\n      if (modelQuery && modelQuery[queryField]) {\n        query[queryField] = { ...query[queryField], ...modelQuery[queryField] };\n      }\n    } else {\n      query.name = {\n        $like: `%${inputValue}%`\n      };\n      if (modelQuery && modelQuery.name) {\n        query.name = { ...query.name, ...modelQuery.name };\n      }\n    }\n    setQuery(prev => ({\n      ...prev,\n      ...query\n    }));\n  }, 300);\n  const handleMenuChange = selectedItem => {\n    // console.log(\"!!!handleMenuChange\", selectedItem, item);\n    const selectedValue = lodashGet(selectedItem, \"id\") || null;\n    if (`${lodashGet(item, \"id\")}` !== `${selectedValue}`) {\n      handleChange({\n        target: {\n          name: field.identity,\n          value: selectedValue\n        },\n        field\n      });\n    }\n    if (selectedValue) {\n      handleBlur();\n    }\n  };\n  const handleSearch = inputValue => updateQuery({ value: inputValue });\n  // TODO support custom string value\n  const getStringValue = item =>\n    modelCustomName\n      ? modelCustomName({ data: item })\n      : `${lodashGet(item, \"identity\") ? `${lodashGet(item, \"identity\")} - ` : \"\"}${lodashGet(\n          item,\n          \"name\"\n        ) || \"\"}`;\n  const empty = (!loading && options.length === 0) || (!field.enum && errors);\n  const DownshiftRef = useRef(null);\n  const PopperRef = useRef(null);\n  useEffect(() => {\n    // console.log(\"!! effect AutoComplete item\", item, field.identity);\n    if (getLoading || field.enum) {\n      return;\n    }\n    // console.log(\"effectItem\", lodashGet(item, \"id\"), value, formItem[field.identity]);\n    if (lodashGet(item, \"id\") && DownshiftRef.current) {\n      DownshiftRef.current.selectItem(item);\n    } else {\n      DownshiftRef.current.selectItem(null);\n    }\n  }, [item, getLoading, field.enum]);\n  const enumValue = lodashGet(formItem, field.identity);\n  useEffect(() => {\n    // console.log(\"!!!!effect enumValue\", field.enum, enumValue, DownshiftRef.current);\n    if (field.enum && enumValue && DownshiftRef.current) {\n      DownshiftRef.current.selectItem({\n        id: enumValue,\n        name: enumValue,\n        value: enumValue\n      });\n    }\n  }, [enumValue, field.enum]);\n  const [focused, setFocused] = useState();\n  const handleFocus = e => {\n    e.target.select();\n    setFocused(true);\n  };\n  const handleBlur = () => setFocused(false);\n  const handleClear = () => {\n    window.localStorage.setItem(`dont-default${field.identity}`, true);\n    DownshiftRef.current.selectItem(null);\n  };\n  return (\n    <React.Fragment>\n      <Downshift\n        ref={ref => (DownshiftRef.current = ref)}\n        onChange={handleMenuChange}\n        onInputValueChange={handleSearch}\n        itemToString={getStringValue}\n      >\n        {({ getInputProps, getItemProps, getMenuProps, isOpen, inputValue }) => (\n          <div className={classes.wrapper}>\n            <TextField\n              InputProps={{\n                inputRef: ref => (PopperRef.current = ref),\n                ...InputProps,\n                ...getInputProps(),\n                onFocus: handleFocus,\n                onBlur: handleBlur\n              }}\n              {...TextFieldProps}\n            />\n            {!TextFieldProps.disabled && !InputProps.readOnly && value && (\n              <Button\n                type=\"icon\"\n                text=\"Deletar\"\n                icon=\"close\"\n                variants=\"deleteAction clearAction\"\n                onClick={handleClear}\n              />\n            )}\n            <Popper\n              open={focused || isOpen}\n              anchorEl={PopperRef.current}\n              className={classes.popper}\n            >\n              <Paper\n                square\n                style={{\n                  width: PopperRef.current ? PopperRef.current.clientWidth : null\n                }}\n                className={classes.menu}\n              >\n                {empty && (\n                  <MenuItem disabled>\n                    <NotFound />\n                  </MenuItem>\n                )}\n                {!empty &&\n                  (!!inputValue || !loading) &&\n                  lodashMap(options, item => (\n                    <MenuItem\n                      {...getItemProps({ item })}\n                      key={item.id}\n                      value={item.id}\n                      selected={value === item.id}\n                    >\n                      {/** TODO support custom select render */}\n                      {item.image && (\n                        <Avatar alt={item.name} src={item.image} className={classes.avatar} />\n                      )}\n                      {!item.image && field.icon && field.icon.type === \"svg\" && (\n                        <img className={classes.avatar} alt=\"icon\" src={field.icon.src} />\n                      )}\n                      {!item.image && field.icon && !field.icon.type && (\n                        <Icon className={classes.avatar}>{field.icon}</Icon>\n                      )}\n                      {!modelCustomName && (\n                        <Typography variant=\"body1\">\n                          {item.identity ? `${item.identity} - ` : \"\"}\n                          {item.name}\n                        </Typography>\n                      )}\n                      {modelCustomName && (\n                        <Typography variant=\"body1\">{modelCustomName({ data: item })}</Typography>\n                      )}\n                    </MenuItem>\n                  ))}\n              </Paper>\n            </Popper>\n          </div>\n        )}\n      </Downshift>\n      {field.loading && <Loader />}\n    </React.Fragment>\n  );\n};\n\nexport default withStyles(styles, { withTheme: true })(AutoComplete);\n","import React from \"react\";\nimport NumberFormat from \"react-number-format\";\n\nconst IntegerInput = ({ inputRef, onChange, name, value, ...other }) => {\n  return (\n    <NumberFormat\n      {...other}\n      allowEmptyFormatting\n      thousandSeparator={\".\"}\n      decimalSeparator={\",\"}\n      decimalScale={0}\n      type=\"text\"\n      value={value}\n      onValueChange={({ floatValue }) => {\n        if (parseFloat(value) !== floatValue) {\n          onChange({\n            target: {\n              name,\n              value: floatValue || 0\n            }\n          });\n        }\n      }}\n      getInputRef={inputRef}\n    />\n  );\n};\n\nexport default IntegerInput;\n","import React, { useState, useEffect } from \"react\";\nimport { List, ListItem, Checkbox, FormControlLabel, Typography } from \"@material-ui/core\";\nimport {\n  withStyles,\n  classNames,\n  lodashGet,\n  lodashMap,\n  lodashFind,\n  lodashFindIndex,\n  useFindService\n} from \"../../utils\";\nimport NotFound from \"../not-found\";\n\nconst styles = theme => ({\n  wrapper: {\n    position: \"relative\"\n  },\n  option: { padding: `0 ${theme.spacing(2)}px` },\n  textField: {\n    margin: 0,\n    minWidth: 250,\n    backgroundColor: theme.palette.common.white,\n    '& input,& div[aria-haspopup=\"true\"]': {\n      padding: `${theme.spacing(1)}px ${theme.spacing(2)}px`\n    },\n    '& label[data-shrink=\"false\"]': {\n      top: -12\n    },\n    [theme.breakpoints.down(\"md\")]: {\n      minWidth: 200\n    },\n    [theme.breakpoints.down(\"xs\")]: {\n      minWidth: 170\n    }\n  },\n  checkbox: {\n    padding: theme.spacing(1),\n    minWidth: \"unset\"\n  },\n  label: {\n    margin: 0\n  },\n  error: {\n    color: \"#f44336\",\n    margin: 0,\n    fontSize: \"0.75rem\",\n    // textAlign: \"left\",\n    marginTop: theme.spacing(1)\n  }\n});\n\nconst CheckList = ({ classes, field, formItem, formErrors, query = {}, handleChange }) => {\n  // TODO abstrac to a hook shared with checklist\n  let hasIdentity = lodashGet(field, \"model.hasIdentity\");\n  let queryField = lodashGet(field, \"model.customContent.queryField\");\n  const sortQuery = {};\n  if (hasIdentity) {\n    sortQuery.identity = 1;\n  } else if (queryField) {\n    sortQuery[queryField] = 1;\n  } else {\n    sortQuery.name = 1;\n  }\n  // let findQuery = { ...query, $limit: 5, $sort: { ...sortQuery } };\n  let findQuery = { ...query, $sort: { ...sortQuery } };\n  let findModel = field.model || \"\";\n  const modelThis = lodashGet(field, \"model.this\");\n  if (modelThis) {\n    findModel = lodashGet(formItem, modelThis);\n  }\n  const modelService = lodashGet(field, \"model.service\");\n  const modelQuery = lodashGet(field, \"model.query\");\n  let useCustomQuery = () => {};\n  if (modelService) {\n    if (modelQuery) {\n      findQuery = { ...findQuery, ...modelQuery };\n    }\n    useCustomQuery = lodashGet(field, \"model.useCustomQuery\") || useCustomQuery;\n    findModel = modelService;\n  }\n  // console.log(\"!!!useCustomQuery\", useCustomQuery({ data: formItem }));\n  findQuery = { ...findQuery, ...useCustomQuery({ data: formItem }) };\n  const { list, loading, errors, setModel: setFindModel, setQuery } = useFindService({\n    model: findModel,\n    query: findQuery\n  });\n  // TODO verify invocation of effects, reduce the ones not needed\n  useEffect(() => {\n    // console.log(\">>> effect findModel\", field.identity, findModel);\n    setFindModel(findModel);\n  }, [findModel, setFindModel]);\n  const stringQuery = JSON.stringify(findQuery);\n  useEffect(() => {\n    // console.log(\">>> effect findQuery\", field.identity, findQuery);\n    setQuery(JSON.parse(stringQuery));\n  }, [stringQuery, setQuery]);\n  const [options, setOptions] = useState([]);\n  useEffect(() => {\n    // console.log(\">>> effect findList\", list);\n    if (findModel) {\n      setOptions(list);\n    }\n  }, [list, findModel]);\n  const spliceAndPush = async ({\n    arraySplice,\n    identitySplice,\n    arrayPush,\n    identityPush,\n    field,\n    id\n  }) => {\n    const index = lodashFindIndex(arraySplice, { id });\n    if (index !== -1) {\n      arraySplice.splice(index, 1);\n      await handleChange({\n        target: {\n          name: identitySplice,\n          value: arraySplice\n        },\n        field\n      });\n    }\n    arrayPush.push({ id });\n    return handleChange({\n      target: {\n        name: identityPush,\n        value: arrayPush\n      },\n      field\n    });\n  };\n  const handleOptionChange = ({ id }) => async data => {\n    const checked = lodashGet(data, \"target.checked\");\n    const fieldValue = lodashGet(formItem, field.identity) || [];\n    const fieldDeleteValue = lodashGet(formItem, `${field.identity}:delete`) || [];\n    if (checked) {\n      await spliceAndPush({\n        arraySplice: fieldDeleteValue,\n        identitySplice: `${field.identity}:delete`,\n        arrayPush: fieldValue,\n        identityPush: field.identity,\n        identity: field.identity,\n        field,\n        id\n      });\n    } else {\n      await spliceAndPush({\n        arraySplice: fieldValue,\n        identitySplice: field.identity,\n        arrayPush: fieldDeleteValue,\n        identityPush: `${field.identity}:delete`,\n        field,\n        id\n      });\n    }\n  };\n  const empty = (!loading && options.length === 0) || (!field.enum && errors);\n  const error = lodashGet(formErrors, field.identity);\n  const customOptionContent = lodashGet(field, \"customContent.customOptionContent\");\n  return (\n    <div className={classes.wrapper}>\n      <Typography variant=\"body1\">{field.text}</Typography>\n      {!!error && (\n        <Typography className={classes.error} variant=\"body1\">\n          {typeof error === \"string\" ? error : \"Campo obrigatório.\"}\n        </Typography>\n      )}\n      <List className={classes.options}>\n        {empty && (\n          <ListItem disabled>\n            <NotFound />\n          </ListItem>\n        )}\n        {!empty &&\n          !loading &&\n          lodashMap(options, item => (\n            <ListItem className={classes.option} button key={item.id}>\n              <FormControlLabel\n                className={classes.label}\n                control={\n                  <Checkbox\n                    className={classNames(classes.textfield, classes.checkbox)}\n                    checked={!!lodashFind(lodashGet(formItem, field.identity), { id: item.id })}\n                    name={field.identity}\n                    onChange={handleOptionChange({ id: item.id })}\n                    color=\"primary\"\n                  />\n                }\n                label={item.name}\n              />\n              {customOptionContent && customOptionContent({ option: item, field, data: formItem })}\n            </ListItem>\n          ))}\n      </List>\n    </div>\n  );\n};\n\nexport default withStyles(styles, { withTheme: true })(CheckList);\n","import React, { useRef, useState, useEffect } from \"react\";\nimport {\n  TextField,\n  FormControlLabel,\n  Checkbox,\n  Typography,\n  InputBase\n} from \"@material-ui/core\";\nimport { DatePicker, DateTimePicker, TimePicker } from \"@material-ui/pickers\";\nimport {\n  withStyles,\n  classNames,\n  lodashGet,\n  lodashMap,\n  lodashSplit,\n  lodashIsNil,\n  lodashToLower\n} from \"../../utils\";\nimport useDEFAULT from \"./useDEFAULT\";\nimport AutoComplete from \"./AutoComplete\";\nimport IntegerInput from \"./IntegerInput\";\nimport CheckList from \"./CheckList\";\nimport { EditorState, convertToRaw, ContentState } from \"draft-js\";\nimport { Editor } from \"react-draft-wysiwyg\";\nimport draftToHtml from \"draftjs-to-html\";\nimport htmlToDraft from \"html-to-draftjs\";\nimport \"../../../node_modules/react-draft-wysiwyg/dist/react-draft-wysiwyg.css\";\n\nconst styles = theme => ({\n  textField: {\n    margin: 0,\n    minWidth: 250,\n    //backgroundColor: theme.palette.common.white,\n    '& input,& div[aria-haspopup=\"true\"]': {\n      padding: `${theme.spacing(1)}px ${theme.spacing(2)}px`\n    },\n    '& label[data-shrink=\"false\"]': {\n      top: -12\n    },\n    [theme.breakpoints.down(\"md\")]: {\n      minWidth: 200\n    },\n    [theme.breakpoints.down(\"xs\")]: {\n      minWidth: 170\n    }\n  },\n  inputBootstrap: {\n    borderRadius: 4,\n    position: \"relative\",\n    backgroundColor: theme.palette.common.white,\n    border: \"1px solid #ced4da\",\n    fontSize: 14,\n    width: \"auto\",\n    \"& div\": {\n      padding: \"0 !important\"\n    },\n    \"& ::before\": {\n      display: \"none\"\n    },\n    \"& ::after\": {\n      display: \"none\"\n    }\n  },\n  checkboxLabel: {\n    marginLeft: `-${theme.spacing(1)}px`\n  },\n  checkbox: {\n    padding: theme.spacing(1),\n    minWidth: \"unset\"\n  },\n  editor: {\n    backgroundColor: theme.palette.common.white\n  },\n  readOnly: {\n    backgroundColor: theme.palette.primary.form,\n    pointerEvents: \"none\"\n  },\n  disabled: {\n    backgroundColor: theme.palette.primary.form,\n    pointerEvents: \"none\"\n  },\n  fullWidth: {\n    width: \"100%\",\n    minWidth: \"100%\"\n  },\n  short: {\n    width: 80,\n    minWidth: \"unset\"\n  },\n  setup: {\n    width: 225,\n    minWidth: \"unset\",\n    [theme.breakpoints.down(\"md\")]: {\n      width: 150\n    }\n  },\n  wiki: {\n    background: \"none\",\n    \"& label, & :before\": {\n      display: \"none\"\n    },\n    \"& > div\": {\n      margin: 0\n    },\n    \"& input\": {\n      padding: 0\n    }\n  },\n  display: {\n    width: \"100%\",\n    // background: \"none\",\n    \"& fieldset\": {\n      border: \"none\"\n    }\n  },\n  error: {\n    color: \"#f44336\",\n    margin: 0,\n    fontSize: \"0.75rem\",\n    // textAlign: \"left\",\n    marginTop: theme.spacing(1)\n  },\n  contact: {\n    backgroundColor: \"transparent !important\"\n  }\n});\n\nconst getInputType = ({ type }) => {\n  switch (type) {\n    case \"integer\":\n    case \"decimal\":\n    case \"year\":\n      return \"number\";\n    case \"date\":\n    case \"datetime\":\n    case \"string\":\n    default:\n      return \"text\";\n  }\n};\n\nconst getInputValue = ({ formItem, field }) => {\n  let value = lodashGet(formItem, field.identity);\n  value = !lodashIsNil(value) ? value : \"\";\n  switch (field.type) {\n    case \"date\":\n    case \"datetime\":\n    case \"time\":\n      return new Date(value || Date.now());\n    default:\n      return value;\n  }\n};\n\nconst getInputComponent = ({ field }) => {\n  switch (field.type) {\n    case \"date\":\n      return DatePicker;\n    case \"datetime\":\n      return DateTimePicker;\n    case \"time\":\n      return TimePicker;\n    default:\n      return TextField;\n  }\n};\n\nconst getInputFormat = ({ field }) => {\n  switch (field.type) {\n    case \"date\":\n      return \"DD/MM/YYYY\";\n    case \"datetime\":\n      return \"DD/MM/YYYY HH:mm\";\n    case \"time\":\n      return \"HH:mm\";\n    default:\n      return \"\";\n  }\n};\n\nconst FormInput = ({\n  classes,\n  field,\n  formItem,\n  formErrors,\n  loading,\n  query = {},\n  options = {},\n  handleChange = () => { }\n}) => {\n  const inputRef = useRef();\n  const type = getInputType(field);\n  const value = getInputValue({ formItem, field });\n  // TODO requiredIf\n  const required =\n    typeof field.required === \"boolean\"\n      ? field.required\n      : !!lodashGet(formItem, field.required);\n  const InputProps = {};\n  if (field.type === \"integer\") {\n    InputProps.inputComponent = IntegerInput;\n  }\n  if (field.autoFocus) {\n    InputProps.autoFocus = true;\n  }\n  const disabled = !lodashIsNil(field.disabled)\n    ? field.disabled\n    : !lodashIsNil(options.disabled)\n      ? options.disabled\n      : false;\n  const readOnlyIfThis = lodashGet(field, \"readOnly.ifThis\");\n  const readOnlyUntil = lodashGet(field, \"readOnly.until\");\n  const readOnlyCustomIf = lodashGet(field, \"readOnly.customIf\");\n  const variantsCustomIf = lodashGet(field, \"variants.useVariantIf\");\n  let useCustomIf = () => { };\n  let useVariantIf = () => { };\n  useCustomIf = lodashGet(field, \"readOnly.useCustomIf\") || useCustomIf;\n  useVariantIf = lodashGet(field, \"variants.useVariantIf\") || useVariantIf;\n  const customIfValue = useCustomIf({ data: formItem });\n  const variantIfValue = useVariantIf({ data: formItem })\n  let readOnlyValue = !lodashIsNil(customIfValue)\n    ? customIfValue\n    : !lodashIsNil(field.readOnly)\n      ? field.readOnly\n      : !lodashIsNil(options.readOnly)\n        ? options.readOnly\n        : false;\n  let variantsValue = !lodashIsNil(variantIfValue)\n    ? variantIfValue\n    : !lodashIsNil(field.variants)\n      ? field.variants\n      : false;\n  if (readOnlyUntil) {\n    readOnlyValue = !lodashGet(formItem, readOnlyUntil);\n  }\n  if (readOnlyIfThis) {\n    readOnlyValue = !!lodashGet(formItem, readOnlyIfThis);\n  }\n  if (readOnlyCustomIf) {\n    readOnlyValue = readOnlyCustomIf({ data: formItem });\n  }\n  if (variantsCustomIf) {\n    variantsValue = variantsCustomIf({ data: formItem })\n  }\n  const [readOnly, setReadOnly] = useState(readOnlyValue);\n  const [variants, setVariants] = useState(variantsValue);\n  useEffect(() => {\n    // console.log(\"!!!readOnly\", readOnlyValue);\n    setReadOnly(readOnlyValue);\n  }, [readOnlyValue]);\n  useEffect(() => {\n    // console.log('!!!variants', variantsValue)\n    setVariants(variantsValue);\n  }, [variantsValue])\n  if (readOnly) {\n    InputProps.readOnly = true;\n  }\n  useEffect(() => {\n    if (field.max && inputRef.current) {\n      inputRef.current.maxLength = field.max;\n    }\n  }, [field.max]);\n  useEffect(() => {\n    if (!lodashIsNil(field.maxValue) && inputRef.current) {\n      inputRef.current.max = field.maxValue;\n    }\n  }, [field.maxValue]);\n  useEffect(() => {\n    if (!lodashIsNil(field.minValue) && inputRef.current) {\n      inputRef.current.min = field.minValue;\n    }\n  }, [field.minValue]);\n  useDEFAULT({ field, formItem, value, loading, handleChange });\n  const Component = getInputComponent({ field });\n  const format = getInputFormat({ field });\n  const handleInputChange = data => {\n    if (field.type === \"boolean\") {\n      return handleChange({\n        target: {\n          name: field.identity,\n          value: lodashGet(data, \"target.checked\")\n        },\n        field\n      });\n    }\n    if (data.target) {\n      return handleChange({ target: data.target, field });\n    }\n    return handleChange({\n      target: { name: field.identity, value: data.toISOString() },\n      field\n    });\n  };\n  const error = lodashGet(formErrors, field.identity);\n  const [editorState, setEditorState] = useState(EditorState.createEmpty());\n  useEffect(() => {\n    if (field.type === \"content\") {\n      const contentBlock = htmlToDraft(value);\n      const contentState = ContentState.createFromBlockArray(\n        contentBlock.contentBlocks\n      );\n      if (\n        lodashToLower(\n          draftToHtml(convertToRaw(editorState.getCurrentContent()))\n        ) !== lodashToLower(value)\n      ) {\n        // console.log(\n        //   \"!!!effect editorState\",\n        //   value,\n        //   draftToHtml(convertToRaw(editorState.getCurrentContent()))\n        // );\n        setEditorState(EditorState.createWithContent(contentState));\n      }\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [value]);\n  const TextFieldProps = {\n    error: !!error,\n    helperText: !!error\n      ? typeof error === \"string\"\n        ? error\n        : \"Campo obrigatório.\"\n      : \"\",\n    disabled: !!disabled,\n    required: required,\n    name: field.identity,\n    label: field.text,\n    margin: \"normal\",\n    // variant: \"outlined\",\n    className: classNames(\n      classes.textField,\n      {\n        [classes.readOnly]: readOnly,\n        [classes.disabled]: disabled\n      },\n      lodashMap(lodashSplit(variants, \" \"), key => classes[key]),\n      lodashMap(lodashSplit(field.variants, \" \"), key => classes[key])\n    )\n  };\n  if (field.type === \"time\") {\n    TextFieldProps.ampm = false;\n    TextFieldProps.disableOpenOnEnter = true;\n    TextFieldProps.keyboard = true;\n  }\n  if (field.type === \"checklist\") {\n    return (\n      <CheckList\n        field={field}\n        query={query}\n        formItem={formItem}\n        formErrors={formErrors}\n        handleChange={handleChange}\n      />\n    );\n  }\n  if (!!field.model || !!field.enum) {\n    // TODO dont sent formItem nor handleChange, use dispatch\n    return (\n      <AutoComplete\n        field={field}\n        query={query}\n        formItem={formItem}\n        value={value}\n        handleChange={handleChange}\n        TextFieldProps={TextFieldProps}\n        InputProps={InputProps}\n      />\n    );\n  }\n  if (field.type === \"content\") {\n    return (\n      <div className={classNames({ [classes.editor]: !readOnly })}>\n        {!!error && (\n          <Typography className={classes.error} variant=\"body1\">\n            {typeof error === \"string\" ? error : \"Campo obrigatório.\"}\n          </Typography>\n        )}\n        <Editor\n          readOnly={readOnly}\n          toolbarHidden={readOnly}\n          editorState={editorState}\n          wrapperClassName=\"demo-wrapper\"\n          editorClassName=\"demo-editor\"\n          onEditorStateChange={editorState => {\n            setEditorState(editorState);\n            handleChange({\n              target: {\n                name: field.identity,\n                value: editorState\n                  ? draftToHtml(convertToRaw(editorState.getCurrentContent()))\n                  : \"\"\n              },\n              field\n            });\n          }}\n        />\n      </div>\n    );\n  }\n  if (field.type === \"boolean\") {\n    return (\n      <FormControlLabel\n        className={classes.checkboxLabel}\n        control={\n          <Checkbox\n            className={classNames(classes.textfield, classes.checkbox)}\n            checked={!!lodashGet(formItem, field.identity)}\n            name={field.identity}\n            onChange={handleInputChange}\n            disabled={readOnly}\n            color=\"primary\"\n          />\n        }\n        label={field.text}\n      />\n    );\n  }\n  return (\n    <Component\n      // defaultValue=\"\"\n      // placeholder=\"\"\n      // fullWidth\n      format={format}\n      type={type}\n      value={value}\n      checked={value}\n      onChange={handleInputChange}\n      InputProps={InputProps}\n      inputRef={ref => (inputRef.current = ref)}\n      multiline={field.type === \"longtext\"}\n      {...TextFieldProps}\n    />\n  );\n};\n\nexport default withStyles(styles, { withTheme: true })(FormInput);\n","import React, { useState, useEffect } from \"react\";\nimport { Grid } from \"@material-ui/core\";\nimport {\n  withStyles,\n  classNames,\n  lodashGet,\n  lodashMap,\n  lodashIsNil,\n  lodashSplit\n} from \"../../utils\";\nimport FormInput from \"./FormInput\";\n\nconst styles = theme => ({\n  nested: {\n    width: \"auto\",\n    alignItems: \"center\",\n    flexWrap: \"nowrap\"\n  },\n  fullWidth: {\n    width: \"100%\"\n  },\n  inputBootstrap: {\n    width: \"auto\",\n    alignItems: \"center\",\n    flexWrap: \"nowrap\",\n    \"& div:first-child\": {\n      flexDirection: \"column\",\n    },\n    \"& div:last-child\": {\n      height: \"100% !important\",\n      \"& div, & textarea\": {\n        height: \"100% !important\",\n        padding: '0 !important'\n      }\n    }\n  }\n});\n\nconst FieldsRow = withStyles(styles, { withTheme: true })(\n  ({\n    classes,\n    fields,\n    formItem,\n    formErrors,\n    handleChange,\n    loading,\n    query = {},\n    options = {},\n    deep = 0\n  }) => {\n    return lodashMap(fields, (field, index) => {\n      const isContainer = field.fields || Array.isArray(field);\n      const props = {};\n      if (isContainer) {\n        props.spacing = 2;\n      }\n      const showIfThis = lodashGet(field, \"show.ifThis\");\n      let useCustomIf = () => { };\n      useCustomIf = lodashGet(field, \"show.useCustomIf\") || useCustomIf;\n      const customIfValue = useCustomIf({ data: formItem });\n      let showFieldValue = !lodashIsNil(customIfValue)\n        ? customIfValue\n        : !lodashIsNil(field.show)\n          ? field.show\n          : true;\n      if (showIfThis) {\n        showFieldValue = formItem[showIfThis];\n      }\n      const [showField, setShowField] = useState(showFieldValue);\n      useEffect(() => {\n        setShowField(showFieldValue);\n      }, [showFieldValue]);\n      return (\n        <React.Fragment key={index}>\n          <Grid\n            item\n            container={isContainer}\n            className={classNames(\n              {\n                [classes.nested]: isContainer && deep !== 0\n              },\n              lodashMap(lodashSplit(field.variants, \" \"), key => classes[key])\n            )}\n            {...props}\n          >\n            {isContainer && (\n              <FieldsRow\n                fields={field.fields || field}\n                formItem={formItem}\n                formErrors={formErrors}\n                handleChange={handleChange}\n                loading={loading}\n                query={query}\n                options={options}\n                deep={deep + 1}\n              />\n            )}\n            {!isContainer && showField && (\n              <FormInput\n                field={field}\n                formItem={formItem}\n                formErrors={formErrors}\n                handleChange={handleChange}\n                query={query}\n                options={options}\n                loading={loading}\n              />\n            )}\n          </Grid>\n          {field.customData && <Grid item>{field.customData({ data: formItem, field })}</Grid>}\n        </React.Fragment>\n      );\n    });\n  }\n);\n\nexport default FieldsRow;\n","import { useEffect } from \"react\";\nimport { lodashGet, lodashFindIndex, lodashFlattenDeep } from \"../../utils\";\n\nconst useENTER = ({ fields, options = {} }) => {\n  useEffect(() => {\n    const handleKeyPress = e => {\n      if (e.which === 13) {\n        e.preventDefault();\n        const flatFields = lodashFlattenDeep(fields);\n        const target = e.target;\n        if (target.nodeName === \"INPUT\") {\n          const nextField = flatFields[lodashFindIndex(flatFields, { identity: target.name }) + 1];\n          if (nextField) {\n            document.querySelector(`input[name=${nextField.identity}]`).focus();\n          }\n        } else {\n          document.querySelector(`input[name=${lodashGet(flatFields, \"0.identity\")}]`).focus();\n        }\n      }\n    };\n    if (!options.dontUseEnter) {\n      document.addEventListener(\"keypress\", handleKeyPress);\n    }\n    return () => document.removeEventListener(\"keypress\", handleKeyPress);\n  }, [fields, options.dontUseEnter]);\n};\n\nexport default useENTER;\n","import React, { useState, useEffect, useCallback } from \"react\";\nimport { Grid, Hidden, Paper } from \"@material-ui/core\";\nimport {\n  withRouter,\n  withStyles,\n  classNames,\n  lodashGet,\n  lodashMap,\n  lodashFlattenDeep,\n  lodashIsNil,\n  getPermissions,\n  addHooks,\n  useUpsertService,\n  useDeleteService,\n  useAuth\n} from \"../../utils\";\nimport Loader from \"../loader\";\nimport Errors from \"../errors\";\nimport Actions from \"./Actions\";\nimport Tree from \"./Tree\";\nimport FieldsRow from \"./FieldsRow\";\nimport useENTER from \"./useENTER\";\n// import useEXIT from \"./useEXIT\";\n\nconst styles = theme => ({\n  container: {\n    flexWrap: \"nowrap\",\n    overflow: \"hidden\"\n  },\n  tree: {\n    flex: 1,\n    maxWidth: \"25%\",\n    overflowY: \"auto\",\n    overflowX: \"hidden\"\n  },\n  wrapper: {\n    flex: 1,\n    overflowX: \"auto\"\n  },\n  form: {\n    flex: 1,\n    width: \"100%\",\n    overflowY: \"auto\",\n    overflowX: \"hidden\",\n    padding: `${theme.spacing(1)}px 0`\n  },\n  fullWidth: {\n    overflowX: \"auto\",\n    \"&>div\": {\n      width: \"100%\"\n    }\n  }\n});\n\nconst MasterDataForm = ({\n  history,\n  classes,\n  model,\n  treeModel,\n  fields,\n  formErrors: propsFormErrors = {},\n  data: propsData,\n  query = {},\n  hooks = {},\n  options = {},\n  loading: propsLoading,\n  errors: propsErrors,\n  customContent = {},\n  customActions\n}) => {\n  const { permissions } = useAuth();\n  const [reloadTree, setReloadTree] = useState();\n  const [reloadHome, setReloadHome] = useState();\n  // const [dirty, setDirty] = useState();\n  const reloadTreeHook = useCallback(() => {\n    // console.log(\"!!! useCallback reloadTreeHook\");\n    const asyncReloadTreeHook = async () => setReloadTree(Date.now());\n    asyncReloadTreeHook();\n  }, []);\n  const reloadHomeHook = useCallback(() => {\n    const asyncReloadHomeHook = async () => setReloadHome(Date.now());\n    asyncReloadHomeHook();\n  });\n  const redirectToItemHook = useCallback(\n    ({ data }) => {\n      // console.log(\"!!! useCallback redirectToItemHook\");\n      const asyncRedirectToItemHook = async () => {\n        if (lodashGet(propsData, \"id\") !== data.id && !options.noRedirect) {\n          history.push(`${model.formPath}/${data.id}`);\n        }\n      };\n      asyncRedirectToItemHook();\n    },\n    [history, model.formPath, options.noRedirect, propsData]\n  );\n  // const cleanFormHook = async () => setDirty();\n  const {\n    formItem,\n    formErrors,\n    handleChange,\n    handleSubmit: upsertSubmit,\n    loading: upsertLoading,\n    errors: upsertErrors\n  } = useUpsertService({\n    model: model.name,\n    fields,\n    data: propsData,\n    hooks: addHooks({\n      hooks,\n      identity: \"afterSubmit\",\n      hooksToAdd: [\n        // cleanFormHook,\n        reloadTreeHook,\n        redirectToItemHook\n      ]\n    })\n  });\n  const redirectToListHook = async () => {\n    if (!options.noRedirect) {\n      history.push(model.listPath);\n    }\n  };\n  const {\n    handleDelete,\n    loading: deleteLoading,\n    errors: deleteErrors\n  } = useDeleteService({\n    model: model.name,\n    data: propsData,\n    hooks: {\n      ...addHooks({\n        hooks,\n        identity: \"beforeDelete\"\n        // hooksToAdd: [cleanFormHook]\n      }),\n      ...addHooks({\n        hooks,\n        identity: \"afterDelete\",\n        hooksToAdd: [redirectToListHook, reloadHomeHook]\n      })\n    }\n  });\n  useENTER({ fields, options });\n  // TODO make this work\n  // useEXIT({ history, fields, formItem, loading: propsLoading, dirty });\n  const errors = propsErrors || upsertErrors || deleteErrors;\n  const loading = propsLoading || upsertLoading || deleteLoading;\n  const hasWriteAccess = getPermissions({\n    privileges: options.writePermissions,\n    permissions\n  });\n  const hasActions =\n    hasWriteAccess &&\n    (!options.dontSave ||\n      (formItem.id && !options.dontDelete) ||\n      (formItem.id && !options.dontCreate));\n  const copyData = localStorage.getItem(`copy-${model.name}`);\n  const stringCopyData = JSON.stringify(JSON.parse(copyData || \"{}\"));\n  useEffect(() => {\n    // console.log(\"!!! effect copy\", stringCopyData);\n    let parsedCopyData = JSON.parse(stringCopyData);\n    localStorage.removeItem(`copy-${model.name}`);\n    if (Object.keys(parsedCopyData).length > 0) {\n      setTimeout(\n        () =>\n          lodashMap(lodashFlattenDeep(fields), field => {\n            const value = lodashGet(parsedCopyData, field.identity);\n            if (value) {\n              handleChange({\n                target: {\n                  name: field.identity,\n                  value\n                },\n                field\n              });\n            }\n          }),\n        0\n      );\n    }\n  }, [stringCopyData, model.name, fields, handleChange]);\n  // TODO it's calling again because of the handleChange funtion, use dispatch? useCallback? useMemo on Hooks?\n  // useEffect(() => {\n  //   console.log(\"!!! effect handleChange\", handleChange);\n  // }, [handleChange]);\n  const handleSubmit = e => {\n    e.preventDefault();\n    if (loading) {\n      return;\n    }\n    upsertSubmit(e);\n  };\n  /* #region  handleSubmitEnter */\n  const handleSubmitEnter = e => {\n    e.preventDefault();\n    if (options.saveOnEnter) {\n      if (loading) {\n        return;\n      }\n      upsertSubmit(e);\n    }\n  };\n  /* #endregion */\n  // console.log(\"!! MasterDataForm formItem\", formItem);\n\n  const itemIsNull = lodashIsNil(formItem.id) ? false : true\n\n  if (!options.isAdmin && options.chatSupport) {\n    options = {\n      ...options, readOnly: itemIsNull, dontSave: itemIsNull\n    }\n  }\n\n  if (options.isAdmin && options.chatSupport) {\n    options = {\n      ...options,\n      readOnly: true\n    }\n  }\n\n  // console.log(' >> formItem.id: ', formItem.id)\n  return (\n    <Grid\n      container\n      spacing={2}\n      className={classNames(classes.container, \"form-container\")}\n    >\n      {!options.dontShowTree && (\n        <Hidden smDown>\n          <Grid item className={classes.tree}>\n            <Paper elevation={4}>\n              {/* Render Tree */}\n              <Tree\n                model={treeModel || model}\n                reload={reloadTree}\n                reloadTree={reloadTreeHook}\n                query={query}\n                customContent={customContent}\n              />\n            </Paper>\n          </Grid>\n        </Hidden>\n      )}\n      <Grid item className={classes.wrapper}>\n        {!formItem.id && customContent.replaceNewItem && (\n          <Grid>\n            {customContent.replaceNewItem({\n              reloadHomeHook: reloadHomeHook,\n              reloadHome: reloadHome\n            })}\n          </Grid>\n        )}\n        {((formItem.id && customContent.replaceNewItem) ||\n          (formItem.id && !customContent.replaceNewItem) ||\n          (!formItem.id && !customContent.replaceNewItem) ||\n          (!formItem.id && customContent.replaceNewItem && !options.isAdmin)) && (\n            <Grid\n              container\n              direction=\"column\"\n              component=\"form\"\n              onSubmit={handleSubmitEnter}\n              className={classNames(classes.container, \"form-wrapper\")}\n            >\n              {customContent.beforeForm && (\n                <Grid>\n                  {customContent.beforeForm({\n                    data: formItem,\n                  })}\n                </Grid>\n              )}\n              {(options.chatSupport && formItem.id && !options.isAdmin && hasActions) || \n                hasActions && (\n                //Button save\n                <Actions\n                  model={model}\n                  fields={fields}\n                  formItem={formItem}\n                  handleSubmit={handleSubmit}\n                  handleDelete={handleDelete}\n                  options={options}\n                  customContent={customContent}\n                  customActions={customActions}\n                />\n              )}\n              {loading && <Loader />}\n              {errors && (\n                // Errors form\n                <Errors\n                  errors={\n                    customContent.customError\n                      ? customContent.customError({ errors })\n                      : errors\n                  }\n                />\n              )}\n              <Grid item container spacing={2} className={classes.form}>\n                <FieldsRow\n                  fields={fields}\n                  formErrors={{ ...propsFormErrors, ...formErrors }}\n                  formItem={formItem}\n                  handleChange={handleChange}\n                  loading={propsLoading}\n                  options={{\n                    ...options,\n                    readOnly: !hasWriteAccess || options.readOnly\n                  }}\n                />\n                {customContent.afterForm && (\n                  <Grid item container spacing={2} className={classes.fullWidth}>\n                    {customContent.afterForm({\n                      data: formItem,\n                      handleChange: handleChange,\n                      reloadTree: reloadTreeHook,\n                      handleSubmit: handleSubmit\n                    })}\n                  </Grid>\n                )}\n              </Grid>\n            </Grid>\n          )}\n      </Grid>\n    </Grid>\n  );\n};\n\nexport default withRouter(\n  withStyles(styles, { withTheme: true })(MasterDataForm)\n);\n","import React from \"react\";\nimport { withRouter, withStyles, lodashGet, useGetService, lodashIsNil } from \"../../utils\";\nimport BreadCrumbs from \"../breadcrumbs\";\nimport MasterDataForm from \"../master-data-form\";\n\nconst styles = theme => ({});\n\nconst MasterDataFormPage = withRouter(\n  withStyles(styles, { withTheme: true })(\n    ({\n      match: { params },\n      classes,\n      metadata,\n      form,\n      links,\n      query = {},\n      options = {},\n      customContent = {},\n      customActions\n    }) => {\n      const { item, loading, errors } = useGetService({\n        model: metadata.name,\n        id: lodashGet(params, metadata.paramsProp)\n      });\n      return (\n        <React.Fragment>\n          {!options.dontUseBreadcrumbs && (\n            <BreadCrumbs\n              links={[\n                ...links,\n                {\n                  text: lodashGet(item, \"id\")\n                    ? customContent.customBreadCrumbsName\n                      ? customContent.customBreadCrumbsName({ data: item })\n                      : item.name\n                    : metadata.newItemText,\n                  href: `${metadata.formPath}/${lodashGet(params, metadata.paramsProp)}`\n                }\n              ]}\n            />\n          )}\n          <MasterDataForm\n            model={metadata}\n            fields={form}\n            data={item}\n            query={query}\n            options={options}\n            loading={loading}\n            errors={errors}\n            customContent={customContent}\n            customActions={customActions}\n          />\n        </React.Fragment>\n      );\n    }\n  )\n);\n\nconst withMasterDataFormPage = ({\n  metadata,\n  form,\n  links,\n  query = {},\n  options = {},\n  customContent = {},\n  customActions\n}) => (\n    <MasterDataFormPage\n      metadata={metadata}\n      form={form}\n      links={links}\n      query={query}\n      options={options}\n      customContent={customContent}\n      customActions={customActions}\n    />\n  );\n\nexport default withMasterDataFormPage;\n","import React from \"react\";\nimport { Card, CardActionArea, CardContent, Typography, Icon } from \"@material-ui/core\";\nimport { Link, withStyles, lodashIsNil } from \"../../utils\";\n\nconst styles = theme => ({\n  card: {\n    height: \"100%\",\n    width: \"100%\",\n    textDecoration: \"none\",\n    boxShadow: \"none\",\n    background: \"none\"\n  },\n  title: {\n    display: \"flex\",\n    alignItems: \"center\"\n  },\n  area: {\n    height: \"100%\",\n    width: \"100%\",\n    position: \"relative\",\n    paddingLeft: theme.spacing(3),\n    display: \"flex\",\n    justifyContent: \"left\"\n  },\n  kpi: {\n    fontSize: \"1.5rem\",\n    position: \"absolute\",\n    right: 30,\n    bottom: 10,\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    [theme.breakpoints.down(\"sm\")]: {\n      position: \"static\",\n      flexDirection: \"row\",\n      fontSize: \"1rem\",\n      \"& > span:first-of-type\": {\n        order: 1,\n        marginLeft: theme.spacing(1)\n      }\n    }\n  },\n  icon: {\n    height: 50,\n    width: 50,\n    fontSize: 50,\n    color: theme.palette.type === \"dark\"? theme.palette.common.white : theme.palette.primary.main\n  }\n});\n\nconst MasterDataCard = ({ classes, name, icon, svgIcon, description, href, kpi }) => {\n  const linkProps = {};\n  if (href) {\n    linkProps.component = Link;\n    linkProps.to = href;\n  }\n  return (\n    <Card className={classes.card} {...linkProps}>\n      <CardActionArea className={classes.area}>\n        {icon && icon.type === \"svg\" && <img className={classes.icon} alt=\"icon\" src={icon.src} />}\n        {icon && !icon.type && <Icon className={classes.icon}>{icon}</Icon>}\n        {svgIcon}\n        <CardContent>\n          <Typography className={classes.title} variant=\"h5\">\n            {name}\n          </Typography>\n          <Typography component=\"p\">{description}</Typography>\n          {!lodashIsNil(kpi) && <div className={classes.kpi}>{kpi}</div>}\n        </CardContent>\n      </CardActionArea>\n    </Card>\n  );\n};\nexport default withStyles(styles, { withTheme: true })(MasterDataCard);\n","import React, { useState } from \"react\";\nimport {\n  ExpansionPanel,\n  ExpansionPanelSummary,\n  ExpansionPanelDetails,\n  Grid,\n  Icon,\n  Typography\n} from \"@material-ui/core\";\nimport {\n  classNames,\n  withStyles,\n  lodashMap,\n  lodashFilter,\n  getPermissions,\n  useAuth\n} from \"../../utils\";\nimport MasterDataCard from \"../master-data-card\";\n\nconst styles = theme => ({\n  panel: {},\n  header: {\n    backgroundColor: theme.palette.primary.main,\n    \"&>div\": {\n      alignItems: \"center\"\n    }\n  },\n  gridItem: {\n    outline: \"solid lightgrey 1px\",\n    outlineOffset: \"-4px\"\n  },\n  disabled: {\n    pointerEvents: \"none\",\n    background: \"lightgrey\"\n  },\n  icon: {\n    marginRight: theme.spacing(1),\n    color: \"white\"\n  }\n});\n\nconst AdministrationPage = withStyles(styles, { withTheme: true })(\n  ({ classes, actions }) => {\n    const { permissions } = useAuth();\n    const [expanded, setExpanded] = useState(0);\n    const handleExpand = ({ index }) => () => {\n      if (expanded === index) {\n        setExpanded();\n      } else {\n        setExpanded(index);\n      }\n    };\n    return (\n      <React.Fragment>\n        {lodashMap(\n          lodashFilter(\n            actions,\n            group =>\n              !group.permissions ||\n              getPermissions({ privileges: group.permissions, permissions })\n          ),\n          ({ name, icon, svgIcon, actions }, index) => (\n            <ExpansionPanel\n              key={name}\n              className={classes.panel}\n              expanded={expanded === index}\n              onChange={handleExpand({ index })}\n            >\n              <ExpansionPanelSummary\n                className={classes.header}\n                expandIcon={\n                  <Icon style={{ color: \"white\" }}>expand_more_icon</Icon>\n                }\n              >\n                {!svgIcon && icon && (\n                  <Icon className={classes.icon}>{icon}</Icon>\n                )}\n                {svgIcon}\n                <Typography variant=\"h5\" style={{ color: \"white\" }}>\n                  {name}\n                </Typography>\n              </ExpansionPanelSummary>\n              <ExpansionPanelDetails>\n                <Grid container spacing={1}>\n                  {lodashMap(\n                    lodashFilter(\n                      actions,\n                      action =>\n                        !action.permissions ||\n                        getPermissions({\n                          privileges: action.permissions,\n                          permissions\n                        })\n                    ),\n                    ({ name, description, href, disabled }) => (\n                      <Grid\n                        item\n                        xs={12}\n                        sm={6}\n                        lg={4}\n                        key={name}\n                        className={classNames(classes.gridItem, {\n                          [classes.disabled]: disabled\n                        })}\n                      >\n                        <MasterDataCard\n                          name={name}\n                          description={description}\n                          href={href}\n                        />\n                      </Grid>\n                    )\n                  )}\n                </Grid>\n              </ExpansionPanelDetails>\n            </ExpansionPanel>\n          )\n        )}\n      </React.Fragment>\n    );\n  }\n);\n\nconst withAdministrationPage = ({ actions }) => (\n  <AdministrationPage actions={actions} />\n);\n\nexport default withAdministrationPage;\n","export const form = [\n  [\n    [\n      {\n        text: \"Turno\",\n        identity: \"name\",\n        autoFocus: true,\n        required: true,\n        type: \"string\"\n      },\n      {\n        text: \"Descrição\",\n        identity: \"description\",\n        type: \"string\"\n      }\n    ],\n    [\n      {\n        text: \"Hora Inicio\",\n        identity: \"startTime\",\n        required: true,\n        type: \"time\"\n      },\n      {\n        text: \"Hora Fim\",\n        identity: \"endTime\",\n        required: true,\n        type: \"time\"\n      }\n    ]\n  ],\n  [\n    {\n      text: \"Seg\",\n      identity: \"monday\",\n      type: \"boolean\"\n    },\n    {\n      text: \"Ter\",\n      identity: \"tuesday\",\n      type: \"boolean\"\n    },\n    {\n      text: \"Qua\",\n      identity: \"wednesday\",\n      type: \"boolean\"\n    },\n    {\n      text: \"Qui\",\n      identity: \"thursday\",\n      type: \"boolean\"\n    },\n    {\n      text: \"Sex\",\n      identity: \"friday\",\n      type: \"boolean\"\n    },\n    {\n      text: \"Sab\",\n      identity: \"saturday\",\n      type: \"boolean\"\n    },\n    {\n      text: \"Dom\",\n      identity: \"sunday\",\n      type: \"boolean\"\n    }\n  ]\n];\n\nexport const metadata = {\n  name: \"turns\",\n  paramsProp: \"turnId\",\n  newItemText: \"Novo Turno\"\n};\n\nexport default { form, metadata };\n","import React from \"react\";\nimport {\n  ExpansionPanel,\n  ExpansionPanelDetails,\n  ExpansionPanelSummary,\n  Typography,\n  Tooltip,\n  Icon\n} from \"@material-ui/core\";\nimport { withStyles } from \"../../utils\";\nimport Button from \"../buttons\";\n\nconst styles = theme => ({\n  panel: {\n    margin: 0\n  },\n  header: {\n    backgroundColor: theme.palette.primary.header\n  },\n  details: {\n    padding: theme.spacing(2)\n  }\n});\n\nconst NewTurnPanel = ({ classes, expanded, handleExpand, handleSubmit, FormRef, setFormRef }) => {\n  const handleEditTurn = e => {\n    e.stopPropagation();\n    handleSubmit();\n  };\n  const isExpanded = expanded === \"new\";\n  return (\n    <ExpansionPanel\n      className={classes.panel}\n      expanded={isExpanded}\n      onChange={handleExpand({ id: \"new\" })}\n    >\n      <ExpansionPanelSummary\n        className={classes.header}\n        expandIcon={\n          <React.Fragment>\n            <Tooltip title=\"Criar novo turno para o local\">\n              <Icon>add_icon</Icon>\n            </Tooltip>\n            {!isExpanded && <Typography>Criar novo turno para o local:</Typography>}\n          </React.Fragment>\n        }\n      >\n        {isExpanded && <Button text=\"Gravar Turno\" variants=\"header\" onClick={handleEditTurn} />}\n      </ExpansionPanelSummary>\n      <ExpansionPanelDetails className={classes.details} ref={setFormRef({ id: \"new\" })}>\n        {!FormRef.current && <Typography>Placeholder</Typography>}\n      </ExpansionPanelDetails>\n    </ExpansionPanel>\n  );\n};\n\nexport default withStyles(styles, { withTheme: true })(NewTurnPanel);\n","import React from \"react\";\nimport moment from \"moment\";\nimport {\n  ExpansionPanel,\n  ExpansionPanelDetails,\n  ExpansionPanelSummary,\n  Typography,\n  Icon\n} from \"@material-ui/core\";\nimport { withStyles, lodashGet } from \"../../utils\";\nimport Button from \"../buttons\";\n\nconst styles = theme => ({\n  panel: {\n    margin: 0\n  },\n  header: {\n    backgroundColor: theme.palette.primary.header,\n    \"&>div\": {\n      alignItems: \"center\"\n    }\n  },\n  details: {\n    padding: theme.spacing(2)\n  }\n});\n\nconst TurnPanel = ({\n  classes,\n  turn,\n  expanded,\n  handleExpand,\n  handleSubmit,\n  handleDelete,\n  FormRef,\n  setFormRef,\n  options = {}\n}) => {\n  const handleEditTurn = e => {\n    e.stopPropagation();\n    handleSubmit({ turn });\n  };\n  const handleDeleteTurn = e => {\n    e.stopPropagation();\n    handleDelete({ turn });\n  };\n  const isExpanded = expanded === turn.id;\n  return (\n    <ExpansionPanel\n      className={classes.panel}\n      expanded={isExpanded}\n      onChange={handleExpand({ ...turn, id: turn.id })}\n    >\n      <ExpansionPanelSummary className={classes.header} expandIcon={<Icon>expand_more_icon</Icon>}>\n        <Typography>\n          {lodashGet(turn, \"name\")} ({moment(lodashGet(turn, \"startTime\")).format(\"HH:mm\")}-\n          {moment(lodashGet(turn, \"endTime\")).format(\"HH:mm\")}{\" \"}\n          {lodashGet(turn, \"monday\") ? \"Seg\" : \"\"} {lodashGet(turn, \"tuesday\") ? \"Ter\" : \"\"}{\" \"}\n          {lodashGet(turn, \"wednesday\") ? \"Qua\" : \"\"} {lodashGet(turn, \"thursday\") ? \"Qui\" : \"\"}{\" \"}\n          {lodashGet(turn, \"friday\") ? \"Sex\" : \"\"} {lodashGet(turn, \"saturday\") ? \"Sab\" : \"\"}{\" \"}\n          {lodashGet(turn, \"sunday\") ? \"Dom\" : \"\"})\n        </Typography>\n        {isExpanded && (\n          <React.Fragment>\n            {!options.readOnly && (\n              <Button text=\"Gravar Turno\" variants=\"header\" onClick={handleEditTurn} />\n            )}\n            {!options.readOnly && (\n              <Button text=\"Remover\" variants=\"delete header\" onClick={handleDeleteTurn} />\n            )}\n          </React.Fragment>\n        )}\n      </ExpansionPanelSummary>\n      <ExpansionPanelDetails className={classes.details} ref={setFormRef({ id: turn.id })}>\n        {!FormRef.current && <Typography>Placeholder</Typography>}\n      </ExpansionPanelDetails>\n    </ExpansionPanel>\n  );\n};\n\nexport default withStyles(styles, { withTheme: true })(TurnPanel);\n","import React from \"react\";\nimport { Portal, Grid } from \"@material-ui/core\";\nimport { withStyles } from \"../../utils\";\nimport FieldsRow from \"../master-data-form/FieldsRow\";\n\nconst styles = theme => ({\n  container: {\n    flexWrap: \"nowrap\",\n    \"& .form-container\": {\n      margin: 0,\n      width: \"100%\",\n      \"&>div\": {\n        padding: 0\n      }\n    },\n    \"& .form-wrapper>div\": {\n      overflowY: \"hidden\"\n    }\n  }\n});\n\nconst TurnForm = ({\n  classes,\n  fields,\n  formItem,\n  formErrors,\n  handleChange,\n  FormRef,\n  options = {}\n}) => (\n  <Portal container={FormRef.current}>\n    <Grid container direction=\"column\" spacing={2} className={classes.container}>\n      <Grid item>\n        <FieldsRow\n          fields={fields}\n          formItem={formItem}\n          formErrors={formErrors}\n          handleChange={handleChange}\n          options={options}\n        />\n      </Grid>\n    </Grid>\n  </Portal>\n);\n\nexport default withStyles(styles, { withTheme: true })(TurnForm);\n","import React, { useRef, useContext, useState, useEffect } from \"react\";\nimport moment from \"moment\";\nimport { Grid } from \"@material-ui/core\";\nimport ApiContext from \"../../api\";\nimport {\n  withStyles,\n  lodashGet,\n  lodashForEach,\n  lodashMap,\n  lodashFilter,\n  lodashReduce,\n  getPermissions,\n  validateForm,\n  useFindService,\n  useAuth\n} from \"../../utils\";\nimport { form as fields } from \"./model\";\nimport NewTurnPanel from \"./NewTurn\";\nimport TurnPanel from \"./TurnPanel\";\nimport Form from \"./Form\";\n\nconst styles = theme => ({});\n\nconst PlantTurnsTable = ({ classes, plant, handleChange: propsHandleChange, options = {} }) => {\n  const { permissions } = useAuth();\n  const client = useContext(ApiContext);\n  const [formItem, setFormItem] = useState({});\n  const [formErrors, setFormErrors] = useState({});\n  const handleChange = ({ target }) =>\n    setFormItem(prev => ({ ...prev, [target.name]: target.value }));\n  const query = {\n    plantId: plant.id\n  };\n  const { list, reload, setQuery } = useFindService({\n    model: \"turns\",\n    query: {\n      ...query,\n      $populateAll: true\n    }\n  });\n  const stringQuery = JSON.stringify(query);\n  useEffect(() => {\n    setQuery(prev => ({ ...prev, ...JSON.parse(stringQuery) }));\n    setExpanded();\n  }, [stringQuery, setQuery]);\n  const FormRef = useRef(null);\n  const refsMap = {};\n  const setFormRef = ({ id }) => ref => (refsMap[id] = ref);\n  const [expanded, setExpanded] = useState();\n  const handleExpand = ({ id, ...rest }) => () => {\n    FormRef.current = refsMap[id];\n    resetForm();\n    if (expanded === id) {\n      setExpanded();\n      FormRef.current = null;\n    } else {\n      setExpanded(id);\n      setFormItem({ id, ...rest });\n    }\n  };\n  const resetForm = () => {\n    setFormErrors({});\n    setFormItem({});\n  };\n  const resetList = () => {\n    reload();\n  };\n  const handleSubmit = async ({ turn } = {}) => {\n    setFormErrors({});\n    let continueOperation = true;\n    if (\n      !validateForm({\n        fields,\n        formItem,\n        setFormErrors\n      })\n    ) {\n      continueOperation = false;\n    }\n    const newTurn = {\n      ...query,\n      ...turn,\n      ...formItem,\n      id: lodashGet(turn, \"id\")\n    };\n    if (\n      !newTurn.monday &&\n      !newTurn.tuesday &&\n      !newTurn.wednesday &&\n      !newTurn.thursday &&\n      !newTurn.friday &&\n      !newTurn.saturday &&\n      !newTurn.sunday\n    ) {\n      continueOperation = false;\n      setFormErrors(prev => ({ ...prev, name: \"Selecione pelo menos um dia\" }));\n    }\n    // if (moment(newTurn.endTime).diff(moment(newTurn.startTime), \"minutes\") <= 0) {\n    //   continueOperation = false;\n    //   setFormErrors(prev => ({ ...prev, endTime: \"Horário agendado não válido\" }));\n    // }\n    lodashForEach(list, turn => {\n      if (`${turn.id}` === `${newTurn.id}`) {\n        return;\n      }\n      const turnStartT = moment(turn.startTime).set({\n        year: 2019,\n        month: 0,\n        date: 1\n      });\n      const turnEndT = moment(turn.endTime).set({\n        year: 2019,\n        month: 0,\n        date: 1\n      });\n      if (turnStartT.isSameOrAfter(turnEndT, \"minute\")) {\n        turnStartT.subtract(1, \"days\");\n      }\n      const newTurnStartT = moment(newTurn.startTime).set({\n        year: 2019,\n        month: 0,\n        date: 1\n      });\n      const newTurnEndT = moment(newTurn.endTime).set({\n        year: 2019,\n        month: 0,\n        date: 1\n      });\n      if (newTurnStartT.isSameOrAfter(newTurnEndT, \"minute\")) {\n        newTurnStartT.subtract(1, \"days\");\n      }\n      if (\n        ((!!turn.monday && !!newTurn.monday) ||\n          (!!turn.tuesday && !!newTurn.tuesday) ||\n          (!!turn.wednesday && !!newTurn.wednesday) ||\n          (!!turn.thursday && !!newTurn.thursday) ||\n          (!!turn.friday && !!newTurn.friday) ||\n          (!!turn.saturday && !!newTurn.saturday) ||\n          (!!turn.sunday && !!newTurn.sunday)) &&\n        (newTurnStartT.isBetween(turnStartT, turnEndT, \"minute\") ||\n          newTurnEndT.isBetween(turnStartT, turnEndT, \"minute\"))\n      ) {\n        continueOperation = false;\n        setFormErrors(prev => ({\n          ...prev,\n          startTime: \"O horário marcado se sobrepõe a outro turno\"\n        }));\n      }\n    });\n    if (!continueOperation) {\n      return;\n    }\n    if(!newTurn.id){\n      newTurn.startTime = moment(newTurn.startTime).subtract(1, \"hours\").toDate()\n      newTurn.endTime = moment(newTurn.endTime).subtract(1, \"hours\").toDate()\n    }\n    await client.service(\"plants\").patch(plant.id, {\n      turns: [newTurn]\n    });\n    resetList();\n    resetForm();\n    setExpanded();\n  };\n  const handleDelete = async ({ turn }) => {\n    if (!window.confirm(\"Você quer apagar o item?\")) {\n      return;\n    }\n    await client.service(\"turns\").remove(turn.id);\n    resetList();\n  };\n  useEffect(() => {\n    const hoursPerWeek =\n      Math.round(\n        (10 *\n          lodashReduce(\n            list,\n            (hours, turn) => {\n              const days = lodashFilter(\n                [\"monday\", \"tuesday\", \"wednesday\", \"thursday\", \"friday\", \"saturday\", \"sunday\"],\n                day => !!turn[day]\n              ).length;\n              let diff = moment(turn.endTime).diff(turn.startTime, \"minutes\");\n              if (diff < 0) {\n                diff = 24 * 60 + diff;\n              }\n              return hours + days * diff;\n            },\n            0\n          )) /\n          60\n      ) / 10;\n    if (hoursPerWeek) {\n      client.service(\"plants\").patch(plant.id, {\n        hoursPerWeek\n      });\n      propsHandleChange({\n        target: {\n          name: \"hoursPerWeek\",\n          value: hoursPerWeek\n        }\n      });\n    }\n    propsHandleChange({\n      target: {\n        name: \"turns\",\n        value: list\n      },\n      field: {\n        type: \"table\"\n      }\n    });\n  }, [client, plant.id, list, propsHandleChange]);\n  const hasWriteAccess = getPermissions({ privileges: options.writePermissions, permissions });\n  return (\n    <React.Fragment>\n      <Grid item>\n        {lodashMap(list, (turn, index) => (\n          <TurnPanel\n            key={index}\n            // TODO semantic names instead of \"data\"\n            turn={turn}\n            expanded={expanded}\n            handleExpand={handleExpand}\n            handleSubmit={handleSubmit}\n            handleDelete={handleDelete}\n            FormRef={FormRef}\n            setFormRef={setFormRef}\n            options={{\n              readOnly: !hasWriteAccess\n            }}\n          />\n        ))}\n      </Grid>\n      {hasWriteAccess && (\n        <Grid item>\n          <NewTurnPanel\n            expanded={expanded}\n            handleExpand={handleExpand}\n            handleSubmit={handleSubmit}\n            FormRef={FormRef}\n            setFormRef={setFormRef}\n          />\n        </Grid>\n      )}\n      {FormRef.current && (\n        <Form\n          fields={fields}\n          formItem={formItem}\n          formErrors={formErrors}\n          handleChange={handleChange}\n          FormRef={FormRef}\n          options={{\n            readOnly: !hasWriteAccess\n          }}\n        />\n      )}\n    </React.Fragment>\n  );\n};\n\nexport default withStyles(styles, { withTheme: true })(PlantTurnsTable);\n","export const form = [\n  [\n    [\n      {\n        text: \"Descrição\",\n        identity: \"name\",\n        autoFocus: true,\n        required: true,\n        type: \"string\"\n      },\n      {\n        text: \"Data Inicio\",\n        identity: \"startDate\",\n        required: true,\n        type: \"datetime\"\n      },\n      {\n        text: \"Data Fim\",\n        identity: \"endDate\",\n        required: true,\n        type: \"datetime\"\n      }\n    ],\n    [\n      {\n        text: \"Não Trabalhado\",\n        identity: \"noWorkDay\",\n        type: \"boolean\",\n        defaultValue: true\n      },\n      {\n        text: \"Data Recorrente\",\n        identity: \"recurring\",\n        type: \"boolean\"\n      }\n    ]\n  ]\n];\n\nexport const metadata = {\n  name: \"holidays\",\n  paramsProp: \"holidayId\",\n  newItemText: \"Novo Dia Não Trabalhado\"\n};\n\nexport default { form, metadata };\n","import React from \"react\";\nimport {\n  ExpansionPanel,\n  ExpansionPanelDetails,\n  ExpansionPanelSummary,\n  Typography,\n  Tooltip,\n  Icon\n} from \"@material-ui/core\";\nimport { withStyles } from \"../../utils\";\nimport Button from \"../buttons\";\n\nconst styles = theme => ({\n  panel: {\n    margin: 0\n  },\n  header: {\n    backgroundColor: theme.palette.primary.header\n  },\n  details: {\n    padding: theme.spacing(2)\n  }\n});\n\nconst NewHolidayPanel = ({\n  classes,\n  expanded,\n  handleExpand,\n  handleSubmit,\n  FormRef,\n  setFormRef\n}) => {\n  const handleEditTurn = e => {\n    e.stopPropagation();\n    handleSubmit();\n  };\n  const isExpanded = expanded === \"new\";\n  return (\n    <ExpansionPanel\n      className={classes.panel}\n      expanded={isExpanded}\n      onChange={handleExpand({ id: \"new\" })}\n    >\n      <ExpansionPanelSummary\n        className={classes.header}\n        expandIcon={\n          <React.Fragment>\n            <Tooltip title=\"Criar novo feriado para o local\">\n              <Icon>add_icon</Icon>\n            </Tooltip>\n            {!isExpanded && <Typography>Criar novo feriado para o local:</Typography>}\n          </React.Fragment>\n        }\n      >\n        {isExpanded && <Button text=\"Gravar Feriado\" variants=\"header\" onClick={handleEditTurn} />}\n      </ExpansionPanelSummary>\n      <ExpansionPanelDetails className={classes.details} ref={setFormRef({ id: \"new\" })}>\n        {!FormRef.current && <Typography>Placeholder</Typography>}\n      </ExpansionPanelDetails>\n    </ExpansionPanel>\n  );\n};\n\nexport default withStyles(styles, { withTheme: true })(NewHolidayPanel);\n","import React from \"react\";\nimport moment from \"moment\";\nimport {\n  ExpansionPanel,\n  ExpansionPanelDetails,\n  ExpansionPanelSummary,\n  Typography,\n  Icon\n} from \"@material-ui/core\";\nimport { withStyles, lodashGet } from \"../../utils\";\nimport Button from \"../buttons\";\n\nconst styles = theme => ({\n  panel: {\n    margin: 0\n  },\n  header: {\n    backgroundColor: theme.palette.primary.header,\n    \"&>div\": {\n      alignItems: \"center\"\n    }\n  },\n  details: {\n    padding: theme.spacing(2)\n  }\n});\n\nconst HolidayPanel = ({\n  classes,\n  holiday,\n  expanded,\n  handleExpand,\n  handleSubmit,\n  handleDelete,\n  FormRef,\n  setFormRef,\n  options = {}\n}) => {\n  const handleEditTurn = e => {\n    e.stopPropagation();\n    handleSubmit({ holiday });\n  };\n  const handleDeleteTurn = e => {\n    e.stopPropagation();\n    handleDelete({ holiday });\n  };\n  const isExpanded = expanded === holiday.id;\n  const startDate = moment(lodashGet(holiday, \"startDate\"));\n  const endDate = moment(lodashGet(holiday, \"endDate\"));\n  return (\n    <ExpansionPanel\n      className={classes.panel}\n      expanded={isExpanded}\n      onChange={handleExpand({ ...holiday, id: holiday.id })}\n    >\n      <ExpansionPanelSummary className={classes.header} expandIcon={<Icon>expand_more_icon</Icon>}>\n        <Typography>\n          {lodashGet(holiday, \"name\")} ({startDate.format(\"DD/MM/YYYY\")}\n          {!startDate.isSame(endDate, \"day\")\n            ? `-\n          ${endDate.format(\"DD/MM/YYYY\")}`\n            : \"\"}{\" \"}\n          {lodashGet(holiday, \"noWorkDay\") ? \"Não Trabalhado\" : \"\"}{\" \"}\n          {lodashGet(holiday, \"recurring\") ? \"Recorrente\" : \"\"})\n        </Typography>\n        {isExpanded && (\n          <React.Fragment>\n            {!options.readOnly && (\n              <Button text=\"Gravar Feriado\" variants=\"header\" onClick={handleEditTurn} />\n            )}\n            {!options.readOnly && !lodashGet(holiday, \"isSystemHoliday\") && (\n              <Button text=\"Remover\" variants=\"delete header\" onClick={handleDeleteTurn} />\n            )}\n          </React.Fragment>\n        )}\n      </ExpansionPanelSummary>\n      <ExpansionPanelDetails className={classes.details} ref={setFormRef({ id: holiday.id })}>\n        {!FormRef.current && <Typography>Placeholder</Typography>}\n      </ExpansionPanelDetails>\n    </ExpansionPanel>\n  );\n};\n\nexport default withStyles(styles, { withTheme: true })(HolidayPanel);\n","import React from \"react\";\nimport { Portal, Grid } from \"@material-ui/core\";\nimport { withStyles } from \"../../utils\";\nimport FieldsRow from \"../master-data-form/FieldsRow\";\n\nconst styles = theme => ({\n  container: {\n    flexWrap: \"nowrap\",\n    \"& .form-container\": {\n      margin: 0,\n      width: \"100%\",\n      \"&>div\": {\n        padding: 0\n      }\n    },\n    \"& .form-wrapper>div\": {\n      overflowY: \"hidden\"\n    }\n  }\n});\n\nconst HolidayForm = ({\n  classes,\n  fields,\n  formItem,\n  formErrors,\n  handleChange,\n  FormRef,\n  options = {}\n}) => (\n  <Portal container={FormRef.current}>\n    <Grid container direction=\"column\" spacing={2} className={classes.container}>\n      <Grid item>\n        <FieldsRow\n          fields={fields}\n          formItem={formItem}\n          formErrors={formErrors}\n          handleChange={handleChange}\n          options={options}\n        />\n      </Grid>\n    </Grid>\n  </Portal>\n);\n\nexport default withStyles(styles, { withTheme: true })(HolidayForm);\n","import React, { useRef, useContext, useState, useEffect } from \"react\";\nimport moment from \"moment\";\nimport { Grid } from \"@material-ui/core\";\nimport ApiContext from \"../../api\";\nimport {\n  withStyles,\n  lodashGet,\n  lodashMap,\n  lodashFilter,\n  getPermissions,\n  validateForm,\n  useFindService,\n  useAuth\n} from \"../../utils\";\nimport { form as fields } from \"./model\";\n// TODO same name!!\nimport NewHolidayPanel from \"./NewHoliday\";\nimport HolidayPanel from \"./HolidayPanel\";\nimport Form from \"./Form\";\n\nconst styles = theme => ({});\n\nconst PlantHolidaysTable = ({ classes, plant, options = {} }) => {\n  const { permissions } = useAuth();\n  const client = useContext(ApiContext);\n  const [formItem, setFormItem] = useState({});\n  const [formErrors, setFormErrors] = useState({});\n  const handleChange = ({ target }) =>\n    setFormItem(prev => ({ ...prev, [target.name]: target.value }));\n  const query = {\n    plantId: plant.id\n  };\n  const { list, reload, setQuery } = useFindService({\n    model: \"holidays\",\n    query: {\n      ...query,\n      $populateAll: true\n    }\n  });\n  const stringQuery = JSON.stringify(query);\n  useEffect(() => {\n    setQuery(prev => ({ ...prev, ...JSON.parse(stringQuery) }));\n    setExpanded();\n  }, [stringQuery, setQuery]);\n  const FormRef = useRef(null);\n  const refsMap = {};\n  const setFormRef = ({ id }) => ref => (refsMap[id] = ref);\n  const [expanded, setExpanded] = useState();\n  const handleExpand = ({ id, ...rest }) => () => {\n    FormRef.current = refsMap[id];\n    resetForm();\n    if (expanded === id) {\n      setExpanded();\n      FormRef.current = null;\n    } else {\n      setExpanded(id);\n      setFormItem({ id, ...rest });\n    }\n  };\n  const resetForm = () => {\n    setFormErrors({});\n    setFormItem({});\n  };\n  const resetList = () => {\n    reload();\n  };\n  const handleSubmit = async ({ holiday } = {}) => {\n    setFormErrors({});\n    let continueOperation = true;\n    if (\n      !validateForm({\n        fields,\n        formItem,\n        setFormErrors\n      })\n    ) {\n      continueOperation = false;\n    }\n    const newHoliday = {\n      ...query,\n      ...holiday,\n      ...formItem,\n      id: lodashGet(holiday, \"id\")\n    };\n    if (!continueOperation) {\n      return;\n    }\n    await client.service(\"plants\").patch(plant.id, {\n      holidays: [newHoliday]\n    });\n    resetList();\n    resetForm();\n    setExpanded();\n  };\n  const handleDelete = async ({ holiday }) => {\n    if (!window.confirm(\"Você quer apagar o item?\")) {\n      return;\n    }\n    await client.service(\"holidays\").remove(holiday.id);\n    resetList();\n  };\n  const hasWriteAccess = getPermissions({ privileges: options.writePermissions, permissions });\n  return (\n    <React.Fragment>\n      <Grid item>\n        {lodashMap(\n          lodashFilter(list, day => moment(day.startDate).year() === moment().year()).sort((a, b) =>\n            moment(a.startDate).diff(moment(b.startDate), \"minutes\")\n          ),\n          (holiday, index) => (\n            <HolidayPanel\n              key={index}\n              // TODO semantic names instead of \"data\"\n              holiday={holiday}\n              expanded={expanded}\n              handleExpand={handleExpand}\n              handleSubmit={handleSubmit}\n              handleDelete={handleDelete}\n              FormRef={FormRef}\n              setFormRef={setFormRef}\n              options={{\n                readOnly: !hasWriteAccess\n              }}\n            />\n          )\n        )}\n      </Grid>\n      {hasWriteAccess && (\n        <Grid item>\n          <NewHolidayPanel\n            expanded={expanded}\n            handleExpand={handleExpand}\n            handleSubmit={handleSubmit}\n            FormRef={FormRef}\n            setFormRef={setFormRef}\n          />\n        </Grid>\n      )}\n      {FormRef.current && (\n        <Form\n          fields={fields}\n          formItem={formItem}\n          formErrors={formErrors}\n          handleChange={handleChange}\n          FormRef={FormRef}\n          options={{\n            readOnly: !hasWriteAccess\n          }}\n        />\n      )}\n    </React.Fragment>\n  );\n};\n\nexport default withStyles(styles, { withTheme: true })(PlantHolidaysTable);\n","import React from \"react\";\nimport { withStyles, lodashGet, useFindService } from \"../../../utils\";\n\nconst styles = theme => ({\n  deviceURL: {\n    textDecoration: \"underline\",\n    cursor: \"pointer\"\n  }\n});\n\nconst SensorURL = withStyles(styles, { withTheme: true })(({ classes, data = {} }) => {\n  const { list } = useFindService({\n    model: \"sensors\",\n    query: { machineId: data.id }\n  });\n  const sensor = lodashGet(list, \"0\") || {};\n  const machineName = `${data.identity} - ${data.name}`;\n  const machineURL = `http://${sensor.ip}:3030/?name=${window.escape(machineName)}`;\n  return (\n    <span\n      className={classes.deviceURL}\n      onClick={() =>\n        window.open(\n          machineURL,\n          machineName,\n          \"width=650,height=350,toolbar=no,menubar=no,scrollbars=yes,resizable=yes,location=no,directories=no,status=no\"\n        )\n      }\n    >\n      {sensor.identity ? `${sensor.identity} - ` : \"\"}\n      {sensor.name || \"\"}\n    </span>\n  );\n});\n\nexport default SensorURL;\n","import React from \"react\";\nimport { Typography } from \"@material-ui/core\";\nimport { withStyles, useSensorAllURL } from \"../../../utils\";\n\nconst styles = theme => ({\n  deviceURL: {\n    color: `${theme.palette.common.white} !important`,\n    textDecoration: \"underline !important\",\n    cursor: \"pointer\"\n  }\n});\n\nconst SensorAllURL = withStyles(styles, { withTheme: true })(({ classes }) => {\n  const { sensorsURL } = useSensorAllURL();\n  if (!sensorsURL) {\n    return <Typography variant=\"body1\">Sensor</Typography>;\n  }\n  return (\n    <a className={classes.deviceURL} href={sensorsURL} rel=\"noopener noreferrer\" target=\"_blank\">\n      <Typography variant=\"body1\">Sensor</Typography>\n    </a>\n  );\n});\n\nexport default SensorAllURL;\n","import React, { useContext } from \"react\";\nimport ApiContext from \"../../../api\";\nimport { lodashGet, useAuth } from \"../../../utils\";\nimport machinesIcon from \"../../../icons/injector.svg\";\nimport SensorURL from \"./SensorURL\";\nimport SensorAllURL from \"./SensorAllURL\"; \n\nexport const list = [\n  {\n    text: \"Cod Máquina\",\n    identity: \"identity\",\n    filter: {\n      type: \"string\"\n    }\n  },\n  {\n    text: \"Nome\",\n    identity: \"name\",\n    filter: {\n      type: \"string\"\n    }\n  },\n  {\n    text: \"Tipo\",\n    identity: \"machine_type.name\",\n    model: {\n      service: \"machine_types\",\n      identity: \"machineTypeId\"\n    }\n  },\n  {\n    text: \"Modelo\",\n    identity: \"model\",\n    hidden: true,\n    filter: {\n      type: \"string\"\n    }\n  },\n  {\n    text: \"Local\",\n    identity: \"plant.name\",\n    model: {\n      service: \"plants\",\n      identity: \"plantId\"\n    }\n  },\n  {\n    text: \"Sensor\",\n    identity: \"sensor\",\n    customContent: { dontFilter: true },\n    customText: () => <SensorAllURL />,\n    customData: ({ ...props }) => <SensorURL {...props} />\n  },\n  {\n    text: \"Status\",\n    identity: \"machine_status.name\",\n    customContent: { dontFilterWhenChild: true },\n    model: {\n      service: \"machine_statuses\",\n      identity: \"machineStatusId\"\n    }\n  }\n];\n\nexport const form = [\n  [\n    {\n      text: \"Foto\",\n      identity: \"image\",\n      type: \"image\"\n    }\n  ],\n  [\n    {\n      text: \"Cod Barra\",\n      identity: \"barcode\",\n      type: \"string\"\n    },\n    {\n      text: \"Cod Máquina\",\n      identity: \"identity\",\n      max: 10,\n      autoFocus: true,\n      required: true,\n      type: \"string\"\n    },\n    {\n      text: \"Status\",\n      identity: \"machineStatusId\",\n      required: true,\n      model: \"machine_statuses\",\n      defaultValue: {\n        config: \"machine.status.init\"\n      }\n    },\n    {\n      text: \"Local\",\n      identity: \"plantId\",\n      required: true,\n      model: {\n        service: \"plants\",\n        useCustomQuery: () => {\n          const client = useContext(ApiContext);\n          return {\n            plantStatusId: lodashGet(\n              client.get(\"config.plant.status.active\"),\n              \"value\"\n            )\n          };\n        }\n      }\n    }\n  ],\n  [\n    {\n      text: \"Nome\",\n      identity: \"name\",\n      required: true,\n      type: \"string\"\n    },\n    [\n      {\n        text: \"Ciclo Médio\",\n        identity: \"idealCycle\",\n        type: \"decimal\",\n        readOnly: {\n          useCustomIf: ({}) => {\n            const { session } = useAuth();\n            const level = lodashGet(session, \"company.level\");\n            return level === \"N1\";\n          }\n        }\n      },\n      {\n        text: \"UM\",\n        identity: \"idealCycleUM\",\n        variants: \"short\",\n        model: {\n          service: \"measurement_units\",\n          query: {\n            type: \"time\"\n          }\n        },\n        required: \"idealCycle\"\n      }\n    ],\n    {\n      text: \"Tipo\",\n      identity: \"machineTypeId\",\n      model: \"machine_types\"\n    },\n    {\n      text: \"Tipo de Bico\",\n      identity: \"nozzleType\",\n      model: \"nozzle_types\"\n    }\n  ],\n  [\n    [\n      {\n        text: \"Fabricante\",\n        identity: \"maker\",\n        type: \"string\"\n      },\n      {\n        text: \"Ano Fabricação\",\n        identity: \"manufactureYear\",\n        type: \"year\"\n      }\n    ],\n    [\n      {\n        text: \"Modelo\",\n        identity: \"model\",\n        type: \"string\"\n      },\n      {\n        text: \"Num Serie\",\n        identity: \"serialNr\",\n        type: \"string\"\n      },\n      {\n        text: \"Fim Garantia\",\n        identity: \"endGuarantee\",\n        type: \"date\"\n      }\n    ]\n  ],\n  [\n    [\n      {\n        text: \"Dist Colunas Comprimento\",\n        identity: \"distanceColumnsLength\",\n        populate: [\"distanceColumnsWidth\"],\n        type: \"decimal\"\n      },\n      {\n        text: \"X\"\n      }\n    ],\n    [\n      {\n        text: \"Largura\",\n        identity: \"distanceColumnsWidth\",\n        type: \"decimal\"\n      },\n      {\n        text: \"UM\",\n        identity: \"distanceColumnsUM\",\n        variants: \"short\",\n        populate: [\"distanceColumnsLengthUM\", \"distanceColumnsWidthUM\"],\n        required: [[\"distanceColumnsLength\", \"distanceColumnsWidth\"]],\n        model: {\n          service: \"measurement_units\",\n          query: {\n            type: \"distance\"\n          }\n        }\n      }\n    ],\n    [\n      {\n        text: \"Dim Placa Comprimento\",\n        identity: \"plateSizeLength\",\n        populate: [\"plateSizeWidth\"],\n        type: \"decimal\"\n      },\n      {\n        text: \"X\"\n      }\n    ],\n    [\n      {\n        text: \"Largura\",\n        identity: \"plateSizeWidth\",\n        type: \"decimal\"\n      },\n      {\n        text: \"UM\",\n        identity: \"plateSizeUM\",\n        variants: \"short\",\n        populate: [\"plateSizeLengthUM\", \"plateSizeWidthUM\"],\n        required: [[\"plateSizeLength\", \"plateSizeWidth\"]],\n        model: {\n          service: \"measurement_units\",\n          query: {\n            type: \"distance\"\n          }\n        }\n      }\n    ]\n  ],\n  [\n    [\n      {\n        text: \"Força de Fechamento\",\n        identity: \"lockingForce\",\n        type: \"decimal\"\n      },\n      {\n        text: \"UM\",\n        identity: \"lockingForceUM\",\n        variants: \"short\",\n        model: {\n          service: \"measurement_units\",\n          query: {\n            type: \"force\"\n          }\n        },\n        required: \"lockingForce\"\n      }\n    ],\n    [\n      {\n        text: \"Curso Abertura\",\n        identity: \"openingStroke\",\n        type: \"decimal\"\n      },\n      {\n        text: \"UM\",\n        identity: \"openingStrokeUM\",\n        variants: \"short\",\n        model: {\n          service: \"measurement_units\",\n          query: {\n            type: \"distance\"\n          }\n        },\n        required: \"openingStroke\"\n      }\n    ],\n    [\n      {\n        text: \"Diâmetro Anel Central\",\n        identity: \"centralRingDiameter\",\n        type: \"decimal\"\n      },\n      {\n        text: \"UM\",\n        identity: \"centralRingDiameterUM\",\n        variants: \"short\",\n        model: {\n          service: \"measurement_units\",\n          query: {\n            type: \"distance\"\n          }\n        },\n        required: \"centralRingDiameter\"\n      }\n    ],\n    [\n      {\n        text: \"Diâmetro Rosca de Injeção\",\n        identity: \"injectionThreadDiameter\",\n        type: \"decimal\"\n      },\n      {\n        text: \"UM\",\n        identity: \"injectionThreadDiameterUM\",\n        variants: \"short\",\n        model: {\n          service: \"measurement_units\",\n          query: {\n            type: \"distance\"\n          }\n        },\n        required: \"injectionThreadDiameter\"\n      }\n    ]\n  ],\n  [\n    {\n      text: \"Altura Mínima Molde\",\n      identity: \"minMoldHeight\",\n      type: \"decimal\"\n    },\n    [\n      {\n        text: \"Altura Máxima Molde\",\n        identity: \"maxMoldHeight\",\n        type: \"decimal\"\n      },\n      {\n        text: \"UM\",\n        identity: \"moldHeightUM\",\n        variants: \"short\",\n        populate: [\"minMoldHeightUM\", \"maxMoldHeightUM\"],\n        required: [[\"minMoldHeight\", \"maxMoldHeight\"]],\n        model: {\n          service: \"measurement_units\",\n          query: {\n            type: \"distance\"\n          }\n        }\n      }\n    ],\n    [\n      {\n        text: \"Peso Máximo Molde\",\n        identity: \"maxMoldWeight\",\n        type: \"decimal\"\n      },\n      {\n        text: \"UM\",\n        identity: \"maxMoldWeightUM\",\n        variants: \"short\",\n        model: {\n          service: \"measurement_units\",\n          query: {\n            type: \"mass\"\n          }\n        },\n        required: \"maxMoldWeight\"\n      }\n    ]\n  ]\n];\n\nexport const links = [\n  {\n    text: \"Cadastros\",\n    href: \"/master-data\"\n  },\n  {\n    text: \"Máquinas\",\n    href: \"/master-data/machines\"\n  }\n];\n\nexport const metadata = {\n  name: \"machines\",\n  icon: { type: \"svg\", src: machinesIcon },\n  listPath: \"/master-data/machines\",\n  formPath: \"/master-data/machines\",\n  paramsProp: \"machineId\",\n  newItemText: \"Nova Máquina\"\n};\n\nexport default {\n  metadata,\n  list,\n  form,\n  links,\n  options: {\n    readPermissions: [\"readMasterData\"],\n    writePermissions: [\"writeMasterData\"]\n  },\n  customContent: {\n    customBreadCrumbsName: ({ data = {} }) =>\n      `${data.identity ? `${data.identity} - ` : \"\"}${data.name}`\n  },\n  query: {\n    $sort: { identity: 1 }\n  }\n};\n","import { lodashGet } from \"../../../utils\";\nimport moldsIcon from \"../../../icons/mold.svg\";\n\nexport const list = [\n  {\n    text: \"Cod Molde\",\n    identity: \"identity\",\n    filter: {\n      type: \"string\"\n    }\n  },\n  {\n    text: \"Nome\",\n    identity: \"name\",\n    filter: {\n      type: \"string\"\n    }\n  },\n  {\n    text: \"Cavidades\",\n    identity: \"cavities\",\n    filter: {\n      type: \"string\"\n    }\n  },\n  {\n    text: \"Ciclo Médio\",\n    identity: \"idealCycle\",\n    customContent: { dontFilter: true },\n    customData: ({ data: mold = {} }) =>\n      `${mold.idealCycle || \"\"} ${\n        mold.idealCycle ? lodashGet(mold, \"ideal_cycle_measurement_unit.name\") || \"\" : \"\"\n      }`\n  },\n  {\n    text: \"Status\",\n    identity: \"mold_status.name\",\n    model: {\n      service: \"mold_statuses\",\n      identity: \"moldStatusId\"\n    }\n  }\n];\n\nexport const form = [\n  [\n    {\n      text: \"Foto\",\n      identity: \"image\",\n      type: \"image\"\n    }\n  ],\n  [\n    {\n      text: \"Cod Barra\",\n      identity: \"barcode\",\n      type: \"string\"\n    },\n    {\n      text: \"Cod Molde\",\n      identity: \"identity\",\n      max: 10,\n      autoFocus: true,\n      required: true,\n      type: \"string\"\n    },\n    {\n      text: \"Status\",\n      identity: \"moldStatusId\",\n      required: true,\n      model: \"mold_statuses\",\n      defaultValue: {\n        config: \"mold.status.init\"\n      }\n    }\n  ],\n  [\n    {\n      text: \"Nome\",\n      identity: \"name\",\n      required: true,\n      type: \"string\"\n    },\n    {\n      text: \"Cavidades\",\n      identity: \"cavities\",\n      required: true,\n      type: \"integer\"\n    },\n    [\n      {\n        text: \"Ciclo Médio\",\n        identity: \"idealCycle\",\n        type: \"decimal\"\n      },\n      {\n        text: \"UM\",\n        identity: \"idealCycleUM\",\n        variants: \"short\",\n        model: {\n          service: \"measurement_units\",\n          query: {\n            type: \"time\"\n          }\n        },\n        required: \"idealCycle\"\n      }\n    ]\n  ],\n  [\n    [\n      {\n        text: \"Fabricante\",\n        identity: \"maker\",\n        type: \"string\"\n      },\n      {\n        text: \"Ano Fabricação\",\n        identity: \"manufactureYear\",\n        type: \"year\"\n      }\n    ],\n    [\n      {\n        text: \"Num Serie\",\n        identity: \"serialNr\",\n        type: \"string\"\n      },\n      {\n        text: \"Fim Garantia\",\n        identity: \"endGuarantee\",\n        type: \"date\"\n      }\n    ]\n  ],\n  [\n    {\n      text: \"Tipo de Bico\",\n      identity: \"nozzleType\",\n      model: \"nozzle_types\"\n    },\n    {\n      text: \"Comprimento\",\n      identity: \"length\",\n      type: \"decimal\"\n    },\n    {\n      text: \"Largura\",\n      identity: \"width\",\n      type: \"decimal\"\n    },\n    [\n      {\n        text: \"Altura\",\n        identity: \"height\",\n        type: \"decimal\"\n      },\n      {\n        text: \"UM\",\n        identity: \"UM\",\n        variants: \"short\",\n        populate: [\"lengthUM\", \"widthUM\", \"heightUM\"],\n        required: [[\"length\", \"width\", \"height\"]],\n        model: {\n          service: \"measurement_units\",\n          query: {\n            type: \"distance\"\n          }\n        },\n        defaultValue: {\n          config: \"mold.size.um\"\n        }\n      }\n    ],\n    [\n      {\n        text: \"Diâmetro Anel Central\",\n        identity: \"centralRingDiameter\",\n        type: \"decimal\"\n      },\n      {\n        text: \"UM\",\n        identity: \"centralRingDiameterUM\",\n        variants: \"short\",\n        model: {\n          service: \"measurement_units\",\n          query: {\n            type: \"distance\"\n          }\n        },\n        required: \"centralRingDiameter\"\n      }\n    ],\n    [\n      {\n        text: \"Peso do Molde\",\n        identity: \"weight\",\n        type: \"decimal\"\n      },\n      {\n        text: \"UM\",\n        identity: \"weightUM\",\n        variants: \"short\",\n        model: {\n          service: \"measurement_units\",\n          query: {\n            type: \"mass\"\n          }\n        },\n        required: \"weight\",\n        defaultValue: {\n          config: \"mold.weight.um\"\n        }\n      }\n    ]\n  ]\n];\n\nexport const links = [\n  {\n    text: \"Cadastros\",\n    href: \"/master-data\"\n  },\n  {\n    text: \"Moldes\",\n    href: \"/master-data/molds\"\n  }\n];\n\nexport const metadata = {\n  name: \"molds\",\n  icon: { type: \"svg\", src: moldsIcon },\n  listPath: \"/master-data/molds\",\n  formPath: \"/master-data/molds\",\n  paramsProp: \"moldId\",\n  newItemText: \"Novo Molde\"\n};\n\nexport default {\n  metadata,\n  list,\n  form,\n  links,\n  options: {\n    // TODO permission for OP on model too, and for subtables\n    readPermissions: [\"readMasterData\"],\n    writePermissions: [\"writeMasterData\"]\n  },\n  customContent: {\n    customBreadCrumbsName: ({ data = {} }) =>\n      `${data.identity ? `${data.identity} - ` : \"\"}${data.name}`\n  },\n  query: {\n    $sort: { identity: 1 }\n  }\n};\n","import { lodashGet } from \"../../../utils\";\n\nexport const list = [\n  {\n    text: \"Cod Produto\",\n    identity: \"identity\",\n    filter: {\n      type: \"string\"\n    }\n  },\n  {\n    text: \"Nome\",\n    identity: \"name\",\n    filter: {\n      type: \"string\"\n    }\n  },\n  {\n    text: \"UM do Produto\",\n    identity: \"measurement_unit.name\",\n    model: {\n      service: \"measurement_units\",\n      identity: \"UM\",\n      query: {\n        type: \"quantity\"\n      }\n    }\n  },\n  {\n    text: \"Cor\",\n    identity: \"color\",\n    filter: {\n      type: \"string\"\n    }\n  },\n  {\n    text: \"Peso\",\n    identity: \"weight\",\n    customContent: { dontFilter: true },\n    customData: ({ data: product = {} }) =>\n      `${product.weight || \"\"} ${\n        product.weight ? lodashGet(product, \"weight_measurement_unit.name\") || \"\" : \"\"\n      }`\n  },\n  {\n    text: \"Status\",\n    identity: \"product_status.name\",\n    customContent: { dontFilterWhenChild: true },\n    model: {\n      service: \"product_statuses\",\n      identity: \"productStatusId\"\n    }\n  }\n];\n\nexport const form = [\n  {\n    text: \"Foto\",\n    identity: \"image\",\n    type: \"image\"\n  },\n  [\n    {\n      text: \"Cod Produto\",\n      identity: \"identity\",\n      max: 10,\n      autoFocus: true,\n      required: true,\n      type: \"string\"\n    },\n    {\n      text: \"Status\",\n      identity: \"productStatusId\",\n      required: true,\n      model: \"product_statuses\",\n      defaultValue: {\n        config: \"product.status.init\"\n      }\n    }\n  ],\n  [\n    {\n      text: \"Nome\",\n      identity: \"name\",\n      required: true,\n      type: \"string\"\n    },\n    {\n      text: \"Descrição\",\n      identity: \"description\",\n      type: \"string\"\n    },\n    {\n      text: \"UM do Produto\",\n      identity: \"UM\",\n      model: {\n        service: \"measurement_units\",\n        query: {\n          type: \"quantity\"\n        }\n      }\n    }\n  ],\n  [\n    [\n      {\n        text: \"Peso do Produto\",\n        identity: \"weight\",\n        type: \"decimal\"\n      },\n      {\n        text: \"UM\",\n        identity: \"weightUM\",\n        variants: \"short\",\n        model: {\n          service: \"measurement_units\",\n          query: {\n            type: \"mass\"\n          }\n        },\n        required: \"weight\",\n        defaultValue: {\n          config: \"product.weight.um\"\n        }\n      }\n    ],\n    {\n      text: \"Cor\",\n      identity: \"color\",\n      type: \"string\"\n    }\n    // {\n    //   text: \"SetUp Produto (min)\",\n    //   identity: \"setupMinutes\",\n    //   type: \"integer\"\n    // }\n  ],\n  [\n    {\n      text: \"Versão Válida\",\n      identity: \"version\",\n      type: \"string\"\n    },\n    {\n      text: \"Desenho\",\n      identity: \"design\",\n      type: \"string\"\n    }\n  ]\n];\n\nexport const links = [\n  {\n    text: \"Cadastros\",\n    href: \"/master-data\"\n  },\n  {\n    text: \"Produtos\",\n    href: \"/master-data/products\"\n  }\n];\n\nexport const metadata = {\n  name: \"products\",\n  icon: \"style\",\n  listPath: \"/master-data/products\",\n  formPath: \"/master-data/products\",\n  paramsProp: \"productId\",\n  newItemText: \"Novo Produto\"\n};\n\nexport default {\n  metadata,\n  list,\n  form,\n  links,\n  options: {\n    readPermissions: [\"readMasterData\"],\n    writePermissions: [\"writeMasterData\"]\n  },\n  customContent: {\n    customBreadCrumbsName: ({ data = {} }) =>\n      `${data.identity ? `${data.identity} - ` : \"\"}${data.name}`\n  },\n  query: {\n    $sort: { identity: 1 }\n  }\n};\n","import { lodashGet, lodashMap, useFindService } from \"../../../utils\";\n\nexport const list = [\n  {\n    text: \"Cod Sensor\",\n    identity: \"identity\",\n    filter: {\n      type: \"string\"\n    }\n  },\n  {\n    text: \"Descrição\",\n    identity: \"name\",\n    filter: {\n      type: \"string\"\n    }\n  },\n  {\n    text: \"Máquina\",\n    hasIdentity: true,\n    identity: \"machine\",\n    model: {\n      service: \"machines\",\n      identity: \"machineId\",\n      customName: ({ data = {} }) =>\n        `${data.identity ? `${data.identity} - ` : \"\"}${data.name || \"\"}`\n    },\n    customData: ({ data: { machine } = {} }) =>\n      `${lodashGet(machine, \"identity\") ? `${lodashGet(machine, \"identity\")} - ` : \"\"}${lodashGet(\n        machine,\n        \"name\"\n      ) || \"\"}`\n  },\n  {\n    text: \"Status\",\n    identity: \"sensor_status.name\",\n    model: {\n      service: \"sensor_statuses\",\n      identity: \"sensorStatusId\"\n    }\n  }\n];\n\nexport const form = [\n  [\n    {\n      text: \"Cod Barra\",\n      identity: \"barcode\",\n      variants: \"display\",\n      readOnly: true,\n      type: \"string\"\n    },\n    {\n      text: \"Cod Sensor\",\n      identity: \"identity\",\n      max: 10,\n      variants: \"display\",\n      readOnly: true,\n      type: \"string\"\n    }\n  ],\n  [\n    {\n      text: \"Status\",\n      identity: \"sensorStatusId\",\n      required: true,\n      model: \"sensor_statuses\",\n      defaultValue: {\n        config: \"sensor.status.init\"\n      }\n    },\n    {\n      text: \"Descrição\",\n      identity: \"name\",\n      autoFocus: true,\n      type: \"string\"\n    },\n    {\n      text: \"Máquina\",\n      icon: \"build\",\n      identity: \"machineId\",\n      model: {\n        service: \"machines\",\n        hasIdentity: true,\n        useCustomQuery: ({ data = {} }) => {\n          const { list } = useFindService({\n            model: \"sensors\",\n            query: {\n              machineId: { $ne: null }\n            }\n          });\n          if (list.length) {\n            return {\n              id: { $nin: lodashMap(list, ({ machineId }) => machineId) }\n            };\n          }\n          return {};\n        }\n      }\n    }\n  ],\n  [\n    {\n      text: \"MAC\",\n      identity: \"mac\",\n      variants: \"display\",\n      readOnly: true,\n      type: \"string\"\n    },\n    {\n      text: \"IP\",\n      identity: \"ip\",\n      variants: \"display\",\n      readOnly: true,\n      type: \"string\"\n    }\n  ]\n];\n\nexport const links = [\n  {\n    text: \"Cadastros\",\n    href: \"/master-data\"\n  },\n  {\n    text: \"Sensores\",\n    href: \"/master-data/sensors\"\n  }\n];\n\nexport const metadata = {\n  name: \"sensors\",\n  icon: \"memory\",\n  listPath: \"/master-data/sensors\",\n  formPath: \"/master-data/sensors\",\n  paramsProp: \"sensorId\",\n  newItemText: \"Novo Sensor\"\n};\n\nexport default {\n  metadata,\n  list,\n  form,\n  links,\n  options: {\n    dontCreate: true,\n    dontDelete: true,\n    readPermissions: [\"readMasterData\"],\n    writePermissions: [\"writeMasterData\"]\n  },\n  customContent: {\n    customBreadCrumbsName: ({ data = {} }) =>\n      `${data.identity ? `${data.identity} - ` : \"\"}${data.name}`\n  },\n  query: {\n    $sort: { identity: 1 }\n  }\n};\n","import { useContext } from \"react\";\nimport ApiContext from \"../../../api\";\nimport { lodashGet, lodashMap, useGetService } from \"../../../utils\";\n\nconst customName = ({ data = {} }) =>\n  `${data.identity ? `${data.identity} - ` : \"\"}${data.name || \"\"}`;\n\nconst customData = ({ identity }) => ({ data = {} }) =>\n  `${\n    lodashGet(data, `${identity}.identity`) ? `${lodashGet(data, `${identity}.identity`)} - ` : \"\"\n  }${lodashGet(data, `${identity}.name`) || \"\"}`;\n\nexport const list = [\n  {\n    text: \"Máquina\",\n    hasIdentity: true,\n    identity: \"machine\",\n    customData: customData({ identity: \"machine\" }),\n    model: {\n      service: \"machines\",\n      identity: \"machineId\",\n      customName\n    }\n  },\n  {\n    text: \"Molde\",\n    hasIdentity: true,\n    identity: \"mold\",\n    customData: customData({ identity: \"mold\" }),\n    model: {\n      service: \"molds\",\n      identity: \"moldId\",\n      customName\n    }\n  },\n  {\n    text: \"Produto\",\n    hasIdentity: true,\n    identity: \"product\",\n    customData: customData({ identity: \"product\" }),\n    model: {\n      service: \"products\",\n      identity: \"productId\",\n      customName\n    }\n  },\n  {\n    text: \"Ciclo Ideal\",\n    identity: \"idealCycle\",\n    customContent: { dontFilter: true },\n    customData: ({ data: mold = {} }) =>\n      `${mold.idealCycle || \"\"} ${\n        mold.idealCycle ? lodashGet(mold, \"ideal_cycle_measurement_unit.name\") || \"\" : \"\"\n      }`\n  }\n];\n\nexport const form = [\n  [\n    {\n      text: \"Máquina\",\n      identity: \"machineId\",\n      variants: \"fullWidth\",\n      required: true,\n      model: {\n        service: \"machines\",\n        hasIdentity: true,\n        useCustomQuery: () => {\n          const client = useContext(ApiContext);\n          return {\n            machineStatusId: lodashGet(client.get(\"config.machine.status.active\"), \"value\")\n          };\n        }\n      }\n    }\n  ],\n  [\n    {\n      text: \"Molde\",\n      identity: \"moldId\",\n      variants: \"fullWidth\",\n      required: true,\n      model: {\n        service: \"molds\",\n        hasIdentity: true,\n        useCustomQuery: () => {\n          const client = useContext(ApiContext);\n          return {\n            moldStatusId: lodashGet(client.get(\"config.mold.status.active\"), \"value\")\n          };\n        }\n      },\n      handleChange: ({ data = {}, handleChange, item: productionOrder = {} }) => {\n        const moldId = lodashGet(data, \"target.value\");\n        if (!moldId) {\n          handleChange({\n            target: {\n              name: \"productId\",\n              value: null\n            }\n          });\n        }\n      }\n    }\n  ],\n  [\n    {\n      text: \"Produto\",\n      identity: \"productId\",\n      variants: \"fullWidth\",\n      readOnly: {\n        until: \"moldId\"\n      },\n      required: true,\n      model: {\n        service: \"products\",\n        hasIdentity: true,\n        // TODO same implementation for PRODUCTION ORDER fields\n        useCustomQuery: ({ data = {} }) => {\n          const client = useContext(ApiContext);\n          const query = {\n            productStatusId: lodashGet(client.get(\"config.product.status.active\"), \"value\")\n          };\n          const { item: mold } = useGetService({\n            model: \"molds\",\n            id: data.moldId\n          });\n          if (lodashGet(mold, \"id\")) {\n            return {\n              ...query,\n              id: {\n                $in: lodashMap(mold.products, product => product.id)\n              }\n            };\n          }\n          return query;\n        }\n      }\n    }\n  ],\n  [\n    {\n      text: \"Ciclo Ideal\",\n      identity: \"idealCycle\",\n      required: true,\n      // TODO add MIN MAX values\n      type: \"decimal\",\n      handleChange: ({ data = {}, handleChange }) => {\n        const calculateCycle = ({ value, factor }) =>\n          Math.round(parseFloat(value, \"10\") * factor * 100) / 100;\n        const value = lodashGet(data, \"target.value\");\n        if (value) {\n          handleChange({\n            target: {\n              name: \"minCycle\",\n              value: calculateCycle({ value, factor: 0.9 })\n            }\n          });\n          handleChange({\n            target: {\n              name: \"maxCycle\",\n              value: calculateCycle({ value, factor: 1.1 })\n            }\n          });\n        }\n      }\n    },\n    {\n      text: \"Ciclo Min\",\n      identity: \"minCycle\",\n      type: \"decimal\"\n    },\n    [\n      {\n        text: \"Ciclo Max\",\n        identity: \"maxCycle\",\n        type: \"decimal\"\n      },\n      {\n        text: \"UM\",\n        identity: \"UM\",\n        variants: \"short\",\n        required: [[\"idealCycle\", \"minCycle\", \"maxCycle\"]],\n        populate: [\"idealCycleUM\", \"minCycleUM\", \"maxCycleUM\"],\n        model: {\n          service: \"measurement_units\",\n          query: {\n            type: \"time\"\n          }\n        }\n      }\n    ]\n  ],\n  [\n    {\n      text: \"Ciclo de Alerta\",\n      identity: \"warningCycle\",\n      type: \"decimal\"\n    },\n    {\n      text: \"Montagem (min)\",\n      identity: \"setupInMinutes\",\n      required: true,\n      type: \"integer\"\n    },\n    {\n      text: \"SetUp Injeção (min)\",\n      identity: \"setupInjectionMinutes\",\n      type: \"integer\"\n    },\n    {\n      text: \"SetUp Automação (min)\",\n      identity: \"setupAutoMinutes\",\n      type: \"integer\"\n    },\n    {\n      text: \"Desmontagem (min)\",\n      identity: \"setupOutMinutes\",\n      required: true,\n      type: \"integer\"\n    }\n  ],\n  [\n    {\n      text: \"UM\",\n      identity: \"idealCycleUM\",\n      variants: \"short\",\n      show: { useCustomIf: () => false },\n      model: {\n        service: \"measurement_units\",\n        query: {\n          type: \"time\"\n        }\n      }\n    },\n    {\n      text: \"UM\",\n      identity: \"minCycleUM\",\n      variants: \"short\",\n      show: { useCustomIf: () => false },\n      model: {\n        service: \"measurement_units\",\n        query: {\n          type: \"time\"\n        }\n      }\n    },\n    {\n      text: \"UM\",\n      identity: \"maxCycleUM\",\n      variants: \"short\",\n      show: { useCustomIf: () => false },\n      model: {\n        service: \"measurement_units\",\n        query: {\n          type: \"time\"\n        }\n      }\n    }\n  ]\n];\n\nexport const links = [\n  {\n    text: \"Cadastros\",\n    href: \"/master-data\"\n  },\n  {\n    text: \"Tempos de Configuração\",\n    href: \"/master-data/setups\"\n  }\n];\n\nexport const metadata = {\n  name: \"machine_mold_products\",\n  listPath: \"/master-data/setups\",\n  formPath: \"/master-data/setups\",\n  paramsProp: \"setupId\",\n  newItemText: \"Novo Tempo de Configuração\"\n};\n\nconst customSetupName = ({ data = {} }) =>\n  `${customName({ data: data.machine })} / ${customName({\n    data: data.mold\n  })} / ${customName({ data: data.product })}`;\n\nexport default {\n  metadata,\n  list,\n  form,\n  links,\n  query: {\n    $populateAll: true,\n    $sort: { machineId: 1 }\n  },\n  options: {\n    readPermissions: [\"readMasterData\"],\n    writePermissions: [\"writeMasterData\"]\n  },\n  customContent: {\n    customBreadCrumbsName: ({ data = {} }) => `Setup ${data.id}`,\n    customTreeName: customSetupName,\n    customError: ({ errors = {} }) => {\n      if (errors.message === \"Validation error\") {\n        return \"Uma configuração de tempos com esta máquina / molde / produto já existe.\";\n      }\n      return errors;\n    }\n  }\n};\n","import eMachinesModel from \"./machines/model\";\nimport eMoldsModel from \"./molds/model\";\nimport eProductsModel from \"./products/model\";\nimport eSensorsModel from \"./sensors/model\";\nimport eSetupsModel from \"./setups/model\";\n\nexport const MachinesModel = eMachinesModel;\nexport const MoldsModel = eMoldsModel;\nexport const ProductsModel = eProductsModel;\nexport const SensorsModel = eSensorsModel;\nexport const SetupsModel = eSetupsModel;","export const form = [\n  [\n    {\n      text: \"Cavidades (PC ou KIT)\",\n      identity: \"cavities\",\n      autoFocus: true,\n      required: true,\n      type: \"integer\"\n    }\n  ]\n];\n\nexport default { form };\n","import React from \"react\";\nimport {\n  ExpansionPanel,\n  ExpansionPanelDetails,\n  ExpansionPanelSummary,\n  Typography,\n  Tooltip,\n  Icon\n} from \"@material-ui/core\";\nimport { withStyles } from \"../../utils\";\nimport Button from \"../buttons\";\n\nconst styles = theme => ({\n  panel: {\n    margin: 0\n  },\n  header: {\n    backgroundColor: theme.palette.primary.header\n  },\n  details: {\n    padding: theme.spacing(2)\n  }\n});\n\nconst NewProductPanel = ({\n  classes,\n  expanded,\n  handleExpand,\n  handleSubmit,\n  FormRef,\n  setFormRef\n}) => {\n  const handleEditProduct = e => {\n    e.stopPropagation();\n    handleSubmit();\n  };\n  const isExpanded = expanded === \"new\";\n  return (\n    <ExpansionPanel\n      className={classes.panel}\n      expanded={isExpanded}\n      onChange={handleExpand({ id: \"new\", productId: \"new\" })}\n    >\n      <ExpansionPanelSummary\n        className={classes.header}\n        expandIcon={\n          <React.Fragment>\n            <Tooltip title=\"Criar novo produto para o molde\">\n              <Icon>add_icon</Icon>\n            </Tooltip>\n            {!isExpanded && <Typography>Criar novo produto para o molde:</Typography>}\n          </React.Fragment>\n        }\n      >\n        {isExpanded && (\n          <Button text=\"Gravar Produto\" variants=\"header\" onClick={handleEditProduct} />\n        )}\n      </ExpansionPanelSummary>\n      <ExpansionPanelDetails className={classes.details} ref={setFormRef({ id: \"new\" })}>\n        {!FormRef.current && <Typography>Placeholder</Typography>}\n      </ExpansionPanelDetails>\n    </ExpansionPanel>\n  );\n};\n\nexport default withStyles(styles, { withTheme: true })(NewProductPanel);\n","import React from \"react\";\nimport {\n  Grid,\n  ExpansionPanel,\n  ExpansionPanelDetails,\n  ExpansionPanelSummary,\n  Typography,\n  Tooltip,\n  Icon\n} from \"@material-ui/core\";\nimport { withStyles, lodashGet, lodashFilter } from \"../../utils\";\nimport { ProductsModel } from \"../../pages/master-data/models\";\nimport Button from \"../buttons\";\nimport MasterDataList from \"../master-data-list\";\n\nconst styles = theme => ({\n  panel: {\n    margin: 0\n  },\n  header: {\n    backgroundColor: theme.palette.primary.header\n  },\n  details: {\n    padding: theme.spacing(2)\n  },\n  fullWidth: {\n    width: \"100%\",\n    overflowX: \"auto\"\n  }\n});\n\nconst AddProductPanel = ({\n  classes,\n  query = {},\n  expanded,\n  handleExpand,\n  handleSubmit,\n  FormRef,\n  setFormRef\n}) => {\n  const handleAddProduct = ({ data }) => e => {\n    e.preventDefault();\n    handleSubmit({ product: data });\n  };\n  return (\n    <ExpansionPanel\n      className={classes.panel}\n      expanded={expanded === \"list\"}\n      onChange={handleExpand({ id: \"list\" })}\n    >\n      <ExpansionPanelSummary\n        className={classes.header}\n        expandIcon={\n          <React.Fragment>\n            <Tooltip title=\"Adicionar produto para o molde\">\n              <Icon>add_icon</Icon>\n            </Tooltip>\n            {expanded !== \"list\" && <Typography>Adicionar produto para o molde:</Typography>}\n          </React.Fragment>\n        }\n      />\n      <ExpansionPanelDetails className={classes.details}>\n        <Grid container direction=\"column\" spacing={2}>\n          <Grid item ref={setFormRef({ id: \"list\" })}>\n            {!FormRef.current && <Typography>Placeholder</Typography>}\n          </Grid>\n          <Grid item className={classes.fullWidth}>\n            <MasterDataList\n              model={ProductsModel.metadata}\n              fields={lodashFilter(ProductsModel.list, field => {\n                if (lodashGet(field, \"customContent.dontFilterWhenChild\")) {\n                  field.customContent = {\n                    ...(field.customContent || {}),\n                    dontFilter: true\n                  };\n                }\n                return !field.hidden;\n              })}\n              query={{ ...query, $sort: { identity: 1 } }}\n              options={{\n                dontEdit: true,\n                dontDelete: true,\n                dontCreate: true\n              }}\n              customActions={({ isList, data }) =>\n                isList && (\n                  <Button\n                    text=\"Adicionar\"\n                    icon=\"add_icon\"\n                    type=\"icon\"\n                    onClick={handleAddProduct({ data })}\n                  />\n                )\n              }\n            />\n          </Grid>\n        </Grid>\n      </ExpansionPanelDetails>\n    </ExpansionPanel>\n  );\n};\n\nexport default withStyles(styles, { withTheme: true })(AddProductPanel);\n","import React from \"react\";\nimport {\n  ExpansionPanel,\n  ExpansionPanelDetails,\n  ExpansionPanelSummary,\n  Typography,\n  Icon\n} from \"@material-ui/core\";\nimport { Link, withStyles, lodashGet } from \"../../utils\";\nimport { MoldsModel } from \"../../pages/master-data/models\";\nimport Button from \"../buttons\";\n\nconst styles = theme => ({\n  panel: {\n    margin: 0\n  },\n  header: {\n    backgroundColor: theme.palette.primary.header,\n    \"&>div\": {\n      alignItems: \"center\"\n    }\n  },\n  details: {\n    padding: theme.spacing(2)\n  }\n});\n\nconst ProductPanel = ({\n  classes,\n  data,\n  expanded,\n  handleExpand,\n  handleSubmit,\n  handleDelete,\n  FormRef,\n  setFormRef,\n  options = {}\n}) => {\n  const handleEditProduct = ({ data }) => e => {\n    e.stopPropagation();\n    handleSubmit({ product: data.product });\n  };\n  const handleDeleteProduct = ({ data }) => e => {\n    e.stopPropagation();\n    handleDelete({ product: data.product });\n  };\n  const isExpanded = expanded === data.productId;\n  return (\n    <ExpansionPanel\n      className={classes.panel}\n      expanded={isExpanded}\n      onChange={handleExpand({ ...data, id: data.productId })}\n    >\n      <ExpansionPanelSummary className={classes.header} expandIcon={<Icon>expand_more_icon</Icon>}>\n        <Typography>\n          {lodashGet(data, \"product.identity\")} - {lodashGet(data, \"product.name\")} ({data.cavities}{\" \"}\n          Cavidades)\n        </Typography>\n        {isExpanded && (\n          <React.Fragment>\n            {!options.readOnly && (\n              <Button\n                text=\"Gravar Produto\"\n                variants=\"header\"\n                onClick={handleEditProduct({ data })}\n              />\n            )}\n            {!options.readOnly && (\n              <Button\n                text=\"Remover do Molde\"\n                variants=\"delete header\"\n                onClick={handleDeleteProduct({ data })}\n              />\n            )}\n            <Button\n              text=\"Setups\"\n              variants=\"submit header\"\n              component={Link}\n              to={`${lodashGet(MoldsModel, \"metadata.formPath\")}/${data.moldId}/products/${\n                data.productId\n              }`}\n            />\n          </React.Fragment>\n        )}\n      </ExpansionPanelSummary>\n      <ExpansionPanelDetails className={classes.details} ref={setFormRef({ id: data.productId })}>\n        {!FormRef.current && <Typography>Placeholder</Typography>}\n      </ExpansionPanelDetails>\n    </ExpansionPanel>\n  );\n};\n\nexport default withStyles(styles, { withTheme: true })(ProductPanel);\n","import React from \"react\";\nimport { Portal, Grid } from \"@material-ui/core\";\nimport { withStyles, lodashGet, useGetService } from \"../../utils\";\nimport { ProductsModel } from \"../../pages/master-data/models\";\nimport MasterDataForm from \"../master-data-form\";\nimport FieldsRow from \"../master-data-form/FieldsRow\";\n\nconst styles = theme => ({\n  container: {\n    flexWrap: \"nowrap\",\n    \"& .form-container\": {\n      margin: 0,\n      width: \"100%\",\n      \"&>div\": {\n        padding: 0\n      }\n    },\n    \"& .form-wrapper>div\": {\n      overflowY: \"hidden\"\n    }\n  }\n});\n\nconst ProductForm = ({\n  classes,\n  fields,\n  mold,\n  formItem,\n  formErrors,\n  handleChange,\n  afterChange,\n  FormRef,\n  options = {}\n}) => {\n  const { item: productItem, loading: productLoading, errors: productErrors } = useGetService({\n    model: lodashGet(ProductsModel, \"metadata.name\"),\n    id: formItem.productId\n  });\n  return (\n    <Portal container={FormRef.current}>\n      <Grid container direction=\"column\" spacing={2} className={classes.container}>\n        <Grid item>\n          <FieldsRow\n            fields={fields}\n            formItem={formItem}\n            formErrors={formErrors}\n            handleChange={handleChange}\n            options={options}\n          />\n        </Grid>\n        {formItem.productId && (\n          <Grid item>\n            <MasterDataForm\n              model={ProductsModel.metadata}\n              fields={ProductsModel.form}\n              data={productItem}\n              formErrors={formErrors}\n              loading={productLoading}\n              errors={productErrors}\n              hooks={{\n                afterChange\n              }}\n              options={{\n                ...ProductsModel.options,\n                noRedirect: true,\n                dontSave: true,\n                dontCreate: true,\n                dontDelete: true,\n                dontShowTree: true\n              }}\n            />\n          </Grid>\n        )}\n      </Grid>\n    </Portal>\n  );\n};\n\nexport default withStyles(styles, { withTheme: true })(ProductForm);\n","import React, { useRef, useContext, useState, useEffect } from \"react\";\nimport { Grid } from \"@material-ui/core\";\nimport ApiContext from \"../../api\";\nimport {\n  withStyles,\n  lodashGet,\n  lodashMap,\n  lodashForEach,\n  lodashSplit,\n  lodashFind,\n  lodashFlattenDeep,\n  getPermissions,\n  validateForm,\n  useFindService,\n  useAuth\n} from \"../../utils\";\nimport { ProductsModel } from \"../../pages/master-data/models\";\nimport { form as fields } from \"./model\";\nimport NewProductPanel from \"./NewProduct\";\nimport AddProductPanel from \"./AddProduct\";\nimport ProductPanel from \"./ProductPanel\";\nimport Form from \"./Form\";\n\nconst styles = theme => ({});\n\nconst MoldProductsTable = ({ classes, mold, reloadTree, options = {} }) => {\n  const { permissions } = useAuth();\n  const client = useContext(ApiContext);\n  const [formItem, setFormItem] = useState({\n    cavities: mold.cavities\n  });\n  const [formErrors, setFormErrors] = useState({});\n  const handleChange = ({ target }) =>\n    setFormItem(prev => ({ ...prev, [target.name]: target.value }));\n  const query = {\n    moldId: mold.id\n  };\n  const { list, reload, setQuery } = useFindService({\n    model: \"mold_products\",\n    query: {\n      ...query,\n      $populateAll: true\n    }\n  });\n  const stringQuery = JSON.stringify(query);\n  useEffect(() => {\n    setQuery(prev => ({ ...prev, ...JSON.parse(stringQuery) }));\n    setExpanded();\n  }, [stringQuery, setQuery]);\n  const addProductQuery = {\n    productStatusId: lodashGet(client.get(\"config.product.status.active\"), \"value\"),\n    id: {\n      $nin: lodashMap(list, product => product.productId)\n    }\n  };\n  const FormRef = useRef(null);\n  const refsMap = {};\n  const setFormRef = ({ id }) => ref => (refsMap[id] = ref);\n  const [expanded, setExpanded] = useState();\n  const handleExpand = ({ id, ...rest }) => () => {\n    FormRef.current = refsMap[id];\n    resetForm();\n    if (expanded === id) {\n      setExpanded();\n      FormRef.current = null;\n    } else {\n      setExpanded(id);\n      setFormItem({ cavities: mold.cavities, id, ...rest });\n    }\n  };\n  const resetForm = () => {\n    setFormErrors({});\n    setFormItem({ cavities: mold.cavities });\n  };\n  const resetList = () => {\n    reloadTree();\n    reload();\n  };\n  const afterChange = async ({ data }) => handleChange({ target: data });\n  const handleSubmit = async ({ product } = {}) => {\n    setFormErrors({});\n    let continueOperation = true;\n    if (\n      !validateForm({\n        fields,\n        formItem,\n        setFormErrors\n      })\n    ) {\n      continueOperation = false;\n    }\n    const intCavities = parseInt(formItem.cavities, \"10\");\n    if (intCavities <= 0) {\n      setFormErrors(prev => ({ ...prev, cavities: true }));\n      continueOperation = false;\n    }\n    if (intCavities > mold.cavities) {\n      setFormErrors(prev => ({\n        ...prev,\n        cavities: \"Cavidades do molde excedidas.\"\n      }));\n      continueOperation = false;\n    }\n    const newProduct = {\n      ...query,\n      ...product,\n      ...formItem,\n      id: lodashGet(product, \"id\"),\n      productId: lodashGet(product, \"id\")\n    };\n    if (\n      !validateForm({\n        fields: ProductsModel.form,\n        formItem: newProduct,\n        setFormErrors\n      })\n    ) {\n      continueOperation = false;\n    }\n    if (!continueOperation) {\n      return;\n    }\n    try {\n      await client.service(\"molds\").patch(mold.id, {\n        products: [newProduct]\n      });\n      resetList();\n      resetForm();\n      setExpanded();\n    } catch (error) {\n      lodashForEach(error.errors, ({ path, validatorKey }) => {\n        const fieldIdentity = lodashSplit(path, \"_\")[0];\n        const fieldError = lodashFind(lodashFlattenDeep(ProductsModel.form), {\n          identity: fieldIdentity\n        });\n        if (validatorKey === \"not_unique\" && fieldError) {\n          setFormErrors(prev => ({\n            ...prev,\n            identity: `Já existe um registro com esse ${fieldError.text}`\n          }));\n        }\n      });\n    }\n  };\n  const handleDelete = async ({ product }) => {\n    if (!window.confirm(\"Você quer apagar o item?\")) {\n      return;\n    }\n    await client.service(\"mold_products\").remove(null, {\n      query: {\n        ...query,\n        productId: product.id\n      }\n    });\n    resetList();\n  };\n  const hasWriteAccess = getPermissions({ privileges: options.writePermissions, permissions });\n  return (\n    <React.Fragment>\n      <Grid item>\n        {lodashMap(list, (moldProduct, index) => (\n          <ProductPanel\n            key={index}\n            data={moldProduct}\n            expanded={expanded}\n            handleExpand={handleExpand}\n            handleSubmit={handleSubmit}\n            handleDelete={handleDelete}\n            FormRef={FormRef}\n            setFormRef={setFormRef}\n            options={{\n              readOnly: !hasWriteAccess\n            }}\n          />\n        ))}\n      </Grid>\n      {hasWriteAccess && (\n        <Grid item>\n          <NewProductPanel\n            expanded={expanded}\n            handleExpand={handleExpand}\n            handleSubmit={handleSubmit}\n            FormRef={FormRef}\n            setFormRef={setFormRef}\n          />\n          <AddProductPanel\n            query={addProductQuery}\n            expanded={expanded}\n            setExpanded={setExpanded}\n            handleExpand={handleExpand}\n            handleSubmit={handleSubmit}\n            FormRef={FormRef}\n            setFormRef={setFormRef}\n          />\n        </Grid>\n      )}\n      {FormRef.current && (\n        <Form\n          fields={fields}\n          mold={mold}\n          formItem={formItem}\n          formErrors={formErrors}\n          handleChange={handleChange}\n          afterChange={afterChange}\n          FormRef={FormRef}\n          options={{\n            readOnly: !hasWriteAccess\n          }}\n        />\n      )}\n    </React.Fragment>\n  );\n};\n\nexport default withStyles(styles, { withTheme: true })(MoldProductsTable);\n","export const form = [\n  [\n    {\n      text: \"Ciclo Ideal\",\n      identity: \"idealCycle\",\n      autoFocus: true,\n      required: true,\n      type: \"decimal\"\n    },\n    {\n      text: \"Ciclo Min\",\n      identity: \"minCycle\",\n      type: \"decimal\"\n    },\n    [\n      {\n        text: \"Ciclo Max\",\n        identity: \"maxCycle\",\n        type: \"decimal\"\n      },\n      {\n        text: \"UM\",\n        identity: \"UM\",\n        variants: \"short\",\n        required: [[\"idealCycle\", \"minCycle\", \"maxCycle\"]],\n        populate: [\"idealCycleUM\", \"minCycleUM\", \"maxCycleUM\"],\n        model: {\n          service: \"measurement_units\",\n          query: {\n            type: \"time\"\n          }\n        }\n      }\n    ]\n  ],\n  [\n    {\n      text: \"Ciclo de Alerta\",\n      identity: \"warningCycle\",\n      type: \"decimal\"\n    },\n    {\n      text: \"Montagem (min)\",\n      identity: \"setupInMinutes\",\n      required: true,\n      type: \"integer\"\n    },\n    {\n      text: \"SetUp Injeção (min)\",\n      identity: \"setupInjectionMinutes\",\n      type: \"integer\"\n    },\n    {\n      text: \"SetUp Automação (min)\",\n      identity: \"setupAutoMinutes\",\n      type: \"integer\"\n    },\n    {\n      text: \"Desmontagem (min)\",\n      identity: \"setupOutMinutes\",\n      required: true,\n      type: \"integer\"\n    }\n  ]\n];\n\nexport default { form };\n","import React from \"react\";\nimport {\n  ExpansionPanel,\n  ExpansionPanelDetails,\n  ExpansionPanelSummary,\n  Grid,\n  Typography,\n  Tooltip,\n  Icon\n} from \"@material-ui/core\";\nimport { withStyles, lodashGet, lodashFilter } from \"../../utils\";\nimport { MachinesModel } from \"../../pages/master-data/models\";\nimport Button from \"../buttons\";\nimport MasterDataList from \"../master-data-list\";\n\nconst styles = theme => ({\n  panel: {\n    margin: 0\n  },\n  header: {\n    backgroundColor: theme.palette.primary.header\n  },\n  details: {\n    padding: theme.spacing(2)\n  },\n  fullWidth: {\n    width: \"100%\",\n    overflowX: \"auto\"\n  }\n});\n\nconst AddMachine = ({\n  classes,\n  query = {},\n  expanded,\n  handleExpand,\n  handleSubmit,\n  FormRef,\n  setFormRef\n}) => {\n  const handleAddMachine = ({ data }) => e => {\n    e.preventDefault();\n    handleSubmit({ machine: data });\n  };\n  return (\n    <ExpansionPanel\n      className={classes.panel}\n      expanded={expanded === \"list\"}\n      onChange={handleExpand({ id: \"list\" })}\n    >\n      <ExpansionPanelSummary\n        className={classes.header}\n        expandIcon={\n          <React.Fragment>\n            <Tooltip title=\"Adicionar máquina setup\">\n              <Icon>add_icon</Icon>\n            </Tooltip>\n            {expanded !== \"list\" && <Typography>Adicionar máquina setup:</Typography>}\n          </React.Fragment>\n        }\n      />\n      <ExpansionPanelDetails className={classes.details}>\n        <Grid container direction=\"column\" spacing={2}>\n          <Grid item ref={setFormRef({ id: \"list\" })}>\n            {!FormRef.current && <Typography>Placeholder</Typography>}\n          </Grid>\n          <Grid item className={classes.fullWidth}>\n            <MasterDataList\n              model={MachinesModel.metadata}\n              fields={lodashFilter(MachinesModel.list, field => {\n                if (lodashGet(field, \"customContent.dontFilterWhenChild\")) {\n                  field.customContent = {\n                    ...(field.customContent || {}),\n                    dontFilter: true\n                  };\n                }\n                return !field.hidden;\n              })}\n              query={{ ...query, $sort: { identity: 1 } }}\n              options={{\n                dontEdit: true,\n                dontDelete: true,\n                dontCreate: true\n              }}\n              customActions={({ isList, data }) =>\n                isList && (\n                  <Button\n                    text=\"Adicionar\"\n                    icon=\"add_icon\"\n                    type=\"icon\"\n                    onClick={handleAddMachine({ data })}\n                  />\n                )\n              }\n            />\n          </Grid>\n        </Grid>\n      </ExpansionPanelDetails>\n    </ExpansionPanel>\n  );\n};\n\nexport default withStyles(styles, { withTheme: true })(AddMachine);\n","import React from \"react\";\nimport {\n  ExpansionPanel,\n  ExpansionPanelDetails,\n  ExpansionPanelSummary,\n  Typography,\n  Icon\n} from \"@material-ui/core\";\nimport { withStyles, lodashGet } from \"../../utils\";\nimport Button from \"../buttons\";\n\nconst styles = theme => ({\n  panel: {\n    margin: 0\n  },\n  header: {\n    backgroundColor: theme.palette.primary.header,\n    \"&>div\": {\n      alignItems: \"center\"\n    }\n  },\n  details: {\n    padding: theme.spacing(2)\n  }\n});\n\nconst MachinePanel = ({\n  classes,\n  data,\n  expanded,\n  handleExpand,\n  handleSubmit,\n  handleDelete,\n  FormRef,\n  setFormRef,\n  options = {}\n}) => {\n  const handleEditMachine = ({ data }) => e => {\n    e.stopPropagation();\n    handleSubmit({ machine: data.machine });\n  };\n  const handleDeleteMachine = ({ data }) => e => {\n    e.stopPropagation();\n    handleDelete({ machine: data.machine });\n  };\n  const isExpanded = expanded === data.machineId;\n  return (\n    <ExpansionPanel\n      className={classes.panel}\n      expanded={isExpanded}\n      onChange={handleExpand({ ...data, id: data.machineId })}\n    >\n      <ExpansionPanelSummary className={classes.header} expandIcon={<Icon>expand_more_icon</Icon>}>\n        <Typography>\n          {lodashGet(data, \"machine.identity\")} - {lodashGet(data, \"machine.name\")}\n        </Typography>\n        {isExpanded && (\n          <React.Fragment>\n            {!options.readOnly && (\n              <Button\n                text=\"Gravar SetUps\"\n                variants=\"header\"\n                onClick={handleEditMachine({ data })}\n              />\n            )}\n            {!options.readOnly && (\n              <Button\n                text=\"Deletar\"\n                variants=\"delete header\"\n                onClick={handleDeleteMachine({ data })}\n              />\n            )}\n          </React.Fragment>\n        )}\n      </ExpansionPanelSummary>\n      <ExpansionPanelDetails className={classes.details} ref={setFormRef({ id: data.machineId })}>\n        {!FormRef.current && <Typography>Placeholder</Typography>}\n      </ExpansionPanelDetails>\n    </ExpansionPanel>\n  );\n};\n\nexport default withStyles(styles, { withTheme: true })(MachinePanel);\n","import React from \"react\";\nimport { Portal, Grid } from \"@material-ui/core\";\nimport { withStyles } from \"../../utils\";\nimport FieldsRow from \"../master-data-form/FieldsRow\";\n\nconst styles = theme => ({});\n\nconst MachineMoldProductForm = ({\n  classes,\n  fields,\n  formItem,\n  formErrors,\n  handleChange,\n  FormRef,\n  options = {}\n}) => (\n  <Portal container={FormRef.current}>\n    <Grid item container spacing={2}>\n      <FieldsRow\n        fields={fields}\n        formItem={formItem}\n        formErrors={formErrors}\n        handleChange={handleChange}\n        options={options}\n      />\n    </Grid>\n  </Portal>\n);\n\nexport default withStyles(styles, { withTheme: true })(MachineMoldProductForm);\n","import React, { useRef, useContext, useState, useEffect } from \"react\";\nimport { Grid } from \"@material-ui/core\";\nimport ApiContext from \"../../api\";\nimport {\n  withStyles,\n  lodashGet,\n  lodashMap,\n  getPermissions,\n  validateForm,\n  useFindService,\n  useAuth\n} from \"../../utils\";\nimport { form as fields } from \"./model\";\nimport AddMachinePanel from \"./AddMachine\";\nimport MachinePanel from \"./MachinePanel\";\nimport Form from \"./Form\";\n\nconst styles = theme => ({});\n\nconst MachineMoldProductsTable = ({ classes, mold, product, options }) => {\n  const { permissions } = useAuth();\n  const client = useContext(ApiContext);\n  const [formItem, setFormItem] = useState({});\n  const [formErrors, setFormErrors] = useState({});\n  const handleChange = ({ target }) =>\n    setFormItem(prev => ({ ...prev, [target.name]: target.value }));\n  const query = {\n    productId: product.id,\n    moldId: null\n  };\n  if (mold) {\n    query.moldId = mold.id;\n  }\n  const { list, reload, setQuery } = useFindService({\n    model: \"machine_mold_products\",\n    query: {\n      ...query,\n      $populateAll: true\n    }\n  });\n  const stringQuery = JSON.stringify(query);\n  useEffect(() => {\n    // console.log(\"!! effect Machine Mold Product setQuery\");\n    setQuery(prev => ({ ...prev, ...JSON.parse(stringQuery) }));\n    setExpanded();\n  }, [setQuery, stringQuery]);\n  const addMachineQuery = {\n    machineStatusId: lodashGet(client.get(\"config.machine.status.active\"), \"value\"),\n    id: {\n      $nin: lodashMap(list, machine => parseInt(machine.machineId, \"10\"))\n    }\n  };\n  const FormRef = useRef(null);\n  const refsMap = {};\n  const setFormRef = ({ id }) => ref => (refsMap[id] = ref);\n  const [expanded, setExpanded] = useState();\n  const handleExpand = ({ id, ...rest }) => () => {\n    FormRef.current = refsMap[id];\n    resetForm();\n    if (expanded === id) {\n      setExpanded();\n      FormRef.current = null;\n    } else {\n      setExpanded(id);\n      setFormItem({ id, ...rest });\n    }\n  };\n  const resetForm = () => {\n    setFormErrors({});\n    setFormItem({});\n  };\n  const resetList = () => {\n    reload();\n  };\n  const handleSubmit = async ({ machine }) => {\n    setFormErrors({});\n    if (\n      !validateForm({\n        fields,\n        formItem,\n        setFormErrors\n      })\n    ) {\n      return;\n    }\n    await client.service(\"machines\").patch(machine.id, {\n      products: [\n        {\n          ...formItem,\n          ...query,\n          machineId: machine.id\n        }\n      ]\n    });\n    resetList();\n  };\n  const handleDelete = async ({ machine }) => {\n    if (!window.confirm(\"Você quer apagar o item?\")) {\n      return;\n    }\n    await client.service(\"machine_mold_products\").remove(null, {\n      query: {\n        ...query,\n        machineId: machine.id\n      }\n    });\n    resetList();\n  };\n  useEffect(() => {\n    // console.log(\"!! effect calc cycle\");\n    const calculateCycle = ({ value, factor }) =>\n      Math.round(parseFloat(value, \"10\") * factor * 100) / 100;\n    if (formItem.idealCycle) {\n      setFormItem(prev => ({\n        ...prev,\n        minCycle: calculateCycle({ value: prev.idealCycle, factor: 0.9 }),\n        maxCycle: calculateCycle({ value: prev.idealCycle, factor: 1.1 })\n      }));\n    }\n  }, [formItem.idealCycle]);\n  const hasWriteAccess = getPermissions({ privileges: options.writePermissions, permissions });\n  // console.log(\">>> render MachineMoldProductTable\", list);\n  return (\n    <React.Fragment>\n      <Grid item>\n        {lodashMap(list, (machineMoldProduct, index) => (\n          <MachinePanel\n            key={index}\n            data={machineMoldProduct}\n            expanded={expanded}\n            handleExpand={handleExpand}\n            handleSubmit={handleSubmit}\n            handleDelete={handleDelete}\n            FormRef={FormRef}\n            setFormRef={setFormRef}\n            options={{\n              readOnly: !hasWriteAccess\n            }}\n          />\n        ))}\n      </Grid>\n      {hasWriteAccess && (\n        <Grid item>\n          <AddMachinePanel\n            query={addMachineQuery}\n            expanded={expanded}\n            handleExpand={handleExpand}\n            handleSubmit={handleSubmit}\n            FormRef={FormRef}\n            setFormRef={setFormRef}\n          />\n        </Grid>\n      )}\n      {FormRef.current && (\n        <Form\n          fields={fields}\n          formItem={formItem}\n          formErrors={formErrors}\n          handleChange={handleChange}\n          FormRef={FormRef}\n          options={{\n            readOnly: !hasWriteAccess\n          }}\n        />\n      )}\n    </React.Fragment>\n  );\n};\n\nexport default withStyles(styles, { withTheme: true })(MachineMoldProductsTable);\n","export const form = [\n  [\n    {\n      text: \"Nome\",\n      identity: \"name\",\n      type: \"string\",\n      required: true\n    },\n    {\n      text: \"Descrição\",\n      identity: \"content\",\n      type: \"content\",\n      required: true\n    }\n  ]\n];\n\nexport const metadata = {\n  name: \"wiki_sections\",\n  paramsProp: \"wikiSectionId\",\n  newItemText: \"Nova Seção\"\n};\n\nexport default {\n  form,\n  metadata\n};\n","import React from \"react\";\nimport { Grid } from \"@material-ui/core\";\nimport { withStyles, lodashForEach, lodashFlattenDeep } from \"../../utils\";\nimport FieldsRow from \"../master-data-form/FieldsRow\";\nimport WikiPagesModel from \"./model\";\n\nconst styles = theme => ({\n  container: {\n    flexWrap: \"nowrap\",\n    \"& .form-container\": {\n      margin: 0,\n      width: \"100%\",\n      \"&>div\": {\n        padding: 0\n      }\n    },\n    \"& .form-wrapper>div\": {\n      overflowY: \"hidden\"\n    }\n  }\n});\n\nconst WikiSectionForm = ({ classes, formItem, formErrors, handleChange, options = {} }) => {\n  const fields = lodashFlattenDeep(WikiPagesModel.form);\n  if (options.readOnly) {\n    lodashForEach(fields, field => (field.variants = \"wiki\"));\n  } else {\n    lodashForEach(fields, field => (field.variants = \"\"));\n  }\n  return (\n    <Grid container direction=\"column\" spacing={2} className={classes.container}>\n      <Grid item>\n        <FieldsRow\n          fields={options.readOnly ? WikiPagesModel.form[0].slice(1) : WikiPagesModel.form}\n          formItem={formItem}\n          formErrors={formErrors}\n          handleChange={handleChange}\n          options={options}\n        />\n      </Grid>\n    </Grid>\n  );\n};\n\nexport default withStyles(styles, { withTheme: true })(WikiSectionForm);\n","import React, { useState } from \"react\";\nimport {\n  ExpansionPanel,\n  ExpansionPanelDetails,\n  ExpansionPanelSummary,\n  Typography,\n  Tooltip,\n  Icon\n} from \"@material-ui/core\";\nimport { withStyles, lodashIsNil, lodashToUpper } from \"../../utils\";\nimport Button from \"../buttons\";\nimport Loader from \"../loader\";\nimport Form from \"./Form\";\n\nconst styles = theme => ({\n  panel: {\n    margin: 0\n  },\n  header: {\n    backgroundColor: theme.palette.primary.header\n  },\n  details: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    flexWrap: \"nowrap\",\n    padding: theme.spacing(2)\n  }\n});\n\nconst NewWikiSection = ({\n  classes,\n  loading,\n  expanded,\n  handleExpand,\n  handleSubmit,\n  options = {}\n}) => {\n  const [formItem, setFormItem] = useState({});\n  const [formErrors, setFormErrors] = useState({});\n  const resetForm = () => {\n    setFormErrors({});\n    setFormItem({});\n    handleExpand({ id: \"new\" });\n  };\n  const handleChange = ({ target }) =>\n    setFormItem(prev => {\n      return {\n        ...prev,\n        [target.name]: !lodashIsNil(target.value)\n          ? lodashToUpper(target.value)\n          : target.value || null\n      };\n    });\n  const handleEditWikiSection = e => {\n    e.stopPropagation();\n    handleSubmit({ wikiSection: formItem, setFormErrors, resetForm });\n  };\n  const isExpanded = expanded[\"new\"];\n  return (\n    <React.Fragment>\n      <ExpansionPanel\n        className={classes.panel}\n        expanded={isExpanded}\n        onChange={handleExpand({ id: \"new\" })}\n      >\n        <ExpansionPanelSummary\n          className={classes.header}\n          expandIcon={\n            <React.Fragment>\n              <Tooltip title=\"Criar nova Seção\">\n                <Icon>add_icon</Icon>\n              </Tooltip>\n              {!isExpanded && <Typography>Criar nova Seção:</Typography>}\n            </React.Fragment>\n          }\n        >\n          {isExpanded && (\n            <Button text=\"Gravar Seção\" variants=\"header\" onClick={handleEditWikiSection} />\n          )}\n        </ExpansionPanelSummary>\n        <ExpansionPanelDetails className={classes.details}>\n          {loading[\"new\"] && <Loader />}\n          <Form\n            formItem={formItem}\n            formErrors={formErrors}\n            handleChange={handleChange}\n            options={options}\n          />\n        </ExpansionPanelDetails>\n      </ExpansionPanel>\n    </React.Fragment>\n  );\n};\n\nexport default withStyles(styles, { withTheme: true })(NewWikiSection);\n","import React, { useState } from \"react\";\nimport {\n  ExpansionPanel,\n  ExpansionPanelDetails,\n  ExpansionPanelSummary,\n  Typography,\n  Icon\n} from \"@material-ui/core\";\nimport { withStyles, lodashGet, lodashIsNil, lodashToUpper } from \"../../utils\";\nimport Button from \"../buttons\";\nimport Loader from \"../loader\";\nimport Form from \"./Form\";\n\nconst styles = theme => ({\n  panel: {\n    margin: 0\n  },\n  header: {\n    backgroundColor: theme.palette.primary.header,\n    \"&>div\": {\n      alignItems: \"center\"\n    }\n  },\n  details: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    flexWrap: \"nowrap\",\n    padding: theme.spacing(2)\n  }\n});\n\nconst WikiSectionPanel = ({\n  classes,\n  wikiSection,\n  loading,\n  expanded,\n  handleExpand,\n  handleSubmit,\n  handleDelete,\n  options = {}\n}) => {\n  const [formItem, setFormItem] = useState({ ...wikiSection });\n  const [formErrors, setFormErrors] = useState({});\n  const resetForm = () => {\n    setFormErrors({});\n  };\n  const handleChange = ({ target }) =>\n    setFormItem(prev => {\n      return {\n        ...prev,\n        [target.name]: !lodashIsNil(target.value)\n          ? lodashToUpper(target.value)\n          : target.value || null\n      };\n    });\n  const handleEditWikiSection = e => {\n    e.stopPropagation();\n    handleSubmit({ wikiSection: formItem, setFormErrors, resetForm });\n  };\n  const handleDeleteWikiSection = e => {\n    e.stopPropagation();\n    handleDelete({ wikiSection });\n  };\n  const isExpanded = expanded[wikiSection.id];\n  return (\n    <ExpansionPanel\n      className={classes.panel}\n      expanded={isExpanded}\n      onChange={handleExpand({ id: wikiSection.id })}\n    >\n      <ExpansionPanelSummary className={classes.header} expandIcon={<Icon>expand_more_icon</Icon>}>\n        <Typography>{lodashGet(wikiSection, \"name\")}</Typography>\n        {isExpanded && (\n          <React.Fragment>\n            {!options.readOnly && (\n              <Button text=\"Gravar Seção\" variants=\"header\" onClick={handleEditWikiSection} />\n            )}\n            {!options.readOnly && (\n              <Button\n                text=\"Remover da Página\"\n                variants=\"delete header\"\n                onClick={handleDeleteWikiSection}\n              />\n            )}\n          </React.Fragment>\n        )}\n      </ExpansionPanelSummary>\n      <ExpansionPanelDetails className={classes.details}>\n        {loading[wikiSection.id] && <Loader />}\n        <Form\n          formItem={formItem}\n          formErrors={formErrors}\n          handleChange={handleChange}\n          options={options}\n        />\n      </ExpansionPanelDetails>\n    </ExpansionPanel>\n  );\n};\n\nexport default withStyles(styles, { withTheme: true })(WikiSectionPanel);\n","import React, { useContext, useState, useEffect } from \"react\";\nimport { Grid } from \"@material-ui/core\";\nimport ApiContext from \"../../api\";\nimport {\n  withStyles,\n  lodashGet,\n  lodashMap,\n  getPermissions,\n  validateForm,\n  useFindService,\n  useAuth\n} from \"../../utils\";\nimport { form as fields } from \"./model\";\nimport NewWikiSection from \"./NewWikiSection\";\nimport WikiSectionPanel from \"./WikiSectionPanel\";\n\nconst styles = theme => ({});\n\nconst WikiPageWikiSectionsTable = ({ classes, wikiPage, options = {} }) => {\n  const { permissions } = useAuth();\n  const client = useContext(ApiContext);\n  const query = {\n    wikiPageId: wikiPage.id\n  };\n  const { list, reload, setQuery } = useFindService({\n    model: \"wiki_sections\",\n    query: {\n      ...query,\n      $populateAll: true\n    }\n  });\n  const stringQuery = JSON.stringify(query);\n  useEffect(() => {\n    setQuery(prev => ({ ...prev, ...JSON.parse(stringQuery) }));\n  }, [stringQuery, setQuery]);\n  const [expanded, setExpanded] = useState({});\n  const [loading, setLoading] = useState({});\n  const handleExpand = ({ id }) => () => setExpanded(prev => ({ ...prev, [id]: !prev[id] }));\n  const resetList = () => {\n    reload();\n  };\n  const handleSubmit = async ({\n    wikiSection,\n    setFormErrors = () => {},\n    resetForm = () => {}\n    // TODO add validation default json to all functions?\n  } = {}) => {\n    setLoading(prev => ({ ...prev, [wikiSection.id || \"new\"]: true }));\n    setFormErrors({});\n    let continueOperation = true;\n    const newWikiSection = {\n      ...query,\n      ...wikiSection,\n      id: lodashGet(wikiSection, \"id\")\n    };\n    if (\n      !validateForm({\n        fields,\n        formItem: newWikiSection,\n        setFormErrors\n      })\n    ) {\n      continueOperation = false;\n    }\n    if (!continueOperation) {\n      setLoading(prev => ({ ...prev, [wikiSection.id || \"new\"]: false }));\n      return;\n    }\n    await client.service(\"wiki_pages\").patch(wikiPage.id, {\n      wiki_sections: [newWikiSection]\n    });\n    resetList();\n    resetForm();\n    setLoading(prev => ({ ...prev, [wikiSection.id || \"new\"]: false }));\n  };\n  const handleDelete = async ({ wikiSection }) => {\n    if (!window.confirm(\"Você quer apagar o item?\")) {\n      return;\n    }\n    await client.service(\"wiki_sections\").remove(null, {\n      query: {\n        ...query,\n        id: wikiSection.id\n      }\n    });\n    resetList();\n  };\n  const hasWriteAccess = getPermissions({ privileges: options.writePermissions, permissions });\n  return (\n    <React.Fragment>\n      <Grid item>\n        {lodashMap(list, (wikiSection, index) => (\n          <WikiSectionPanel\n            key={index}\n            wikiSection={wikiSection}\n            loading={loading}\n            expanded={expanded}\n            handleExpand={handleExpand}\n            handleSubmit={handleSubmit}\n            handleDelete={handleDelete}\n            options={{\n              readOnly: !hasWriteAccess || options.readOnly\n            }}\n          />\n        ))}\n      </Grid>\n      {hasWriteAccess && !options.readOnly && (\n        <Grid item>\n          <NewWikiSection\n            loading={loading}\n            expanded={expanded}\n            handleExpand={handleExpand}\n            handleSubmit={handleSubmit}\n            options={{\n              readOnly: !hasWriteAccess || options.readOnly\n            }}\n          />\n        </Grid>\n      )}\n    </React.Fragment>\n  );\n};\n\nexport default withStyles(styles, { withTheme: true })(WikiPageWikiSectionsTable);\n","import React from 'react';\nimport {\n  withStyles,\n  lodashGet,\n  lodashIsNil\n} from '../../../utils';\nimport { Typography, Avatar, ListItem, ListItemText, ListItemAvatar, Icon } from '@material-ui/core';\nimport PersonIcon from '@material-ui/icons/Person'\nimport moment from 'moment';\nimport classnames from 'classnames';\n\n\nconst styles = theme => ({\n  date: {\n    fontSize: \"0.8em\",\n    color: \"grey\"\n  },\n  response: {\n    textAlign: \"end\"\n    // maxWidth: 300\n  },\n  colored: {\n    backgroundColor: \"rgba(0, 0, 0, .14)\",\n    padding: 15,\n    borderRadius: \"6px\"\n  },\n  listTextWrap: {\n    wordWrap: 'break-word'\n  },\n  viewed: {\n    fontSize: \"14px\",\n    marginBottom: \"-2px\",\n    marginLeft: \"5px\"\n  }\n})\n\nconst Messages = ({ classes, session, message }) => {\n\n  const userId = lodashGet(session, \"userId\");\n  const tab = <span style={{ minWidth: \"33%\" }} />;\n  const user = lodashGet(message, \"user.name\");\n\n  return (\n    <React.Fragment>\n      {/* <Separator date={message.createdAt} /> */}\n      {userId !== message.userId && (\n        <ListItem>\n          <ListItemAvatar>\n            <Avatar\n              style={{\n                backgroundColor: \"#424242\",\n                height: 40,\n                width: 40,\n                padding: 4\n              }}\n              alt=\"Admin MP\"\n              src={message.user.companyId === null ? \"https://www.monitorprod.com.br/static/media/logo.10c8593f.svg\" : null}\n            >\n              {message.user.companyId === null ? null : <PersonIcon color='secondary' />}\n            </Avatar>\n          </ListItemAvatar>\n          <ListItemText\n            className={classes.listTextWrap}\n            primary={\n              <Typography component=\"span\" variant=\"body2\" color=\"textPrimary\">\n                {message.text}\n              </Typography>\n            }\n            secondary={\n              <Typography className={classes.date}>\n                {`${user} - ${moment(message.createdAt).format(\"DD/MM/YYYY HH:mm\")}`}<Icon className={classes.viewed}>{lodashIsNil(message, \"viewedAt\") ? \"done\" : \"done_all\" }</Icon>\n              </Typography>\n            }\n          />\n          {tab}\n        </ListItem>\n      )}\n      {userId === message.userId && (\n        <ListItem className={classes.response}>\n          {tab}\n          <ListItemText\n            className={classnames(classes.colored, classes.listTextWrap)}\n            primary={\n              <Typography component=\"span\" variant=\"body2\" color=\"textPrimary\">\n                {message.text}\n              </Typography>\n            }\n            secondary={\n              <Typography className={classes.date}>\n                {`${user} - ${moment(message.createdAt).format(\"DD/MM/YYYY HH:mm\")}`}<Icon className={classes.viewed}>{message.viewedAt === null ? \"done\" : \"done_all\" }</Icon>\n              </Typography>\n            }\n          />\n        </ListItem>\n      )}\n    </React.Fragment>\n  )\n\n}\n\nexport default withStyles(styles, { withTheme: true })(Messages);","import {React} from 'react';\nimport { Dropbox } from 'dropbox';\n\nconst dbx = new Dropbox({\n    accessToken: \"9OIaDmlW_AAAAAAAAAAAZ5y1VH8VNnTZDTZfAlbAD0mi0UgcueJQQR16PWtmt1S7\",//TODO: hide this token\n    fetch\n});\n\nexport default dbx;","import React, { useContext, useState , useEffect} from \"react\";\nimport { AppBar, Toolbar, InputBase, Divider, IconButton, Icon,TextField } from \"@material-ui/core\";\nimport {withStyles} from '../../utils';\nimport dbx from './dropbox';\n\nconst styles = theme => ({\n  root: {\n    padding: \"2px 4px\",\n    display: \"flex\",\n    alignItems: \"center\"\n  },\n  input: {\n    color: theme.palette.common.white,\n    //backgroundColor: \"#ffffff78\",\n    borderRadius: \"6px\",\n    marginLeft: theme.spacing(1),\n    padding: \"4px 10px\",\n    flex: 1\n  },\n  appBar: {\n    top: \"auto\",\n    bottom: 0,\n    backgroundColor: \"#424242\",\n    zIndex: \"auto\"\n  },\n  iconButton: {\n    padding: 10\n  },\n  divider: {\n    backgroundColor: '#ffffff1f',\n    height: 28,\n    margin: 4\n  }\n});\n\nconst Input = ({ formItem, handleChange, handleSubmit, ticketClosed, setFormErrors, resetForm, data, classes ,ticket}) => {\n  const [file, setFile] = useState();\n  const [uploadResponse, setUploadResponse] = useState('cloud_upload');\n  const UPLOAD_FILE_SIZE_LIMIT = 150 * 1024 * 1024;\n\n  const saveFile = evt => {\n    setFile(evt.target.files[0]);\n  }\n\n  useEffect(() => {\n    if (file !== undefined){\n      setUploadResponse('loop');\n      if (file.size < UPLOAD_FILE_SIZE_LIMIT) { // File is smaller than 150 Mb - use filesUpload API\n        dbx.filesUpload({path: '/support/' + ticket.id + '/' + file.name, contents: file})\n          .then(function(response) {\n            setUploadResponse('done');\n          })\n          .catch(function(error) {\n            setUploadResponse('error');\n          });\n      } else { // File is bigger than 150 Mb - use filesUploadSession* API\n        const maxBlob = 8 * 1000 * 1000; // 8Mb - Dropbox JavaScript API suggested max file / chunk size\n\n        var workItems = [];     \n      \n        var offset = 0;\n\n        while (offset < file.size) {\n          var chunkSize = Math.min(maxBlob, file.size - offset);\n          workItems.push(file.slice(offset, offset + chunkSize));\n          offset += chunkSize;\n        } \n          \n        const task = workItems.reduce((acc, blob, idx, items) => {\n          if (idx === 0) {\n            // Starting multipart upload of file\n            return acc.then(function() {\n              return dbx.filesUploadSessionStart({ close: false, contents: blob})\n                        .then(response => response.session_id)\n            });          \n          } else if (idx < items.length-1) {  \n            // Append part to the upload session\n            return acc.then(function(sessionId) {\n            var cursor = { session_id: sessionId, offset: idx * maxBlob };\n            return dbx.filesUploadSessionAppendV2({ cursor: cursor, close: false, contents: blob }).then(() => sessionId); \n            });\n          } else {\n            // Last chunk of data, close session\n            return acc.then(function(sessionId) {\n              var cursor = { session_id: sessionId, offset: file.size - blob.size };\n              var commit = { path: '/' + file.name, mode: 'add', autorename: true, mute: false };              \n              return dbx.filesUploadSessionFinish({ cursor: cursor, commit: commit, contents: blob });           \n            });\n          }          \n        }, Promise.resolve());\n        \n        task.then(function(result) {\n          var results = document.getElementById('results');\n          results.appendChild(document.createTextNode('File uploaded!'));\n        }).catch(function(error) {\n          console.error(error);\n        });\n      }\n    }\n  },[file])\n\n  return (\n    <AppBar position=\"static\" className={classes.appBar}>\n      <Toolbar>\n      <input\n          id=\"files\"\n          name=\"files\"\n          type=\"file\"\n          size=\"1\"\n          onChange={saveFile}\n          style={{ display: 'none' }}\n        ></input>        \n        <IconButton className={classes.iconButton} aria-label=\"menu\"  onClick={() => document.getElementById(\"files\").click()}>\n          <Icon style={{ color: \"white\" }}>attach_file</Icon>\n        </IconButton>\n          <Icon>{uploadResponse}</Icon>\n        <InputBase\n          className={classes.input}\n          placeholder=\"Nova Mensagem\"\n          inputProps={{ \"aria-label\": \"Nova Mensagem\" }}\n          value={formItem.text}\n          readOnly={data.ticketStatusId === ticketClosed ? true : false}\n          onChange={handleChange}\n          onKeyPress={event => {\n            if (event.which === 13) {\n              handleSubmit({ message: formItem, setFormErrors, resetForm });\n            }\n          }}\n        />\n        <Divider className={classes.divider} orientation=\"vertical\" />\n        <IconButton\n          style={{ color: \"#ffb300\" }}\n          className={classes.iconButton}\n          aria-label=\"Enviar\"\n          onClick={() => handleSubmit({ message: formItem, setFormErrors, resetForm })}\n        >\n          <Icon>send</Icon>\n        </IconButton>\n      </Toolbar>\n    </AppBar>\n  );\n};\n\nexport default withStyles(styles, { withTheme: true })(Input);","import React, { useState, useContext, useEffect, useRef } from 'react';\nimport {\n  lodashMap,\n  lodashGet,\n  useFindService,\n  validateForm,\n  withStyles,\n  withRouter\n} from '../../utils';\nimport { Typography, AppBar, Toolbar, List } from '@material-ui/core';\nimport Message from './message';\nimport ApiContext from '../../api';\nimport Input from './Input';\n\nconst styles = theme => ({\n  appbarRoot: {\n    zIndex: \"auto\"\n  },\n  root: {\n    width: \"inherit\",\n    overflowX: \"auto\",\n    paddingBottom: 0,\n    paddingTop: 0,\n    display: 'flex',\n    flexDirection: 'column',\n    flex: 1,\n    height: 'calc(100vh - 177px)',\n  },\n  question: {},\n  response: {\n    textAlign: \"end\"\n  },\n  inline: {\n    display: \"inline\"\n  },\n  subheader: {\n    backgroundColor: \"#ffb300\",\n    color: \"#424242\",\n    top: \"10px\",\n    left: \"50%\",\n    transform: \"translateX(-50%)\",\n    width: \"150px\",\n    borderRadius: \"50px\",\n    height: \"30px\",\n    lineHeight: \"30px\",\n    textAlign: \"center\"\n  },\n  urgent: {\n    color: 'red'\n  }\n})\n\nconst ChatSupport = ({ classes, ticket, session, data, match: { params } }) => {\n  // Get API\n  const client = useContext(ApiContext);\n  // Ticket ID is closed\n  const ticketClosed = lodashGet(client.get(\"config.ticket.status.closed\"), \"value\");\n  // Ticket Status\n  const status = lodashGet(ticket, \"ticket_status.name\");\n\n  // Chat Scroll Reference\n  const scrollRef = useRef(null);\n\n  // Track Forms\n  const [loading, setLoading] = useState({});\n  const [connected, setConnected] = useState(null);\n  const [formItem, setFormItem] = useState({text: \"\"});\n  const [formErrors, setFormErrors] = useState({});\n  const [listMessages, setListMessages] = useState([]);\n  const resetForm = () => {\n    setFormErrors({});\n    setFormItem({\n      text: \"\"\n    });\n  };\n\n  client.socket.on('connect', () => setConnected(true) );\n\n  useEffect(() => {\n    const newMessage = message => {\n      console.log(message); //verificar se é o mesmo id\n      setListMessages(prev => ([ ...prev, prev[listMessages.length + 1] = message ]))\n    }\n    client.service(\"ticket_messages\").on(\"created\", newMessage);\n//    client.service(\"ticket_messages\").on(\"patched\", () => {});\n\n  }, [connected]);\n\n  // Instantiating ticket messages\n  const query = {\n    ticketId: ticket.id\n  }\n  const { list, reload: reloadMessages, setQuery: setQueryMessages, loading: loadingMessages } = useFindService({\n    model: \"ticket_messages\",\n    query: {\n      $markAsViewed: {\n        viewedAt: null\n      },\n    }\n  })\n\n  useEffect(() => {\n    console.log('nova mensagem não lida');\n\t\tsetListMessages(list)\n\t}, [list])\n\n  const stringQuery = JSON.stringify(query);\n  useEffect(() => {\n    setQueryMessages(prev => ({ ...prev, ...JSON.parse(stringQuery) }));\n  }, [stringQuery, setQueryMessages]);\n  const resetList = () => {\n    reloadMessages();\n  };\n  // When clicking the button will be saved to the bank\n  const handleSubmit = async ({\n    message,\n    setFormErrors = () => { },\n    resetForm = () => { formErrors() }\n  } = {}) => {\n    setLoading(prev => ({ ...prev, [message.id || \"new\"]: true }))\n    setFormErrors({});\n    let continueOperation = true;\n    let newMessage = {\n      ...query,\n      ...formItem,\n      userId: lodashGet(session, \"userId\")\n    };\n    if (\n      !validateForm({\n        formItem: newMessage,\n        setFormErrors\n      })\n    ) {\n      continueOperation = false;\n    }\n    if (!continueOperation) {\n      setLoading(prev => ({ ...prev, [message.id || \"new\"]: false }));\n      return;\n    }\n    await client.service(\"ticket_messages\").create(newMessage);\n    //resetList();\n    resetForm();\n    setLoading(prev => ({ ...prev, [message.id || \"new\"]: false }))\n  }\n  // Getting the state of the current input\n  const handleChange = event => {\n    setFormItem({\n      text: event.target.value\n    })\n  }\n\n  // Each time you update the message list the scroll function is activated\n  useEffect(() => {\n    if (listMessages.length > 0 && !loadingMessages) {\n      scrollRef.current.scrollTo(0, 10000);\n    }\n  }, [listMessages, loadingMessages])\n\n  return (\n    <div>\n      <AppBar position=\"static\" className={classes.appbarRoot}  color=\"secondary\">\n        <Toolbar variant=\"dense\">\n          <Typography variant=\"h6\" color=\"inherit\" style={{textTransform: 'capitalize'}}>\n            {ticket.id}: {ticket.title != undefined && ticket.title.toLowerCase()}\n          </Typography>\n        </Toolbar>\n      </AppBar>\n        <List ref={scrollRef} className={classes.root}>\n            {listMessages.length !== 0 && !loadingMessages && lodashMap(listMessages.sort((a,b) => a.id - b.id), message => (\n              <Message key={message.id} session={session} ticket={ticket} message={message} />\n            ))}\n        </List>\n      <Input\n        ticket={ticket}\n        formItem={formItem}\n        handleChange={handleChange}\n        handleSubmit={handleSubmit}\n        ticketClosed={ticketClosed}\n        setFormErrors={setFormErrors}\n        resetForm={resetForm}\n        data={data}\n      />\n    </div>\n  )\n\n}\n\nexport default withRouter(withStyles(styles, { withTheme: true })(ChatSupport));","import eShell from \"./layout/Shell\";\nimport eClientRoute from \"./routes/ClientRoute\";\nimport eAdminRoute from \"./routes/AdminRoute\";\nimport eSessionRoute from \"./routes/SessionRoute\";\nimport eWithMasterDataListPage from \"./pages/withMasterDataList\";\nimport eWithMasterDataFormPage from \"./pages/withMasterDataForm\";\nimport eWithAdministrationPage from \"./pages/withAdministrationPage\";\nimport eMasterDataCard from \"./master-data-card\";\nimport eMasterDataForm from \"./master-data-form\";\nimport ePlantTurnsTable from \"./plant-turns-table\";\nimport ePlantHolidaysTable from \"./plant-holidays-table\";\nimport eMoldProductsTable from \"./mold-products-table\";\nimport eMachineMoldProductsTable from \"./machine-mold-products-table\";\nimport eWikiPageWikiSectionsTable from \"./wiki-page-wiki-sections-table\";\nimport eBreadCrumbs from \"./breadcrumbs\";\nimport eFormInput from \"./master-data-form/FormInput\";\nimport eFieldsRow from \"./master-data-form/FieldsRow\";\nimport eTree from \"./master-data-form/Tree\";\nimport eLoader from \"./loader\";\nimport eErrors from \"./errors\";\nimport eNotFound from \"./not-found\";\nimport eButton from \"./buttons\";\nimport eChatSupport from './chat-support';\n\nexport const Shell = eShell;\nexport const ClientRoute = eClientRoute;\nexport const AdminRoute = eAdminRoute;\nexport const SessionRoute = eSessionRoute;\nexport const withMasterDataListPage = eWithMasterDataListPage;\nexport const withMasterDataFormPage = eWithMasterDataFormPage;\nexport const withAdministrationPage = eWithAdministrationPage;\nexport const MasterDataCard = eMasterDataCard;\nexport const MasterDataForm = eMasterDataForm;\nexport const PlantTurnsTable = ePlantTurnsTable;\nexport const PlantHolidaysTable = ePlantHolidaysTable;\nexport const MoldProductsTable = eMoldProductsTable;\nexport const MachineMoldProductsTable = eMachineMoldProductsTable;\nexport const WikiPageWikiSectionsTable = eWikiPageWikiSectionsTable;\nexport const FormInput = eFormInput;\nexport const FieldsRow = eFieldsRow;\nexport const Tree = eTree;\nexport const BreadCrumbs = eBreadCrumbs;\nexport const Loader = eLoader;\nexport const Errors = eErrors;\nexport const NotFound = eNotFound;\nexport const Button = eButton;\nexport const ChatSupport = eChatSupport;\n","import React, { useContext, useState, useEffect } from \"react\";\nimport {\n  Grid,\n  Avatar,\n  Icon,\n  Paper,\n  TextField,\n  Typography,\n  SnackbarContent\n} from \"@material-ui/core\";\nimport ApiContext from \"../../api\";\nimport {\n  withRouter,\n  withStyles,\n  lodashGet,\n  getPermissions,\n  mapPermissions,\n  login,\n  logout,\n  useAuth\n} from \"../../utils\";\nimport { Loader, Errors, Button } from \"../../components\";\n\nconst styles = theme => ({\n  wrapper: {\n    width: 400,\n    marginTop: theme.spacing(10),\n    padding: `${theme.spacing(2)}px ${theme.spacing(3)}px ${theme.spacing(3)}px`\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main\n  },\n  textField: {\n    margin: 0,\n    minWidth: 250,\n    //backgroundColor: theme.palette.common.white\n  },\n  footer: {\n    width: 400,\n    justifyContent: \"space-around\",\n    marginTop: theme.spacing(2),\n    \"& p\": {\n      cursor: \"pointer\",\n      color: theme.palette.primary.header\n    }\n  },\n  success: {\n    margin: `0 auto ${theme.spacing(1)}px`,\n    backgroundColor: theme.palette.secondary.main,\n    whiteSpace: \"pre-wrap\",\n    \"&>div\": {\n      padding: 0\n    }\n  }\n});\n\nconst SYS_ADMIN_HOME = \"/sysadmin/companies\";\nconst CLIENT_HOME = \"/\";\nconst CLIENT_PRODUCTION_HOME = \"/dashboard/production\";\nconst CLIENT_MASTER_DATA_HOME = \"/master-data\";\nconst CLIENT_ADMINISTRATION_HOME = \"/administration\";\n\nconst goToHome = ({ history, permissions }) => {\n  if (\n    getPermissions({\n      privileges: [\"readProductionOrders\", \"readProductionOrderReports\"],\n      permissions\n    })\n  ) {\n    return history.push(CLIENT_PRODUCTION_HOME);\n  } else if (\n    getPermissions({\n      privileges: [\"readMasterData\", \"writeMasterData\"],\n      permissions\n    })\n  ) {\n    return history.push(CLIENT_MASTER_DATA_HOME);\n  } else if (\n    getPermissions({\n      privileges: [\"crudAdminData\", \"crudUserData\"],\n      permissions\n    })\n  ) {\n    return history.push(CLIENT_ADMINISTRATION_HOME);\n  } else {\n    return history.push(CLIENT_HOME);\n  }\n};\n\nconst LoginPage = ({ history, match: { params }, classes }) => {\n  const { session, loading: authLoading, permissions } = useAuth();\n  const client = useContext(ApiContext);\n  const [loginForm, setLoginForm] = useState({\n    companyUUID: params.companyUUID\n  });\n  const [loading, setLoading] = useState();\n  const [errors, setErrors] = useState();\n  const [send, setSend] = useState();\n  const emailInputProps = {\n    autoComplete: \"email\",\n    autoFocus: true\n  };\n  const passwordInputProps = {\n    autoComplete: \"password\"\n  };\n  const handleChange = ({ target }) => {\n    setSend(false);\n    setLoginForm(prev => ({ ...prev, [target.name]: target.value }));\n  };\n  const handleLogout = async () => await logout({ client });\n  const handleLogin = async e => {\n    e.preventDefault();\n    // TODO verify all buttons for multiple clicks?\n    if (loading) {\n      return;\n    }\n    setLoading(true);\n    setErrors();\n    try {\n      // console.log(\"login\", loginForm);\n      const payload = await login({ client, ...loginForm });\n      if (params.companyUUID === \"admin\" && payload.isAdmin) {\n        history.push(SYS_ADMIN_HOME);\n      } else if (params.companyUUID !== \"admin\" && !payload.isAdmin) {\n        goToHome({ history, permissions: mapPermissions({ payload }) });\n      } else {\n        throw new Error();\n      }\n    } catch (error) {\n      await handleLogout();\n      setErrors(\"As credenciais de usuário especificadas estão incorretas\");\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleChangePassword = async e => {\n    if (loading) {\n      return;\n    }\n    setLoading(true);\n    setErrors();\n    try {\n      const payload = await login({ client, ...loginForm });\n      if (params.companyUUID !== \"admin\" && !payload.isAdmin) {\n        history.push(\"/administration/reset-password\");\n      } else {\n        throw new Error();\n      }\n    } catch (error) {\n      await handleLogout();\n      setErrors(\"As credenciais de usuário especificadas estão incorretas\");\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleResetPassword = async e => {\n    if (loading) {\n      return;\n    }\n    setLoading(true);\n    setErrors();\n    try {\n      if (loginForm.email) {\n        await client\n          .service(\"users\")\n          .patch(null, {}, { query: { email: loginForm.email, $forgotPassword: true } });\n        setSend(true);\n      } else {\n        throw new Error();\n      }\n    } catch (error) {\n      setErrors(\"Conta de usuário não encontrada\");\n    } finally {\n      setLoading(false);\n    }\n  };\n  const stringSession = JSON.stringify(session || {});\n  const stringPermissions = JSON.stringify(permissions);\n  useEffect(() => {\n    // console.log(\"!!efffect Login\", stringSession);\n    const parsedSession = JSON.parse(stringSession);\n    const handleLogout = async () => await logout({ client });\n    if (!authLoading) {\n      if (params.companyUUID === \"admin\" && lodashGet(parsedSession, \"isAdmin\")) {\n        history.push(SYS_ADMIN_HOME);\n      } else if (\n        params.companyUUID !== \"admin\" &&\n        lodashGet(parsedSession, \"userId\") &&\n        !lodashGet(parsedSession, \"isAdmin\")\n      ) {\n        goToHome({ history, permissions: JSON.parse(stringPermissions) });\n      } else {\n        handleLogout();\n      }\n    }\n    // TODO history useCallback\n  }, [client, stringSession, authLoading, history, params.companyUUID, stringPermissions]);\n  // console.log(\">>> render Login\", session, authLoading, loginForm);\n  return (\n    <Grid container direction=\"column\" alignItems=\"center\">\n      <Paper className={classes.wrapper}>\n        <form>\n          <Grid container direction=\"column\" spacing={3}>\n            {loading && <Loader />}\n            {errors && <Errors errors={errors} />}\n            {send && <SnackbarContent className={classes.success} message=\"Email enviado\" />}\n            <Grid item container direction=\"column\" alignItems=\"center\" spacing={0}>\n              <Avatar className={classes.avatar}>\n                <Icon>lock_outlined</Icon>\n              </Avatar>\n              <Typography variant=\"h6\">Iniciar Sessão</Typography>\n            </Grid>\n            <Grid item>\n              <TextField\n                fullWidth\n                required\n                type=\"text\"\n                name=\"email\"\n                label=\"Email\"\n                inputProps={emailInputProps}\n                className={classes.textField}\n                value={loginForm.email || \"\"}\n                onChange={handleChange}\n                margin=\"normal\"\n              />\n            </Grid>\n            <Grid item>\n              <TextField\n                fullWidth\n                required\n                type=\"password\"\n                name=\"password\"\n                label=\"Senha\"\n                inputProps={passwordInputProps}\n                className={classes.textField}\n                value={loginForm.password || \"\"}\n                onChange={handleChange}\n                margin=\"normal\"\n              />\n            </Grid>\n            <Grid item>\n              <Button\n                text=\"Entrar\"\n                color=\"secondary\"\n                type=\"submit\"\n                fullWidth\n                variants=\"submit\"\n                onClick={handleLogin}\n              />\n            </Grid>\n          </Grid>\n        </form>\n      </Paper>\n      {params.companyUUID !== \"admin\" && (\n        <Grid className={classes.footer} container alignItems=\"center\" spacing={0}>\n          <Grid item onClick={handleResetPassword}>\n            <Typography variant=\"body1\">Esqueceu a senha</Typography>\n          </Grid>\n          <Grid item onClick={handleChangePassword}>\n            <Typography variant=\"body1\">Mudar senha</Typography>\n          </Grid>\n        </Grid>\n      )}\n    </Grid>\n  );\n};\n\nexport default withRouter(withStyles(styles, { withTheme: true })(LoginPage));\n","export const tree = [\n  {\n    text: \"Nome\",\n    identity: \"name\",\n    type: \"string\"\n  }\n];\n\nexport const form = [\n  [\n    {\n      text: \"Nome\",\n      identity: \"name\",\n      type: \"string\",\n      required: true\n    },\n    {\n      text: \"Descrição\",\n      identity: \"content\",\n      type: \"content\"\n    }\n  ]\n];\n\nexport const links = [\n  {\n    text: \"Cadastro\",\n    href: \"/sysadmin\"\n  },\n  {\n    text: \"Wiki\",\n    href: \"/help/home\"\n  }\n];\n\nexport const metadata = {\n  name: \"wiki_pages\",\n  paramsProp: \"wikiPageId\",\n  listPath: \"/help/home\",\n  formPath: \"/help\",\n  newItemText: \"Novo\"\n};\n\nexport default {\n  tree,\n  form,\n  links,\n  metadata,\n  query: { wikiPageId: null },\n  options: {\n    dontUseBreadcrumbs: true,\n    dontUseEnter: true\n  }\n};\n","import React, { useState, useCallback } from \"react\";\nimport { Grid } from \"@material-ui/core\";\nimport { withStyles } from \"../../utils\";\nimport { MasterDataForm, Tree } from \"../../components\";\nimport WikiPagesModel from \"./model\";\n\nconst styles = theme => ({\n  item: {\n    paddingLeft: ({ deep = 0 }) => `${theme.spacing(2 * (deep + 2))}px`\n  }\n});\n\nconst TreeItem = withStyles(styles, { withTheme: true })(\n  ({ data, deep = 0, classes, isAdminApp }) => {\n    const [reloadTree, setReloadTree] = useState();\n    const reloadTreeHook = useCallback(() => {\n      const asyncReloadTreeHook = async () => setReloadTree(Date.now());\n      asyncReloadTreeHook();\n    }, []);\n    return (\n      <Grid>\n        <Tree\n          model={{ ...WikiPagesModel.metadata }}\n          reload={reloadTree}\n          reloadTree={reloadTreeHook}\n          query={{ wikiPageId: data.id }}\n          deep={deep + 1}\n          options={{\n            dontShowNotFound: !isAdminApp\n          }}\n          customContent={{\n            afterTree: ({ reloadTree }) =>\n              isAdminApp && (\n                <Grid item className={classes.item}>\n                  <MasterDataForm\n                    model={WikiPagesModel.metadata}\n                    fields={WikiPagesModel.tree}\n                    data={{\n                      wikiPageId: data.id\n                    }}\n                    hooks={{\n                      afterSubmit: reloadTree\n                    }}\n                    options={{\n                      ...WikiPagesModel.options,\n                      dontSave: true,\n                      dontCreate: true,\n                      dontDelete: true,\n                      dontShowTree: true,\n                      saveOnEnter: true\n                    }}\n                  />\n                </Grid>\n              ),\n            afterTreeItem: ({ data, reloadTree }) =>\n              data.id && (\n                <TreeItem\n                  data={data}\n                  reload={reloadTree}\n                  reloadTree={reloadTreeHook}\n                  deep={deep + 1}\n                  isAdminApp={isAdminApp}\n                />\n              )\n          }}\n        />\n      </Grid>\n    );\n  }\n);\n\nexport default TreeItem;\n","export const contact = [\n  {\n    variants: 'inputBootstrap', fields: [\n      [\n        {\n          text: \"Seu nome\",\n          identity: \"name\",\n          type: \"string\",\n          required: true,\n          variants: 'inputBootstrap'\n        },\n        {\n          text: \"Seu e-mail\",\n          identity: \"email\",\n          type: \"string\",\n          required: true,\n          variants: 'inputBootstrap'\n        },\n        {\n          text: 'Seu telefone',\n          identity: \"phone\",\n          type: \"string\",\n          required: true,\n          variants: 'inputBootstrap'\n        }\n      ],\n      [\n        {\n          text: 'Sua mensagem',\n          identity: \"message\",\n          type: \"longtext\",\n          required: true,\n          variants: 'inputBootstrap'\n        }\n      ]\n    ]\n  }\n]\n\nexport const links = [\n  {\n    text: \"Wiki\",\n    href: \"/help/home\"\n  }\n];\n\nexport const metadata = {\n  name: \"site_contacts\",\n  formPath: \"/help/home\",\n  newItemText: \"Novo\"\n};\n\nexport default {\n  contact,\n  links,\n  metadata,\n};\n","import React from \"react\";\n\nimport { Grid } from '@material-ui/core'\nimport Logo from \"../../landing/logo-dark.png\";\nimport { withStyles, withRouter } from \"../../../utils\";\nimport { MasterDataForm, Button } from '../../../components';\nimport HomeModel from './model'\n\nconst styles = () => ({\n  container: {\n    textAlign: \"center\"\n  },\n  hrStyle: {\n    width: \"200px\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    textAlign: \"center\"\n  },\n  buttonForm: {\n    border: 'none',\n    backgroundColor: '#f5b61d',\n    padding: '10px 20px',\n    fontSize: '18px',\n    width: '250px',\n    color: 'white',\n    transition: '1s',\n    '&:hover': {\n      backgroundColor: '#e2a30a',\n      transition: '1s'\n    }\n  }\n})\n\nconst Home = ({ classes, reloadHome }) => {\n\n  return (\n    <Grid container className={classes.container}>\n      <Grid item>\n        <h1>Bem-vindo ao Wiki</h1>\n        <img src={Logo} alt=\"\" />\n        <hr className={classes.hrStyle} />\n        <h3>Contate-nos</h3>\n        <MasterDataForm\n          model={HomeModel.metadata}\n          fields={HomeModel.contact}\n          options={{\n            dontSave: true,\n            dontCreate: true,\n            dontDelete: true,\n            dontShowTree: true,\n            dontRedirect: true,\n          }}\n          hooks={{\n            afterDelete: reloadHome\n          }}\n          customContent={{\n            afterForm: ({ handleSubmit }) =>\n              <Button className={classes.buttonForm} text='Enviar' onClick={handleSubmit} />\n          }}\n        />\n      </Grid>\n    </Grid>\n  )\n}\n\nexport default withRouter(withStyles(styles, { withTheme: true })(Home));","import React from \"react\";\nimport { Grid } from \"@material-ui/core\";\nimport { withStyles, lodashForEach, lodashFlattenDeep, useAuth } from \"../../utils\";\nimport {\n  withMasterDataFormPage,\n  WikiPageWikiSectionsTable,\n  MasterDataForm\n} from \"../../components\";\nimport WikiPagesModel from \"./model\";\nimport TreeItem from \"./TreeItem\";\nimport Home from './home';\n\nconst styles = theme => ({\n  item: {\n    paddingLeft: `${theme.spacing(2)}px`\n  }\n});\n\nconst WikiPage = ({ classes }) => {\n  const { session } = useAuth();\n  const isAdminApp = session && session.isAdmin;\n  const fields = lodashFlattenDeep(WikiPagesModel.form);\n  if (!isAdminApp) {\n    lodashForEach(fields, field => (field.variants = \"wiki\"));\n  } else {\n    lodashForEach(fields, field => (field.variants = \"\"));\n  }\n  return withMasterDataFormPage({\n    ...WikiPagesModel,\n    options: {\n      ...WikiPagesModel.options,\n      readOnly: !isAdminApp,\n      dontSave: !isAdminApp,\n      dontDelete: !isAdminApp,\n      dontCreate: !isAdminApp\n    },\n    customContent: {\n      afterForm: ({ data }) =>\n        data.id && (\n          <React.Fragment>\n            <WikiPageWikiSectionsTable\n              options={{\n                readOnly: !isAdminApp\n              }}\n              wikiPage={data}\n            />\n          </React.Fragment>\n        ),\n      afterTreeItem: ({ data, reloadTree }) =>\n        data.id && <TreeItem data={data} reloadTree={reloadTree} isAdminApp={isAdminApp} />,\n      afterTree: ({ reloadTree }) =>\n        isAdminApp && (\n          <Grid item className={classes.item}>\n            <MasterDataForm\n              model={WikiPagesModel.metadata}\n              fields={WikiPagesModel.tree}\n              hooks={{\n                afterSubmit: reloadTree\n              }}\n              options={{\n                ...WikiPagesModel.options,\n                dontSave: true,\n                dontCreate: true,\n                dontDelete: true,\n                dontShowTree: true,\n                saveOnEnter: true\n              }}\n            />\n          </Grid>\n        ),\n      replaceNewItem: () =>\n        <Home />\n    }\n  });\n};\n\nexport default withStyles(styles, { withTheme: true })(WikiPage);\n","import React from 'react';\nimport moment from 'moment';\nimport { lodashGet, useAuth } from '../../../utils';\nimport { Typography } from '@material-ui/core';\n\nconst customTree = ({ data = {} }) => {\n\n  const status = {\n    \"ABERTO\": {\n      style: {\n        fontSize: '14px',\n        width: '90px',\n        borderRadius: '20px',\n        backgroundColor: 'rgb(129, 215, 66)',\n        color: 'white',\n        textAlign: 'center'\n      }\n    },\n    \"FECHADO\": {\n      style: {\n        fontSize: '14px',\n        width: '90px',\n        borderRadius: '20px',\n        backgroundColor: 'rgb(51, 51, 51)',\n        color: 'white',\n        textAlign: 'center'\n      }\n    },\n    \"URGENTE\": {\n      style: {\n        fontSize: '14px',\n        width: '90px',\n        borderRadius: '20px',\n        backgroundColor: 'red',\n        color: 'white',\n        textAlign: 'center'\n      }\n    }\n  }\n\n  const style = lodashGet(status[data.ticket_status.name], 'style')\n\n  return (\n    <React.Fragment>\n      <Typography variant=\"body1\">{data.title}</Typography>\n      <Typography variant=\"subtitle2\">\n        {moment(data.createdAt).format('DD/MMM/YYYY HH:mm')}\n      </Typography>\n        <div style={{ ...style }}>\n          {data.ticket_status.name}\n        </div>\n    </React.Fragment>\n  )\n}\nexport const form = [\n  [\n    {\n      text: 'Titulo',\n      identity: 'title',\n      type: 'string',\n      required: true,\n      customTree,\n    }\n  ],\n  [\n    {\n      text: 'Criado em',\n      identity: 'createdAt',\n      type: 'datetime',\n      readOnly: true\n    },\n    {\n      text: \"Status\",\n      identity: \"ticketStatusId\",\n      required: true,\n      model: \"ticket_statuses\",\n      defaultValue: {\n        config: \"ticket.status.init\"\n      },\n      readOnly: {\n        useCustomIf: ({ }) => {\n          const { session } = useAuth();\n          const isAdmin = lodashGet(session, 'isAdmin')\n          return !isAdmin;\n        }\n      }\n    }\n  ]\n]\n\nexport const links = [\n  {\n    text: \"Tickets\",\n    href: \"/support\"\n  }\n]\n\nexport const metadata = {\n  name: \"tickets\",\n  paramsProp: \"ticketId\",\n  listPath: \"/support\",\n  formPath: \"/support\",\n  newItemText: \"Novo\"\n}\n\nexport default {\n  form,\n  links,\n  metadata,\n  query: {\n    $sort: { title: 1 },\n    $populateAll: true\n  },\n  customContent: {\n    customTree: customTree\n  }\n}","import React, { useEffect, useContext } from \"react\";\nimport { Grid } from \"@material-ui/core\";\nimport {\n  withStyles,\n  useAuth,\n  useGetService,\n  useFindService,\n  lodashGet,\n  lodashDebounce,\n} from \"../../utils\";\nimport {\n  MasterDataForm,\n  ChatSupport,\n} from \"../../components\";\nimport TicketModel from \"./tickets/model\";\n\nimport ApiContext from \"../../api\";\nimport TicketList from '../../components/layout/TicketsList';\n\nconst styles = theme => ({\n  logo: {\n    width: 250,\n  },\n  headerLogo: {\n    textAlign: \"center\"\n  },\n  tree: {\n    height: '100%',\n    width: \"25%\",\n    overflowY: \"auto\",\n    overflowX: \"hidden\"\n  },\n  wrapper: {\n    borderLeft: 'solid 2px #00000075',\n    //backgroundColor: 'pink',\n    flex: 1,\n    overflowX: \"auto\",\n    display: 'flex',\n    flexDirection:'column',\n  },\n  container: {\n    margin: '-24px',\n    width: 'calc(100% + 48px)',\n    height: 'calc(100% + 48px)',\n    overflow: 'overlay',    \n    //backgroundColor: 'purple',\n  },\n  containerButton: {\n    //backgroundColor: 'red',\n    padding: '6px 16px',\n    minHeight: 44,\n    marginBottom: theme.spacing(2)\n  }\n});\n\nconst Support = ({ classes, match: { params } }) => {\n\n  const client = useContext(ApiContext);\n\n  const { session } = useAuth();\n  const isAdminApp = lodashGet(session, \"isAdmin\");\n\n  const {\n    item: ticketItem,\n    loading: ticketLoading,\n    errors: ticketErrors,\n    reload\n  } = useGetService({\n    model: \"tickets\",\n    id: params.ticketId\n  })\n\n  const { list: listTicket, reload: reloadTicket } = useFindService({\n    model: \"tickets\",\n    query: {\n      $populateAll: true,\n      $sort: {\n        createdAt: -1\n      }\n    }\n  });\n\n  useEffect(() => {\n    const onNewEvent = lodashDebounce(() => reload(), 300);\n    const onPatched = data => {\n      if (`${data.id}` === `${params.ticketId}`) {\n        onNewEvent();\n      }\n    };\n    client.service(\"tickets\").on(\"patched\", onPatched);\n    return () =>\n      client.service(\"tickets\").removeListener(\"patched\", onPatched);\n  }, [client, params.ticketId, reload]);\n\n  return (\n    <Grid container  className={classes.container}>\n        <TicketList isAdminApp={isAdminApp} />\n      <Grid item className={classes.wrapper}>\n        {ticketItem && \n          <ChatSupport id='chat' ticket={ticketItem} session={session} data={ticketItem}/>\n        }\n        {!ticketItem &&  !isAdminApp &&\n        <div style={{margin: '24px'}}>\n          <MasterDataForm\n            model={TicketModel.metadata}\n            fields={TicketModel.form}\n            data={ticketItem}\n            formErrors={ticketErrors}\n            loading={ticketLoading}\n            options={{\n              dontDelete: true,\n              dontCreate: true,\n              chatSupport: true,\n              isAdmin: isAdminApp,\n              dontShowTree: true,\n              dontUseEnter: true\n            }}\n            hooks={{\n              \"afterSubmit\": [\n                (() => {\n                  reload()\n                  reloadTicket()\n                })\n              ]\n            }}\n          />\n          </div>\n      }\n      </Grid>\n    </Grid>\n  )\n}\n\nexport default withStyles(styles, { withTheme: true })(Support);","import React, { useContext, useState } from \"react\";\n// import { Grid } from \"@material-ui/core\";\nimport ApiContext from \"../../api\";\nimport { withStyles } from \"../../utils\";\n// import logo from \"./monitorprod.png\";\n// eslint-disable-next-line no-unused-vars\nimport LandingCSS from \"./home.css\";\n// eslint-disable-next-line no-unused-vars\nimport BootstrapCSS from \"./bootstrap.min.css\";\n// eslint-disable-next-line no-unused-vars\nimport AllCSS from \"./all.min.css\";\n// eslint-disable-next-line no-unused-vars\nimport AgencyCSS from \"./agency.min.css\";\nimport introIMG from \"./intro.jpg\";\nimport about1IMG from \"./about1.jpg\";\nimport about2IMG from \"./about2.jpg\";\nimport about3IMG from \"./about3.jpg\";\nimport about4IMG from \"./about4.jpg\";\nimport logoPNG from \"./logo.png\";\nimport logoDarkPNG from \"./logo-dark.png\";\nimport favicon32 from \"./favicon-32x32.png\";\nimport favicon16 from \"./favicon-16x16.png\";\nimport BackgroundShowcase1 from \"./bg-showcase-1.png\";\nimport BackgroundShowcase2 from \"./bg-showcase-2.png\";\nimport BackgroundShowcase3 from \"./bg-showcase-3.png\";\n\nconst styles = theme => ({\n  grid: {\n    height: \"100%\"\n  }\n});\n\nconst LandingPage = ({ classes, title }) => {\n  const client = useContext(ApiContext);\n  const [contact, setContact] = useState({\n    name: \"\",\n    email: \"\",\n    phone: \"\",\n    message: \"\"\n  });\n  const [success, setSuccess] = useState();\n  const [error, setError] = useState();\n  const handleChange = ({ target }) => {\n    setContact(prev => ({ ...prev, [target.name]: target.value }));\n    setSuccess(false);\n  };\n  const handleSubmit = async () => {\n    if (!contact.name || !contact.email || !contact.phone || !contact.message) {\n      return setError(true);\n    }\n    setError(false);\n    await client.service(\"site_contacts\").create(contact);\n    setSuccess(true);\n    setContact({\n      name: \"\",\n      email: \"\",\n      phone: \"\",\n      message: \"\"\n    });\n  };\n  return (\n    // <Grid container direction=\"column\" justify=\"center\" alignItems=\"center\" className={classes.grid}>\n    //   {/* <Typography variant=\"h1\">{title}</Typography> */}\n    //   <img alt=\"logo\" src={logo} style={{ width: \"100%\" }} />\n    // </Grid>\n    <div lang=\"pt-br\" style={{ margin: \"-24px\" }}>\n      <div>\n        <meta charSet=\"utf-8\" />\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1, shrink-to-fit=no\" />\n        <meta name=\"description\" content=\"\" />\n        <meta name=\"author\" content=\"\" />\n        <link rel=\"icon\" type=\"image/png\" sizes=\"32x32\" href={favicon32} />\n        <link rel=\"icon\" type=\"image/png\" sizes=\"16x16\" href={favicon16} />\n        <title>MonitorProd</title>\n        <link\n          href=\"https://fonts.googleapis.com/css?family=Montserrat:400,700\"\n          rel=\"stylesheet\"\n          type=\"text/css\"\n        />\n        <link\n          href=\"https://fonts.googleapis.com/css?family=Kaushan+Script\"\n          rel=\"stylesheet\"\n          type=\"text/css\"\n        />\n        <link\n          href=\"https://fonts.googleapis.com/css?family=Droid+Serif:400,700,400italic,700italic\"\n          rel=\"stylesheet\"\n          type=\"text/css\"\n        />\n        <link\n          href=\"https://fonts.googleapis.com/css?family=Roboto+Slab:400,100,300,700\"\n          rel=\"stylesheet\"\n          type=\"text/css\"\n        />\n        <link href=\"https://fonts.googleapis.com/css?family=Ubuntu\" rel=\"stylesheet\" />\n      </div>\n      <div id=\"page-top\" className=\"vsc-initialized\">\n        <nav className=\"navbar navbar-expand-lg navbar-dark fixed-top\" id=\"mainNav\">\n          <div className=\"container\">\n            <a className=\"navbar-brand js-scroll-trigger\" href=\"#page-top\">\n              <img width=\"182\" className=\"img-fluid d-block mx-auto\" src={logoPNG} alt=\"\" />\n            </a>\n            <button\n              className=\"navbar-toggler navbar-toggler-right\"\n              type=\"button\"\n              data-toggle=\"collapse\"\n              data-target=\"#navbarResponsive\"\n              aria-controls=\"navbarResponsive\"\n              aria-expanded=\"false\"\n              aria-label=\"Toggle navigation\"\n            >\n              Menu\n              <i className=\"fas fa-bars\" />\n            </button>\n            <div className=\"collapse navbar-collapse\" id=\"navbarResponsive\">\n              <ul className=\"navbar-nav text-uppercase ml-auto\">\n                <li className=\"nav-item\">\n                  <a className=\"nav-link js-scroll-trigger\" href=\"#services\">\n                    MonitorProd\n                  </a>\n                </li>\n                <li className=\"nav-item\">\n                  <a className=\"nav-link js-scroll-trigger\" href=\"#tecnologias\">\n                    Tecnologias\n                  </a>\n                </li>\n                <li className=\"nav-item\">\n                  <a className=\"nav-link js-scroll-trigger\" href=\"#about\">\n                    Sistema\n                  </a>\n                </li>\n                <li className=\"nav-item\">\n                  <a className=\"nav-link js-scroll-trigger\" href=\"#contact\">\n                    Contato\n                  </a>\n                </li>\n              </ul>\n            </div>\n          </div>\n        </nav>\n        <header className=\"masthead\">\n          <div className=\"container\">\n            <div className=\"intro-text\">\n              <div className=\"intro-lead-in\">Monitoramento de Produção</div>\n              <div className=\"intro-heading text-uppercase\" style={{ color: \"#e4b535\" }}>\n                MAIOR DESEMPENHO\n                <br />E PRODUTIVIDADE\n              </div>\n              <a className=\"btn btn-primary btn-xl text-uppercase js-scroll-trigger\" href=\"#about\">\n                Como funciona\n              </a>\n            </div>\n          </div>\n        </header>\n        <section>\n          <div className=\"container\">\n            <div className=\"row text-center\" style={{ paddingTop: \"15px\" }}>\n              <div className=\"col-md-4\">\n                <span className=\"fa-stack fa-4x\">\n                  <i className=\"fas fa-circle fa-stack-2x text-primary\" />\n                  <i className=\"fas fa-sitemap fa-stack-1x fa-inverse\" />\n                </span>\n                <h4 className=\"service-heading\">Conexão Inteligente</h4>\n                <p className=\"text-muted\">\n                  <br />\n                  Acesso á qualquer hora, de qualquer lugar, via desktop, tablet ou mobile, sem\n                  operador de máquina e compatibilidade em multiplataformas.\n                </p>\n              </div>\n              <div className=\"col-md-4\">\n                <span className=\"fa-stack fa-4x\">\n                  <i className=\"fas fa-circle fa-stack-2x text-primary\" />\n                  <i className=\"fas fa-laptop fa-stack-1x fa-inverse\" />\n                </span>\n                <h4 className=\"service-heading\">\n                  Monitoramento em\n                  <br />\n                  Tempo Real\n                </h4>\n                <p className=\"text-muted\">\n                  Linha de produção acessível 24/7 com dados em nuvem. Melhor tomada de decisão para\n                  investimentos futuros.\n                </p>\n              </div>\n              <div className=\"col-md-4\">\n                <span className=\"fa-stack fa-4x\">\n                  <i className=\"fas fa-circle fa-stack-2x text-primary\" />\n                  <i className=\"fas fa-tachometer-alt fa-stack-1x fa-inverse\" />\n                </span>\n                <h4 className=\"service-heading\">Melhor Custo-benefício</h4>\n                <p className=\"text-muted\">\n                  <br />\n                  Desenvolvido para a indústria de plástico, fácil operação e instalação via wifi,\n                  com custo mais barato que uma hora-máquina.\n                </p>\n              </div>\n            </div>\n          </div>\n        </section>\n        <section id=\"services\" className=\"page-section clearfix\">\n          <div className=\"container\">\n            <div className=\"intro\">\n              <img className=\"intro-img img-fluid mb-3 mb-lg-0 rounded\" src={introIMG} alt=\"\" />\n              <div className=\"intro-text left-0 text-center bg-faded p-5 rounded\">\n                <h2 className=\"section-heading mb-4\">\n                  <span className=\"section-heading-lower\">Quem Somos</span>\n                </h2>\n                <p className=\"mb-3\">\n                  A monitorProd é uma empresa inovadora na área da tecnologia e adepta do conceito\n                  IoT. Com foco no desenvolvimento de sistemas compostos por hardware + software que\n                  monitoram a produção de peças plásticas injetadas, sua equipe é formada por\n                  profissionais da área de moldes, injeção e de TI.\n                </p>\n                <div className=\"intro-button mx-auto\">\n                  <a className=\"btn btn-primary btn-xl js-scroll-trigger\" href=\"#contact\">\n                    Entre em Contato\n                  </a>\n                </div>\n              </div>\n            </div>\n          </div>\n        </section>\n        <section className=\"showcase\" id=\"tecnologias\">\n          <div className=\"container-fluid p-0\">\n            <div className=\"row\">\n              <div className=\"col-lg-12 text-center\">\n                <h2 className=\"section-heading text-uppercase\">Tecnologias</h2>\n              </div>\n            </div>\n            <div className=\"row no-gutters\">\n              <div\n                className=\"col-lg-6 order-lg-2 text-white showcase-img\"\n                style={{\n                  backgroundImage:\n\t\t\t\t\t\t\t\t\t`url('${BackgroundShowcase1}')`\n                }}\n              />\n              <div className=\"col-lg-6 order-lg-1 my-auto showcase-text\">\n                <h2>Internet of Things</h2>\n                <p className=\"lead mb-0\">\n                  Com a internet das coisas, os sistemas ciber-físicos comunicam e cooperam entre si\n                  e com os humanos em tempo real, e através da computação em nuvem, ambos os\n                  serviços internos e intra-organizacionais são oferecidos e utilizados pelos\n                  participantes da cadeia de valor.\n                </p>\n              </div>\n            </div>\n            <div className=\"row no-gutters\">\n              <div\n                className=\"col-lg-6 text-white showcase-img\"\n                style={{\n                  backgroundImage:\n\t\t\t\t\t\t\t\t\t`url('${BackgroundShowcase2}')`\n                }}\n              />\n              <div className=\"col-lg-6 my-auto showcase-text\">\n                <h2>Industria 4.0</h2>\n                <p className=\"lead mb-0\">\n                  A Indústria 4.0 facilita a visão e execução de \"Fábricas Inteligentes\" com as suas\n                  estruturas modulares, os sistemas ciber-físicos monitoram os processos físicos,\n                  criam uma cópia virtual do mundo físico e tomam decisões descentralizadas.\n                </p>\n              </div>\n            </div>\n            <div className=\"row no-gutters\">\n              <div\n                className=\"col-lg-6 order-lg-2 text-white showcase-img\"\n                style={{\n                  backgroundImage:\n                    `url('${BackgroundShowcase3}')`\n                }}\n              />\n              <div className=\"col-lg-6 order-lg-1 my-auto showcase-text\">\n                <h2>Progressive Web Apps</h2>\n                <p className=\"lead mb-0\">\n                  MonitorProd pode ser utilizado em computadores, tablets e celulares e usa\n                  tecnologia PWA (Progressive Web Apps) o que facilita sua utilização em diversos\n                  dispositivos e sistemas operacionais como Windows, macOS, Linux, Android e iOS.\n                </p>\n              </div>\n            </div>\n          </div>\n        </section>\n        <section id=\"about\" style={{ backgroundColor: \"#e9ecef\" }}>\n          <div className=\"container\">\n            <div className=\"row\">\n              <div className=\"col-lg-12 text-center\" style={{ paddingTop: \"1rem\" }}>\n                <h2 className=\"section-heading text-uppercase\">O Sistema</h2>\n                <p className=\"lead mb-0\">\n                  Ideal para empresas que querem aderir a Indústria 4.0,\n                  <br />o sistema desenvolvido pela monitorProd monitora em tempo real os ciclos e\n                  as máquinas que estão paradas.\n                </p>\n              </div>\n            </div>\n            <div className=\"row\">\n              <div className=\"col-lg-12\">\n                <ul className=\"timeline\">\n                  <li>\n                    <div className=\"timeline-image\">\n                      <img className=\"rounded-circle img-fluid\" src={about1IMG} alt=\"\" />\n                    </div>\n                    <div className=\"timeline-panel\">\n                      <div className=\"timeline-body\">\n                        <p className=\"lead mb-0\">\n                          Para isso, conta com um hardware que fica instalado fisicamente na máquina\n                          injetora.\n                        </p>\n                      </div>\n                    </div>\n                  </li>\n                  <li className=\"timeline-inverted\">\n                    <div className=\"timeline-image\">\n                      <img className=\"rounded-circle img-fluid\" src={about2IMG} alt=\"\" />\n                    </div>\n                    <div className=\"timeline-panel\">\n                      <div className=\"timeline-body\">\n                        <p className=\"lead mb-0\">\n                          A cada ciclo, é realizada a captação de um sinal. A diferença entre duas leituras fecha o tempo de um ciclo.\n                        </p>\n                      </div>\n                    </div>\n                  </li>\n                  <li>\n                    <div className=\"timeline-image\">\n                      <img className=\"rounded-circle img-fluid\" src={about3IMG} alt=\"\" />\n                    </div>\n                    <div className=\"timeline-panel\">\n                      <div className=\"timeline-body\">\n                        <p className=\"lead mb-0\">\n                          Basicamente, num intervalo de 15 minutos, o hardware transfere dados para\n                          o servidor em nuvem.\n                        </p>\n                      </div>\n                    </div>\n                  </li>\n                  <li className=\"timeline-inverted\">\n                    <div className=\"timeline-image\">\n                      <img className=\"rounded-circle img-fluid\" src={about4IMG} alt=\"\" />\n                    </div>\n                    <div className=\"timeline-panel\">\n                      <div className=\"timeline-body\">\n                        <p className=\"lead mb-0\">\n                          Com isso, são gerados cálculos de produtividade, comparando o ciclo real\n                          com o ciclo programado.\n                        </p>\n                      </div>\n                    </div>\n                  </li>\n                  <li className=\"timeline-inverted\">\n                    <div className=\"timeline-image\">\n                      <h4>\n                        Venha inovar\n                        <br />\n                        com a\n                        <br />\n                        monitorProd\n                      </h4>\n                    </div>\n                    <div className=\"timeline-panel timeline-panel__last\">\n                      <div className=\"timeline-body\">\n                        <p\n                          className=\"text-muted\"\n                          style={{\n                            fontSize: \"1.5rem\",\n                            lineHeight: \"2rem\",\n                            color: \"#000000 !important\"\n                          }}\n                        >\n                          Venha inovar com a <b>monitorProd</b>\n                        </p>\n                      </div>\n                    </div>\n                  </li>\n                </ul>\n              </div>\n            </div>\n          </div>\n        </section>\n        <section id=\"contact\">\n          <div className=\"container\">\n            <div className=\"row\">\n              <div className=\"col-lg-12 text-center\" style={{ paddingTop: \"1rem\" }}>\n                <h2 className=\"section-heading text-uppercase\" style={{ color: \"#fff\" }}>Entre em Contato</h2>\n                <h5 className=\"section-subheading text-muted\" style={{ color: \"#fff\" }}>Saiba mais sobre nossos serviços</h5>\n              </div>\n            </div>\n            <div className=\"row\">\n              <div className=\"col-lg-12\" style={{ paddingTop: \"1rem\", paddingBottom: \"1rem\"}}>\n                <form id=\"contactForm\" name=\"sentMessage\" noValidate=\"novalidate\">\n                  <div className=\"row\">\n                    <div className=\"col-md-6\">\n                      <div className=\"form-group\">\n                        <input\n                          className=\"form-control\"\n                          id=\"name\"\n                          name=\"name\"\n                          type=\"text\"\n                          placeholder=\"Seu nome *\"\n                          required=\"required\"\n                          data-validation-required-message=\"Por favor insira seu nome.\"\n                          value={contact.name}\n                          onChange={handleChange}\n                        />\n                        <p className=\"help-block text-danger\" />\n                      </div>\n                      <div className=\"form-group\">\n                        <input\n                          className=\"form-control\"\n                          id=\"email\"\n                          name=\"email\"\n                          type=\"email\"\n                          placeholder=\"Seu e-mail *\"\n                          required=\"required\"\n                          data-validation-required-message=\"Por favor insira seu e-mail.\"\n                          value={contact.email}\n                          onChange={handleChange}\n                        />\n                        <p className=\"help-block text-danger\" />\n                      </div>\n                      <div className=\"form-group\">\n                        <input\n                          className=\"form-control\"\n                          id=\"phone\"\n                          name=\"phone\"\n                          type=\"tel\"\n                          placeholder=\"Seu telefone *\"\n                          required=\"required\"\n                          data-validation-required-message=\"Por favor insira um telefone para contato.\"\n                          value={contact.phone}\n                          onChange={handleChange}\n                        />\n                        <p className=\"help-block text-danger\" />\n                      </div>\n                    </div>\n                    <div className=\"col-md-6\">\n                      <div className=\"form-group\">\n                        <textarea\n                          className=\"form-control\"\n                          id=\"message\"\n                          name=\"message\"\n                          placeholder=\"Sua mensagem *\"\n                          required=\"required\"\n                          data-validation-required-message=\"Por favor insira uma mensagem.\"\n                          value={contact.message}\n                          onChange={handleChange}\n                        />\n                        <p className=\"help-block text-danger\" />\n                      </div>\n                    </div>\n                    <div className=\"clearfix\" />\n                    <div className=\"col-lg-12 text-center\">\n                      <div id=\"success\">\n                        {success && (\n                          <div className=\"alert alert-success\">\n                            <button\n                              type=\"button\"\n                              className=\"close\"\n                              data-dismiss=\"alert\"\n                              aria-hidden=\"true\"\n                            >\n                              &times;\n                            </button>\n                            <strong>Mensagem enviado.</strong>\n                          </div>\n                        )}\n                        {error && (\n                          <div className=\"alert alert-danger\">\n                            <button\n                              type=\"button\"\n                              className=\"close\"\n                              data-dismiss=\"alert\"\n                              aria-hidden=\"true\"\n                            >\n                              &times;\n                            </button>\n                            <strong>Todos os campos são de preenchimento obrigatório.</strong>\n                          </div>\n                        )}\n                      </div>\n                      <button\n                        id=\"sendMessageButton\"\n                        className=\"btn btn-primary btn-xl text-uppercase\"\n                        type=\"button\"\n                        onClick={handleSubmit}\n                      >\n                        Enviar Mensagem\n                      </button>\n                    </div>\n                  </div>\n                </form>\n              </div>\n            </div>\n          </div>\n        </section>\n        <section>\n          <div className=\"container\">\n            <div className=\"row justify-content-center\">\n              <div className=\"col-lg-8 text-center\">\n                <h2 className=\"mt-0\">\n                  <img src={logoDarkPNG} style={{ paddingTop: \"100px\" }} alt=\"\" />\n                </h2>\n                <hr className=\"divider my-4\" />\n                <a\n                  href=\"https://www.google.com/maps/place/Rua+Valenza,+154,+Colombo+-+PR\"\n                  className=\"text-muted mb-5\"\n                  style={{ color: \"#000 !important\" }}\n                >\n                  Rua Valenza, 154 - Alphavile Empresarial <br /> Colombo/PR - CEP 83413-576\n                </a>\n              </div>\n            </div>\n            <div className=\"row\">\n              <div className=\"col-lg-4 ml-auto text-center\">\n                <i\n                  className=\"fas fa-phone fa-3x mb-3 text-muted\"\n                  style={{ color: \"#000 !important\" }}\n                />\n                <a className=\"d-block\" href=\"tel:+5541991076618\">\n                  +55 41 9 9107-6618\n                </a>\n                <a className=\"d-block\" href=\"tel:+554131136618\">\n                  +55 41 3113-6618\n                </a>\n              </div>\n              <div className=\"col-lg-4 mr-auto text-center\">\n                <i\n                  className=\"fas fa-envelope fa-3x mb-3 text-muted\"\n                  style={{ color: \"#000 !important\" }}\n                />\n                <a\n                  className=\"d-block\"\n                  href=\"mailto:contato@monitorprod.com.br\"\n                  style={{ color: \"#000 !important\" }}\n                >\n                  contato@monitorprod.com.br\n                </a>\n              </div>\n            </div>\n          </div>\n          <footer>\n            <div className=\"container\">\n              <div className=\"row\">\n                <div className=\"col-md-4\">\n                  <span className=\"copyright\">Copyright © monitorProd 2019</span>\n                </div>\n                <div className=\"col-md-4\">\n                  <ul className=\"list-inline social-buttons\">\n                    <li className=\"list-inline-item\">\n                      {/* eslint-disable-next-line react/jsx-no-target-blank */}\n                      <a href=\"https://www.facebook.com/monitorProd/\" target=\"_blank\">\n                        <i className=\"fab fa-facebook-f\" />\n                      </a>\n                    </li>\n                    <li className=\"list-inline-item\">\n                      {/* eslint-disable-next-line react/jsx-no-target-blank */}\n                      <a href=\"https://www.linkedin.com/company/monitorprod\" target=\"_blank\">\n                        <i className=\"fab fa-linkedin-in\" />\n                      </a>\n                    </li>\n                  </ul>\n                </div>\n                <div className=\"col-md-4\">\n                  {/* eslint-disable-next-line react/jsx-no-target-blank */}\n                  <span>\n                    Desenvolvido por {/* eslint-disable-next-line react/jsx-no-target-blank */}\n                    <a href=\"http://pierbotteroweb.me\" target=\"_blank\">\n                      Pier Bottero Web\n                    </a>\n                  </span>\n                </div>\n              </div>\n            </div>\n          </footer>\n          <script src=\"https://pierbotteroweb.bitbucket.io/monitorProd/vendor/jquery/jquery.min.js\" />\n          <script src=\"https://pierbotteroweb.bitbucket.io/monitorProd/vendor/bootstrap/js/bootstrap.bundle.min.js\" />\n          <script src=\"https://pierbotteroweb.bitbucket.io/monitorProd/vendor/jquery-easing/jquery.easing.min.js\" />\n          <script src=\"https://pierbotteroweb.bitbucket.io/monitorProd/js/jqBootstrapValidation.js\" />\n          <script src=\"https://pierbotteroweb.bitbucket.io/monitorProd/js/agency.min.js\" />\n        </section>\n      </div>\n    </div>\n  );\n};\n\nexport default withStyles(styles, { withTheme: true })(LandingPage);\n","import React from \"react\";\nimport { Grid, Typography } from \"@material-ui/core\";\nimport { withStyles } from \"../../utils\";\n\nconst styles = theme => ({\n  grid: {\n    height: \"100%\"\n  }\n});\n\nconst UnderConstructionPage = ({ classes }) => (\n  <Grid container direction=\"column\" justify=\"center\" alignItems=\"center\" className={classes.grid}>\n    <Typography variant=\"h2\">Em Construção</Typography>\n  </Grid>\n);\n\nexport default withStyles(styles, { withTheme: true })(UnderConstructionPage);\n","import React from \"react\";\nimport { SvgIcon } from \"@material-ui/core\";\n\nexport const MoldIcon = props => {\n  return (\n    <SvgIcon {...props} viewBox=\"0 0 192 192\">\n      <path\n        // id=\"Mi\"\n        d=\"M98 172.32H32.5l-.53-.02-.52-.03-.52-.05-.52-.07-.5-.1-.5-.1-.5-.13-.48-.15-.48-.17-.46-.2-.46-.2-.45-.22-.44-.24-.42-.25-.42-.27-.4-.3-.4-.3-.38-.32-.37-.32-.36-.35-.34-.35-.33-.37-.3-.38-.3-.4-.3-.4-.27-.42-.25-.43-.24-.44-.22-.44-.2-.46-.18-.47-.17-.47-.15-.5-.14-.5-.1-.5-.1-.5-.07-.5-.06-.52-.03-.53-.01-.53.01-126.94.03-.54.06-.54.07-.53.1-.53.12-.52.13-.5.16-.5.18-.5.2-.5.2-.47.23-.46.25-.46.26-.44.28-.43.3-.43.3-.4.33-.4.34-.38.35-.37.37-.36.4-.34.4-.33.4-.3.42-.3.43-.28.45-.27.45-.24.46-.23.48-.22.48-.2.5-.17.5-.16.5-.14.52-.1.52-.1.54-.08.53-.05.55-.03.55-.02h65v29.36L68 62.8v66.97l30 13.76v28.8zm16-152.64l45.8.02.54.03.53.05.52.08.52.1.5.12.5.13.5.15.48.18.48.2.47.2.45.23.45.24.43.26.43.27.4.3.4.3.4.32.38.34.36.35.35.36.33.38.32.38.3.4.3.4.28.42.5.88.22.46.2.47.2.47.17.5.15.5.14.5.1.5.1.5.07.53.06.53.03.53.01.54-.04 127.42-.06.53-.07.52-.1.52-.1.5-.14.5-.15.5-.17.5-.2.48-.2.47-.23.45-.24.45-.26.44-.28.43-.3.4-.3.4-.32.4-.34.38-.35.37-.36.35-.38.33-.4.33-.4.3-.42.3-.43.28-.43.26-.45.24-.46.23-.47.2-.48.2-.48.17-.5.16-.5.13-.5.12-.52.1-.53.08-.53.05-.53.03-.55.02H114v-38.26l-29.45-13.2V71.72L114 58.5V19.68z\"\n      />\n    </SvgIcon>\n  );\n};\n\nexport const InjectorIcon = props => {\n  return (\n    <SvgIcon {...props} viewBox=\"0 0 192 192\">\n      <path\n        id=\"Ii\"\n        d=\"m171.11 112.22l0.2 0.02 0.2 0.03 0.2 0.04 0.19 0.04 0.2 0.06 0.19 0.05 0.18 0.07 0.18 0.07 0.18 0.08 0.18 0.09 0.17 0.09 0.16 0.1 0.17 0.11 0.15 0.11 0.16 0.11 0.15 0.13 0.14 0.12 0.14 0.14 0.13 0.14 0.13 0.14 0.12 0.15 0.12 0.15 0.11 0.16 0.11 0.16 0.1 0.17 0.09 0.17 0.08 0.18 0.08 0.17 0.08 0.19 0.06 0.18 0.06 0.19 0.05 0.19 0.05 0.2 0.03 0.19 0.03 0.2 0.02 0.21 0.01 0.2 0.01 0.21v27.99l-0.01 0.62-0.04 0.61-0.06 0.61-0.09 0.6-0.11 0.58-0.13 0.59-0.15 0.57-0.18 0.56-0.19 0.55-0.22 0.55-0.24 0.53-0.25 0.52-0.28 0.51-0.3 0.5-0.31 0.48-0.33 0.48-0.35 0.45-0.37 0.45-0.38 0.43-0.4 0.41-0.42 0.4-0.43 0.38-0.44 0.37-0.46 0.35-0.47 0.33-0.48 0.32-0.5 0.29-0.51 0.28-0.52 0.26-0.54 0.23-0.54 0.22-0.55 0.2-0.57 0.17-0.57 0.16-0.58 0.13-0.59 0.11-0.6 0.08-0.6 0.06-0.61 0.04-0.62 0.01h-17.15l-16.15-17.48h-62.68l-16.9 17.48h-16.27l-0.63-0.01-0.62-0.04-0.62-0.06-0.61-0.09-0.6-0.11-0.6-0.13-0.58-0.16-0.58-0.18-0.56-0.2-0.55-0.22-0.55-0.24-0.53-0.27-0.52-0.28-0.51-0.3-0.49-0.32-0.49-0.34-0.46-0.36-0.46-0.37-0.43-0.39-0.43-0.41-0.41-0.42-0.39-0.44-0.37-0.45-0.36-0.47-0.34-0.48-0.32-0.5-0.3-0.51-0.28-0.52-0.26-0.53-0.25-0.54-0.22-0.56-0.2-0.56-0.18-0.58-0.15-0.58-0.14-0.59-0.11-0.61-0.09-0.61-0.06-0.61-0.04-0.63-0.01-0.63v-27.85l0.01-0.2 0.01-0.2 0.02-0.2 0.02-0.19 0.04-0.19 0.04-0.19 0.05-0.18 0.06-0.19 0.06-0.18 0.07-0.17 0.08-0.17 0.08-0.17 0.09-0.17 0.1-0.16 0.1-0.15 0.11-0.16 0.11-0.15 0.12-0.14 0.12-0.14 0.13-0.13 0.14-0.13 0.13-0.13 0.15-0.11 0.15-0.12 0.15-0.1 0.16-0.11 0.16-0.09 0.16-0.09 0.17-0.08 0.17-0.08 0.18-0.07 0.18-0.07 0.18-0.05 0.18-0.05 0.19-0.04 0.19-0.04 0.2-0.03 0.19-0.02 0.2-0.01h0.2 149.57 0.21l0.2 0.01zm-27.42-56.25l-8.69-17.39h23.42l-8.06 17.39h25.27v32.02h-97.96v12.15h-61.39v-52.39l0.01-0.66 0.04-0.65 0.07-0.65 0.09-0.63 0.12-0.63 0.13-0.62 0.17-0.61 0.18-0.6 0.21-0.59 0.24-0.57 0.25-0.57 0.27-0.56 0.3-0.54 0.31-0.53 0.34-0.52 0.35-0.5 0.37-0.49 0.39-0.47 0.41-0.46 0.43-0.44 0.44-0.42 0.45-0.41 0.48-0.39 0.49-0.37 0.5-0.36 0.51-0.33 0.53-0.32 0.55-0.29 0.55-0.28 0.57-0.25 0.58-0.23 0.59-0.21 0.6-0.19 0.61-0.16 0.61-0.14 0.63-0.11 0.64-0.09 0.64-0.07 0.65-0.04 0.66-0.01h45.43v24.18h66.02zm-115.44 32.02h11.99v-44.15h-11.99v44.15zm23.98 0h12v-44.15h-12v44.15z\"\n      />\n    </SvgIcon>\n  );\n};\n\nexport const InjectorFrontIcon = props => {\n  return (\n    <SvgIcon {...props} viewBox=\"0 0 192 192\">\n      <path\n        id=\"IFi\"\n        d=\"m160.75 19.83l0.51 0.05 0.51 0.08 0.51 0.09 0.49 0.11 0.49 0.13 0.48 0.15 0.47 0.17 0.47 0.19 0.45 0.2 0.45 0.22 0.43 0.23 0.43 0.26 0.41 0.26 0.4 0.29 0.39 0.3 0.38 0.31 0.37 0.33 0.35 0.34 0.34 0.35 0.33 0.37 0.31 0.38 0.3 0.39 0.29 0.4 0.26 0.41 0.26 0.43 0.23 0.43 0.22 0.45 0.2 0.45 0.19 0.47 0.17 0.47 0.15 0.48 0.13 0.49 0.11 0.49 0.09 0.51 0.08 0.51 0.05 0.51 0.03 0.52 0.01 0.53v126.44l-0.01 0.52-0.03 0.52-0.05 0.51-0.08 0.5-0.09 0.5-0.11 0.48-0.13 0.49-0.14 0.47-0.17 0.47-0.18 0.45-0.2 0.45-0.22 0.44-0.23 0.43-0.25 0.42-0.27 0.41-0.28 0.4-0.29 0.38-0.31 0.37-0.32 0.37-0.34 0.35-0.35 0.33-0.36 0.32-0.37 0.31-0.39 0.3-0.39 0.28-0.41 0.26-0.42 0.25-0.43 0.23-0.44 0.22-0.45 0.2-0.46 0.18-0.46 0.17-0.48 0.15-0.48 0.13-0.49 0.11-0.49 0.09-0.51 0.07-0.51 0.05-0.51 0.03-0.52 0.01h-21.59l-15.43-11.71h-55.95l-15.67 11.71h-18.47l-0.52-0.01-0.51-0.03-0.51-0.05-0.5-0.07-0.5-0.09-0.49-0.11-0.48-0.13-0.47-0.15-0.47-0.17-0.46-0.18-0.45-0.2-0.44-0.22-0.42-0.23-0.42-0.25-0.41-0.26-0.4-0.28-0.38-0.3-0.38-0.31-0.36-0.32-0.35-0.33-0.34-0.35-0.32-0.37-0.31-0.37-0.29-0.38-0.28-0.4-0.26-0.41-0.25-0.42-0.24-0.43-0.21-0.44-0.2-0.45-0.19-0.45-0.16-0.47-0.15-0.47-0.13-0.49-0.11-0.48-0.09-0.5-0.07-0.5-0.05-0.51-0.04-0.52-0.01-0.52v-126.61l0.01-0.52 0.04-0.51 0.05-0.51 0.07-0.51 0.09-0.49 0.11-0.49 0.13-0.48 0.15-0.48 0.16-0.46 0.19-0.46 0.2-0.45 0.21-0.44 0.24-0.43 0.25-0.42 0.26-0.41 0.28-0.39 0.29-0.39 0.31-0.37 0.32-0.36 0.34-0.35 0.35-0.34 0.36-0.32 0.38-0.31 0.38-0.29 0.4-0.28 0.41-0.27 0.42-0.25 0.42-0.23 0.44-0.22 0.45-0.2 0.46-0.18 0.47-0.17 0.47-0.14 0.48-0.13 0.49-0.11 0.5-0.09 0.5-0.08 0.51-0.05 0.51-0.03 0.52-0.01h126.94l0.53 0.01 0.52 0.03zm-14.64 94.15l-1.24 0.47-1.15 0.64-1.04 0.79-0.93 0.92-0.78 1.04-0.64 1.15-0.47 1.24-0.3 1.32-0.1 1.38 0.1 1.38 0.3 1.32 0.47 1.24 0.64 1.14 0.78 1.05 0.93 0.92 1.04 0.79 1.15 0.63 1.24 0.48 1.31 0.29 1.38 0.1 1.38-0.1 1.32-0.29 1.24-0.48 1.15-0.63 1.04-0.79 0.93-0.92 0.78-1.05 0.64-1.14 0.47-1.24 0.3-1.32 0.1-1.38-0.1-1.38-0.3-1.32-0.47-1.24-0.64-1.15-0.78-1.04-0.93-0.92-1.04-0.79-1.15-0.64-1.24-0.47-1.32-0.29-1.38-0.11-1.38 0.11-1.31 0.29zm-105.64 0l-1.24 0.47-1.15 0.64-1.04 0.79-0.92 0.92-0.79 1.04-0.63 1.15-0.48 1.24-0.29 1.32-0.1 1.38 0.1 1.38 0.29 1.32 0.48 1.24 0.63 1.14 0.79 1.05 0.92 0.92 1.04 0.79 1.15 0.63 1.24 0.48 1.32 0.29 1.38 0.1 1.38-0.1 1.32-0.29 1.24-0.48 1.15-0.63 1.04-0.79 0.92-0.92 0.79-1.05 0.64-1.14 0.47-1.24 0.29-1.32 0.1-1.38-0.1-1.38-0.29-1.32-0.47-1.24-0.64-1.15-0.79-1.04-0.92-0.92-1.04-0.79-1.15-0.64-1.24-0.47-1.32-0.29-1.38-0.11-1.38 0.11-1.32 0.29zm36.25-60.25l9.19 22-0.97 0.51-1.08 0.64-1.03 0.7-0.99 0.75-0.95 0.81-0.9 0.85-0.85 0.9-0.81 0.95-0.75 0.99-0.7 1.03-0.64 1.08-0.58 1.11-0.52 1.14-0.46 1.18-0.4 1.2-0.33 1.24-0.25 1.26-0.19 1.29-0.12 1.31-0.03 1.33 0.03 1.33 0.12 1.31 0.19 1.29 0.25 1.26 0.33 1.24 0.4 1.2 0.46 1.18 0.52 1.14 0.58 1.11 0.64 1.08 0.7 1.03 0.75 0.99 0.81 0.95 0.85 0.9 0.9 0.85 0.95 0.81 0.99 0.75 1.03 0.7 1.08 0.64 1.11 0.58 1.14 0.52 1.18 0.46 1.2 0.4 1.24 0.33 1.26 0.25 1.29 0.19 1.31 0.12 1.33 0.03 1.33-0.03 1.31-0.12 1.29-0.19 1.26-0.25 1.24-0.33 1.2-0.4 1.18-0.46 1.14-0.52 1.11-0.58 1.08-0.64 1.03-0.7 0.99-0.75 0.95-0.81 0.9-0.85 0.85-0.9 0.81-0.95 0.75-0.99 0.7-1.03 0.64-1.08 0.58-1.11 0.52-1.14 0.46-1.18 0.4-1.2 0.33-1.24 0.25-1.26 0.19-1.29 0.12-1.31 0.03-1.33-0.03-1.33-0.12-1.31-0.19-1.29-0.25-1.26-0.33-1.24-0.4-1.2-0.46-1.18-0.52-1.14-0.58-1.11-0.64-1.08-0.7-1.03-0.75-0.99-0.81-0.95-0.85-0.9-0.9-0.85-0.95-0.81-0.99-0.75-1.03-0.7-1.08-0.64-0.97-0.51 9.19-22v-8.37h-38.56v8.37zm-36.25-21.61l-1.24 0.47-1.15 0.64-1.04 0.79-0.92 0.92-0.79 1.04-0.63 1.15-0.48 1.24-0.29 1.32-0.1 1.38 0.1 1.38 0.29 1.31 0.48 1.24 0.63 1.15 0.79 1.05 0.92 0.92 1.04 0.78 1.15 0.64 1.24 0.47 1.32 0.3 1.38 0.1 1.38-0.1 1.32-0.3 1.24-0.47 1.15-0.64 1.04-0.78 0.92-0.92 0.79-1.05 0.64-1.15 0.47-1.24 0.29-1.31 0.1-1.38-0.1-1.38-0.29-1.32-0.47-1.24-0.64-1.15-0.79-1.04-0.92-0.92-1.04-0.79-1.15-0.64-1.24-0.47-1.32-0.3-1.38-0.1-1.38 0.1-1.32 0.3zm105.64 0l-1.24 0.47-1.15 0.64-1.04 0.79-0.93 0.92-0.78 1.04-0.64 1.15-0.47 1.24-0.3 1.32-0.1 1.38 0.1 1.38 0.3 1.31 0.47 1.24 0.64 1.15 0.78 1.05 0.93 0.92 1.04 0.78 1.15 0.64 1.24 0.47 1.31 0.3 1.38 0.1 1.38-0.1 1.32-0.3 1.24-0.47 1.15-0.64 1.04-0.78 0.93-0.92 0.78-1.05 0.64-1.15 0.47-1.24 0.3-1.31 0.1-1.38-0.1-1.38-0.3-1.32-0.47-1.24-0.64-1.15-0.78-1.04-0.93-0.92-1.04-0.79-1.15-0.64-1.24-0.47-1.32-0.3-1.37-0.1-1.39 0.1-1.31 0.3z\"\n      />\n    </SvgIcon>\n  );\n};\n\nexport const MachineIcon = props => {\n  return (\n    <SvgIcon {...props} viewBox=\"0 0 24 24\">\n      <path\n        id=\"mI\"\n        d=\"m3.7773 4c-0.98489 0-1.7773 0.79245-1.7773 1.7773v12.445c0 0.98489 0.79245 1.7773 1.7773 1.7773h1.2227l2-2h10l2 2h1.2227c0.98489 0 1.7773-0.79246 1.7773-1.7773v-12.445c0-0.98489-0.79246-1.7773-1.7773-1.7773h-16.445zm0.22266 2h7v3h3 1 1l-1-2v-1h4v1l-1 2h1 1v2h-3-1-3-1-1v3h-7v-8z\"\n      />\n    </SvgIcon>\n  );\n};\n","import React from \"react\";\nimport { Grid } from \"@material-ui/core\";\nimport {\n  classNames,\n  withStyles,\n  lodashGet,\n  lodashMap,\n  useAuth\n} from \"../../utils\";\nimport { MasterDataCard } from \"../../components\";\n// import machinesIcon from \"../../icons/injector.svg\";\n// import moldsIcon from \"../../icons/mold.svg\";\nimport { MachineIcon , MoldIcon} from \"../../utils/svgIcons\";\n\n\nconst styles = theme => ({\n  disabled: {\n    pointerEvents: \"none\",\n    background: \"lightgrey\"\n  },\n  icon:{\n    color: theme.palette.type === \"dark\"? theme.palette.common.white : theme.palette.primary.main,\n    fontSize: 50\n  }\n});\n\n\nconst actions = ({ level,classes }) => [\n  {\n    name: \"Máquinas\",\n    // icon: { type: \"svg\", src: machinesIcon },\n    svgIcon: <MachineIcon className={classes.icon} />,// style={{ fontSize: 50, color: \"#424242\" }} />,\n    href: \"/master-data/machines\"\n  },\n  {\n    name: \"Moldes\",\n    svgIcon: <MoldIcon className={classes.icon}/>,\n    href: \"/master-data/molds\"\n  },\n  {\n    name: \"Produtos\",\n    icon: \"style\",\n    href: \"/master-data/products\",\n    disabled: level !== \"N1\"\n  },\n  {\n    name: \"Sensores\",\n    icon: \"memory\",\n    href: \"/master-data/sensors\"\n  },\n  {\n    name: \"Tempos de Configuração\",\n    icon: \"access_time\",\n    href: \"/master-data/setups\",\n    disabled: level !== \"N1\"\n  }\n];\n\nconst MasterDataPage = ({ classes }) => {\n  const { session } = useAuth();\n  const level = lodashGet(session, \"company.level\");\n  return (\n    <Grid container spacing={1}>\n      {lodashMap(\n        actions({ level, classes }),\n        ({ name, icon, svgIcon, description, href, disabled }) => (\n          <Grid\n            item\n            xs={12}\n            sm={6}\n            lg={4}\n            key={name}\n            className={classNames({ [classes.disabled]: disabled })}\n          >\n            <MasterDataCard\n              name={name}\n              description={description}\n              icon={icon}\n              svgIcon={svgIcon}\n              href={href}\n            />\n          </Grid>\n        )\n      )}\n    </Grid>\n  );\n};\n\nexport default withStyles(styles, { withTheme: true })(MasterDataPage);\n","import React from \"react\";\nimport { Typography, Grid, Icon, Avatar } from \"@material-ui/core\";\nimport {\n  Link,\n  withRouter,\n  withStyles,\n  classNames,\n  lodashGet,\n  lodashMap,\n  useGetService\n} from \"../../../utils\";\nimport { NotFound } from \"../../../components\";\n\nconst styles = theme => ({\n  card: {\n    color: theme.palette.common.black,\n    display: \"flex\",\n    padding: `${theme.spacing(1)}px ${theme.spacing(2)}px`\n  },\n  link: {\n    paddingLeft: `${theme.spacing(1)}px`,\n    textDecoration: \"none\"\n  },\n  selected: {\n    backgroundColor: theme.palette.primary.header\n    // TODO selected item with color\n    // color: theme.palette.primary.main\n  },\n  avatar: {\n    marginRight: theme.spacing(1),\n    color: theme.palette.primary.main\n  },\n  item: {\n    flexWrap: \"nowrap\"\n  }\n});\n\nconst MoldProductsList = ({ match: { params }, classes, model, mold }) => {\n  const { item, loading } = useGetService({\n    model: model.name,\n    id: mold.id\n  });\n  const empty = !loading && !lodashGet(item, \"products.length\");\n  return (\n    <React.Fragment>\n      {empty && <NotFound />}\n      {lodashMap(item.products, product => (\n        <Grid\n          item\n          xs={12}\n          key={product.id}\n          className={classNames(classes.link, {\n            [classes.selected]:\n              parseInt(params.moldId, \"10\") === mold.id &&\n              parseInt(params.productId, \"10\") === product.id\n          })}\n          component={Link}\n          to={`${model.formPath}/${mold.id}/products/${product.id}`}\n        >\n          <div className={classes.card}>\n            <Grid container alignItems=\"center\" className={classes.item}>\n              {product.image && (\n                <Avatar alt={product.name} src={product.image} className={classes.avatar} />\n              )}\n              {!product.image && model.icon && <Icon className={classes.avatar}>{model.icon}</Icon>}\n              <Typography variant=\"body1\">\n                {product.identity ? `${product.identity} - ` : \"\"} {product.name}\n              </Typography>\n            </Grid>\n          </div>\n        </Grid>\n      ))}\n    </React.Fragment>\n  );\n};\n\nexport default withRouter(withStyles(styles, { withTheme: true })(MoldProductsList));\n","import React from \"react\";\nimport { withStyles, lodashGet, useAuth } from \"../../../utils\";\nimport { withMasterDataFormPage, MoldProductsTable } from \"../../../components\";\nimport MoldProductsList from \"./MoldProductsList\";\nimport MoldsModel from \"./model\";\n\nconst styles = theme => ({});\n\nconst MasterDataMoldsFormPage = ({ classes }) => {\n  const { session } = useAuth();\n  const level = lodashGet(session, \"company.level\");\n  return withMasterDataFormPage({\n    ...MoldsModel,\n    customContent: {\n      afterForm: ({ data, reloadTree }) =>\n        data.id &&\n        level === \"N1\" && (\n          <MoldProductsTable\n            options={MoldsModel.options}\n            mold={data}\n            reloadTree={reloadTree}\n          />\n        ),\n      afterTreeItem: ({ data }) =>\n        data.id &&\n        level === \"N1\" && (\n          <MoldProductsList\n            model={{ ...MoldsModel.metadata, icon: \"style\" }}\n            mold={data}\n          />\n        )\n    }\n  });\n};\n\nexport default withStyles(styles, { withTheme: true })(MasterDataMoldsFormPage);\n","import React, { useContext } from \"react\";\nimport ApiContext from \"../../../api\";\nimport {\n  withRouter,\n  withStyles,\n  lodashGet,\n  useGetService\n} from \"../../../utils\";\nimport {\n  MasterDataForm,\n  MachineMoldProductsTable,\n  BreadCrumbs\n} from \"../../../components\";\nimport ProductsModel from \"../products/model\";\nimport MoldProductsList from \"./MoldProductsList\";\nimport MoldsModel from \"./model\";\n\nconst styles = theme => ({});\n\nconst MasterDataMoldsFormPage = ({ match: { params }, classes }) => {\n  const client = useContext(ApiContext);\n  const { item: mold, reload } = useGetService({\n    model: lodashGet(MoldsModel, \"metadata.name\"),\n    id: lodashGet(params, lodashGet(MoldsModel, \"metadata.paramsProp\"))\n  });\n  const { item: product, loading, errors } = useGetService({\n    model: lodashGet(ProductsModel, \"metadata.name\"),\n    id: lodashGet(params, lodashGet(ProductsModel, \"metadata.paramsProp\"))\n  });\n  const afterSubmit = async ({ data: product }) => {\n    await client.service(\"molds\").patch(mold.id, {\n      products: [{ ...product, cavities: mold.cavities }]\n    });\n    reload();\n  };\n  return (\n    <React.Fragment>\n      <BreadCrumbs\n        links={[\n          ...MoldsModel.links,\n          {\n            text: lodashGet(mold, \"id\")\n              ? mold.name\n              : lodashGet(MoldsModel, \"metadata.newItemText\"),\n            href: `${lodashGet(MoldsModel, \"metadata.formPath\")}/${lodashGet(\n              params,\n              lodashGet(MoldsModel, \"metadata.paramsProp\")\n            )}`\n          },\n          {\n            text: lodashGet(product, \"id\")\n              ? product.name\n              : lodashGet(ProductsModel, \"metadata.newItemText\"),\n            href: `${lodashGet(MoldsModel, \"metadata.formPath\")}/${lodashGet(\n              params,\n              lodashGet(MoldsModel, \"metadata.paramsProp\")\n            )}/products/${lodashGet(\n              params,\n              lodashGet(ProductsModel, \"metadata.paramsProp\")\n            )}`\n          }\n        ]}\n      />\n      <MasterDataForm\n        model={{\n          ...ProductsModel.metadata,\n          formPath: `${lodashGet(MoldsModel, \"metadata.formPath\")}/${lodashGet(\n            params,\n            lodashGet(MoldsModel, \"metadata.paramsProp\")\n          )}/products`\n        }}\n        treeModel={MoldsModel.metadata}\n        fields={ProductsModel.form}\n        data={product}\n        query={MoldsModel.query}\n        loading={loading}\n        errors={errors}\n        hooks={{\n          afterSubmit\n        }}\n        options={{\n          ...ProductsModel.options,\n          dontRedirect: true,\n          // TODO make create new work\n          dontCreate: true,\n          dontDelete: true\n        }}\n        customContent={{\n          afterForm: ({ data }) =>\n            data.id && (\n              <MachineMoldProductsTable\n                options={ProductsModel.options}\n                mold={mold}\n                product={data}\n              />\n            ),\n          afterTreeItem: ({ data }) =>\n            data.id && (\n              <MoldProductsList\n                model={{ ...MoldsModel.metadata, icon: \"style\" }}\n                mold={data}\n              />\n            )\n        }}\n      />\n    </React.Fragment>\n  );\n};\n\nexport default withRouter(\n  withStyles(styles, { withTheme: true })(MasterDataMoldsFormPage)\n);\n","import React from \"react\";\nimport { Switch } from \"../../utils\";\nimport { ClientRoute, withMasterDataListPage, withMasterDataFormPage } from \"../../components\";\nimport MasterDataPage from \"./\";\nimport UnderConstructionPage from \"../under-construction\";\nimport MasterDataMoldsFormPage from \"./molds/Form\";\nimport MasterDataMoldProductsFormPage from \"./molds/MoldProductForm\";\nimport { MachinesModel, MoldsModel, ProductsModel, SensorsModel, SetupsModel } from \"./models\";\n\nconst MasterDataRoutes = () => (\n  <React.Fragment>\n    <Switch>\n      <ClientRoute\n        exact\n        path=\"/master-data\"\n        permissions={[\"readMasterData\", \"writeMasterData\"]}\n        component={MasterDataPage}\n      />\n      <ClientRoute\n        exact\n        path=\"/master-data/machines\"\n        permissions={[\"readMasterData\", \"writeMasterData\"]}\n        component={() => withMasterDataListPage(MachinesModel)}\n      />\n      <ClientRoute\n        exact\n        path=\"/master-data/machines/:machineId\"\n        permissions={[\"readMasterData\", \"writeMasterData\"]}\n        component={() => withMasterDataFormPage(MachinesModel)}\n      />\n      <ClientRoute\n        exact\n        path=\"/master-data/molds\"\n        permissions={[\"readMasterData\", \"writeMasterData\"]}\n        component={() => withMasterDataListPage(MoldsModel)}\n      />\n      <ClientRoute\n        exact\n        path=\"/master-data/molds/:moldId\"\n        permissions={[\"readMasterData\", \"writeMasterData\"]}\n        component={MasterDataMoldsFormPage}\n      />\n      <ClientRoute\n        exact\n        path=\"/master-data/molds/:moldId/products/:productId\"\n        permissions={[\"readMasterData\", \"writeMasterData\"]}\n        component={MasterDataMoldProductsFormPage}\n      />\n      <ClientRoute\n        exact\n        path=\"/master-data/products\"\n        permissions={[\"readMasterData\", \"writeMasterData\"]}\n        component={() => withMasterDataListPage(ProductsModel)}\n      />\n      <ClientRoute\n        exact\n        path=\"/master-data/products/:productId\"\n        permissions={[\"readMasterData\", \"writeMasterData\"]}\n        component={() => withMasterDataFormPage(ProductsModel)}\n      />\n      <ClientRoute\n        exact\n        path=\"/master-data/sensors\"\n        permissions={[\"readMasterData\", \"writeMasterData\"]}\n        component={() => withMasterDataListPage(SensorsModel)}\n      />\n      <ClientRoute\n        exact\n        path=\"/master-data/sensors/:sensorId\"\n        permissions={[\"readMasterData\", \"writeMasterData\"]}\n        component={() => withMasterDataFormPage(SensorsModel)}\n      />\n      <ClientRoute\n        exact\n        path=\"/master-data/setups\"\n        permissions={[\"readMasterData\", \"writeMasterData\"]}\n        component={() => withMasterDataListPage(SetupsModel)}\n      />\n      <ClientRoute\n        exact\n        path=\"/master-data/setups/:setupId\"\n        permissions={[\"readMasterData\", \"writeMasterData\"]}\n        component={() => withMasterDataFormPage(SetupsModel)}\n      />\n      <ClientRoute default component={UnderConstructionPage} />\n    </Switch>\n  </React.Fragment>\n);\n\nexport default MasterDataRoutes;\n","import React from \"react\";\nimport { withAdministrationPage } from \"../../components\";\nimport { MachineIcon } from \"../../utils/svgIcons\";\nimport { useAuth, lodashGet } from \"../../utils\";\n\nconst actions = ({ level }) => [\n  {\n    name: \"Sistema\",\n    icon: \"domain\",\n    actions: [\n      {\n        name: \"Grupos de Atributos\",\n        href: \"/administration/attributes\",\n        permissions: [\"crudAdminData\"]\n      },\n      {\n        name: \"Tipos de Ordem de Produção\",\n        href: \"/administration/production-order-types\",\n        permissions: [\"crudAdminData\"],\n        disabled: level !== \"N1\"\n      },\n      {\n        name: \"Eventos de Ordem de Produção\",\n        href: \"/administration/production-order-event-types\",\n        permissions: [\"crudAdminData\"]\n      },\n      {\n        name: \"Motivos de Refugo\",\n        href: \"/administration/waste-justifications\",\n        permissions: [\"crudAdminData\"],\n        disabled: level !== \"N1\"\n      },\n      {\n        name: \"Locais\",\n        href: \"/administration/plants\",\n        permissions: [\"crudAdminData\"]\n      },\n      {\n        name: \"Usuários\",\n        href: \"/administration/users\",\n        permissions: [\"crudUserData\"]\n      }\n    ],\n    permissions: [\"crudAdminData\", \"crudUserData\"]\n  },\n  {\n    name: \"Máquinas\",\n    svgIcon: (\n      <MachineIcon\n        style={{ fontSize: 24, color: \"white\", marginRight: \"8px\" }}\n      />\n    ),\n    actions: [\n      {\n        name: \"Tipos de Máquinas\",\n        href: \"/administration/machine-types\",\n        permissions: [\"crudAdminData\"]\n      },\n      {\n        name: \"Tipos de Bico\",\n        href: \"/administration/nozzle-types\",\n        permissions: [\"crudAdminData\"]\n      }\n    ],\n    permissions: [\"crudAdminData\"]\n  },\n  // {\n  //   name: \"Domínios de Moldes\",\n  //   icon: \"broken_image\",\n  //   actions: []\n  // },\n  {\n    name: \"Produtos\",\n    icon: \"style\",\n    actions: [\n      {\n        name: \"Tipos de Produtos\",\n        href: \"/administration/product-mat-types\",\n        permissions: [\"crudAdminData\"]\n      }\n    ],\n    permissions: [\"crudAdminData\"],\n    disabled: level !== \"N1\"\n  }\n  // {\n  //   name: \"Domínios de Sensores\",\n  //   icon: \"memory\",\n  //   actions: []\n  // }\n];\n\nconst AdministrationPage = () => {\n  const { session } = useAuth();\n  const level = lodashGet(session, \"company.level\");\n  return withAdministrationPage({ actions: actions({ level }) });\n};\n\nexport default AdministrationPage;\n","import React, { useContext, useState } from \"react\";\nimport {\n  Grid,\n  Avatar,\n  Icon,\n  Paper,\n  TextField,\n  Typography,\n  SnackbarContent\n} from \"@material-ui/core\";\nimport ApiContext from \"../../api\";\nimport { withRouter, withStyles, useAuth } from \"../../utils\";\nimport { Loader, Errors, Button } from \"../../components\";\n\nconst styles = theme => ({\n  wrapper: {\n    width: 400,\n    marginTop: theme.spacing(10),\n    padding: `${theme.spacing(2)}px ${theme.spacing(3)}px ${theme.spacing(3)}px`\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main\n  },\n  textField: {\n    margin: 0,\n    minWidth: 250,\n    backgroundColor: theme.palette.common.white\n  },\n  success: {\n    margin: `0 auto ${theme.spacing(1)}px`,\n    backgroundColor: theme.palette.secondary.main,\n    whiteSpace: \"pre-wrap\",\n    \"&>div\": {\n      padding: 0\n    }\n  }\n});\n\nconst LoginPage = ({ history, match: { params }, classes }) => {\n  const { session } = useAuth();\n  const client = useContext(ApiContext);\n  const [loginForm, setLoginForm] = useState({\n    companyUUID: params.companyUUID\n  });\n  const [loading, setLoading] = useState();\n  const [errors, setErrors] = useState();\n  const [success, setSuccess] = useState();\n  const passwordInputProps = {\n    autoFocus: true\n  };\n  const handleChange = ({ target }) => {\n    setLoginForm(prev => ({ ...prev, [target.name]: target.value }));\n  };\n  const handleChangePassword = async e => {\n    e.preventDefault();\n    if (loading) {\n      return;\n    }\n    setLoading(true);\n    setErrors();\n    try {\n      if (\n        session.userId &&\n        loginForm.newPassword &&\n        loginForm.confirmPassword &&\n        loginForm.newPassword === loginForm.confirmPassword\n      ) {\n        await client.service(\"users\").patch(session.userId, { password: loginForm.newPassword });\n        setLoginForm({\n          companyUUID: params.companyUUID\n        });\n        setSuccess(true);\n      } else {\n        throw new Error();\n      }\n    } catch (error) {\n      setErrors(\"A senha deve ser confirmada\");\n    } finally {\n      setLoading(false);\n    }\n  };\n  return (\n    <Grid container direction=\"column\" alignItems=\"center\">\n      <Paper className={classes.wrapper}>\n        <form>\n          <Grid container direction=\"column\" spacing={10}>\n            {loading && <Loader />}\n            {errors && <Errors errors={errors} />}\n            {success && <SnackbarContent className={classes.success} message=\"Senha alterada\" />}\n            <Grid item container direction=\"column\" alignItems=\"center\" spacing={0}>\n              <Avatar className={classes.avatar}>\n                <Icon>lock_outlined</Icon>\n              </Avatar>\n              <Typography variant=\"h6\">Redefinição de Senha</Typography>\n            </Grid>\n            <Grid item>\n              <TextField\n                fullWidth\n                required\n                type=\"password\"\n                name=\"newPassword\"\n                label=\"Nova Senha\"\n                inputProps={passwordInputProps}\n                className={classes.textField}\n                value={loginForm.newPassword || \"\"}\n                onChange={handleChange}\n                margin=\"normal\"\n              />\n            </Grid>\n            <Grid item>\n              <TextField\n                fullWidth\n                required\n                type=\"password\"\n                name=\"confirmPassword\"\n                label=\"Confirmar Senha\"\n                className={classes.textField}\n                value={loginForm.confirmPassword || \"\"}\n                onChange={handleChange}\n                margin=\"normal\"\n              />\n            </Grid>\n            <Grid item>\n              <Button\n                text=\"Mudar senha\"\n                type=\"submit\"\n                fullWidth\n                variants=\"submit\"\n                onClick={handleChangePassword}\n              />\n            </Grid>\n          </Grid>\n        </form>\n      </Paper>\n    </Grid>\n  );\n};\n\nexport default withRouter(withStyles(styles, { withTheme: true })(LoginPage));\n","import { lodashGet, useAuth } from \"../../../utils\";\n\nexport const list = [\n  {\n    text: \"Nome\",\n    identity: \"name\",\n    filter: {\n      type: \"string\"\n    }\n  },\n  {\n    text: \"Descrição\",\n    identity: \"description\",\n    filter: {\n      type: \"string\"\n    }\n  },\n  {\n    text: \"Status\",\n    identity: \"plant_status.name\",\n    customContent: { dontFilterWhenChild: true },\n    model: {\n      service: \"plant_statuses\",\n      identity: \"plantStatusId\"\n    }\n  }\n];\n\nexport const form = [\n  [\n    [\n      {\n        text: \"Nome\",\n        identity: \"name\",\n        autoFocus: true,\n        required: true,\n        type: \"string\"\n      },\n      {\n        text: \"Descrição\",\n        identity: \"description\",\n        type: \"string\"\n      },\n      {\n        text: \"Status\",\n        identity: \"plantStatusId\",\n        required: true,\n        model: \"plant_statuses\",\n        defaultValue: {\n          config: \"plant.status.init\"\n        }\n      }\n    ],\n    [\n      {\n        text: \"Horas Trabalhadas/Semana\",\n        identity: \"hoursPerWeek\",\n        type: \"decimal\",\n        readOnly: {\n          ifThis: \"turns.length\"\n        }\n      },\n      {\n        text: \"Tempo para notificação (min)\",\n        identity: \"notificationTimeMIN\",\n        type: \"decimal\",\n        defaultValue: 5,\n        minValue: 1,\n        maxValue: 15,\n        handleChange: ({ data = {}, handleChange }) => {\n          const value = lodashGet(data, 'target.value');\n          if (value < 1) {\n            setTimeout(() => {\n              handleChange({\n                target: {\n                  name: 'notificationTimeMIN',\n                  value: 1\n                }\n              })\n            }, 0)\n          }\n          if (value > 15) {\n            setTimeout(() => {\n              handleChange({\n                target: {\n                  name: 'notificationTimeMIN',\n                  value: 15\n                }\n              })\n            }, 0)\n          }\n        }\n      }\n    ]\n  ],\n  [\n    [\n      {\n        text: \"Apontar Qualidade\",\n        identity: \"qualityTrackType\",\n        required: true,\n        enum: [\"Q Refugo\", \"Q Confirmada\"],\n        readOnly: {\n          useCustomIf: ({ }) => {\n            const { session } = useAuth();\n            const level = lodashGet(session, \"company.level\");\n            return level !== \"N1\";\n          }\n        }\n      },\n      {\n        text: \"Frequencia\",\n        identity: \"qualityTrackFrequency\",\n        required: true,\n        // enum: [\"Horario\", \"Turno\", \"Diario\", \"Encerramento\"]\n        enum: [\"Turno\", \"Diario\", \"Encerramento\"],\n        readOnly: {\n          useCustomIf: ({ }) => {\n            const { session } = useAuth();\n            const level = lodashGet(session, \"company.level\");\n            return level !== \"N1\";\n          }\n        }\n      }\n    ],\n    [\n      {\n        text: \"Motivo Refugo\",\n        identity: \"wasteJustification\",\n        type: \"boolean\",\n        readOnly: {\n          useCustomIf: ({ }) => {\n            const { session } = useAuth();\n            const level = lodashGet(session, \"company.level\");\n            return level !== \"N1\";\n          }\n        }\n      },\n      {\n        text: \"Refugo Automatico SETUP/PARADA PROG\",\n        identity: \"wasteAutoTrack\",\n        type: \"boolean\",\n        readOnly: {\n          useCustomIf: ({ }) => {\n            const { session } = useAuth();\n            const level = lodashGet(session, \"company.level\");\n            return level !== \"N1\";\n          }\n        }\n      },\n      {\n        text: \"Notas para OP\",\n        identity: \"PONotes\",\n        type: \"boolean\",\n        readOnly: {\n          useCustomIf: ({ }) => {\n            const { session } = useAuth();\n            const level = lodashGet(session, \"company.level\");\n            return level !== \"N1\";\n          }\n        }\n      }\n    ]\n  ]\n];\n\nexport const links = [\n  {\n    text: \"Administração\",\n    href: \"/administration\"\n  },\n  {\n    text: \"Locais\",\n    href: \"/administration/plants\"\n  }\n];\n\nexport const metadata = {\n  name: \"plants\",\n  listPath: \"/administration/plants\",\n  formPath: \"/administration/plants\",\n  paramsProp: \"plantId\",\n  newItemText: \"Novo Local\"\n};\n\nexport default {\n  metadata,\n  list,\n  form,\n  links,\n  options: {\n    dontCopy: true\n  }\n};\n","import React from \"react\";\nimport { withStyles } from \"../../../utils\";\nimport { withMasterDataFormPage, PlantTurnsTable, PlantHolidaysTable } from \"../../../components\";\nimport PlatnsModel from \"./model\";\n\nconst styles = theme => ({});\n\nconst AdminPlantFormPage = ({ classes }) =>\n  withMasterDataFormPage({\n    ...PlatnsModel,\n    customContent: {\n      afterForm: ({ data, handleChange }) =>\n        data.id && (\n          <React.Fragment>\n            <PlantTurnsTable\n              options={PlatnsModel.options}\n              plant={data}\n              handleChange={handleChange}\n            />\n            <PlantHolidaysTable options={PlatnsModel.options} plant={data} />\n          </React.Fragment>\n        )\n    }\n  });\n\nexport default withStyles(styles, { withTheme: true })(AdminPlantFormPage);\n","export const list = [\n  {\n    text: \"Nome\",\n    identity: \"name\",\n    filter: {\n      type: \"string\"\n    }\n  },\n  {\n    text: \"Descrição\",\n    identity: \"description\",\n    filter: {\n      type: \"string\"\n    }\n  }\n];\n\nexport const form = [\n  [\n    {\n      text: \"Nome\",\n      identity: \"name\",\n      autoFocus: true,\n      required: true,\n      type: \"string\"\n    },\n    {\n      text: \"Descrição\",\n      identity: \"description\",\n      type: \"string\"\n    }\n  ]\n];\n\nexport const links = [\n  {\n    text: \"Administração\",\n    href: \"/administration\"\n  },\n  {\n    text: \"Grupos de Atributos\",\n    href: \"/administration/attributes\"\n  }\n];\n\nexport const metadata = {\n  name: \"attribute_groups\",\n  listPath: \"/administration/attributes\",\n  formPath: \"/administration/attributes\",\n  paramsProp: \"attributeId\",\n  newItemText: \"Novo Grupo de Atributos\"\n};\n\nexport default { metadata, list, form, links };\n","export const list = [\n  {\n    text: \"Nome\",\n    identity: \"name\",\n    filter: {\n      type: \"string\"\n    }\n  },\n  {\n    text: \"Descrição\",\n    identity: \"description\",\n    filter: {\n      type: \"string\"\n    }\n  }\n];\n\nexport const form = [\n  [\n    {\n      text: \"Nome\",\n      identity: \"name\",\n      autoFocus: true,\n      required: true,\n      type: \"string\"\n    },\n    {\n      text: \"Descrição\",\n      identity: \"description\",\n      type: \"string\"\n    },\n    {\n      text: \"Tipo Em Produção\",\n      identity: \"isInProduction\",\n      type: \"boolean\"\n    }\n  ]\n];\n\nexport const links = [\n  {\n    text: \"Administração\",\n    href: \"/administration\"\n  },\n  {\n    text: \"Tipos de Ordem de Produção\",\n    href: \"/administration/production-order-types\"\n  }\n];\n\nexport const metadata = {\n  name: \"production_order_types\",\n  listPath: \"/administration/production-order-types\",\n  formPath: \"/administration/production-order-types\",\n  paramsProp: \"productionOrderTypeId\",\n  newItemText: \"Novo Tipo de Ordem de Produção\"\n};\n\nexport default { metadata, list, form, links };\n","import React from \"react\";\nimport { withStyles, getColor } from \"../../../utils\";\n\nconst styles = theme => ({\n  color: {\n    marginLeft: 20,\n    height: 30,\n    width: 30,\n    borderRadius: \"50%\"\n  }\n});\n\nconst Color = withStyles(styles, { withTheme: true })(({ classes, data = {} }) => (\n  <div\n    className={classes.color}\n    style={{\n      background: getColor({\n        data,\n        path: \"production_order_action_type.color\"\n      })\n    }}\n  />\n));\n\nexport default Color;\n","import React from \"react\";\nimport { lodashGet } from \"../../../utils\";\nimport Color from \"./Color\";\n\nexport const list = [\n  {\n    text: \"Nome\",\n    identity: \"name\",\n    filter: {\n      type: \"string\"\n    }\n  },\n  {\n    text: \"Descrição\",\n    identity: \"description\",\n    filter: {\n      type: \"string\"\n    }\n  },\n  {\n    text: \"Cor\",\n    identity: \"color\",\n    customData: ({ ...props }) => <Color {...props} />\n  },\n  {\n    text: \"Tipo de Evento\",\n    identity: \"production_order_action_type.name\",\n    model: {\n      service: \"production_order_action_types\",\n      identity: \"productionOrderActionTypeId\"\n    }\n  }\n];\n\nexport const form = [\n  [\n    {\n      text: \"Nome\",\n      identity: \"name\",\n      autoFocus: true,\n      required: true,\n      type: \"string\"\n    },\n    {\n      text: \"Descrição\",\n      identity: \"description\",\n      type: \"string\"\n    }\n  ],\n  [\n    {\n      text: \"Ícone\",\n      identity: \"icon\",\n      type: \"icon\"\n    },\n    {\n      text: \"Tipo de Evento\",\n      identity: \"productionOrderActionTypeId\",\n      model: {\n        service: \"production_order_action_types\",\n        query: { isSystemEvent: null }\n      }\n    }\n  ]\n];\n\nexport const links = [\n  {\n    text: \"Administração\",\n    href: \"/administration\"\n  },\n  {\n    text: \"Eventos de Ordem de Produção\",\n    href: \"/administration/production-order-event-types\"\n  }\n];\n\nexport const metadata = {\n  name: \"production_order_event_types\",\n  listPath: \"/administration/production-order-event-types\",\n  formPath: \"/administration/production-order-event-types\",\n  paramsProp: \"productionOrderEventTypeId\",\n  newItemText: \"Novo Evento de Ordem de Produção\"\n};\n\nexport default {\n  metadata,\n  list,\n  form,\n  links,\n  customContent: {\n    dontEdit: ({ data }) => !lodashGet(data, \"isSystemEvent\"),\n    dontDelete: ({ data }) => !lodashGet(data, \"isSystemEvent\")\n  }\n};\n","export const list = [\n  {\n    text: \"Nome\",\n    identity: \"name\",\n    filter: {\n      type: \"string\"\n    }\n  },\n  {\n    text: \"Descrição\",\n    identity: \"description\",\n    filter: {\n      type: \"string\"\n    }\n  }\n];\n\nexport const form = [\n  [\n    {\n      text: \"Nome\",\n      identity: \"name\",\n      autoFocus: true,\n      required: true,\n      type: \"string\"\n    },\n    {\n      text: \"Descrição\",\n      identity: \"description\",\n      type: \"string\"\n    }\n  ]\n];\n\nexport const links = [\n  {\n    text: \"Administração\",\n    href: \"/administration\"\n  },\n  {\n    text: \"Tipos de Máquinas\",\n    href: \"/administration/machine-types\"\n  }\n];\n\nexport const metadata = {\n  name: \"machine_types\",\n  listPath: \"/administration/machine-types\",\n  formPath: \"/administration/machine-types\",\n  paramsProp: \"machineTypeId\",\n  newItemText: \"Novo Tipo de Máquina\"\n};\n\nexport default { metadata, list, form, links };\n","export const list = [\n  {\n    text: \"Nome\",\n    identity: \"name\",\n    filter: {\n      type: \"string\"\n    }\n  },\n  {\n    text: \"Descrição\",\n    identity: \"description\",\n    filter: {\n      type: \"string\"\n    }\n  }\n];\n\nexport const form = [\n  [\n    {\n      text: \"Nome\",\n      identity: \"name\",\n      autoFocus: true,\n      required: true,\n      type: \"string\"\n    },\n    {\n      text: \"Descrição\",\n      identity: \"description\",\n      type: \"string\"\n    }\n  ]\n];\n\nexport const links = [\n  {\n    text: \"Administração\",\n    href: \"/administration\"\n  },\n  {\n    text: \"Tipos de Bico\",\n    href: \"/administration/nozzle-types\"\n  }\n];\n\nexport const metadata = {\n  name: \"nozzle_types\",\n  listPath: \"/administration/nozzle-types\",\n  formPath: \"/administration/nozzle-types\",\n  paramsProp: \"nozzleTypeId\",\n  newItemText: \"Novo Tipo de Bico\"\n};\n\nexport default { metadata, list, form, links };\n","export const list = [\n  {\n    text: \"Nome\",\n    identity: \"name\",\n    filter: {\n      type: \"string\"\n    }\n  },\n  {\n    text: \"Descrição\",\n    identity: \"description\",\n    filter: {\n      type: \"string\"\n    }\n  }\n];\n\nexport const form = [\n  [\n    {\n      text: \"Nome\",\n      identity: \"name\",\n      autoFocus: true,\n      required: true,\n      type: \"string\"\n    },\n    {\n      text: \"Descrição\",\n      identity: \"description\",\n      type: \"string\"\n    }\n  ]\n];\n\nexport const links = [\n  {\n    text: \"Administração\",\n    href: \"/administration\"\n  },\n  {\n    text: \"Tipos de Produtos\",\n    href: \"/administration/product-mat-types\"\n  }\n];\n\nexport const metadata = {\n  name: \"product_mat_types\",\n  listPath: \"/administration/product-mat-types\",\n  formPath: \"/administration/product-mat-types\",\n  paramsProp: \"productMatTypeId\",\n  newItemText: \"Novo Tipo de Produto\"\n};\n\nexport default { metadata, list, form, links };\n","import React, { useContext, useState } from \"react\";\nimport { Icon } from \"@material-ui/core\";\nimport ApiContext from \"../../../api\";\nimport { withStyles } from \"../../../utils\";\nimport Button from \"../../../components/buttons\";\nimport Loader from \"../../../components/loader\";\nimport Errors from \"../../../components/errors\";\n\nconst styles = theme => ({\n  actions: {\n    position: \"relative\",\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\"\n  },\n  loader: {\n    height: \"100%\",\n    width: \"100%\",\n    background: \"rgba(255,255,255,.5)\",\n    zIndex: 1,\n    position: \"absolute\",\n    right: 0,\n    top: 0,\n    padding: \"0 8px\",\n    \"&>div\": {\n      position: \"relative\",\n      top: 25\n    }\n  },\n  icon: {\n    fontSize: 30,\n    color: theme.palette.primary.main\n  }\n});\n\nconst SendEmailAction = withStyles(styles, { withTheme: true })(({ classes, data = {}, field }) => {\n  const client = useContext(ApiContext);\n  const [loading, setLoading] = useState();\n  const [errors, setErrors] = useState();\n  const [send, setSend] = useState();\n  const handleSendEmail = async () => {\n    setLoading(true);\n    setErrors();\n    try {\n      await client.service(\"users\").patch(data.id, {}, { query: { $sendEmail: true } });\n      setSend(true);\n    } catch (error) {\n      setErrors(error);\n    } finally {\n      setLoading(false);\n    }\n  };\n  return (\n    !!data.id && (\n      <div className={classes.actions}>\n        {loading && (\n          <div className={classes.loader}>\n            <Loader />\n          </div>\n        )}\n        <Button text=\"(Re) Iniciar Senha\" icon=\"mail\" onClick={handleSendEmail} />\n        {send && <Icon className={classes.icon}>done</Icon>}\n        {errors && <Errors errors={errors} />}\n      </div>\n    )\n  );\n});\n\nexport default SendEmailAction;\n","import React, { useContext, useState } from \"react\";\nimport { Icon } from \"@material-ui/core\";\nimport ApiContext from \"../../../api\";\nimport { withStyles } from \"../../../utils\";\nimport Button from \"../../../components/buttons\";\nimport Loader from \"../../../components/loader\";\nimport Errors from \"../../../components/errors\";\n\nconst styles = theme => ({\n  actions: {\n    position: \"relative\",\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\"\n  },\n  loader: {\n    height: \"100%\",\n    width: \"100%\",\n    background: \"rgba(255,255,255,.5)\",\n    zIndex: 1,\n    position: \"absolute\",\n    right: 0,\n    top: 0,\n    padding: \"0 8px\",\n    \"&>div\": {\n      position: \"relative\",\n      top: 25\n    }\n  },\n  icon: {\n    fontSize: 30,\n    color: theme.palette.primary.main\n  }\n});\n\nconst SendReportAction = withStyles(styles, { withTheme: true })(({ classes, data = {}, type }) => {\n  const client = useContext(ApiContext);\n  const [loading, setLoading] = useState();\n  const [errors, setErrors] = useState();\n  const [send, setSend] = useState();\n  const handleSendEmail = async () => {\n    setLoading(true);\n    setErrors();\n    try {\n      await client.service(\"users\").patch(data.id, {}, { query: { $sendReport: type } });\n      setSend(true);\n    } catch (error) {\n      setErrors(error);\n    } finally {\n      setLoading(false);\n    }\n  };\n  return (\n    !!data.id && (\n      <div className={classes.actions}>\n        {loading && (\n          <div className={classes.loader}>\n            <Loader />\n          </div>\n        )}\n        <Button text=\"Enviar Relatório\" icon=\"mail\" onClick={handleSendEmail} />\n        {send && <Icon className={classes.icon}>done</Icon>}\n        {errors && <Errors errors={errors} />}\n      </div>\n    )\n  );\n});\n\nexport default SendReportAction;\n","import React from \"react\";\nimport { Icon, Tooltip, Typography } from \"@material-ui/core\";\nimport { withStyles } from \"../../../utils\";\n\nconst styles = theme => ({\n  tooltip: {\n    position: \"absolute\",\n    right: -10\n  },\n  icon: {\n    color: theme.palette.primary.header\n  },\n  label: {\n    color: theme.palette.common.white\n  }\n});\n\nconst RoleHelp = withStyles(styles, { withTheme: true })(\n  ({ classes, option = {}, data = {}, field }) => {\n    return (\n      <Tooltip\n        className={classes.tooltip}\n        placement=\"right\"\n        title={\n          <React.Fragment>\n            {option.writeMasterData && (\n              <Typography className={classes.label} variant=\"body1\">\n                - Criar/Modificar Cadastros\n              </Typography>\n            )}\n            {option.readMasterData && (\n              <Typography className={classes.label} variant=\"body1\">\n                - Visualizar Cadastros\n              </Typography>\n            )}\n            {option.crudAdminData && (\n              <Typography className={classes.label} variant=\"body1\">\n                - Acesso a Dados Administração\n              </Typography>\n            )}\n            {option.crudUserData && (\n              <Typography className={classes.label} variant=\"body1\">\n                - Cadastro Usuario/Perfil\n              </Typography>\n            )}\n            {option.writeActiveProductionOrders && (\n              <Typography className={classes.label} variant=\"body1\">\n                - Criar Ordens Produção\n              </Typography>\n            )}\n            {option.writeScheduledStopProductionOrders && (\n              <Typography className={classes.label} variant=\"body1\">\n                - Criar Ordens Não Produção\n              </Typography>\n            )}\n            {option.openProductionOrders && (\n              <Typography className={classes.label} variant=\"body1\">\n                - Liberar Ordens (sequenciaador)\n              </Typography>\n            )}\n            {option.writeProductionOrderEvents && (\n              <Typography className={classes.label} variant=\"body1\">\n                - Apontar Eventos Ordem\n              </Typography>\n            )}\n            {option.editProductionOrderEvents && (\n              <Typography className={classes.label} variant=\"body1\">\n                - Modificar Eventos Ordem\n              </Typography>\n            )}\n            {option.readProductionOrders && (\n              <Typography className={classes.label} variant=\"body1\">\n                - Visualizar Ordens\n              </Typography>\n            )}\n            {option.readProductionOrderReports && (\n              <Typography className={classes.label} variant=\"body1\">\n                - Visualizar Relatorios\n              </Typography>\n            )}\n            {option.readPendingWaste && (\n              <Typography className={classes.label} variant=\"body1\">\n                - Visualizar Refugo\n              </Typography>\n            )}\n            {option.writePendingWaste && (\n              <Typography className={classes.label} variant=\"body1\">\n                - Apontar Refugo\n              </Typography>\n            )}\n            {option.editPendingWaste && (\n              <Typography className={classes.label} variant=\"body1\">\n                - Modificar Refugo\n              </Typography>\n            )}\n          </React.Fragment>\n        }\n      >\n        <Icon className={classes.icon}>help</Icon>\n      </Tooltip>\n    );\n  }\n);\n\nexport default RoleHelp;\n","import React from \"react\";\nimport moment from \"moment\";\nimport { lodashGet, lodashMap } from \"../../../utils\";\nimport SendEmailAction from \"./SendEmailAction\";\nimport SendReportAction from \"./SendReportAction\";\nimport RoleHelp from \"./RoleHelp\";\n\nexport const list = [\n  {\n    text: \"Nome\",\n    identity: \"name\",\n    filter: {\n      type: \"string\"\n    }\n  },\n  {\n    text: \"Email\",\n    identity: \"email\",\n    filter: {\n      type: \"string\"\n    }\n  },\n  {\n    text: \"Perfis\",\n    identity: \"roles\",\n    customContent: { dontFilter: true },\n    customData: ({ data = {} }) => lodashMap(data.roles, r => r.name).join(\", \")\n  },\n  {\n    text: \"Status\",\n    identity: \"user_status.name\",\n    model: {\n      service: \"user_statuses\",\n      identity: \"userStatusId\"\n    }\n  }\n];\n\nexport const form = [\n  [\n    {\n      text: \"Nome\",\n      identity: \"name\",\n      autoFocus: true,\n      required: true,\n      type: \"string\"\n    },\n    {\n      text: \"Status\",\n      identity: \"userStatusId\",\n      required: true,\n      model: \"user_statuses\",\n      defaultValue: {\n        config: \"user.status.init\"\n      }\n    },\n    {\n      text: \"Data Inclusão\",\n      identity: \"creationDate\",\n      readOnly: true,\n      show: {\n        ifThis: \"id\"\n      },\n      type: \"string\",\n      defaultValue: {\n        customValue: async ({ data = {}, field, handleChange }) => {\n          const date = moment(lodashGet(data, \"createdAt\")).format(\n            \"DD/MM/YYYY HH:mm\"\n          );\n          handleChange({\n            target: { name: field.identity, value: date }\n          });\n        }\n      }\n    }\n  ],\n  [\n    {\n      text: \"Email\",\n      identity: \"email\",\n      required: true,\n      type: \"email\",\n      customData: ({ ...props }) => <SendEmailAction {...props} />\n    }\n  ],\n  [\n    {\n      text: \"Fone\",\n      identity: \"phone\",\n      type: \"string\"\n    }\n  ],\n  [\n    {\n      text: \"Enviar Relatório de Produção Diario\",\n      identity: \"sendDailyReport\",\n      type: \"boolean\",\n      customData: ({ ...props }) => (\n        <SendReportAction type=\"sendDailyReport\" {...props} />\n      )\n    }\n  ],\n  [\n    {\n      text: \"Enviar Relatório de Produção Semanal\",\n      identity: \"sendWeeklyReport\",\n      type: \"boolean\",\n      customData: ({ ...props }) => (\n        <SendReportAction type=\"sendWeeklyReport\" {...props} />\n      )\n    }\n  ],\n  [\n    {\n      text: \"Perfil Usuario\",\n      identity: \"roles\",\n      model: {\n        service: \"roles\",\n        query: {\n          name: { $nin: [\"sysadmin\"] }\n        }\n      },\n      type: \"checklist\",\n      handleValidate: ({ data = {} }) => {\n        const value = lodashGet(data, \"target.value\");\n        if (!value || !value.length) {\n          return \"Selecione pelo menos 1 perfil\";\n        }\n        return true;\n      },\n      customContent: {\n        customOptionContent: ({ ...props }) => <RoleHelp {...props} />\n      }\n    },\n    {\n      identity: \"roles:delete\",\n      show: false,\n      type: \"checklist\"\n    }\n  ]\n];\n\nexport const links = [\n  { text: \"Administração\", href: \"/administration\" },\n  {\n    text: \"Usuários\",\n    href: \"/administration/users\"\n  }\n];\n\nexport const metadata = {\n  name: \"users\",\n  listPath: \"/administration/users\",\n  formPath: \"/administration/users\",\n  paramsProp: \"userId\",\n  newItemText: \"Novo Usuário\"\n};\n\nexport default {\n  metadata,\n  list,\n  form,\n  links,\n  query: {\n    $sort: { name: 1 }\n  }\n};\n","import eAttributesModel from \"./attributes/model\";\nimport eProductionOrderTypesModel from \"./production-order-types/model\";\nimport eProductionOrderEventTypesModel from \"./production-order-event-types/model\";\nimport eMachineTypesModel from \"./machine-types/model\";\nimport eNozzleTypesModel from \"./nozzle-types/model\";\nimport ePlantsModel from \"./plants/model\";\nimport eProductMatTypesModel from \"./product-mat-types/model\";\nimport eUsersModel from \"./users/model\";\nimport eWasteJustificationsModel from \"./waste-justifications/model\";\n\nexport const AttributesModel = eAttributesModel;\nexport const ProductionOrderTypesModel = eProductionOrderTypesModel;\nexport const ProductionOrderEventTypesModel = eProductionOrderEventTypesModel;\nexport const MachineTypesModel = eMachineTypesModel;\nexport const NozzleTypesModel = eNozzleTypesModel;\nexport const PlantsModel = ePlantsModel;\nexport const ProductMatTypesModel = eProductMatTypesModel;\nexport const UsersModel = eUsersModel;\nexport const WasteJustificationsModel = eWasteJustificationsModel;\n","export const list = [\n  {\n    text: \"Nome\",\n    identity: \"name\",\n    filter: {\n      type: \"string\"\n    }\n  },\n  {\n    text: \"Descrição\",\n    identity: \"description\",\n    filter: {\n      type: \"string\"\n    }\n  }\n];\n\nexport const form = [\n  [\n    {\n      text: \"Nome\",\n      identity: \"name\",\n      autoFocus: true,\n      required: true,\n      type: \"string\"\n    },\n    {\n      text: \"Descrição\",\n      identity: \"description\",\n      type: \"string\"\n    }\n  ]\n];\n\nexport const links = [\n  {\n    text: \"Administração\",\n    href: \"/administration\"\n  },\n  {\n    text: \"Motivos de Refugo\",\n    href: \"/administration/waste-justifications\"\n  }\n];\n\nexport const metadata = {\n  name: \"waste_justifications\",\n  listPath: \"/administration/waste-justifications\",\n  formPath: \"/administration/waste-justifications\",\n  paramsProp: \"wasteJustificationId\",\n  newItemText: \"Novo Motivo de Refugo\"\n};\n\nexport default { metadata, list, form, links };\n","import React from \"react\";\nimport { Switch } from \"../../utils\";\nimport { ClientRoute, withMasterDataListPage, withMasterDataFormPage } from \"../../components\";\nimport AdministrationPage from \"./\";\nimport ResetPasswordPage from \"../reset-password\";\nimport UnderConstructionPage from \"../under-construction\";\nimport AdminPlantFormPage from \"./plants/Form\";\nimport {\n  AttributesModel,\n  ProductionOrderTypesModel,\n  ProductionOrderEventTypesModel,\n  MachineTypesModel,\n  NozzleTypesModel,\n  PlantsModel,\n  ProductMatTypesModel,\n  UsersModel,\n  WasteJustificationsModel\n} from \"./models\";\n\nconst AdministrationRoutes = () => (\n  <React.Fragment>\n    <Switch>\n      <ClientRoute exact path=\"/administration/reset-password\" component={ResetPasswordPage} />\n      <ClientRoute\n        exact\n        path=\"/administration\"\n        permissions={[\"crudAdminData\", \"crudUserData\"]}\n        component={AdministrationPage}\n      />\n      <ClientRoute\n        exact\n        path=\"/administration/attributes\"\n        permissions={[\"crudAdminData\"]}\n        component={() => withMasterDataListPage(AttributesModel)}\n      />\n      <ClientRoute\n        exact\n        path=\"/administration/attributes/:attributeId\"\n        permissions={[\"crudAdminData\"]}\n        component={() => withMasterDataFormPage(AttributesModel)}\n      />\n      <ClientRoute\n        exact\n        path=\"/administration/production-order-types\"\n        permissions={[\"crudAdminData\"]}\n        component={() => withMasterDataListPage(ProductionOrderTypesModel)}\n      />\n      <ClientRoute\n        exact\n        path=\"/administration/production-order-types/:productionOrderTypeId\"\n        permissions={[\"crudAdminData\"]}\n        component={() => withMasterDataFormPage(ProductionOrderTypesModel)}\n      />\n      <ClientRoute\n        exact\n        path=\"/administration/production-order-event-types\"\n        permissions={[\"crudAdminData\"]}\n        component={() => withMasterDataListPage(ProductionOrderEventTypesModel)}\n      />\n      <ClientRoute\n        exact\n        path=\"/administration/production-order-event-types/:productionOrderEventTypeId\"\n        permissions={[\"crudAdminData\"]}\n        component={() => withMasterDataFormPage(ProductionOrderEventTypesModel)}\n      />\n      <ClientRoute\n        exact\n        path=\"/administration/plants\"\n        permissions={[\"crudAdminData\"]}\n        component={() => withMasterDataListPage(PlantsModel)}\n      />\n      <ClientRoute\n        exact\n        path=\"/administration/plants/:plantId\"\n        permissions={[\"crudAdminData\"]}\n        component={AdminPlantFormPage}\n      />\n      <ClientRoute\n        exact\n        path=\"/administration/machine-types\"\n        permissions={[\"crudAdminData\"]}\n        component={() => withMasterDataListPage(MachineTypesModel)}\n      />\n      <ClientRoute\n        exact\n        path=\"/administration/machine-types/:machineTypeId\"\n        permissions={[\"crudAdminData\"]}\n        component={() => withMasterDataFormPage(MachineTypesModel)}\n      />\n      <ClientRoute\n        exact\n        path=\"/administration/nozzle-types\"\n        permissions={[\"crudAdminData\"]}\n        component={() => withMasterDataListPage(NozzleTypesModel)}\n      />\n      <ClientRoute\n        exact\n        path=\"/administration/nozzle-types/:nozzleTypeId\"\n        permissions={[\"crudAdminData\"]}\n        component={() => withMasterDataFormPage(NozzleTypesModel)}\n      />\n      <ClientRoute\n        exact\n        path=\"/administration/product-mat-types\"\n        permissions={[\"crudAdminData\"]}\n        component={() => withMasterDataListPage(ProductMatTypesModel)}\n      />\n      <ClientRoute\n        exact\n        path=\"/administration/product-mat-types/:productMatTypeId\"\n        permissions={[\"crudAdminData\"]}\n        component={() => withMasterDataFormPage(ProductMatTypesModel)}\n      />\n      <ClientRoute\n        exact\n        path=\"/administration/users\"\n        permissions={[\"crudUserData\"]}\n        component={() => withMasterDataListPage(UsersModel)}\n      />\n      <ClientRoute\n        exact\n        path=\"/administration/users/:userId\"\n        permissions={[\"crudUserData\"]}\n        component={() => withMasterDataFormPage(UsersModel)}\n      />\n      <ClientRoute\n        exact\n        path=\"/administration/waste-justifications\"\n        permissions={[\"crudAdminData\"]}\n        component={() => withMasterDataListPage(WasteJustificationsModel)}\n      />\n      <ClientRoute\n        exact\n        path=\"/administration/waste-justifications/:wasteJustificationId\"\n        permissions={[\"crudAdminData\"]}\n        component={() => withMasterDataFormPage(WasteJustificationsModel)}\n      />\n      <ClientRoute default component={UnderConstructionPage} />\n    </Switch>\n  </React.Fragment>\n);\n\nexport default AdministrationRoutes;\n","import React, { useContext, useState, useEffect } from \"react\";\nimport { Icon, Button, Menu, MenuItem, Typography } from \"@material-ui/core\";\nimport ApiContext from \"../../api\";\nimport { withStyles, lodashGet, lodashMap, lodashFilter, useFindService } from \"../../utils\";\n\nconst styles = theme => ({\n  menu: {\n    height: 300\n  },\n  icon: {\n    //color: theme.palette.common.white\n  },\n  filter: {\n    //backgroundColor: \"rgba(255, 255, 255, .15)\",\n    // color: theme.palette.common.black,\n    display: \"flex\",\n    alignItems: \"center\",\n    margin: theme.spacing(1),\n    borderRadius: 50,\n    [theme.breakpoints.down(\"xs\")]: {\n      margin: 3,\n      padding: 2\n    }\n  }\n});\n\nconst PlantFilter = ({ classes, setQuery = () => {}, setFindQuery = () => {}, timeCarousel }) => {\n  const client = useContext(ApiContext);\n  const [text, setText] = useState(\"TODAS\");\n  const [selected, setSelected] = useState({});\n  const [firstUpdate, setFirstUpdate] = useState(true);\n  const { list, loading } = useFindService({\n    model: \"plants\",\n    query: {\n      $sort: { name: 1 },\n      plantStatusId: lodashGet(client.get(\"config.plant.status.active\"), \"value\")\n    },\n    timeCarousel\n  });\n  const [anchor, setAnchor] = useState(null);\n  const handleClick = e => setAnchor(e.currentTarget);\n  const handleClose = () => setAnchor(null);\n  const handleSelect = ({ id, name }) => () => {\n    setSelected(prev => {\n      if (prev[id]) {\n        delete prev[id];\n      } else {\n        prev[id] = true;\n      }\n      return prev;\n    });\n    handleClose();\n  };\n  const clearSelection = () => {\n    setSelected({});\n    handleClose();\n  };\n  const selectedString = JSON.stringify(selected);\n  useEffect(() => {\n    const parsedSelected = JSON.parse(selectedString);\n    if (loading) {\n      return;\n    }\n    if (firstUpdate) {\n      return setFirstUpdate(false);\n    }\n    const values = Object.keys(parsedSelected);\n    if (values.length) {\n      setText(\n        lodashMap(lodashFilter(list, item => parsedSelected[item.id]), item => item.name).join(\", \")\n      );\n      setFindQuery(prev => ({\n        ...prev,\n        plantId: {\n          $in: values\n        }\n      }));\n      setQuery({\n        plantId: {\n          $in: values\n        }\n      });\n    } else {\n      setText(\"TODAS\");\n      setFindQuery(prev => {\n        delete prev.plantId;\n        return { ...prev };\n      });\n      setQuery({});\n    }\n    // TODO add companyUUID to localStorage items\n    localStorage.setItem(\"plant-filters\", JSON.stringify(parsedSelected));\n  }, [selectedString, loading, firstUpdate, list, setFindQuery, setQuery]);\n  const copyFilter = localStorage.getItem(\"plant-filters\");\n  useEffect(() => {\n    if (copyFilter) {\n      setSelected(JSON.parse(copyFilter));\n    }\n  }, [copyFilter]);\n  return (\n    <React.Fragment>\n      <Button\n        variant='outlined'\n        color='primary'\n        className={classes.filter}\n        aria-owns={anchor ? `plant-filter` : undefined}\n        aria-haspopup=\"true\"\n        onClick={handleClick}\n      >\n        <Typography variant=\"body1\">{text}</Typography>\n      </Button>\n      {\n        <Menu\n          className={classes.menu}\n          id={`plant-filter`}\n          anchorEl={anchor}\n          open={!!anchor}\n          onClose={handleClose}\n        >\n          <MenuItem onClick={clearSelection}>TODAS</MenuItem>\n          {lodashMap(list, item => (\n            <MenuItem key={item.id} onClick={handleSelect({ ...item })}>\n              {selected[item.id] && <Icon color='primary'>done</Icon>}\n              {item.name}\n            </MenuItem>\n          ))}\n        </Menu>\n      }\n    </React.Fragment>\n  );\n};\n\nexport default React.memo(withStyles(styles, { withTheme: true })(PlantFilter));\n","import React, { useContext, useState, useEffect } from \"react\";\nimport moment from \"moment\";\nimport {\n  Grid,\n  Icon,\n  Toolbar,\n  Hidden\n} from \"@material-ui/core\";\nimport ApiContext from \"../../api\";\nimport {\n  MasterDataCard,\n  Button,\n  Loader\n} from \"../../components\";\nimport {\n  // Link,\n  classNames,\n  withStyles,\n  lodashGet,\n  useSensorAllURL,\n  getColor,\n  getEventType,\n  getDateJSON,\n  getPermissions,\n  useAuth,\n  Link\n} from \"../../utils\";\n// import IndicatorsReport from \"./IndicatorsReport\";\nimport PlantFilter from \"./PlantFilter\";\n\nconst actions = [\n  {\n    name: \"Produção Ativa\",\n    icon: \"view_agenda\",\n    href: \"/dashboard/production\",\n    permissions: [\"readProductionOrders\"]\n  },\n  {\n    name: \"Apontamento Refugo\",\n    icon: \"vertical_split\",\n    href: \"/dashboard/production-waste\",\n    permissions: [\"readProductionOrders\"]\n  },\n  {\n    name: \"Histórico de Produção\",\n    icon: \"view_day\",\n    href: \"/dashboard/production-history\",\n    permissions: [\"readProductionOrderReports\"]\n  },\n  {\n    name: \"Relatório de Produção\",\n    icon: \"table_chart\",\n    href: \"/dashboard/production-report\",\n    permissions: [\"readProductionOrderReports\"]\n  },\n  {\n    name: \"Tempo Real\",\n    icon: \"av_timer\",\n    permissions: [\"readProductionOrders\", \"readProductionOrderReports\"]\n  }\n];\n\nconst styles = theme => ({\n  icon: {\n    marginLeft: theme.spacing(1)\n  },\n  kpiLabel: {\n    fontSize: \".75rem\"\n  },\n  toolbar: {\n    zIndex: 10,\n    width: `calc(100% + ${theme.spacing(6)}px)`,\n    margin: -theme.spacing(3),\n    marginBottom: theme.spacing(2),\n    [theme.breakpoints.down(\"xs\")]: {\n      margin: -theme.spacing(1),\n      width: `calc(100% + ${theme.spacing(2)}px)`\n    },\n    //color: theme.palette.common.white,\n    backgroundColor: theme.palette.secondary.main\n  },\n  export: {\n    minWidth: \"auto\",\n    color: theme.palette.primary.main\n  },\n  disabled: {\n    pointerEvents: \"none\",\n    background: \"lightgrey\"\n  }\n});\n\nconst DashboardPage = ({ classes }) => {\n  const { session, permissions } = useAuth();\n  const level = lodashGet(session, \"company.level\");\n  const client = useContext(ApiContext);\n  const noJustifiedEventType = getEventType({ client, type: \"noJustified\" });\n  const [inactiveMachines, setInactiveMachines] = useState(0);\n  const [pendingWaste, setPendingWaste] = useState(0);\n  const [plantIdQuery, setPlantIdQuery] = useState({});\n  const [inactiveMachinesLoading, setInactiveMachinesLoading] = useState();\n  const [pendingWasteLoading, setPendingWasteLoading] = useState();\n  const stringQuery = JSON.stringify(plantIdQuery);\n  // TODO usedebounce for EVERYTHNG!\n  useEffect(() => {\n    // console.log(\"!!effect getReportLabelsData Inactive\");\n    const getReportLabelsData = async () => {\n      setInactiveMachinesLoading(true);\n      const ReportLabelsData = await client.service(\"machines\").find({\n        query: {\n          ...JSON.parse(stringQuery),\n          $reportLabels: {\n            type: \"inactiveMachines\",\n            sd: moment()\n              .subtract(1, \"days\")\n              .startOf(\"day\")\n              .add(6, \"hours\"),\n            ed: moment()\n              .subtract(1, \"days\")\n              .endOf(\"day\")\n              .add(6, \"hours\")\n          },\n          machineStatusId: lodashGet(client.get(\"config.machine.status.active\"), \"value\")\n        }\n      });\n      setInactiveMachines(ReportLabelsData.inactiveMachines);\n      setInactiveMachinesLoading(false);\n    };\n    getReportLabelsData();\n  }, [client, stringQuery]);\n  useEffect(() => {\n    // console.log(\"!!effect getReportLabelsData Waste\");\n    const getReportLabelsData = async () => {\n      setPendingWasteLoading(true);\n      const ReportLabelsData = await client.service(\"machines\").find({\n        query: {\n          ...JSON.parse(stringQuery),\n          $reportLabels: {\n            type: \"pendingWaste\",\n            sd: getDateJSON({\n              date: moment()\n                .subtract(7, \"days\")\n                .startOf(\"day\")\n                .add(6, \"hours\")\n            }),\n            ed: getDateJSON({\n              date: moment()\n                .subtract(1, \"days\")\n                .endOf(\"day\")\n                .add(6, \"hours\")\n            })\n          },\n          machineStatusId: lodashGet(client.get(\"config.machine.status.active\"), \"value\")\n        }\n      });\n      setPendingWaste(ReportLabelsData.pendingWaste);\n      setPendingWasteLoading(false);\n    };\n    getReportLabelsData();\n  }, [client, stringQuery]);\n  const noJustifiedColor = getColor({\n    data: client.get(`actionType.${noJustifiedEventType}`),\n    path: \"color\"\n  });\n  const getLinkLabel = ({ index }) => (\n    <React.Fragment>\n      <span>{lodashGet(actions, `${index}.name`)}</span>\n      <Icon className={classes.icon}>arrow_forward_ios</Icon>\n    </React.Fragment>\n  );\n  const { sensorsURL } = useSensorAllURL();\n  const hasProductionAccess = getPermissions({\n    privileges: [\n      \"readProductionOrders\",\n      \"writeActiveProductionOrders\",\n      \"writeScheduledStopProductionOrders\",\n      \"writeProductionOrderEvents\"\n    ],\n    permissions\n  });\n  const hasReportsAccess = getPermissions({\n    privileges: [\"readProductionOrderReports\"],\n    permissions\n  });\n  const hasWasteAccess = getPermissions({\n    privileges: [\"readPendingWaste\", \"writePendingWaste\", \"editPendingWaste\"],\n    permissions\n  });\n  return (\n    <div className={classes.container}>\n      <Toolbar className={classes.toolbar}>\n        <div style={{ flex: 1 }} />\n        <Hidden smDown>\n          <Button\n            className={classes.export}\n            component={Link}\n            to={\"/reports/carousel\"}\n            text=\"Tela Cheia\"\n            icon=\"view_carousel\"\n            variant=\"toolbar\"\n            color='primary'\n          />\n        </Hidden>\n        <PlantFilter setQuery={setPlantIdQuery} />\n      </Toolbar>\n      <Grid container spacing={2}>\n        <Grid item container spacing={2} className={classes.kpi}>\n          {hasProductionAccess && (\n            <Grid item xs={12} sm={6}>\n              <MasterDataCard\n                name={getLinkLabel({ index: 0 })}\n                description={lodashGet(actions, \"0.description\")}\n                icon={lodashGet(actions, \"0.icon\")}\n                href={lodashGet(actions, \"0.href\")}\n                kpi={\n                  <React.Fragment>\n                    {inactiveMachinesLoading && <Loader />}\n                    {!inactiveMachinesLoading && (\n                      <span style={{ color: noJustifiedColor }}>{inactiveMachines}</span>\n                    )}\n                    <span className={classes.kpiLabel} style={{ color: noJustifiedColor }}>\n                      Máquinas paradas\n                    </span>\n                  </React.Fragment>\n                }\n              />\n            </Grid>\n          )}\n          {hasWasteAccess && (\n            <Grid\n              item\n              xs={12}\n              sm={6}\n              className={classNames({ [classes.disabled]: level !== \"N1\" })}\n            >\n              <MasterDataCard\n                name={getLinkLabel({ index: 1 })}\n                description={lodashGet(actions, \"1.description\")}\n                icon={lodashGet(actions, \"1.icon\")}\n                href={lodashGet(actions, \"1.href\")}\n                kpi={\n                  level === \"N1\" && (\n                    <React.Fragment>\n                      {pendingWasteLoading && <Loader />}\n                      {!pendingWasteLoading && (\n                        <span style={{ color: noJustifiedColor }}>{pendingWaste}</span>\n                      )}\n                      <span className={classes.kpiLabel} style={{ color: noJustifiedColor }}>\n                        Apontamentos pendentes (7d)\n                      </span>\n                    </React.Fragment>\n                  )\n                }\n              />\n            </Grid>\n          )}\n          {hasReportsAccess && (\n            <Grid item xs={12} sm={6}>\n              <MasterDataCard\n                name={getLinkLabel({ index: 2 })}\n                description={lodashGet(actions, \"2.description\")}\n                icon={lodashGet(actions, \"2.icon\")}\n                href={lodashGet(actions, \"2.href\")}\n              />\n            </Grid>\n          )}\n          {/* {hasReportsAccess && (\n            <Grid item xs={12} sm={6}>\n              <MasterDataCard\n                name={getLinkLabel({ index: 3 })}\n                description={lodashGet(actions, \"3.description\")}\n                icon={lodashGet(actions, \"3.icon\")}\n                href={lodashGet(actions, \"3.href\")}\n              />\n            </Grid>\n          )} */}\n          {(hasProductionAccess || hasReportsAccess) && sensorsURL && (\n            <Grid item xs={12} sm={6}>\n              <a href={sensorsURL} rel=\"noopener noreferrer\" target=\"_blank\">\n                <MasterDataCard\n                  name={getLinkLabel({ index: 4 })}\n                  description={lodashGet(actions, \"4.description\")}\n                  icon={lodashGet(actions, \"4.icon\")}\n                />\n              </a>\n            </Grid>\n          )}\n        </Grid>\n        {/* {hasReportsAccess && (\n          <Grid item container spacing={2}>\n            <IndicatorsReport plantIdQuery={plantIdQuery} />\n          </Grid>\n        )} */}\n      </Grid>\n    </div>\n  );\n};\n\nexport default withStyles(styles, { withTheme: true })(DashboardPage);\n","import React from \"react\";\nimport Chartist from \"chartist\";\nimport ChartistGraph from \"react-chartist\";\nimport { withStyles } from \"../../utils\";\nimport \"./target-line-plugin\";\n\nconst styles = theme => ({});\n\nconst GaugeChart = ({ classes, theme, value }) => {\n  const chartistGaugeData = [\n    { value: 50, offset: 50, bgColor: \"#FDBFC3\" },\n    { value: 30, offset: 80, bgColor: \"#FFFFBF\" },\n    { value: 20, offset: 100, bgColor: \"#DEEEE3\" }\n  ];\n  const chartistGaugeOptions = {\n    height: 300,\n    startAngle: 270,\n    total: 200,\n    showLabel: false,\n    plugins: [\n      Chartist.plugins.targetLine({\n        value,\n        color: \"#000\"\n        // color: lodashGet(lodashFind(chartistGaugeData, data => 37.8 <= data.offset), \"bgColor\"),\n      })\n    ]\n  };\n  const fillPieColor = {\n    draw: context => {\n      if (context.series) {\n        context.element.attr({\n          style: `fill: ${context.series.bgColor};`\n        });\n      }\n    }\n  };\n  return (\n    <ChartistGraph\n      type=\"Pie\"\n      data={{\n        series: chartistGaugeData\n      }}\n      options={chartistGaugeOptions}\n      listener={fillPieColor}\n      style={{ padding: theme.spacing(2), marginTop: 50 }}\n    />\n  );\n};\n\nexport default withStyles(styles, { withTheme: true })(GaugeChart);\n","import React from \"react\";\nimport ChartistGraph from \"react-chartist\";\nimport { Paper } from \"@material-ui/core\";\nimport { withStyles, lodashGet } from \"../../utils\";\nimport { lodashMap } from \"../../utils/lodash\";\n\nconst styles = theme => ({\n  legend: {\n    fontSize: \"small\",\n    [theme.breakpoints.down(\"sm\")]: {\n      fontSize: \"xx-small\"\n    },\n    flexWrap: \"wrap\",\n    display: \"flex\",\n    margin: `0 ${theme.spacing9}px`,\n    boxShadow: \"none\",\n    background: \"none\"\n  },\n  titleLegend: {\n    margin: theme.spacing(1),\n    [theme.breakpoints.down(\"sm\")]: {\n      margin: theme.spacing(1 / 2)\n    },\n    display: \"flex\",\n    width: \"fit-content\",\n    alignItems: \"center\"\n  },\n  iconLegend: {\n    borderRadius: \"50%\",\n    height: 10,\n    width: 10,\n    margin: 5\n  }\n});\n\nconst PieChart = ({ classes, theme, options = {}, data }) => {\n  const chartistOptions = {\n    chartPadding: 30,\n    labelOffset: 70,\n    height: 300,\n    showLabel: false,\n    labelDirection: \"explode\",\n    labelInterpolationFnc: value => `${value}%`,\n    ...options\n  };\n  const fillSectorColor = {\n    draw: context => {\n      if (context.series || context.type === \"label\") {\n        const nodes = Array.prototype.slice.call(\n          lodashGet(context, \"element._node.parentElement.children\") || []\n        );\n        const index = nodes.indexOf(lodashGet(context, \"element._node\"));\n        context.element.attr({\n          style: `fill: ${lodashGet(context, \"series.bgColor\") ||\n            lodashGet(data, `series.${index}.bgColor`)}`\n        });\n      }\n    }\n  };\n  return (\n    <React.Fragment>\n      <ChartistGraph\n        type=\"Pie\"\n        data={data}\n        options={chartistOptions}\n        listener={fillSectorColor}\n        style={{ padding: theme.spacing(2) }}\n      />\n      <Paper className={classes.legend}>\n        {lodashMap(data.labelsNames, (legend, index) => (\n          <div key={index} className={classes.titleLegend}>\n            <i\n              className={classes.iconLegend}\n              style={{\n                background: lodashGet(data, `series.${index}.bgColor`)\n              }}\n            />{\" \"}\n            {legend}\n          </div>\n        ))}\n      </Paper>\n    </React.Fragment>\n  );\n};\n\nexport default withStyles(styles, { withTheme: true })(PieChart);\n","import React, { useContext, useState, useEffect } from \"react\";\nimport moment from \"moment\";\nimport Chartist from \"chartist\";\nimport ChartistGraph from \"react-chartist\";\nimport \"chartist-plugin-tooltips\";\nimport \"./chartist-plugin-tooltip.css\";\nimport \"chartist/dist/chartist.css\";\nimport { Paper, Grid, Typography, Icon } from \"@material-ui/core\";\nimport ApiContext from \"../../api\";\nimport {\n  Link,\n  withStyles,\n  lodashGet,\n  lodashMap,\n  getEventType,\n  getColor,\n  NUMBER_FORMAT,\n} from \"../../utils\";\nimport { Loader } from \"../../components\";\nimport \"./reports.css\";\nimport GaugeChart from \"./GaugeChart\";\nimport PieChart from \"./PieChart\";\nimport useAuth from \"../../utils/useAuth\";\n\nconst styles = (theme) => ({\n  item: {\n    \"& canvas\": {\n      paddingLeft: theme.spacing(3),\n      [theme.breakpoints.up(\"sm\")]: {\n        height: \"280px !important\",\n      },\n    },\n  },\n  header: {\n    padding: theme.spacing(2),\n  },\n  title: {\n    color:\n      theme.palette.type === \"dark\"\n        ? theme.palette.common.white\n        : theme.palette.common.black,\n    display: \"flex\",\n    alignItems: \"center\",\n    fontSize: \"1.5rem\",\n    textDecoration: \"none\",\n  },\n  wrapper: {\n    display: \"flex\",\n    position: \"relative\",\n    paddingLeft: theme.spacing(3),\n    alignItems: \"center\",\n  },\n  linkIcon: {\n    marginLeft: theme.spacing(1),\n  },\n  icon: {\n    fontSize: 50,\n    color:\n      theme.palette.type === \"dark\"\n        ? theme.palette.common.white\n        : theme.palette.primary.main,\n  },\n  legend: {\n    flexWrap: \"wrap\",\n    display: \"flex\",\n    margin: `${theme.spacing(2)}px ${theme.spacing(2)}px 0`,\n    boxShadow: \"none\",\n    background: \"none\",\n    fontSize: \"small\",\n    [theme.breakpoints.down(\"sm\")]: {\n      fontSize: \"xx-small\",\n    },\n  },\n  titleLegend: {\n    display: \"flex\",\n    width: \"fit-content\",\n    alignItems: \"center\",\n    textTransform: \"uppercase\",\n    margin: theme.spacing(1),\n    [theme.breakpoints.down(\"sm\")]: {\n      margin: theme.spacing(1 / 2),\n    },\n  },\n  iconLegend: {\n    borderRadius: \"50%\",\n    height: 10,\n    width: 10,\n    margin: 5,\n  },\n  kpiLabel: {\n    fontSize: \".75rem\",\n  },\n  kpi: {\n    fontSize: \"1.5rem\",\n    position: \"absolute\",\n    right: 30,\n    bottom: 10,\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    [theme.breakpoints.down(\"sm\")]: {\n      position: \"static\",\n      flexDirection: \"row\",\n      fontSize: \"1rem\",\n      \"& > span:first-of-type\": {\n        order: 1,\n        marginLeft: theme.spacing(1),\n      },\n    },\n  },\n});\n\nconst IndicatorsReport = ({ classes, theme, plantIdQuery = {} }) => {\n  const { session } = useAuth();\n  const level = lodashGet(session, \"company.level\");\n  const client = useContext(ApiContext);\n  const [loading, setLoading] = useState();\n  const [weekLoading, setWeekLoading] = useState();\n  const stringQuery = JSON.stringify(plantIdQuery);\n  useEffect(() => {\n    // console.log(\"!!effect getReportIndicatorsData\");\n    const getYesterdaySummaryData = async () => {\n      setLoading(true);\n      const YesterdaySummaryData = await client.service(\"machines\").find({\n        query: {\n          ...JSON.parse(stringQuery),\n          $reportYesterdaySummary: {\n            sd: moment().subtract(1, \"days\").startOf(\"day\").add(6, \"hours\"),\n            ed: moment().subtract(1, \"days\").endOf(\"day\").add(6, \"hours\"),\n          },\n          machineStatusId: lodashGet(\n            client.get(\"config.machine.status.active\"),\n            \"value\"\n          ),\n        },\n      });\n      setOEEData(YesterdaySummaryData.graphOEE);\n      setInactivityData(YesterdaySummaryData.graphInactivity);\n      setStatsData(YesterdaySummaryData.graphStats);\n      setLoading(false);\n    };\n    getYesterdaySummaryData();\n  }, [client, stringQuery]);\n  useEffect(() => {\n    // console.log(\"!!effect getReportIndicatorsData\");\n    const getReportIndicatorsData = async () => {\n      setWeekLoading(true);\n      const ReportIndicatorsData = await client.service(\"machines\").find({\n        query: {\n          ...JSON.parse(stringQuery),\n          $reportIndicators: {\n            sd: moment().subtract(3, \"days\").startOf(\"day\").add(6, \"hours\"),\n            ed: moment().subtract(1, \"days\").endOf(\"day\").add(6, \"hours\"),\n            dates: [\n              {\n                sd: moment().subtract(7, \"days\").startOf(\"day\").add(6, \"hours\"),\n                ed: moment().subtract(7, \"days\").endOf(\"day\").add(6, \"hours\"),\n              },\n              {\n                sd: moment().subtract(6, \"days\").startOf(\"day\").add(6, \"hours\"),\n                ed: moment().subtract(6, \"days\").endOf(\"day\").add(6, \"hours\"),\n              },\n              {\n                sd: moment().subtract(5, \"days\").startOf(\"day\").add(6, \"hours\"),\n                ed: moment().subtract(5, \"days\").endOf(\"day\").add(6, \"hours\"),\n              },\n              {\n                sd: moment().subtract(4, \"days\").startOf(\"day\").add(6, \"hours\"),\n                ed: moment().subtract(4, \"days\").endOf(\"day\").add(6, \"hours\"),\n              },\n              {\n                sd: moment().subtract(3, \"days\").startOf(\"day\").add(6, \"hours\"),\n                ed: moment().subtract(3, \"days\").endOf(\"day\").add(6, \"hours\"),\n              },\n              {\n                sd: moment().subtract(2, \"days\").startOf(\"day\").add(6, \"hours\"),\n                ed: moment().subtract(2, \"days\").endOf(\"day\").add(6, \"hours\"),\n              },\n              {\n                sd: moment().subtract(1, \"days\").startOf(\"day\").add(6, \"hours\"),\n                ed: moment().subtract(1, \"days\").endOf(\"day\").add(6, \"hours\"),\n              },\n            ],\n          },\n          machineStatusId: lodashGet(\n            client.get(\"config.machine.status.active\"),\n            \"value\"\n          ),\n        },\n      });\n      const data = ReportIndicatorsData.graphIndicators;\n      data.series = data.series.slice(0, 3);\n      setWeekReportData(data);\n      setWeekLoading(false);\n    };\n    getReportIndicatorsData();\n  }, [client, stringQuery]);\n  //#region Chartist\n  const [oeeData, setOEEData] = useState();\n  const [weekReportData, setWeekReportData] = useState({});\n  const [inactivityData, setInactivityData] = useState({});\n  const [statsData, setStatsData] = useState({});\n  const weekReportOptions = {\n    height: 250,\n    axisX: {\n      showGrid: false,\n    },\n    axisY: {\n      offset: 20,\n      type: Chartist.FixedScaleAxis,\n      high: 110,\n      low: 0,\n      ticks: [0, 20, 40, 60, 80, 100],\n      labelInterpolationFnc: (value) => `${value}%`,\n    },\n    plugins: [\n      Chartist.plugins.tooltip({\n        appendToBody: true,\n        class: \"gauge-tooltip\",\n        tooltipFnc: (meta, value) =>\n          NUMBER_FORMAT(parseFloat(value).toFixed(2)),\n      }),\n    ],\n  };\n  const fillBarColor = {\n    draw: (context) => {\n      if (context.series) {\n        context.element.attr({\n          style: `stroke: ${context.series.bgColor}; stroke-width: ${\n            window.outerWidth <= theme.breakpoints.width(\"sm\") ? \"15px\" : \"30px\"\n          }`,\n        });\n      }\n    },\n  };\n  //#endregion\n  const noJustifiedEventType = getEventType({ client, type: \"noJustified\" });\n  const noJustifiedColor = getColor({\n    data: client.get(`actionType.${noJustifiedEventType}`),\n    path: \"color\",\n  });\n  const [startDate] = useState(\n    moment().subtract(7, \"day\").startOf(\"day\").add(6, \"hours\")\n  );\n  const [endDate] = useState(\n    moment().subtract(1, \"day\").endOf(\"day\").add(6, \"hours\")\n  );\n  return (\n    <React.Fragment>\n      <Grid\n        item\n        xs={12}\n        sm={6}\n        className={classes.item}\n        component={Link}\n        to={\"/reports/production-oee\"}\n      >\n        <div className={classes.wrapper}>\n          <Icon className={classes.icon}>donut_large</Icon>\n          <div className={classes.header}>\n            <Typography className={classes.title} variant=\"body1\">\n              <span>OEE (ontem)</span>\n              <Icon className={classes.linkIcon}>arrow_forward_ios</Icon>\n            </Typography>\n            {level !== \"N1\" && (\n              <div className={classes.kpi}>\n                <span\n                  className={classes.kpiLabel}\n                  style={{\n                    color: noJustifiedColor,\n                  }}\n                >\n                  Qualidade assumida 100%\n                </span>\n              </div>\n            )}\n          </div>\n        </div>\n        {loading && <Loader />}\n        {!loading && <GaugeChart value={oeeData} />}\n      </Grid>\n      <Grid\n        item\n        xs={12}\n        sm={6}\n        className={classes.item}\n        component={Link}\n        to={`/reports/production-oee?sd=${startDate.toISOString()}&ed=${endDate.toISOString()}`}\n      >\n        <div className={classes.wrapper}>\n          <Icon className={classes.icon}>view_week</Icon>\n          <div className={classes.header}>\n            <Typography className={classes.title} variant=\"body1\">\n              <span>Indicadores (7 dias)</span>\n              <Icon className={classes.linkIcon}>arrow_forward_ios</Icon>\n            </Typography>\n          </div>\n        </div>\n        {weekLoading && <Loader />}\n        {!weekLoading && (\n          <React.Fragment>\n            <ChartistGraph\n              type=\"Bar\"\n              className=\"ct-indicators\"\n              data={weekReportData}\n              options={weekReportOptions}\n              listener={fillBarColor}\n              style={{ padding: theme.spacing(2) }}\n            />\n            <Paper className={classes.legend}>\n              {lodashMap(\n                [\"Disponibilidade\", \"Qualidade\", \"Performance\"],\n                (legend, index) => (\n                  <div key={index} className={classes.titleLegend}>\n                    <i\n                      className={classes.iconLegend}\n                      style={{\n                        background: lodashGet(\n                          weekReportData,\n                          `series.${index}.bgColor`\n                        ),\n                      }}\n                    />{\" \"}\n                    {legend}\n                  </div>\n                )\n              )}\n            </Paper>\n          </React.Fragment>\n        )}\n      </Grid>\n      <Grid item xs={12} sm={6} className={classes.item}>\n        <div className={classes.wrapper}>\n          <Icon className={classes.icon}>pie_chart</Icon>\n          <div className={classes.header}>\n            <Typography className={classes.title} variant=\"body1\">\n              Disponibilidade (ontem)\n            </Typography>\n            <div className={classes.kpi}>\n              {loading && <Loader />}\n              {!loading && (\n                <span\n                  style={{\n                    color: noJustifiedColor,\n                  }}\n                >\n                  {NUMBER_FORMAT(\n                    parseFloat(\n                      statsData.graphTotalNonPlannedStoppedTime\n                    ).toFixed(2)\n                  )}\n                </span>\n              )}\n              <span\n                className={classes.kpiLabel}\n                style={{\n                  color: noJustifiedColor,\n                }}\n              >\n                Horas paradas\n              </span>\n            </div>\n          </div>\n        </div>\n        {loading && <Loader />}\n        {!loading && <PieChart data={inactivityData} />}\n      </Grid>\n    </React.Fragment>\n  );\n};\n\nexport default withStyles(styles, { withTheme: true })(IndicatorsReport);\n","import React, { useState } from \"react\";\nimport { Grid, Icon, Toolbar, Hidden } from \"@material-ui/core\";\nimport { MasterDataCard, Button } from \"../../components\";\nimport { Link, withStyles, lodashGet, getPermissions, useAuth } from \"../../utils\";\nimport IndicatorsReport from \"./IndicatorsReport\";\nimport PlantFilter from \"./PlantFilter\";\n\nconst actions = [\n  {\n    name: \"Produção Ativa\",\n    icon: \"view_agenda\",\n    href: \"/dashboard/production\",\n    permissions: [\"readProductionOrders\"]\n  },\n  {\n    name: \"Apontamento Refugo\",\n    icon: \"vertical_split\",\n    href: \"/dashboard/production-waste\",\n    permissions: [\"readProductionOrders\"]\n  },\n  {\n    name: \"Histórico de Produção\",\n    icon: \"view_day\",\n    href: \"/dashboard/production-history\",\n    permissions: [\"readProductionOrderReports\"]\n  },\n  {\n    name: \"Relatório de Produção\",\n    icon: \"table_chart\",\n    href: \"/reports/production-report\",\n    permissions: [\"readProductionOrderReports\"]\n  },\n  {\n    name: \"Tempo Real\",\n    icon: \"av_timer\",\n    permissions: [\"readProductionOrders\", \"readProductionOrderReports\"]\n  }\n];\n\nconst styles = theme => ({\n  icon: {\n    marginLeft: theme.spacing(1)\n  },\n  kpiLabel: {\n    fontSize: \".75rem\"\n  },\n  toolbar: {\n    zIndex: 10,\n    width: `calc(100% + ${theme.spacing(6)}px)`,\n    margin: -theme.spacing(3),\n    marginBottom: theme.spacing(2),\n    [theme.breakpoints.down(\"xs\")]: {\n      margin: -theme.spacing(1),\n      width: `calc(100% + ${theme.spacing(2)}px)`\n    },\n    //color: theme.palette.common.white,\n    backgroundColor: theme.palette.secondary.main\n  },\n  export: {\n    minWidth: \"auto\",\n    color: theme.palette.primary.main\n  },\n  disabled: {\n    pointerEvents: \"none\",\n    background: \"lightgrey\"\n  }\n});\n\nconst DashboardPage = ({ classes }) => {\n  const { permissions } = useAuth();\n  const [plantIdQuery, setPlantIdQuery] = useState({});\n  const getLinkLabel = ({ index }) => (\n    <React.Fragment>\n      <span>{lodashGet(actions, `${index}.name`)}</span>\n      <Icon className={classes.icon}>arrow_forward_ios</Icon>\n    </React.Fragment>\n  );\n  const hasReportsAccess = getPermissions({\n    privileges: [\"readProductionOrderReports\"],\n    permissions\n  });\n  return (\n    <div className={classes.container}>\n      <Toolbar className={classes.toolbar}>\n        <div style={{ flex: 1 }} />\n        <Hidden smDown>\n          <Button\n            className={classes.export}\n            component={Link}\n            to={\"/reports/carousel\"}\n            text=\"Tela Cheia\"\n            icon=\"view_carousel\"\n            variant=\"toolbar\"\n            color='primary'\n          />\n        </Hidden>\n        <PlantFilter setQuery={setPlantIdQuery} />\n      </Toolbar>\n      <Grid container spacing={2}>\n        <Grid item container spacing={2} className={classes.kpi}>\n          {hasReportsAccess && (\n            <Grid item xs={12} sm={6}>\n              <MasterDataCard\n                name={getLinkLabel({ index: 3 })}\n                description={lodashGet(actions, \"3.description\")}\n                icon={lodashGet(actions, \"3.icon\")}\n                href={lodashGet(actions, \"3.href\")}\n              />\n            </Grid>\n          )}\n        </Grid>\n        {hasReportsAccess && (\n          <Grid item container spacing={2}>\n            <IndicatorsReport plantIdQuery={plantIdQuery} />\n          </Grid>\n        )}\n      </Grid>\n    </div>\n  );\n};\n\nexport default withStyles(styles, { withTheme: true })(DashboardPage);\n","import React, { useState, useEffect } from \"react\";\nimport { Avatar, Typography } from \"@material-ui/core\";\nimport { withStyles, lodashGet, getColor, getLastReadingCycle } from \"../../../utils\";\n\nconst styles = theme => ({\n  container: {\n    width: 50,\n    height: 50,\n    marginRight: theme.spacing(2),\n    fontSize: \"1rem\"\n  },\n  currentCycle: {\n    display: \"inline-grid\",\n    lineHeight: \"unset\",\n    marginTop: \"2px\",\n    color: theme.palette.common.white\n  },\n  standardCycle: {\n    textAlign: \"center\",\n    color: theme.palette.common.white,\n    fontSize: \".65rem\",\n    borderTop: `solid 1px ${theme.palette.common.white}`\n  }\n});\nconst Status = ({ classes, productionOrder, noOPEventType, size }) => {\n  const [cycle, setCycleValue] = useState();\n  const [productionOrderEvent, setProductionOrderEvent] = useState();\n  // const [productionOrderLastReading, setProductionOrderLastReading] = useState();\n  const stringProductionOrder = JSON.stringify(productionOrder || {});\n  useEffect(() => {\n    // setProductionOrderLastReading(\n    //   lodashGet(productionOrder, \"lastReading.0\") || lodashGet(productionOrder, \"mostRecentEvent.0\")\n    // );\n    setProductionOrderEvent(lodashGet(JSON.parse(stringProductionOrder), \"mostRecentEvent.0\"));\n  }, [stringProductionOrder]);\n  useEffect(\n    () =>\n      setCycleValue(getLastReadingCycle({ data: JSON.parse(stringProductionOrder) }).toFixed(1)),\n    [stringProductionOrder]\n  );\n  // console.log(\"productionOrderEvent\", productionOrderEvent, productionOrderLastReading);\n  return (\n    <Avatar\n      className={classes.container}\n      style={{\n        width: `${size}px` || '',\n        height: `${size}px`|| '',\n        background:\n          getColor({\n            data: productionOrderEvent,\n            path: \"productionOrderEventType.production_order_action_type.color\"\n          }) ||\n          getColor({\n            data: noOPEventType,\n            path: \"production_order_action_type.color\"\n          })\n      }}\n    >\n      <div className={classes.currentCycle}>\n        {productionOrderEvent ? cycle : \"ND\"}\n        <Typography className={classes.standardCycle}>\n          {productionOrderEvent &&\n            (lodashGet(productionOrder, \"idealCycle\") ? (\n              <span>{lodashGet(productionOrder, \"idealCycle\")}</span>\n            ) : (\n              \"ND\"\n            ))}\n        </Typography>\n      </div>\n    </Avatar>\n  );\n};\n\nexport default withStyles(styles, { withTheme: true })(Status);\n","import React, { useContext, useState, useEffect, useCallback } from \"react\";\nimport { Grid, Card, CardContent, Typography } from \"@material-ui/core\";\nimport moment from \"moment\";\nimport NumberFormat from \"react-number-format\";\nimport ApiContext from \"../../../api\";\nimport {\n  Link,\n  withStyles,\n  lodashGet,\n  lodashForEach,\n  lodashDebounce,\n  getColor,\n  useAuth\n} from \"../../../utils\";\nimport Status from \"./Status\";\n\nconst styles = theme => ({\n  content: {\n    flexWrap: \"nowrap\"\n  },\n  link: {\n    textDecoration: \"none\"\n  },\n  card: {}\n});\n\n/** TODO Standard order of attrs! key / classname / rest? / events */\nconst ProductionOrderCard = ({\n  classes,\n  machine,\n  productionOrder: pProductionOrder,\n  lastEvent: pLastEvent,\n  setShowUndefinedAlert,\n  setShowStoppedAlert,\n  setShowNoActiveOPAlert,\n  setShowMaxProductionAlert\n}) => {\n  const { session } = useAuth();\n  const level = lodashGet(session, \"company.level\");\n  const client = useContext(ApiContext);\n  // const undefinedEventType = getEventType({ client, type: \"undefined\" });\n  const [productionOrder, setProductionOrder] = useState();\n  const [lastEvent, setLastEvent] = useState();\n  const [background, setBackgrund] = useState();\n  const noJustifiedColor = client.get(\n    `actionType.${lodashGet(\n      client.get(\"config.productionOrder.eventType.noJustified\"),\n      \"value\"\n    )}`\n  );\n  const confirmedProduction =\n    lodashGet(productionOrder, \"confirmedProduction\") ||\n    lodashGet(productionOrder, \"totalProduction\");\n  const missingProduction =\n    lodashGet(productionOrder, \"expectedProduction\") - confirmedProduction;\n  const findProductionOrders = useCallback(() => {\n    // console.log(\"!!!findProductionOrders\")\n    const asyncFindProductionOrders = async () => {\n      let productionOrders;\n      const { data: find } = await client.service(\"production_orders\").find({\n        query: {\n          machineId: machine.id,\n          $populateAll: true,\n          isActive: true,\n          $sort: {\n            actualStartDate: 1\n          },\n          $limit: 1\n        }\n      });\n      productionOrders = find;\n      if (productionOrders.length) {\n        setProductionOrder(productionOrders[0]);\n      } else {\n        setProductionOrder({\n          $withoutOP: true\n        });\n        const { data: sensors } = await client\n          .service(\"sensors\")\n          .find({ query: { machineId: machine.id } });\n        const { data: events } = await client\n          .service(\"production_order_events\")\n          .find({\n            query: {\n              mi: machine.id,\n              si: lodashGet(sensors, \"0.id\"),\n              $populateAll: true,\n              \"r.0\": { $exists: true },\n              sd: {\n                $gte: moment()\n                  .startOf(\"day\")\n                  .add(6, \"hours\")\n                  .toDate()\n              },\n              $sort: {\n                sd: -1\n              },\n              $limit: 1\n            }\n          });\n        setLastEvent(events);\n      }\n    };\n    asyncFindProductionOrders();\n  }, [client, machine.id]);\n  // useEffect(() => {\n  //   // console.log(\"!!effect Status OP Card findProductionOrders\");\n  //   findProductionOrders();\n  // }, [findProductionOrders]);\n  const stringPProductionOrder = JSON.stringify(pProductionOrder || {});\n  useEffect(() => {\n    const parsedPProductionOrder = JSON.parse(stringPProductionOrder);\n    setProductionOrder(parsedPProductionOrder);\n  }, [stringPProductionOrder]);\n  const stringPLastEvent = JSON.stringify(pLastEvent || {});\n  useEffect(() => {\n    const parsedPLastEvent = JSON.parse(stringPLastEvent);\n    setLastEvent(parsedPLastEvent);\n  }, [stringPLastEvent]);\n  const stringProductionOrder = JSON.stringify(productionOrder || {});\n  const stringLastEvent = JSON.stringify(lastEvent || {});\n  useEffect(() => {\n    // console.log(\"!!effect Status OP Card stringProductionOrder\");\n    const parsedProductionOrder = JSON.parse(stringProductionOrder);\n    const parsedLastEvent = JSON.parse(stringLastEvent);\n    const setStatusColor = ({ noJustified, noActiveOP, undefinedEV }) => {\n      let color = \"\";\n      if (undefinedEV) {\n        color = \"rgba(0, 0, 0, .14)\";\n      }\n      if (noActiveOP) {\n        color = \"#00BFFF\";\n      }\n      if (noJustified) {\n        color = getColor({ data: noJustifiedColor, path: \"color\" });\n      }\n      if (\n        level === \"N1\" &&\n        missingProduction <= 0 &&\n        lodashGet(parsedProductionOrder, \"production_order_type.isInProduction\")\n      ) {\n        setShowMaxProductionAlert(true);\n        if (!color) {\n          color = \"#ADFF2F\";\n        } else {\n          color = `linear-gradient(to right bottom, ${color} 50%, #ADFF2F 50%)`;\n        }\n      }\n      setBackgrund(color);\n    };\n    const findReadingAlert = async () => {\n      // console.log(\"!!! findReadingAlert\", lodashGet(parsedProductionOrder, \"uuid\"));\n      if (lodashGet(parsedProductionOrder, \"uuid\")) {\n        const productionOrderActionTypeId = lodashGet(\n          parsedProductionOrder,\n          \"mostRecentEvent.0.productionOrderEventType.productionOrderActionTypeId\"\n        );\n        const readings =\n          lodashGet(parsedProductionOrder, \"lastReading.0.r\") || [];\n        if (\n          !lodashGet(\n            parsedProductionOrder,\n            \"production_order_type.isInProduction\"\n          ) ||\n          !lodashGet(parsedProductionOrder, \"lastReading.length\") ||\n          !parseInt(lodashGet(readings, `${readings.length - 1}.t`), \"10\")\n        ) {\n          return setStatusColor({ noJustified: false });\n        }\n        let isProductionType = false;\n        lodashForEach(\n          [\n            client.get(\"config.productionOrder.eventType.active\"),\n            client.get(\"config.productionOrder.eventType.noJustified\"),\n            client.get(\"config.productionOrder.eventType.max\"),\n            client.get(\"config.productionOrder.eventType.min\")\n          ],\n          c => {\n            if (\n              `${lodashGet(c, \"value\")}` === `${productionOrderActionTypeId}`\n            ) {\n              isProductionType = true;\n            }\n          }\n        );\n        if (!isProductionType) {\n          if (\n            `${productionOrderActionTypeId}` ===\n            `${lodashGet(\n              client.get(\"config.productionOrder.eventType.undefined\"),\n              \"value\"\n            )}`\n          ) {\n            setShowUndefinedAlert(true);\n            return setStatusColor({ undefinedEV: true });\n          } else {\n            setShowStoppedAlert(true);\n            return setStatusColor({ noJustified: true });\n          }\n        } else {\n          return setStatusColor({ noJustified: false });\n        }\n      } else if (lodashGet(parsedProductionOrder, \"$withoutOP\")) {\n        if (lodashGet(parsedLastEvent, \"0.sd\")) {\n          setShowNoActiveOPAlert(true);\n          return setStatusColor({ noActiveOP: true });\n        } else {\n          return setStatusColor({ noJustified: false });\n        }\n      }\n    };\n    findReadingAlert();\n  }, [\n    client,\n    machine.id,\n    setShowNoActiveOPAlert,\n    setShowUndefinedAlert,\n    setShowStoppedAlert,\n    setShowMaxProductionAlert,\n    missingProduction,\n    noJustifiedColor,\n    stringProductionOrder,\n    stringLastEvent\n  ]);\n  const activeOrder = lodashGet(productionOrder, \"isActive\");\n  const inProductionOrder = lodashGet(\n    productionOrder,\n    \"production_order_type.isInProduction\"\n  );\n  useEffect(() => {\n    const reloadEvents = lodashDebounce(() => findProductionOrders(), 300);\n    const onEventCreated = async data => {\n      if (!data.poi) {\n        const { data: sensors } = await client\n          .service(\"sensors\")\n          .find({ query: { machineId: machine.id, id: data.si } });\n        if (sensors.length) {\n          reloadEvents();\n        }\n      }\n    };\n    const onProductionOrder = data => {\n      if (`${data.machineId}` === `${machine.id}`) {\n        reloadEvents();\n      }\n    };\n    client.service(\"production_orders\").on(\"patched\", onProductionOrder);\n    client.service(\"production_orders\").on(\"created\", onProductionOrder);\n    client.service(\"production_order_events\").on(\"created\", onEventCreated);\n    return () => {\n      client\n        .service(\"production_orders\")\n        .removeListener(\"patched\", onProductionOrder);\n      client\n        .service(\"production_orders\")\n        .removeListener(\"created\", onProductionOrder);\n      client\n        .service(\"production_order_events\")\n        .removeListener(\"created\", onEventCreated);\n    };\n  }, [client, machine.id, findProductionOrders]);\n  const endD =\n    lodashGet(productionOrder, \"mostRecentEvent.0.ed\") === -1\n      ? moment()\n      : lodashGet(productionOrder, \"mostRecentEvent.0.ed\");\n  return (\n    <Grid\n      item\n      xs={12}\n      md={6}\n      key={machine.id}\n      className={classes.link}\n      component={Link}\n      to={`/dashboard/production/${machine.id}/order/${\n        lodashGet(productionOrder, \"uuid\") ? productionOrder.id : \"new\"\n      }`}\n    >\n      <Card\n        className={classes.card}\n        style={{\n          background\n        }}\n      >\n        <CardContent>\n          <Grid\n            className={classes.content}\n            container\n            direction=\"row\"\n            alignItems=\"center\"\n            spacing={0}\n          >\n            <Grid item xs={4}>\n              <Typography component=\"h6\" variant=\"h6\" noWrap>\n                {machine.identity} - {machine.name}\n              </Typography>\n              <Typography color=\"textSecondary\" noWrap>\n                Molde: {lodashGet(productionOrder, \"mold.identity\")} -{\" \"}\n                {lodashGet(productionOrder, \"mold.name\")}\n              </Typography>\n              {level === \"N1\" && (\n                <Typography color=\"textSecondary\" noWrap>\n                  Produto: {lodashGet(productionOrder, \"product.identity\")} -{\" \"}\n                  {lodashGet(productionOrder, \"product.name\")}\n                </Typography>\n              )}\n            </Grid>\n            <Grid item style={{ minWidth: \"50px\" }}>\n              <Status\n                productionOrder={productionOrder}\n                noOPEventType={lodashGet(machine, \"noOPEventType\")}\n              />\n            </Grid>\n            <Grid item xs={3}>\n              <Typography variant=\"body2\" noWrap>\n                {!activeOrder && `${lodashGet(machine, \"noOPEventType.name\")}`}\n                {activeOrder &&\n                  `${lodashGet(\n                    productionOrder,\n                    \"mostRecentEvent.0.productionOrderEventType.name\"\n                  )}`}\n              </Typography>\n              <Typography color=\"textSecondary\" noWrap>\n                {`${moment(endD).format(\"DD/MM/YYYY\")}`}\n              </Typography>\n              <Typography color=\"textSecondary\" noWrap>\n                {`${moment(endD).format(\"HH:mm\")}`}\n              </Typography>\n            </Grid>\n            {level === \"N1\" && (\n              <Grid item xs={3}>\n                <Typography variant=\"body2\" noWrap>\n                  PROG: {(!activeOrder || !inProductionOrder) && \"NÃO DEFINIDO\"}\n                  <NumberFormat\n                    value={\n                      activeOrder &&\n                      `${lodashGet(productionOrder, \"expectedProduction\")}`\n                    }\n                    displayType={\"text\"}\n                    thousandSeparator={\".\"}\n                    decimalSeparator={\",\"}\n                  />\n                </Typography>\n                <Typography color=\"textSecondary\" noWrap>\n                  CONFIRM:{\" \"}\n                  <NumberFormat\n                    value={inProductionOrder ? confirmedProduction : \"\"}\n                    displayType={\"text\"}\n                    thousandSeparator={\".\"}\n                    decimalSeparator={\",\"}\n                  />\n                </Typography>\n                <Typography color=\"textSecondary\" noWrap>\n                  FALTA:{\" \"}\n                  <NumberFormat\n                    value={inProductionOrder ? missingProduction : \"\"}\n                    displayType={\"text\"}\n                    thousandSeparator={\".\"}\n                    decimalSeparator={\",\"}\n                  />\n                </Typography>\n              </Grid>\n            )}\n          </Grid>\n        </CardContent>\n      </Card>\n    </Grid>\n  );\n};\n\nexport default withStyles(styles, { withTheme: true })(ProductionOrderCard);\n","import React, { useContext, useState } from \"react\";\nimport { Grid, Typography, Toolbar } from \"@material-ui/core\";\nimport moment from \"moment\";\nimport ApiContext from \"../../../api\";\nimport {\n  withStyles,\n  lodashGet,\n  lodashMap,\n  useFindService,\n  getColor,\n  useAuth\n} from \"../../../utils\";\nimport { NotFound, Loader, Errors } from \"../../../components\";\nimport PlantFilter from \"../PlantFilter\";\nimport ProductionOrderCard from \"./ProductionOrderCard\";\n\nconst styles = theme => ({\n  alert: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    \"&>div\": {\n      width: 20,\n      height: 20,\n      marginRight: 10\n    }\n  },\n  scrollArea: {\n    height: \"100%\"\n  },\n  toolbar: {\n    zIndex: 10,\n    width: `calc(100% + ${theme.spacing(6)}px)`,\n    margin: -theme.spacing(3),\n    marginBottom: theme.spacing(2),\n    [theme.breakpoints.down(\"xs\")]: {\n      margin: -theme.spacing(1),\n      width: `calc(100% + ${theme.spacing(2)}px)`\n    },\n    color: theme.palette.common.white,\n    backgroundColor: theme.palette.secondary.main\n  }\n});\n\nconst ProductionPage = ({ classes, limit, offset }) => {\n  const { session } = useAuth();\n  const level = lodashGet(session, \"company.level\");\n  const client = useContext(ApiContext);\n  const [showUndefinedAlert, setShowUndefinedAlert] = useState();\n  const [showStoppedAlert, setShowStoppedAlert] = useState();\n  const [showNoActiveOPAlert, setShowNoActiveOPAlert] = useState();\n  const [showMaxProductionAlert, setShowMaxProductionAlert] = useState();\n  const { list, loading, errors, setQuery: setFindQuery } = useFindService({\n    model: \"machines\",\n    query: {\n      $productionOrders: {\n        sd: moment()\n          .startOf(\"day\")\n          .add(6, \"hours\")\n          .toDate()\n      },\n      machineStatusId: lodashGet(\n        client.get(\"config.machine.status.active\"),\n        \"value\"\n      ),\n      $sort: { identity: 1 },\n      $limit: limit,\n      $skip: offset\n    }\n  });\n  const empty = !loading && !errors && list.length === 0;\n  const noJustifiedColor = client.get(\n    `actionType.${lodashGet(\n      client.get(\"config.productionOrder.eventType.noJustified\"),\n      \"value\"\n    )}`\n  );\n  return (\n    <div className={classes.container}>\n      <Toolbar className={classes.toolbar}>\n        <div style={{ flex: 1 }} />\n        <PlantFilter setFindQuery={setFindQuery} />\n      </Toolbar>\n      <Grid container spacing={1}>\n        <Grid item xs={12}>\n          {loading && <Loader />}\n          {errors && <Errors errors={errors} />}\n          {empty && <NotFound />}\n          {showUndefinedAlert && (\n            <div className={classes.alert}>\n              <div\n                style={{\n                  background: \"rgba(0, 0, 0, .14)\"\n                }}\n              />\n              <Typography>\n                Máquinas sem comunicação com o leitor com ciclos no dia de hoje.\n              </Typography>\n            </div>\n          )}\n          {showStoppedAlert && (\n            <div className={classes.alert}>\n              <div\n                style={{\n                  background: getColor({\n                    data: noJustifiedColor,\n                    path: \"color\"\n                  })\n                }}\n              />\n              <Typography>\n                Máquinas paradas com ciclos no leitor no dia de hoje.\n              </Typography>\n            </div>\n          )}\n          {showNoActiveOPAlert && (\n            <div className={classes.alert}>\n              <div\n                style={{\n                  background: \"#00BFFF\"\n                }}\n              />\n              <Typography>\n                Máquinas sem OP ativa com ciclos no leitor no dia de hoje.\n              </Typography>\n            </div>\n          )}\n          {showMaxProductionAlert && level === \"N1\" && (\n            <div className={classes.alert}>\n              <div\n                style={{\n                  background: \"#ADFF2F\"\n                }}\n              />\n              <Typography>Produção esperada excedida.</Typography>\n            </div>\n          )}\n        </Grid>\n        {!empty &&\n          lodashMap(list, (machine, index) => (\n            <ProductionOrderCard\n              key={machine.id}\n              index={index}\n              machine={machine}\n              productionOrder={machine.productionOrder}\n              lastEvent={machine.events}\n              setShowUndefinedAlert={setShowUndefinedAlert}\n              setShowStoppedAlert={setShowStoppedAlert}\n              setShowNoActiveOPAlert={setShowNoActiveOPAlert}\n              setShowMaxProductionAlert={setShowMaxProductionAlert}\n            />\n          ))}\n      </Grid>\n    </div>\n  );\n};\n\nexport default withStyles(styles, { withTheme: true })(ProductionPage);\n","import { useContext } from \"react\";\nimport machinesIcon from \"../../../../icons/injector.svg\";\nimport moldsIcon from \"../../../../icons/mold.svg\";\nimport ApiContext from \"../../../../api\";\nimport {\n  lodashGet,\n  lodashMap,\n  lodashForEach,\n  useGetService\n} from \"../../../../utils\";\nimport useAuth from \"../../../../utils/useAuth\";\n\nexport const form = [\n  {\n    text: \"Tipo de Ordem\",\n    identity: \"productionOrderTypeId\",\n    required: true,\n    readOnly: {\n      ifThis: \"uuid\"\n    },\n    model: \"production_order_types\"\n  },\n  [\n    {\n      text: \"Status de Ordem\",\n      identity: \"productionOrderStatusId\",\n      readOnly: true,\n      model: \"production_order_statuses\",\n      defaultValue: {\n        config: \"productionOrder.status.init\"\n      }\n    },\n    {\n      text: \"Local\",\n      identity: \"plantId\",\n      readOnly: true,\n      model: \"plants\"\n    },\n    {\n      text: \"Quantidade Confirmada\",\n      identity: \"confirmedProduction\",\n      type: \"integer\",\n      readOnly: {\n        customIf: ({ data: productionOrder = {} }) =>\n          lodashGet(productionOrder, \"plant.qualityTrackFrequency\") !==\n            \"Encerramento\" ||\n          lodashGet(productionOrder, \"plant.qualityTrackType\") !==\n            \"Q Confirmada\"\n      },\n      show: {\n        // TODO add semantics to ALL data params\n        useCustomIf: ({ data: productionOrder = {} }) => {\n          return (\n            !!lodashGet(productionOrder, \"isClosed\") &&\n            !!lodashGet(productionOrder, \"production_order_type.isInProduction\")\n          );\n        }\n      },\n      handleValidate: ({ data = {}, item: productionOrder = {} }) => {\n        const value = parseInt(lodashGet(data, \"target.value\"), \"10\");\n        if (\n          value > parseInt(lodashGet(productionOrder, \"totalProduction\"), \"10\")\n        ) {\n          return \"Q Confirmada não pode exceder a quantidade produzida\";\n        }\n        if (value < 0) {\n          return \"Q Confirmada não pode ser negativo\";\n        }\n        return true;\n      },\n      handleChange: ({\n        data = {},\n        item: productionOrder = {},\n        handleChange\n      }) => {\n        const value = parseInt(lodashGet(data, \"target.value\"), \"10\");\n        if (\n          value &&\n          lodashGet(productionOrder, \"plant.qualityTrackType\") ===\n            \"Q Confirmada\"\n        ) {\n          handleChange({\n            target: {\n              name: \"wastedProduction\",\n              value:\n                (parseInt(\n                  lodashGet(productionOrder, \"totalProduction\"),\n                  \"10\"\n                ) || 0) - value\n            }\n          });\n        }\n      }\n    },\n    {\n      text: \"Quantidade Refugo\",\n      identity: \"wastedProduction\",\n      type: \"integer\",\n      readOnly: {\n        customIf: ({ data: productionOrder = {} }) =>\n          lodashGet(productionOrder, \"plant.qualityTrackFrequency\") !==\n            \"Encerramento\" ||\n          lodashGet(productionOrder, \"plant.qualityTrackType\") !== \"Q Refugo\"\n      },\n      show: {\n        useCustomIf: ({ data: productionOrder = {} }) => {\n          return (\n            !!lodashGet(productionOrder, \"isClosed\") &&\n            !!lodashGet(productionOrder, \"production_order_type.isInProduction\")\n          );\n        }\n      },\n      handleValidate: ({ data = {}, item: productionOrder = {} }) => {\n        const value = parseInt(lodashGet(data, \"target.value\"), \"10\");\n        if (\n          value > parseInt(lodashGet(productionOrder, \"totalProduction\"), \"10\")\n        ) {\n          return \"Q Refugo não pode exceder a quantidade produzida\";\n        }\n        if (value < 0) {\n          return \"Q Refugo não pode ser negativo\";\n        }\n        return true;\n      },\n      handleChange: ({\n        data = {},\n        item: productionOrder = {},\n        handleChange\n      }) => {\n        // TODO create a util parseInt to include radix auto, maybe a lodashGetInt?\n        const value = parseInt(lodashGet(data, \"target.value\"), \"10\");\n        if (\n          value &&\n          lodashGet(productionOrder, \"plant.qualityTrackType\") === \"Q Refugo\"\n        ) {\n          handleChange({\n            target: {\n              name: \"confirmedProduction\",\n              value:\n                (parseInt(\n                  lodashGet(productionOrder, \"totalProduction\"),\n                  \"10\"\n                ) || 0) - value\n            }\n          });\n        }\n      }\n    }\n  ],\n  {\n    text: \"Máquina\",\n    identity: \"machineId\",\n    icon: { type: \"svg\", src: machinesIcon },\n    required: true,\n    readOnly: {\n      ifThis: \"uuid\"\n    },\n    model: {\n      service: \"machines\",\n      hasIdentity: true,\n      useCustomQuery: () => {\n        const client = useContext(ApiContext);\n        return {\n          machineStatusId: lodashGet(\n            client.get(\"config.machine.status.active\"),\n            \"value\"\n          )\n        };\n      }\n    }\n  },\n  [\n    {\n      text: \"Molde\",\n      identity: \"moldId\",\n      icon: { type: \"svg\", src: moldsIcon },\n      variants: \"fullWidth\",\n      readOnly: {\n        ifThis: \"uuid\"\n      },\n      model: {\n        service: \"molds\",\n        hasIdentity: true,\n        useCustomQuery: () => {\n          const client = useContext(ApiContext);\n          return {\n            moldStatusId: lodashGet(\n              client.get(\"config.mold.status.active\"),\n              \"value\"\n            )\n          };\n        }\n      },\n      // TODO all handleChange async? or no need?\n      handleChange: ({\n        data = {},\n        handleChange,\n        item: productionOrder = {}\n      }) => {\n        const moldId = lodashGet(data, \"target.value\");\n        if (!moldId) {\n          handleChange({\n            target: {\n              name: \"productId\",\n              value: null\n            }\n          });\n        }\n      }\n    }\n  ],\n  [\n    {\n      text: \"Produto\",\n      identity: \"productId\",\n      icon: \"style\",\n      variants: \"fullWidth\",\n      show: {\n        useCustomIf: ({ data: productionOrder = {} }) => {\n          const { item: productionOrderType } = useGetService({\n            model: \"production_order_types\",\n            id: productionOrder.productionOrderTypeId\n          });\n          return !!lodashGet(productionOrderType, \"isInProduction\");\n        }\n      },\n      readOnly: {\n        customIf: ({ data: productionOrder = {} }) =>\n          !lodashGet(productionOrder, \"moldId\") ||\n          lodashGet(productionOrder, \"uuid\")\n      },\n      model: {\n        service: \"products\",\n        hasIdentity: true,\n        // TODO instead of a hook, just send client as params and leave it as async?\n        useCustomQuery: ({ data = {} }) => {\n          const client = useContext(ApiContext);\n          const query = {\n            productStatusId: lodashGet(\n              client.get(\"config.product.status.active\"),\n              \"value\"\n            )\n          };\n          const { item: mold } = useGetService({\n            model: \"molds\",\n            id: data.moldId\n          });\n          if (lodashGet(mold, \"id\")) {\n            return {\n              ...query,\n              id: {\n                $in: lodashMap(mold.products, product => product.id)\n              }\n            };\n          }\n          return query;\n        }\n      },\n      handleChange: async ({\n        client,\n        data = {},\n        handleChange,\n        item: productionOrder = {},\n        field = {}\n      }) => {\n        const productId = lodashGet(data, \"target.value\");\n        if (productId) {\n          field.loading = true;\n          try {\n            const { data: moldProducts } = await client\n              .service(\"mold_products\")\n              .find({\n                query: {\n                  moldId: productionOrder.moldId,\n                  productId\n                }\n              });\n            const product = await client.service(\"products\").get(productId);\n            // TODO always use lodashGET for objets, even if is declared?\n            const mold = await client\n              .service(\"molds\")\n              .get(lodashGet(productionOrder, \"moldId\"));\n            handleChange({\n              target: {\n                name: \"openCavities\",\n                value:\n                  // TODO review backend populates, remove not used ones anymore\n                  lodashGet(productionOrder, \"openCavities\") ||\n                  lodashGet(moldProducts, \"0.cavities\")\n              }\n            });\n            handleChange({\n              target: {\n                name: \"expectedProductionUM\",\n                value: product.UM\n              }\n            });\n            handleChange({\n              target: {\n                name: \"color\",\n                value: product.color\n              }\n            });\n            // TODO verify all ({} = {})\n            const setProductionOrderCycles = ({ cyclesData }) => {\n              handleChange({\n                target: {\n                  name: \"idealCycle\",\n                  value:\n                    lodashGet(productionOrder, \"idealCycle\") ||\n                    lodashGet(cyclesData, \"0.idealCycle\") ||\n                    lodashGet(mold, \"idealCycle\")\n                }\n              });\n              handleChange({\n                target: {\n                  name: \"idealCycleUM\",\n                  value:\n                    lodashGet(productionOrder, \"idealCycleUM\") ||\n                    lodashGet(cyclesData, \"0.idealCycleUM\") ||\n                    lodashGet(mold, \"idealCycleUM\")\n                }\n              });\n            };\n            const { data: machineMoldProductCycles } = await client\n              .service(\"machine_mold_products\")\n              .find({\n                query: {\n                  machineId: productionOrder.machineId,\n                  moldId: productionOrder.moldId,\n                  productId\n                }\n              });\n            if (machineMoldProductCycles.length) {\n              setProductionOrderCycles({\n                cyclesData: machineMoldProductCycles\n              });\n            } else {\n              const { data: machineProductCycles } = await client\n                .service(\"machine_mold_products\")\n                .find({\n                  query: {\n                    machineId: productionOrder.machineId,\n                    moldId: null,\n                    productId\n                  }\n                });\n              if (machineProductCycles.length) {\n                setProductionOrderCycles({ cyclesData: machineProductCycles });\n              } else {\n                // TODO verify all functions calling ({})\n                setProductionOrderCycles({});\n              }\n            }\n          } catch (error) {\n          } finally {\n            field.loading = false;\n          }\n        } else {\n          lodashForEach(\n            [\n              \"openCavities\",\n              \"expectedProductionUM\",\n              \"color\",\n              \"idealCycle\",\n              \"minCycle\",\n              \"maxCycle\",\n              \"idealCycleUM\"\n            ],\n            key => {\n              handleChange({\n                target: {\n                  name: key,\n                  value: null\n                }\n              });\n            }\n          );\n        }\n      }\n    }\n  ],\n  [\n    // TODO remove this objet under single FORM\n    // {\n    //   text: \"Montagem (min)\",\n    //   identity: \"setupInMinutes\",\n    //   variants: \"setup\",\n    //   type: \"integer\"\n    // },\n    // {\n    //   text: \"Desmontagem (min)\",\n    //   identity: \"setupOutMinutes\",\n    //   variants: \"setup\",\n    //   type: \"integer\"\n    // },\n    // {\n    //   text: \"SetUp Injeção (min)\",\n    //   identity: \"setupInjectionMinutes\",\n    //   variants: \"setup\",\n    //   type: \"integer\"\n    // },\n    // {\n    //   text: \"SetUp Automação (min)\",\n    //   identity: \"setupAutoMinutes\",\n    //   variants: \"setup\",\n    //   type: \"integer\"\n    // },\n    // {\n    //   text: \"SetUp Produto (min)\",\n    //   identity: \"setupProductMinutes\",\n    //   variants: \"setup\",\n    //   type: \"integer\"\n    // }\n  ],\n  [\n    {\n      text: \"Cavidades Abertas\",\n      identity: \"openCavities\",\n      type: \"integer\",\n      readOnly: {\n        useCustomIf: ({ data: productionOrder = {} }) => {\n          const { session } = useAuth();\n          const level = lodashGet(session, \"company.level\");\n          return level === \"N6\";\n        }\n      },\n      show: {\n        useCustomIf: ({ data: productionOrder = {} }) => {\n          const { session } = useAuth();\n          const level = lodashGet(session, \"company.level\");\n          return (\n            level === \"N6\" ||\n            (!!lodashGet(productionOrder, \"moldId\") &&\n              !!lodashGet(productionOrder, \"productId\"))\n          );\n        }\n      }\n    },\n    [\n      {\n        text: \"Quantidade Prevista\",\n        identity: \"expectedProduction\",\n        type: \"integer\",\n        required: {\n          useCustomIf: ({ data }) => {\n            if (data.isInProduction === 0) {\n              return false;\n            }\n            return true\n          }\n        },\n        readOnly: {\n          useCustomIf: ({ data: productionOrder = {} }) => {\n            const { session } = useAuth();\n            const level = lodashGet(session, \"company.level\");\n            return level === \"N6\";\n          }\n        },\n        show: {\n          useCustomIf: ({ data: productionOrder = {} }) => {\n            const { session } = useAuth();\n            const level = lodashGet(session, \"company.level\");\n            return (\n              level === \"N6\" ||\n              (!!lodashGet(productionOrder, \"moldId\") &&\n                !!lodashGet(productionOrder, \"productId\"))\n            );\n          }\n        }\n      },\n      {\n        text: \"UM\",\n        identity: \"expectedProductionUM\",\n        variants: \"short\",\n        required: {\n          useCustomIf: ({ data }) => {\n            if (data.isInProduction === 0) {\n              return false;\n            }\n            return true\n          }\n        },\n        readOnly: {\n          useCustomIf: ({ data: productionOrder = {} }) => {\n            const { session } = useAuth();\n            const level = lodashGet(session, \"company.level\");\n            return level === \"N6\";\n          }\n        },\n        show: {\n          useCustomIf: ({ data: productionOrder = {} }) => {\n            const { session } = useAuth();\n            const level = lodashGet(session, \"company.level\");\n            return (\n              level === \"N6\" ||\n              (!!lodashGet(productionOrder, \"moldId\") &&\n                !!lodashGet(productionOrder, \"productId\"))\n            );\n          }\n        },\n        model: {\n          service: \"measurement_units\",\n          query: {\n            type: \"quantity\"\n          }\n        }\n      }\n    ]\n  ],\n  [\n    {\n      text: \"Ciclo Ideal\",\n      identity: \"idealCycle\",\n      type: \"decimal\",\n      required: {\n        useCustomIf: ({ data }) => {\n          if (data.isInProduction === 0) {\n            return false;\n          }\n          return true\n        }\n      },\n      show: {\n        useCustomIf: ({ data: productionOrder = {} }) => {\n          const { session } = useAuth();\n          const level = lodashGet(session, \"company.level\");\n          return (\n            level === \"N6\" ||\n            (!!lodashGet(productionOrder, \"moldId\") &&\n              !!lodashGet(productionOrder, \"productId\"))\n          );\n        }\n      },\n      handleChange: ({ data = {}, handleChange }) => {\n        const calculateCycle = ({ value, factor }) =>\n          Math.round(parseFloat(value, \"10\") * factor * 100) / 100;\n        const value = lodashGet(data, \"target.value\");\n        if (value) {\n          handleChange({\n            target: {\n              name: \"minCycle\",\n              value: calculateCycle({ value, factor: 0.9 })\n            }\n          });\n          handleChange({\n            target: {\n              name: \"maxCycle\",\n              value: calculateCycle({ value, factor: 1.1 })\n            }\n          });\n        }\n      }\n    },\n    {\n      text: \"Ciclo Min\",\n      identity: \"minCycle\",\n      type: \"decimal\",\n      show: {\n        useCustomIf: ({ data: productionOrder = {} }) => {\n          const { session } = useAuth();\n          const level = lodashGet(session, \"company.level\");\n          return (\n            level === \"N6\" ||\n            (!!lodashGet(productionOrder, \"moldId\") &&\n              !!lodashGet(productionOrder, \"productId\"))\n          );\n        }\n      }\n    },\n    [\n      {\n        text: \"Ciclo Max\",\n        identity: \"maxCycle\",\n        type: \"decimal\",\n        show: {\n          useCustomIf: ({ data: productionOrder = {} }) => {\n            const { session } = useAuth();\n            const level = lodashGet(session, \"company.level\");\n            return (\n              level === \"N6\" ||\n              (!!lodashGet(productionOrder, \"moldId\") &&\n                !!lodashGet(productionOrder, \"productId\"))\n            );\n          }\n        }\n      },\n      {\n        text: \"UM\",\n        identity: \"cycleUM\",\n        variants: \"short\",\n        required: {\n          useCustomIf: ({ data }) => {\n            if (data.isInProduction === 0) {\n              return false;\n            }\n            return true\n          }\n        },\n        // required: [[\"idealCycle\", \"minCycle\", \"maxCycle\"]],\n        populate: [\"idealCycleUM\", \"minCycleUM\", \"maxCycleUM\"],\n        show: {\n          useCustomIf: ({ data: productionOrder = {} }) => {\n            const { session } = useAuth();\n            const level = lodashGet(session, \"company.level\");\n            return (\n              level === \"N6\" ||\n              (!!lodashGet(productionOrder, \"moldId\") &&\n                !!lodashGet(productionOrder, \"productId\"))\n            );\n          }\n        },\n        model: {\n          service: \"measurement_units\",\n          query: {\n            type: \"time\"\n          }\n        }\n      }\n    ]\n  ],\n  [\n    {\n      text: \"Lote\",\n      identity: \"lot\",\n      type: \"string\"\n    },\n    {\n      text: \"Descrição\",\n      identity: \"description\",\n      // TODO type longtext\n      type: \"string\"\n    },\n    {\n      text: \"Cor\",\n      identity: \"color\",\n      type: \"string\"\n    }\n  ],\n  [\n    {\n      text: \"UM\",\n      identity: \"idealCycleUM\",\n      variants: \"short\",\n      show: { useCustomIf: () => false },\n      model: {\n        service: \"measurement_units\",\n        query: {\n          type: \"time\"\n        }\n      }\n    },\n    {\n      text: \"UM\",\n      identity: \"minCycleUM\",\n      variants: \"short\",\n      show: { useCustomIf: () => false },\n      model: {\n        service: \"measurement_units\",\n        query: {\n          type: \"time\"\n        }\n      }\n    },\n    {\n      text: \"UM\",\n      identity: \"maxCycleUM\",\n      variants: \"short\",\n      show: { useCustomIf: () => false },\n      model: {\n        service: \"measurement_units\",\n        query: {\n          type: \"time\"\n        }\n      }\n    }\n  ]\n];\n\nexport default {\n  form\n};\n","import React from \"react\";\nimport { Grid } from \"@material-ui/core\";\nimport {\n  Link,\n  withRouter,\n  withStyles,\n  classNames,\n  lodashGet,\n  getPermissions,\n  useAuth\n} from \"../../../../utils\";\nimport { Button } from \"../../../../components\";\n\nconst styles = theme => ({\n  container: {\n    marginBottom: theme.spacing(2)\n  },\n  isActive: {\n    backgroundColor: theme.palette.primary.main,\n    color: theme.palette.common.white\n  },\n  navigation: {\n    color: theme.palette.common.black,\n    padding: 0\n  }\n});\n\nconst Actions = ({\n  history,\n  match: { params },\n  classes,\n  machine,\n  productionOrder,\n  handleSubmit\n}) => {\n  const { session, permissions } = useAuth();\n  const level = lodashGet(session, \"company.level\");\n  // TODO stringify ALL to avoid infinity cycles\n  const handleCopy = () => {\n    const copyItem = { ...productionOrder };\n    delete copyItem.id;\n    delete copyItem.uuid;\n    delete copyItem.totalProduction;\n    delete copyItem.confirmedProduction;\n    delete copyItem.wastedProduction;\n    delete copyItem.actualStartDate;\n    delete copyItem.actualEndDate;\n    localStorage.setItem(\n      \"copy-production-order\",\n      JSON.stringify({ ...copyItem })\n    );\n    // TODO remove all redirects\n    history.push(`/dashboard/production/${params.machineId}/order/new`);\n  };\n  const hasCRUDAccess = getPermissions({\n    privileges: [\n      \"writeActiveProductionOrders\",\n      \"writeScheduledStopProductionOrders\",\n      \"writeProductionOrderEvents\"\n    ],\n    permissions\n  });\n  const prevProductionOrder =\n    lodashGet(productionOrder, \"prevProductionOrder.id\") ||\n    lodashGet(machine, \"prevProductionOrder.id\");\n  const prevProductionOrderProps = {};\n  if (prevProductionOrder) {\n    prevProductionOrderProps.component = Link;\n    prevProductionOrderProps.to = `/dashboard/production/${params.machineId}/order/${prevProductionOrder}`;\n  }\n  const nextProductionOrder =\n    lodashGet(productionOrder, \"nextProductionOrder.id\") ||\n    lodashGet(machine, \"nextProductionOrder.id\");\n  const nextProductionOrderProps = {};\n  if (nextProductionOrder) {\n    nextProductionOrderProps.component = Link;\n    nextProductionOrderProps.to = `/dashboard/production/${params.machineId}/order/${nextProductionOrder}`;\n  }\n  const activeProductionOrder =\n    lodashGet(productionOrder, \"activeProductionOrder.id\") ||\n    lodashGet(machine, \"activeProductionOrder.id\");\n  const activeProductionOrderProps = {};\n  if (activeProductionOrder) {\n    activeProductionOrderProps.component = Link;\n    activeProductionOrderProps.to = `/dashboard/production/${params.machineId}/order/${activeProductionOrder}`;\n  }\n  return (\n    <Grid\n      item\n      container\n      spacing={1}\n      direction=\"row\"\n      justify=\"flex-start\"\n      alignItems=\"center\"\n      className={classes.container}\n    >\n      {hasCRUDAccess && (\n        <Grid item>\n          <Button\n            type=\"submit\"\n            text=\"Gravar\"\n            icon=\"save\"\n            variants=\"submit\"\n            onClick={handleSubmit}\n          />\n        </Grid>\n      )}\n      <Grid item>\n        <Button\n          className={classes.navigation}\n          type=\"icon\"\n          text=\"Ordem Anterior\"\n          icon=\"arrow_back_ios\"\n          disabled={!prevProductionOrder}\n          {...prevProductionOrderProps}\n        />\n      </Grid>\n      <Grid item>\n        <Button\n          className={classNames({\n            [classes.isActive]:\n              `${activeProductionOrder}` === `${params.productionOrderId}`\n          })}\n          text=\"Ativa\"\n          icon=\"center_focus_strong\"\n          disabled={!activeProductionOrder}\n          {...activeProductionOrderProps}\n        />\n      </Grid>\n      <Grid item>\n        <Button\n          className={classes.navigation}\n          type=\"icon\"\n          text=\"Próxima Ordem\"\n          icon=\"arrow_forward_ios\"\n          disabled={!nextProductionOrder}\n          {...nextProductionOrderProps}\n        />\n      </Grid>\n      {hasCRUDAccess && lodashGet(productionOrder, \"uuid\") && level === \"N1\" && (\n        <Grid item>\n          <Button\n            text=\"Criar Nova\"\n            icon=\"add\"\n            component={Link}\n            to={`/dashboard/production/${params.machineId}/order/new`}\n          />\n        </Grid>\n      )}\n      {hasCRUDAccess && lodashGet(productionOrder, \"uuid\") && (\n        <Grid item>\n          <Button\n            text=\"Criar como Copia\"\n            icon=\"file_copy\"\n            onClick={handleCopy}\n          />\n        </Grid>\n      )}\n    </Grid>\n  );\n};\n\nexport default withRouter(withStyles(styles, { withTheme: true })(Actions));\n","import React, { useContext, useState } from \"react\";\nimport moment from \"moment\";\nimport NumberFormat from \"react-number-format\";\nimport { Grid, Typography } from \"@material-ui/core\";\nimport ApiContext from \"../../../../api\";\nimport { withStyles, lodashGet, getColor } from \"../../../../utils\";\nimport { Button, FormInput } from \"../../../../components\";\n\nconst styles = theme => ({\n  label: {\n    padding: `0 ${theme.spacing(1 / 2)}px`\n  },\n  details: {\n    display: \"block\",\n    padding: theme.spacing(2)\n  },\n  item: {\n    display: \"flex\",\n    alignItems: \"center\",\n    width: \"100%\",\n    borderBottom: `1px solid ${theme.palette.primary.form}`\n  },\n  turnName: {\n    fontStyle: \"italic\"\n  }\n});\n\nconst StatusLine = ({ classes, index, isFirst, hasEditAccess, history, typesMap, event }) => {\n  const client = useContext(ApiContext);\n  const [formItem, setFormItem] = useState({});\n  const [allowEdition, setAllowEdition] = useState();\n  const handleChange = ({ identity }) => ({ target }) => {\n    const value = target.value;\n    if (value && value !== -1) {\n      setFormItem(prev => ({ ...prev, [target.name]: value }));\n    }\n  };\n  const handleEdit = () => setAllowEdition(prev => !prev);\n  const handleUpdate = () => {\n    if (formItem.ev) {\n      client.service(\"production_order_history\").patch(lodashGet(history, \"_id\"), {\n        $editEvent: {\n          index,\n          ev: formItem.ev,\n          at: lodashGet(typesMap, `${formItem.ev}.productionOrderActionTypeId`)\n        }\n      });\n      event.ev = formItem.ev;\n      setAllowEdition(false);\n    }\n  };\n  const getActionType = ({ type }) =>\n    lodashGet(client.get(`config.productionOrder.eventType.${type}`), \"value\");\n  return (\n    <React.Fragment>\n      <Grid\n        item\n        style={{\n          backgroundColor:\n            getColor({\n              data: client.get(\n                `actionType.${lodashGet(typesMap, `${event.ev}.productionOrderActionTypeId`)}`\n              ),\n              path: \"color\"\n            }) ||\n            getColor({\n              data: client.get(\n                `actionType.${lodashGet(\n                  client.get(\"config.productionOrder.eventType.undefined\"),\n                  \"value\"\n                )}`\n              ),\n              path: \"color\"\n            })\n        }}\n      />\n      <Grid item className={classes.item}>\n        {!allowEdition && (\n          <Typography variant=\"body1\">\n            {`${lodashGet(typesMap, `${event.ev}.name`) ||\n              lodashGet(\n                client.get(\n                  `actionType.${lodashGet(\n                    client.get(\"config.productionOrder.eventType.undefined\"),\n                    \"value\"\n                  )}`\n                ),\n                \"name\"\n              )}`}\n          </Typography>\n        )}\n        {allowEdition && (\n          <FormInput\n            field={{\n              text: \"Evento\",\n              identity: \"ev\",\n              model: {\n                service: \"production_order_event_types\",\n                query: {\n                  productionOrderActionTypeId: {\n                    $in: [\n                      `${getActionType({ type: \"setup\" })}`,\n                      `${getActionType({ type: \"scheduledStop\" })}`,\n                      `${getActionType({ type: \"noScheduledStop\" })}`,\n                      `${getActionType({ type: \"noWorkDay\" })}`\n                    ]\n                  }\n                }\n              }\n            }}\n            formItem={{ ...formItem }}\n            handleChange={handleChange({ identity: \"ev\" })}\n          />\n        )}\n        {hasEditAccess &&\n          !isFirst &&\n          [\n            `${getActionType({ type: \"noJustified\" })}`,\n            `${getActionType({ type: \"setup\" })}`,\n            `${getActionType({ type: \"scheduledStop\" })}`,\n            `${getActionType({ type: \"noScheduledStop\" })}`,\n            `${getActionType({ type: \"noWorkDay\" })}`,\n            `${getActionType({ type: \"undefined\" })}`,\n            `${-1}`\n          ].indexOf(`${event.at}`) !== -1 && (\n            <React.Fragment>\n              {!allowEdition && (\n                <Button\n                  type=\"icon\"\n                  text=\"Editar\"\n                  icon=\"edit_icon\"\n                  variants=\"editAction\"\n                  onClick={handleEdit}\n                />\n              )}\n              {allowEdition && (\n                <React.Fragment>\n                  <Button\n                    type=\"icon\"\n                    text=\"Gravar\"\n                    icon=\"save\"\n                    variants=\"editAction\"\n                    onClick={handleUpdate}\n                  />\n                  <Button\n                    type=\"icon\"\n                    text=\"Cancelar\"\n                    icon=\"close\"\n                    variants=\"editAction\"\n                    onClick={handleEdit}\n                  />\n                </React.Fragment>\n              )}\n            </React.Fragment>\n          )}\n        <div style={{ flex: \"1\" }} />\n        {parseInt(event.tr, \"10\") > 0 && (\n          <Typography className={classes.label} variant=\"body1\">\n            <NumberFormat\n              value={`${event.tr}`}\n              displayType={\"text\"}\n              thousandSeparator={\".\"}\n              decimalSeparator={\",\"}\n            />{\" \"}\n            ciclos |\n          </Typography>\n        )}\n        {event.userName && (\n          <Typography className={classes.label} variant=\"body1\">\n            {event.userName} |\n          </Typography>\n        )}\n        <Typography className={classes.label} variant=\"body1\">\n          {`${moment(event.ed === -1 ? moment() : event.ed).format(\"DD/MM/YYYY HH:mm\")}`}\n        </Typography>\n      </Grid>\n    </React.Fragment>\n  );\n};\n\nexport default withStyles(styles, { withTheme: true })(StatusLine);\n","import React, { useContext, useState, useEffect } from \"react\";\nimport moment from \"moment\";\nimport NumberFormat from \"react-number-format\";\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\nimport AutoSizer from \"react-virtualized/dist/commonjs/AutoSizer\";\nimport {\n  Grid,\n  Typography,\n  ExpansionPanel,\n  ExpansionPanelDetails,\n  ExpansionPanelSummary\n} from \"@material-ui/core\";\nimport ApiContext from \"../../../../api\";\nimport {\n  withStyles,\n  lodashGet,\n  lodashForEach,\n  lodashMap,\n  getColor,\n  getLastReadingCycle,\n  getPermissions,\n  useAuth\n} from \"../../../../utils\";\nimport { Loader, Button } from \"../../../../components\";\nimport StatusLine from \"./StatusLine\";\n\nconst styles = theme => ({\n  container: {\n    flexWrap: \"nowrap\"\n  },\n  header: {\n    padding: `${theme.spacing(1)}px ${theme.spacing(2)}px`,\n    backgroundColor: theme.palette.primary.form,\n    \"&>div\": {\n      margin: \"0px !important\"\n    }\n  },\n  wrapper: {\n    justifyContent: \"center\",\n    flexWrap: \"nowrap\"\n  },\n  production: {\n    flexDirection: \"column\",\n    flexWrap: \"nowrap\"\n  },\n  status: {\n    minWidth: 40,\n    minHeight: 40,\n    width: 40,\n    height: 40,\n    borderRadius: \"50%\",\n    flexWrap: \"nowrap\",\n    justifyContent: \"center\",\n    color: theme.palette.common.white,\n    padding: `0 ${theme.spacing(1)}px !important`,\n    fontSize: \".65rem\"\n  },\n  divider: {\n    width: \"100%\",\n    border: `1px solid ${theme.palette.common.white}`\n  },\n  eventDetail: {\n    flexWrap: \"nowrap\"\n  },\n  label: {\n    padding: `0 ${theme.spacing(1 / 2)}px`\n  },\n  details: {\n    display: \"block\",\n    padding: theme.spacing(2)\n  },\n  item: {\n    display: \"flex\",\n    alignItems: \"center\",\n    width: \"100%\",\n    borderBottom: `1px solid ${theme.palette.primary.form}`\n  },\n  panel: {\n    \"& > div:nth-child(2)\": {\n      margin: `0 ${theme.spacing(2)}px`\n    }\n  },\n  turnName: {\n    fontStyle: \"italic\"\n  }\n});\n\nconst Status = ({ classes, productionOrder, formItem }) => {\n  const { session } = useAuth();\n  const level = lodashGet(session, \"company.level\");\n  const client = useContext(ApiContext);\n  const [currentOp, setCurrentOp] = useState()\n  const [cycle, setCycleValue] = useState();\n  const [events, setEvents] = useState([]);\n  const [typesMap, setTypesMap] = useState({});\n  const [isExpanded, setIsExpanded] = useState();\n  const [loading, setLoading] = useState();\n  const [page, setPage] = useState(0);\n  const [paginatedList, setPaginatedList] = useState([]);\n  const [historyResult, setHistoryResult] = useState();\n  const handleExpand = () => setIsExpanded(prev => !prev);\n  const stringProductionOrder = JSON.stringify(productionOrder);\n  useEffect(() => {\n    // console.log(\"!!! effect STATUS setCycleValue\");\n    setCycleValue(getLastReadingCycle({ data: JSON.parse(stringProductionOrder) }).toFixed(1));\n  }, [stringProductionOrder]);\n  useEffect(() => {\n    // console.log(\"!!! effect STATUS findEvents\");\n    const parsedProductionOrder = JSON.parse(stringProductionOrder);\n    const findEvents = async () => {\n      if (parsedProductionOrder) {\n        setLoading(true);\n        const { data: eventTypes } = await client.service(\"production_order_event_types\").find();\n        const getTypesMap = {};\n        lodashForEach(eventTypes, type => (getTypesMap[type.id] = type));\n        setTypesMap(getTypesMap);\n        const history = lodashGet(\n          await client.service(\"production_order_history\").find({\n            query: { poi: parsedProductionOrder.id, $populateUsers: true }\n          }),\n          \"data.0\"\n        );\n        if (parsedProductionOrder.id !== currentOp) {\n          setCurrentOp(parsedProductionOrder.id);\n          setPaginatedList([]);\n          setPage(0);\n        }\n        if (history) {\n          setEvents(history.ev.reverse());\n          setHistoryResult(history);\n        } else {\n          setEvents([]);\n        }\n        setLoading(false);\n      }\n    };\n    if (isExpanded) {\n      findEvents();\n    }\n  }, [client, stringProductionOrder, isExpanded]);\n  useEffect(() => {\n    if (events.length > page * 50) {\n      setPaginatedList(prev => [...prev, ...events.slice(page * 50, (page + 1) * 50)]);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [events.length, page]);\n  const undefinedProduction = lodashGet(\n    // TODO replace all for getEvent util\n    client.get(\n      `actionType.${lodashGet(client.get(\"config.productionOrder.eventType.undefined\"), \"value\")}`\n    ),\n    \"name\"\n  );\n  const confirmedProduction =\n    lodashGet(productionOrder, \"confirmedProduction\") ||\n    lodashGet(productionOrder, \"totalProduction\");\n  const missingProduction =\n    parseInt(lodashGet(productionOrder, \"expectedProduction\"), \"10\") -\n      parseInt(confirmedProduction, \"10\") || undefinedProduction;\n  const expectedEndDate = moment();\n  const expectedProduction =\n    parseInt(formItem.expectedProduction, \"10\") - (parseInt(formItem.totalProduction, \"10\") || 0) ||\n    0;\n  // seconds (UM) per minute / idealCycle * openCavities gives production per minute\n  const productionTime =\n    expectedProduction /\n    ((60 / (parseFloat(formItem.idealCycle, \"10\") || 1)) *\n      (parseInt(formItem.openCavities, \"10\") || 1));\n  expectedEndDate.add(productionTime || 0, \"m\");\n  const { permissions } = useAuth();\n  const hasEditAccess = getPermissions({\n    privileges: [\"editProductionOrderEvents\"],\n    permissions\n  });\n  return (\n    (lodashGet(productionOrder, \"isActive\") || lodashGet(productionOrder, \"isClosed\")) && (\n      <Grid item className={classes.container}>\n        <ExpansionPanel className={classes.panel} expanded={isExpanded} onChange={handleExpand}>\n          <ExpansionPanelSummary className={classes.header} expandIcon={<ExpandMoreIcon />}>\n            <Grid container spacing={2}>\n              <Grid item container alignItems=\"center\" spacing={2} className={classes.wrapper}>\n                <Grid\n                  item\n                  container\n                  direction=\"column\"\n                  alignItems=\"center\"\n                  spacing={0}\n                  className={classes.status}\n                  style={{\n                    backgroundColor: getColor({\n                      data: productionOrder,\n                      path:\n                        \"mostRecentEvent.0.productionOrderEventType.production_order_action_type.color\"\n                    })\n                  }}\n                >\n                  <span>{cycle}</span>\n                  <div className={classes.divider} />\n                  <span>{productionOrder.idealCycle}</span>\n                </Grid>\n                <Grid item>\n                  <Typography variant=\"body1\">\n                    {`${lodashGet(\n                      productionOrder,\n                      \"mostRecentEvent.0.productionOrderEventType.name\"\n                    )} - ${moment(\n                      lodashGet(productionOrder, \"mostRecentEvent.0.ed\") === -1\n                        ? moment()\n                        : lodashGet(productionOrder, \"mostRecentEvent.0.ed\")\n                    ).format(\"DD/MM/YYYY HH:mm\")}`}\n                  </Typography>\n                </Grid>\n              </Grid>\n              <Grid item container spacing={2} alignItems=\"center\" className={classes.production}>\n                {level === \"N1\" &&\n                  lodashGet(productionOrder, \"production_order_type.isInProduction\") &&\n                  (missingProduction < 0 || missingProduction === undefinedProduction) && (\n                    <Typography variant=\"body2\" noWrap>\n                      PRODUÇÃO ESPERADA EXCEDIDA\n                    </Typography>\n                  )}\n                {level === \"N1\" &&\n                  lodashGet(productionOrder, \"production_order_type.isInProduction\") && (\n                    <Typography variant=\"body2\" noWrap>\n                      PROG:{\" \"}\n                      <NumberFormat\n                        value={`${lodashGet(productionOrder, \"expectedProduction\")}`}\n                        displayType={\"text\"}\n                        thousandSeparator={\".\"}\n                        decimalSeparator={\",\"}\n                      />{\" \"}\n                      / CONFIRM:{\" \"}\n                      <NumberFormat\n                        value={confirmedProduction}\n                        displayType={\"text\"}\n                        thousandSeparator={\".\"}\n                        decimalSeparator={\",\"}\n                      />{\" \"}\n                      / FALTA:{\" \"}\n                      <NumberFormat\n                        value={missingProduction}\n                        displayType={\"text\"}\n                        thousandSeparator={\".\"}\n                        decimalSeparator={\",\"}\n                      />\n                    </Typography>\n                  )}\n                <Typography color=\"textSecondary\" noWrap>\n                  DATA INICIO:{\" \"}\n                  {moment(lodashGet(productionOrder, \"actualStartDate\")).format(\n                    \"ddd, DD [de] MMM [de] YYYY HH:mm\"\n                  )}\n                </Typography>\n                {lodashGet(productionOrder, \"isActive\") &&\n                  lodashGet(productionOrder, \"production_order_type.isInProduction\") &&\n                  level === \"N1\" && (\n                    <Typography color=\"textSecondary\" noWrap>\n                      DATA FIM PREVISTA:{\" \"}\n                      {moment(expectedEndDate).format(\"ddd, DD [de] MMM [de] YYYY HH:mm\")}\n                    </Typography>\n                  )}\n                {lodashGet(productionOrder, \"isClosed\") && (\n                  <Typography color=\"textSecondary\" noWrap>\n                    DATA FIM:{\" \"}\n                    {moment(lodashGet(productionOrder, \"actualEndDate\")).format(\n                      \"ddd, DD [de] MMM [de] YYYY HH:mm\"\n                    )}\n                  </Typography>\n                )}\n              </Grid>\n            </Grid>\n          </ExpansionPanelSummary>\n          <div style={{ width: \"100%\", height: 500, overflow:'overlay' }}>\n            <ExpansionPanelDetails className={classes.details}>\n              {loading && <Loader />}\n              {!loading && paginatedList.length > 0 && (\n                <AutoSizer disableHeight style={{ width: \"100%\" }}>\n                  {({ width }) => (\n                    <div width={width} rowHeight={60}>\n                      {lodashMap(paginatedList, (event, index) => {\n                        const nextEV = events[index + 1];\n                        return (\n                          <React.Fragment key={index}>\n                            <Grid\n                              container\n                              alignItems=\"center\"\n                              spacing={2}\n                              className={classes.eventDetail}\n                            >\n                              <StatusLine\n                                index={events.length - 1 - index}\n                                isFirst={index === 0}\n                                hasEditAccess={hasEditAccess}\n                                history={historyResult}\n                                typesMap={typesMap}\n                                event={event}\n                              />\n                            </Grid>\n                            {(!nextEV ||\n                              (nextEV && `${nextEV.tu || -1}` !== `${event.tu || -1}`)) && (\n                              <Grid\n                                key={index}\n                                container\n                                alignItems=\"center\"\n                                spacing={2}\n                                className={classes.eventDetail}\n                              >\n                                <Grid item className={classes.item}>\n                                  <Typography\n                                    className={classes.turnName}\n                                    variant=\"body1\"\n                                    style={{ flex: \"1\" }}\n                                  >\n                                    {event.tu ? `Inicio de turno ${event.turnName}` : `Sem turno`}\n                                  </Typography>\n                                </Grid>\n                              </Grid>\n                            )}\n                          </React.Fragment>\n                        );\n                      })}\n                      {events.length > paginatedList.length && (\n                        <div style={{ display: \"flex\", justifyContent: \"center\" }}>\n                          <Button text=\"Mostrar mais\" onClick={() => setPage(prev => prev + 1)} />\n                        </div>\n                      )}\n                    </div>\n                  )}\n                </AutoSizer>\n              )}\n            </ExpansionPanelDetails>\n          </div>\n        </ExpansionPanel>\n      </Grid>\n    )\n  );\n};\n\nexport default withStyles(styles, { withTheme: true })(Status);\n","import React from \"react\";\nimport { Grid, Card, Avatar, Typography, Icon } from \"@material-ui/core\";\nimport { withStyles } from \"../../../../utils\";\nimport { Button, FormInput } from \"../../../../components\";\n\nconst styles = theme => ({\n  fullWidth: {\n    flex: 1\n  },\n  title: {\n    flex: 1\n  },\n  card: {\n    height: 40,\n    display: \"flex\",\n    padding: theme.spacing(1)\n  },\n  wrapper: {\n    alignContent: \"center\"\n  },\n  avatar: {\n    width: theme.spacing(4),\n    maxHeight: theme.spacing(4),\n    marginRight: theme.spacing(1),\n    color: theme.palette.primary.main\n  }\n});\n\nconst ProductionOrderSelection = ({\n  classes,\n  field,\n  selectedItem,\n  formItem,\n  formErrors,\n  formReadOnly,\n  handleChange,\n  query = {},\n  options = {},\n  customContent = {}\n}) => {\n  const handleDelete = () =>\n    handleChange({\n      target: {\n        name: field.identity,\n        value: null\n      }\n    });\n  return (\n    <React.Fragment>\n      {!selectedItem && formItem && (\n        <Grid item className={classes.fullWidth}>\n          <FormInput\n            field={field}\n            formItem={formItem}\n            formErrors={formErrors}\n            formReadOnly={formReadOnly}\n            query={query}\n            options={options}\n            handleChange={handleChange}\n          />\n        </Grid>\n      )}\n      {selectedItem && (\n        <Grid item>\n          <Grid container spacing={1} alignItems=\"center\">\n            <Grid item className={classes.fullWidth}>\n              <Card className={classes.card}>\n                <Grid container alignItems=\"center\" className={classes.wrapper}>\n                  {selectedItem.image && (\n                    <Avatar\n                      alt={selectedItem.name}\n                      src={selectedItem.image}\n                      className={classes.avatar}\n                    />\n                  )}\n                  {!selectedItem.image && field.icon && field.icon.type === \"svg\" && (\n                    <img className={classes.avatar} alt=\"icon\" src={field.icon.src} />\n                  )}\n                  {!selectedItem.image && field.icon && !field.icon.type && (\n                    <Icon className={classes.avatar}>{field.icon}</Icon>\n                  )}\n                  <Typography variant=\"body1\" className={classes.title}>\n                    {selectedItem.identity} - {selectedItem.name}\n                  </Typography>\n                  {formItem && !options.readOnly && !options.dontDelete && (\n                    <Button\n                      type=\"icon\"\n                      text=\"Deletar\"\n                      icon=\"close\"\n                      variants=\"deleteAction\"\n                      onClick={handleDelete}\n                    />\n                  )}\n                </Grid>\n              </Card>\n            </Grid>\n            {customContent.afterSelected && customContent.afterSelected()}\n          </Grid>\n        </Grid>\n      )}\n    </React.Fragment>\n  );\n};\n\nexport default withStyles(styles, { withTheme: true })(ProductionOrderSelection);\n","import { useContext, useState, useEffect } from \"react\";\nimport ApiContext from \"../../../../api\";\nimport {\n  lodashGet,\n  lodashMap,\n  lodashFlattenDeep,\n  useUpsertService\n} from \"../../../../utils\";\nimport { form as fields } from \"./model\";\nimport useAuth from \"../../../../utils/useAuth\";\n\nconst useDEFAULT = ({ productionOrder, machineId, history }) => {\n  const { session } = useAuth();\n  const level = lodashGet(session, \"company.level\");\n  const client = useContext(ApiContext);\n  const [selectedMachine, setSelectedMachine] = useState();\n  const [selectedSensor, setSelectedSensor] = useState();\n  const afterChange = async ({ data }) => {\n    if (data.name === \"machineId\") {\n      try {\n        const machine = await client.service(\"machines\").get(data.value);\n        setSelectedMachine(machine);\n        const { data: sensors } = await client\n          .service(\"sensors\")\n          .find({ query: { machineId: data.value } });\n        setSelectedSensor(sensors[0]);\n        handleChange({\n          target: {\n            name: \"sensorId\",\n            value: lodashGet(sensors, \"0.id\")\n          }\n        });\n        handleChange({\n          target: {\n            name: \"plantId\",\n            value: lodashGet(productionOrder, \"uuid\")\n              ? productionOrder.plantId || machine.plantId\n              : machine.plantId\n          }\n        });\n      } catch (e) {\n        setSelectedMachine();\n        setSelectedSensor();\n      }\n    }\n  };\n  const beforeSubmit = async ({ data = {} }) => {\n    if (!data.productionOrderTypeId) {\n      return false;\n    }\n    const productionOrderType = await client\n      .service(\"production_order_types\")\n      .get(data.productionOrderTypeId);\n    if (!!productionOrderType.isInProduction) {\n      let continueOperation = true;\n      if (!data.moldId) {\n        handleFormErrors({\n          identity: \"moldId\",\n          value: true\n        });\n        continueOperation = false;\n      }\n      if (!data.productId && level === \"N1\") {\n        handleFormErrors({\n          identity: \"productId\",\n          value: true\n        });\n        continueOperation = false;\n      }\n      const openCavities = parseInt(data.openCavities, \"10\") || 0;\n      const expectedProduction = parseInt(data.expectedProduction, \"10\") || 0;\n      if (!data.expectedProductionUM && level === \"N1\") {\n        handleFormErrors({\n          identity: \"expectedProductionUM\",\n          value: true\n        });\n        continueOperation = false;\n      }\n      if (!data.idealCycle || parseFloat(data.idealCycle) <= 0) {\n        handleFormErrors({\n          identity: \"idealCycle\",\n          value: true\n        });\n        continueOperation = false;\n      }\n      if (!data.cycleUM) {\n        handleFormErrors({\n          identity: \"cycleUM\",\n          value: true\n        });\n        continueOperation = false;\n      }\n      if ((!expectedProduction || expectedProduction <= 0) && level === \"N1\") {\n        handleFormErrors({\n          identity: \"expectedProduction\",\n          value: \"Digite a quantidade prevista.\"\n        });\n        continueOperation = false;\n      }\n      if ((!openCavities || openCavities <= 0) && level === \"N1\") {\n        handleFormErrors({\n          identity: \"openCavities\",\n          value: \"Digite o número de cavidades.\"\n        });\n        continueOperation = false;\n      }\n      if (data.moldId) {\n        const mold = await client.service(\"molds\").get(data.moldId);\n        if (openCavities > parseInt(mold.cavities, \"10\") && level === \"N1\") {\n          handleFormErrors({\n            identity: \"openCavities\",\n            value: \"Cavidades do molde excedidas.\"\n          });\n          continueOperation = false;\n        }\n      }\n      return continueOperation;\n    }\n    return true;\n  };\n  const afterSubmit = async ({ data }) => {\n    history.push(`/dashboard/production/${machineId}/order/${data.id}`);\n  };\n  const {\n    formItem,\n    formErrors,\n    handleChange,\n    handleSubmit,\n    handleFormErrors,\n    loading: loadingUpsert,\n    errors: errorsUpsert\n  } = useUpsertService({\n    model: \"production_orders\",\n    data: productionOrder,\n    hooks: {\n      afterChange,\n      beforeSubmit,\n      afterSubmit\n    },\n    fields\n  });\n  const copyData = localStorage.getItem(\"copy-production-order\");\n  const stringCopyData = JSON.stringify(JSON.parse(copyData || \"{}\"));\n  useEffect(() => {\n    // console.log(\"!!! effect copy\", stringCopyData);\n    let parsedCopyData = JSON.parse(stringCopyData);\n    localStorage.removeItem(\"copy-production-order\");\n    if (Object.keys(parsedCopyData).length > 0) {\n      setTimeout(\n        () =>\n          lodashMap(lodashFlattenDeep(fields), field => {\n            const value = lodashGet(parsedCopyData, field.identity);\n            if (\n              level !== \"N1\" &&\n              [\n                \"openCavities\",\n                \"expectedProduction\",\n                \"expectedProductionUM\"\n              ].indexOf(field.identity) !== -1\n            ) {\n              return;\n            }\n            if (value) {\n              handleChange({\n                target: {\n                  name: field.identity,\n                  value\n                },\n                field\n              });\n            }\n          }),\n        0\n      );\n    }\n  }, [stringCopyData, handleChange]);\n  const stringProductionOrder = JSON.stringify(productionOrder || {});\n  useEffect(() => {\n    // TODO change machine to FORM INPUT\n    // console.log(\"!!! effect useDEFAULT\");\n    const parsedProductionOrder = JSON.parse(stringProductionOrder);\n    handleChange({\n      target: {\n        name: \"machineId\",\n        value: lodashGet(parsedProductionOrder, \"machineId\") || machineId\n      }\n    });\n  }, [stringProductionOrder, machineId, handleChange]);\n  return {\n    selectedMachine,\n    selectedSensor,\n    formItem,\n    formErrors,\n    handleChange,\n    handleSubmit,\n    loading: loadingUpsert,\n    errors: errorsUpsert\n  };\n};\n\nexport default useDEFAULT;\n","import React, { useContext, useState } from \"react\";\nimport moment from \"moment\";\nimport {\n  Drawer,\n  Toolbar,\n  IconButton,\n  Divider,\n  List,\n  ListItem,\n  ListItemIcon,\n  ListItemText,\n  Icon,\n  Typography,\n  Hidden\n} from \"@material-ui/core\";\nimport ApiContext from \"../../../../api\";\nimport {\n  withStyles,\n  lodashGet,\n  lodashMap,\n  lodashFilter,\n  lodashToLower,\n  getColor\n} from \"../../../../utils\";\nimport { Errors, Loader } from \"../../../../components\";\n\nconst styles = theme => ({\n  container: {\n    height: \" calc(100% - 70px)\",\n    overflow: \"overlay\",\n    minHeight: \"300px\"\n  },\n  sidebar: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    flexWrap: \"nowrap\",\n    width: \"300px\",\n    right: \"0px\",\n    margin: -theme.spacing(3),\n    marginLeft: theme.spacing(3),\n    [theme.breakpoints.down(\"xs\")]: {\n      margin: -theme.spacing(1),\n      marginLeft: theme.spacing(1)\n    }\n  },\n  drawer: {\n    [theme.breakpoints.up(\"md\")]: {\n      \"&>div\": {\n        width: 300\n      }\n    }\n  },\n  toolbar: {\n    backgroundColor: theme.palette.primary.main,\n    \"& span,& p\": { color: theme.palette.common.white }\n  },\n  list: {\n    padding: 0\n  },\n  item: {\n    cursor: \"pointer\",\n    \"& span,& p\": { color: theme.palette.common.white }\n  },\n  itemIcon: {\n    marginRight: 0\n  }\n});\n\nconst EventDrawer = ({\n  classes,\n  side,\n  open,\n  variant,\n  productionOrder,\n  eventTypes,\n  loading,\n  reload,\n  handleDrawer = () => {}\n}) => {\n  const client = useContext(ApiContext);\n  const [errors, setErrors] = useState();\n  const [eventLoading, setEventLoading] = useState();\n  const sendEvent = ({ id }) => async () => {\n    setErrors();\n    setEventLoading(true);\n    if (!lodashGet(productionOrder, \"isActive\")) {\n      const { data } = await client.service(\"production_orders\").find({\n        query: {\n          machineId: lodashGet(productionOrder, \"machineId\"),\n          isActive: true\n        }\n      });\n      if (data.length) {\n        setEventLoading(false);\n        return setErrors(\n          \"Existe uma Ordem de Produção já ativa. Por favor, feche-a antes de abrir uma nova.\"\n        );\n      }\n    }\n    if (lodashGet(productionOrder, \"moldId\") && !lodashGet(productionOrder, \"isActive\")) {\n      const { data } = await client.service(\"production_orders\").find({\n        query: {\n          moldId: lodashGet(productionOrder, \"moldId\"),\n          isActive: true\n        }\n      });\n      if (data.length) {\n        setEventLoading(false);\n        return setErrors(\n          \"Existe uma Ordem de Produção para o Molde selecionado já ativa. Por favor, feche-a antes de abrir uma nova.\"\n        );\n      }\n    }\n    try {\n      await client.service(\"production_order_events\").create({\n        productionOrderId: productionOrder.id,\n        startDate: moment().toISOString(),\n        endDate: -1,\n        productionOrderEventTypeId: id\n      });\n      reload();\n      handleDrawer();\n    } catch (error) {\n      setErrors(error.message);\n    } finally {\n      setEventLoading(false);\n    }\n  };\n  const events = lodashFilter(\n    eventTypes,\n    item => lodashGet(item, \"production_order_action_type.isSystemEvent\") === null\n  );\n  const designedStatus = lodashGet(client.get(\"config.productionOrder.status.designed\"), \"value\");\n  const designed =\n    `${lodashGet(productionOrder, \"productionOrderStatusId\")}` === `${designedStatus}`;\n  const listContent = (\n    <React.Fragment>\n      <Toolbar className={classes.toolbar}>\n        <Hidden mdUp>\n          <IconButton onClick={handleDrawer} style={{ marginRight: \"15px\" }}>\n            <Icon>keyboard_arrow_down</Icon>\n          </IconButton>\n        </Hidden>\n        <div>\n          {designed && (\n            <Typography variant=\"body1\">\n              Libere a Ordem de Produção para mostrar Eventos.\n            </Typography>\n          )}\n          {!designed && (\n            <Typography variant=\"body1\">\n              {lodashGet(productionOrder, \"isActive\")\n                ? \"Reportar Evento\"\n                : \"Iniciar Ordem de Produção\"}\n            </Typography>\n          )}\n        </div>\n      </Toolbar>\n      <Divider />\n      <div className={classes.container}>\n        <div hideTracksWhenNotNeeded style={{ width: \"100%\", minHeight: \"300px\", overflow:'overlay' }}>\n          {errors && <Errors errors={errors} />}\n          {(loading || eventLoading) && <Loader />}\n          <List className={classes.list}>\n            {!designed &&\n              !loading &&\n              lodashMap(events, ({ id, name, icon }, index) => (\n                <React.Fragment key={id}>\n                  <ListItem\n                    className={classes.item}\n                    onClick={sendEvent({ id })}\n                    style={{\n                      backgroundColor: getColor({\n                        data: events,\n                        path: `${index}.production_order_action_type.color`\n                      })\n                    }}\n                  >\n                    <ListItemIcon>\n                      <Icon>{lodashToLower(icon)}</Icon>\n                    </ListItemIcon>\n                    <ListItemText primary={<Typography>{name}</Typography>} />\n                  </ListItem>\n                  <Divider />\n                </React.Fragment>\n              ))}\n          </List>\n        </div>\n      </div>\n    </React.Fragment>\n  );\n  return (\n    <React.Fragment>\n      <Hidden smDown>\n        <div className={classes.sidebar}>{listContent}</div>\n      </Hidden>\n      <Hidden mdUp>\n        <Drawer open={open} anchor={side} variant={variant} className={classes.drawer}>\n          {listContent}\n        </Drawer>\n      </Hidden>\n    </React.Fragment>\n  );\n};\n\nexport default withStyles(styles, { withTheme: true })(EventDrawer);\n","import React, { useContext, useEffect, useState } from \"react\";\nimport { Grid, Typography, Fab, Hidden, Icon } from \"@material-ui/core\";\nimport ApiContext from \"../../../../api\";\nimport {\n  withRouter,\n  withStyles,\n  lodashGet,\n  // lodashMap,\n  // lodashFind,\n  lodashDebounce,\n  // lodashUpperFirst,\n  getPermissions,\n  useGetService,\n  useAuth\n} from \"../../../../utils\";\nimport {\n  BreadCrumbs,\n  Loader,\n  Errors,\n  FormInput,\n  FieldsRow\n} from \"../../../../components\";\nimport { form as fields } from \"./model\";\nimport Actions from \"./Actions\";\nimport Status from \"./Status\";\nimport Selection from \"./Selection\";\nimport useDEFAULT from \"./useDEFAULT\";\n// import useFIXHistory from \"./useFIXHistory\";\nimport EventDrawer from \"./EventDrawer\";\n\nconst styles = theme => ({\n  container: {\n    flexWrap: \"nowrap\",\n    overflow: \"hidden\",\n    maxHeight: \"100%\",\n    [theme.breakpoints.down(\"sm\")]: {\n      flexDirection: \"column\",\n      padding: \"6px\"\n    }\n  },\n  wrapper: {\n    flex: 1,\n    flexWrap: \"nowrap\",\n    overflowY: \"auto\",\n    overflowX: \"hidden\"\n  },\n  grid: {\n    flex: 1,\n    flexWrap: \"nowrap\"\n  },\n  formContainer: {\n    overflowX: \"hidden\",\n    \"&>div\": {\n      flexWrap: \"nowrap\"\n    }\n  },\n  message: {\n    flex: 1\n  },\n  events: {\n    flex: 1,\n    flexWrap: \"nowrap\",\n    [theme.breakpoints.down(\"sm\")]: {\n      overflowY: \"auto\",\n      minHeight: 200\n    }\n  },\n  isClosed: {\n    color: theme.palette.primary.delete,\n    textAlign: \"center\",\n    textTransform: \"uppercase\"\n  },\n  fab: {\n    position: \"fixed\",\n    bottom: theme.spacing(2),\n    right: theme.spacing(2),\n    backgroundColor: theme.palette.secondary.main,\n    zIndex: 99\n  },\n  content: {\n    display: \"flex\",\n    overflowY: \"auto\",\n    margin: -theme.spacing(3),\n    padding: theme.spacing(3),\n    [theme.breakpoints.down(\"xs\")]: {\n      margin: -theme.spacing(1),\n      padding: theme.spacing(1)\n    }\n  },\n  breadCrumbs: {\n    [theme.breakpoints.up(\"sm\")]: {\n      marginTop: \"20px\",\n      paddingLeft: \"16px\"\n    }\n  },\n  inputWrapper: {\n    display: \"flex\"\n  },\n  deviceURL: {\n    textDecoration: \"underline\",\n    cursor: \"pointer\"\n  }\n});\n\nconst ProductionOrderFormPage = ({ history, match: { params }, classes }) => {\n  const { session, permissions } = useAuth();\n  const level = lodashGet(session, \"company.level\");\n  const client = useContext(ApiContext);\n  const {\n    item: productionOrder,\n    loading: loadingGet,\n    errors: errorsGet,\n    reload\n  } = useGetService({\n    model: \"production_orders\",\n    id: params.productionOrderId,\n    query: {\n      $eventsAndNavigation: true\n    }\n  });\n  const [machine, setMachine] = useState({});\n  const [openDrawer, setOpenDrawer] = useState(false);\n  const handleDrawer = () => {\n    setOpenDrawer(prev => !prev);\n  };\n  useEffect(() => {\n    // console.log(\"!!! effect INDEX onNewEvent\");\n    const onNewEvent = lodashDebounce(() => reload(), 300);\n    const onPatched = data => {\n      if (`${data.id}` === `${params.productionOrderId}`) {\n        onNewEvent();\n      }\n    };\n    client.service(\"production_orders\").on(\"patched\", onPatched);\n    return () =>\n      client.service(\"production_orders\").removeListener(\"patched\", onPatched);\n  }, [client, params.productionOrderId, reload]);\n  // TODO add loader for internal operations\n  const {\n    selectedMachine,\n    selectedSensor,\n    formItem,\n    formErrors,\n    handleChange,\n    handleSubmit: upsertSubmit,\n    loading: loadingUpsert,\n    errors: errorsUpsert\n  } = useDEFAULT({\n    productionOrder,\n    machineId: params.machineId,\n    history\n  });\n  useEffect(() => {\n    const getMachineNavigation = async () => {\n      const machineNavigation = await client\n        .service(\"machines\")\n        .get(params.machineId, {\n          query: {\n            $eventsAndNavigation: true\n          }\n        });\n      setMachine(machineNavigation);\n    };\n    if (params.productionOrderId === \"new\") {\n      getMachineNavigation();\n    }\n  }, [client, params.machineId, params.productionOrderId]);\n  // useFIXHistory({\n  //   productionOrderId: params.productionOrderId\n  // });\n  const errors = errorsGet || errorsUpsert;\n  const loading = loadingGet || loadingUpsert;\n  const handleSubmit = e => {\n    e.preventDefault();\n    if (loading) {\n      return;\n    }\n    upsertSubmit(e);\n  };\n  const hasCRUDAccess = getPermissions({\n    privileges: [\n      \"writeActiveProductionOrders\",\n      \"writeScheduledStopProductionOrders\"\n    ],\n    permissions\n  });\n  const hasInProductionAccess = getPermissions({\n    privileges: [\"writeActiveProductionOrders\"],\n    permissions\n  });\n  const hasNotInProductionAccess = getPermissions({\n    privileges: [\"writeScheduledStopProductionOrders\"],\n    permissions\n  });\n  const hasEventsAccess = getPermissions({\n    privileges: [\"writeProductionOrderEvents\"],\n    permissions\n  });\n  let productionOrderTypeQuery = {};\n  if (hasInProductionAccess && hasNotInProductionAccess) {\n    productionOrderTypeQuery = {};\n  } else if (hasInProductionAccess) {\n    productionOrderTypeQuery.isInProduction = true;\n  } else if (hasNotInProductionAccess) {\n    productionOrderTypeQuery.isInProduction = false;\n  }\n  // console.log(\"!! productionOrder FORM\", productionOrder);\n  return (\n    <div className={classes.content}>\n      <Grid container direction=\"column\" spacing={0} className={classes.grid}>\n        <Grid item>\n          <BreadCrumbs\n            links={[\n              {\n                text: \"Produção\",\n                href: \"/dashboard/production\"\n              },\n              {\n                text: `${\n                  selectedMachine\n                    ? `${lodashGet(selectedMachine, \"identity\")} - ${lodashGet(\n                        selectedMachine,\n                        \"name\"\n                      )}: `\n                    : \"\"\n                }${\n                  productionOrder\n                    ? `Order ${productionOrder.id}`\n                    : \"Nova Ordem de Produção\"\n                }`,\n                href: `/dashboard/production/${params.machineId}/order/${params.productionOrderId}`\n              }\n            ]}\n          />\n        </Grid>\n        <Grid item>\n          <Actions\n            machine={machine}\n            productionOrder={productionOrder}\n            handleSubmit={handleSubmit}\n          />\n        </Grid>\n        <Grid item className={classes.wrapper}>\n          <Grid\n            container\n            direction=\"column\"\n            className={classes.formContainer}\n            spacing={0}\n          >\n            {lodashGet(productionOrder, \"uuid\") && (\n              <Hidden mdUp>\n                <Fab\n                  variant=\"extended\"\n                  aria-label=\"Delete\"\n                  className={classes.fab}\n                  onClick={handleDrawer}\n                >\n                  <Icon>keyboard_arrow_up</Icon>\n                  {lodashGet(productionOrder, \"isActive\")\n                    ? \"Reportar Evento\"\n                    : \"Iniciar Ordem\"}\n                </Fab>\n              </Hidden>\n            )}\n            {loading && <Loader />}\n            {errors && <Errors errors={errors} />}\n            <Grid item container className={classes.container} spacing={2}>\n              <Grid item container direction=\"column\" spacing={2}>\n                {lodashGet(productionOrder, \"isClosed\") && (\n                  <Grid item>\n                    <Typography className={classes.isClosed} variant=\"body1\">\n                      Ordem Encerrada\n                    </Typography>\n                  </Grid>\n                )}\n                {(lodashGet(productionOrder, \"isActive\") ||\n                  lodashGet(productionOrder, \"isClosed\")) && (\n                  <Status\n                    productionOrder={productionOrder}\n                    formItem={formItem}\n                  />\n                )}\n                <Grid item className={classes.inputWrapper}>\n                  <FormInput\n                    field={fields[0]}\n                    formItem={formItem}\n                    formErrors={formErrors}\n                    handleChange={handleChange}\n                    query={productionOrderTypeQuery}\n                    options={{\n                      readOnly: !hasCRUDAccess\n                    }}\n                    loading={loadingGet}\n                  />\n                </Grid>\n                <Grid item>\n                  <FieldsRow\n                    fields={fields.slice(1, 2)}\n                    formItem={formItem}\n                    formErrors={formErrors}\n                    handleChange={handleChange}\n                    options={{\n                      readOnly: !hasCRUDAccess && !hasEventsAccess\n                    }}\n                    loading={loadingGet}\n                  />\n                </Grid>\n                <Selection\n                  field={fields[2]}\n                  formItem={formItem}\n                  selectedItem={selectedMachine}\n                  formErrors={formErrors}\n                  handleChange={handleChange}\n                  options={{\n                    dontDelete: !!lodashGet(productionOrder, \"uuid\"),\n                    readOnly: !hasCRUDAccess\n                  }}\n                  customContent={{\n                    afterSelected: () => {\n                      if (!selectedSensor) {\n                        return (\n                          <Grid item className={classes.message}>\n                            <Typography variant=\"body1\">\n                              Nenhum leitor registrado para esta máquina.\n                            </Typography>\n                          </Grid>\n                        );\n                      }\n                      const machineName = `${selectedMachine.identity} - ${selectedMachine.name}`;\n                      const machineURL = `http://${\n                        selectedSensor.ip\n                      }:3030/?name=${window.escape(machineName)}`;\n                      return (\n                        <div\n                          className={classes.deviceURL}\n                          onClick={() =>\n                            window.open(\n                              machineURL,\n                              machineName,\n                              \"width=650,height=350,toolbar=no,menubar=no,scrollbars=yes,resizable=yes,location=no,directories=no,status=no\"\n                            )\n                          }\n                        >\n                          <Selection\n                            field={{ icon: \"memory\" }}\n                            selectedItem={selectedSensor}\n                          />\n                        </div>\n                      );\n                    }\n                  }}\n                />\n                <Grid item className={classes.inputWrapper}>\n                  <FieldsRow\n                    fields={fields[3]}\n                    formItem={formItem}\n                    formErrors={formErrors}\n                    handleChange={handleChange}\n                    options={{\n                      dontDelete: !!lodashGet(productionOrder, \"uuid\"),\n                      readOnly: !hasCRUDAccess\n                    }}\n                  />\n                </Grid>\n                {level === \"N1\" && (\n                  <Grid item className={classes.inputWrapper}>\n                    <FieldsRow\n                      fields={fields[4]}\n                      formItem={formItem}\n                      formErrors={formErrors}\n                      handleChange={handleChange}\n                      options={{\n                        dontDelete: !!lodashGet(productionOrder, \"uuid\"),\n                        readOnly: !hasCRUDAccess\n                      }}\n                    />\n                  </Grid>\n                )}\n                <Grid item>\n                  <FieldsRow\n                    fields={fields.slice(6, 8)}\n                    formItem={formItem}\n                    formErrors={formErrors}\n                    handleChange={handleChange}\n                    options={{\n                      readOnly:\n                        (!hasCRUDAccess && !hasEventsAccess) ||\n                        !!lodashGet(productionOrder, \"isClosed\")\n                    }}\n                  />\n                </Grid>\n                <Grid item>\n                  <FieldsRow\n                    fields={fields.slice(8, 9)}\n                    formItem={formItem}\n                    handleChange={handleChange}\n                    options={{\n                      readOnly:\n                        !hasCRUDAccess ||\n                        !!lodashGet(productionOrder, \"isClosed\")\n                    }}\n                  />\n                </Grid>\n              </Grid>\n            </Grid>\n          </Grid>\n        </Grid>\n      </Grid>\n      {hasEventsAccess && lodashGet(productionOrder, \"uuid\") && (\n        <EventDrawer\n          handleDrawer={handleDrawer}\n          open={openDrawer}\n          side=\"bottom\"\n          variant=\"temporary\"\n          productionOrder={productionOrder}\n          eventTypes={lodashGet(productionOrder, \"eventTypes\")}\n          loading={loadingGet}\n          reload={reload}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default withRouter(\n  withStyles(styles, { withTheme: true })(ProductionOrderFormPage)\n);\n","import React, { useContext, useState, useEffect } from \"react\";\nimport moment from \"moment\";\nimport { TableCell, TableRow, Typography, Icon } from \"@material-ui/core\";\nimport NumberFormat from \"react-number-format\";\nimport ApiContext from \"../../../api\";\nimport {\n  withStyles,\n  classNames,\n  lodashGet,\n  lodashIsNil,\n  lodashMap,\n  getPermissions,\n  useAuth\n} from \"../../../utils\";\nimport { Button, FormInput } from \"../../../components\";\n\nconst styles = theme => ({\n  body: {\n    \"& td\": {\n      padding: theme.spacing(1),\n      \"& p,& a span\": {\n        fontSize: \".75rem\"\n      }\n    }\n  },\n  wrapper: {\n    display: \"flex\",\n    alignItems: \"center\"\n  },\n  expanded: {\n    transform: \"rotate(180deg)\"\n  },\n  icon: {\n    margin: `0 ${theme.spacing(1)}px`\n  },\n  group: {\n    cursor: \"pointer\",\n    backgroundColor: theme.palette.primary.table\n  }\n});\n\nconst DataRow = ({ classes, header, item = {}, groupBy = {}, historyBy }) => {\n  const { permissions } = useAuth();\n  const client = useContext(ApiContext);\n  const [formItem, setFormItem] = useState({});\n  const [show, setShow] = useState(true);\n  const stringItem = JSON.stringify(item);\n  useEffect(() => {\n    setFormItem(JSON.parse(stringItem) || {});\n  }, [stringItem]);\n  const [formErrors, setFormErrors] = useState({});\n  const [allowEdition, setAllowEdition] = useState();\n  const weight = parseFloat(lodashGet(item, \"poi.product.weight\")) || 0;\n  const handleChange = ({ identity }) => ({ target }) => {\n    const value = target.value;\n    item.setFormErrors = setFormErrors;\n    setFormItem(prev => ({ ...prev, [target.name]: value }));\n    if (identity === \"cp\") {\n      const cpw = Math.round((weight * value * 100) / 1000) / 100;\n      setFormItem(prev => ({\n        ...prev,\n        cpw\n      }));\n      item.cp = value;\n      item.cpw = cpw;\n      let wasteP = (parseInt(lodashGet(item, \"tp\"), \"10\") || 0) - value;\n      wasteP = wasteP > 0 ? wasteP : 0;\n      setFormItem(prev => ({ ...prev, wp: wasteP }));\n      const wpw = Math.round((weight * wasteP * 100) / 1000) / 100;\n      setFormItem(prev => ({ ...prev, wpw }));\n      item.wp = wasteP;\n      item.wpw = wpw;\n    }\n    if (identity === \"cpw\") {\n      const confirmP = Math.round((value * 1000) / weight);\n      setFormItem(prev => ({\n        ...prev,\n        cp: confirmP\n      }));\n      item.cp = confirmP;\n      item.cpw = value;\n      let wasteP = (parseInt(lodashGet(item, \"tp\"), \"10\") || 0) - confirmP;\n      wasteP = wasteP > 0 ? wasteP : 0;\n      setFormItem(prev => ({ ...prev, wp: wasteP }));\n      const wpw = Math.round((weight * wasteP * 100) / 1000) / 100;\n      setFormItem(prev => ({ ...prev, wpw }));\n      item.wp = wasteP;\n      item.wpw = wpw;\n    }\n    if (identity === \"wp\") {\n      const wpw = Math.round((weight * value * 100) / 1000) / 100;\n      setFormItem(prev => ({\n        ...prev,\n        wpw\n      }));\n      item.wp = value;\n      item.wpw = wpw;\n      let confirmP = (parseInt(lodashGet(item, \"tp\"), \"10\") || 0) - value;\n      confirmP = confirmP > 0 ? confirmP : 0;\n      setFormItem(prev => ({ ...prev, cp: confirmP }));\n      const cpw = Math.round((weight * confirmP * 100) / 1000) / 100;\n      setFormItem(prev => ({ ...prev, cpw }));\n      item.cp = confirmP;\n      item.cpw = cpw;\n    }\n    if (identity === \"wpw\") {\n      const wasteP = Math.round((value * 1000) / weight);\n      setFormItem(prev => ({\n        ...prev,\n        wp: wasteP\n      }));\n      item.wp = wasteP;\n      item.wpw = value;\n      let confirmP = (parseInt(lodashGet(item, \"tp\"), \"10\") || 0) - wasteP;\n      confirmP = confirmP > 0 ? confirmP : 0;\n      setFormItem(prev => ({ ...prev, cp: confirmP }));\n      const cpw = Math.round((weight * confirmP * 100) / 1000) / 100;\n      setFormItem(prev => ({ ...prev, cpw }));\n      item.cp = confirmP;\n      item.cpw = cpw;\n    }\n    if (identity === \"wji\") {\n      item.wji = value;\n    }\n  };\n  const handleEdit = () => setAllowEdition(prev => !prev);\n  const handleUpdate = () => {\n    client.service(\"production_order_waste\").patch(item._id, {\n      cp: formItem.cp,\n      wp: formItem.wp,\n      wji: formItem.wji\n    });\n    setAllowEdition(false);\n  };\n  const handleDelete = () => {\n    client.service(\"production_order_waste\").remove(item._id);\n    setShow(false);\n  };\n  const hasEditAccess = getPermissions({\n    privileges: [\"editPendingWaste\"],\n    permissions\n  });\n  return (\n    show && (\n      <TableRow className={classNames([classes.body, { [classes.group]: groupBy.enabled }])}>\n        {groupBy.enabled && (\n          <TableCell\n            style={{ whiteSpace: \"nowrap\" }}\n            colSpan={groupBy.colspan}\n            onClick={\n              groupBy.handleGroupExpand && groupBy.handleGroupExpand({ id: groupBy.expandId })\n            }\n          >\n            <div className={classes.wrapper}>\n              {groupBy.expandId && (\n                <Icon\n                  className={classNames(classes.icon, { [classes.expanded]: groupBy.expanded })}\n                >\n                  expand_more_icon\n                </Icon>\n              )}\n              <Typography variant=\"body1\">{groupBy.text}</Typography>\n            </div>\n          </TableCell>\n        )}\n        {lodashMap(\n          header,\n          ({ text, path, readOnly, alt, type, input, model }, index) =>\n            !groupBy.enabled && (\n              <TableCell key={index} style={{ whiteSpace: \"nowrap\" }}>\n                {/* // TODO remove paragraph containers */}\n                {/* // TODO type decimal should also format values!! */}\n                {model && (\n                  <FormInput\n                    field={{\n                      text,\n                      identity: path,\n                      model\n                    }}\n                    // TODO set item into formItem wth useEffect?\n                    formItem={{ ...formItem }}\n                    formErrors={formErrors}\n                    handleChange={handleChange({ identity: path })}\n                    options={{\n                      readOnly:\n                        (historyBy === \"history\" && !allowEdition) ||\n                        (historyBy !== \"history\" && !lodashGet(item, \"plant.wasteJustification\")),\n                      disabled:\n                        (historyBy === \"history\" && !allowEdition) ||\n                        (historyBy !== \"history\" && !lodashGet(item, \"plant.wasteJustification\"))\n                    }}\n                  />\n                )}\n                {((historyBy === \"history\" && allowEdition) || historyBy !== \"history\") &&\n                  input &&\n                  !model && (\n                    <div style={{ display: \"flex\" }}>\n                      <FormInput\n                        field={{\n                          text,\n                          identity: path,\n                          type\n                        }}\n                        formItem={formItem}\n                        formErrors={formErrors}\n                        handleChange={handleChange({ identity: path })}\n                        options={{\n                          readOnly:\n                            lodashGet(item, \"plant.qualityTrackType\") === readOnly && !allowEdition,\n                          disabled:\n                            lodashGet(item, \"plant.qualityTrackType\") === readOnly && !allowEdition\n                        }}\n                      />\n                      {[7, 9].indexOf(index) !== -1 &&\n                        historyBy !== \"history\" &&\n                        lodashGet(item, \"plant.qualityTrackType\") === readOnly && (\n                          <React.Fragment>\n                            {!allowEdition && (\n                              <Button\n                                type=\"icon\"\n                                text=\"Editar\"\n                                icon=\"edit_icon\"\n                                variants=\"editAction\"\n                                onClick={handleEdit}\n                              />\n                            )}\n                            {allowEdition && (\n                              <Button\n                                type=\"icon\"\n                                text=\"Cancelar\"\n                                icon=\"close\"\n                                variants=\"editAction\"\n                                onClick={handleEdit}\n                              />\n                            )}\n                          </React.Fragment>\n                        )}\n                    </div>\n                  )}\n                {((!input && !model) ||\n                  (historyBy === \"history\" && input && !model && !allowEdition)) && (\n                  <div style={{ display: \"flex\", alignItems: \"center\" }}>\n                    <Typography variant=\"body1\">\n                      {type === \"datetime\" ? (\n                        lodashGet(item, path) ? (\n                          moment(lodashGet(item, path)).format(\"DD/MM/YYYY HH:mm\")\n                        ) : (\n                          alt\n                        )\n                      ) : type === \"integer\" ? (\n                        !lodashIsNil(lodashGet(item, path)) ? (\n                          <NumberFormat\n                            value={lodashGet(item, path)}\n                            displayType={\"text\"}\n                            thousandSeparator={\".\"}\n                            decimalSeparator={\",\"}\n                          />\n                        ) : (\n                          alt\n                        )\n                      ) : !lodashIsNil(lodashGet(item, path)) ? (\n                        lodashGet(item, path)\n                      ) : (\n                        alt\n                      )}\n                    </Typography>\n                    {index === 12 && historyBy === \"history\" && (\n                      <React.Fragment>\n                        {hasEditAccess && !allowEdition && (\n                          <Button\n                            type=\"icon\"\n                            text=\"Editar\"\n                            icon=\"edit_icon\"\n                            variants=\"editAction\"\n                            onClick={handleEdit}\n                          />\n                        )}\n                        {allowEdition && (\n                          <React.Fragment>\n                            <Button\n                              type=\"icon\"\n                              text=\"Gravar\"\n                              icon=\"save\"\n                              variants=\"editAction\"\n                              onClick={handleUpdate}\n                            />\n                            <Button\n                              type=\"icon\"\n                              text=\"Deletar\"\n                              icon=\"delete_icon\"\n                              variants=\"deleteAction\"\n                              onClick={handleDelete}\n                            />\n                            <Button\n                              type=\"icon\"\n                              text=\"Cancelar\"\n                              icon=\"close\"\n                              variants=\"editAction\"\n                              onClick={handleEdit}\n                            />\n                          </React.Fragment>\n                        )}\n                      </React.Fragment>\n                    )}\n                  </div>\n                )}\n              </TableCell>\n            )\n        )}\n      </TableRow>\n    )\n  );\n};\n\nexport default withStyles(styles, { withTheme: true })(DataRow);\n","import React, { useState } from \"react\";\nimport moment from \"moment\";\nimport { DatePicker } from \"@material-ui/pickers\";\nimport { Button, IconButton, Icon } from \"@material-ui/core\";\nimport { withStyles } from \"../../utils\";\n\nconst styles = theme => ({\n  filter: {\n    //backgroundColor: \"rgba(255, 255, 255, .15)\",\n    color: theme.palette.common.black,\n    display: \"flex\",\n    alignItems: \"center\",\n    margin: theme.spacing(1),\n    borderRadius: 50,\n    padding: 4,\n    [theme.breakpoints.down(\"xs\")]: {\n      margin: 3,\n      padding: 2\n    }\n  },\n  arrow: {\n    padding: 0,\n    // color: theme.palette.common.black,\n  }\n});\n\nconst DateFilter = ({ classes, date, setDate = () => {}, maxDate, minDate, isEndDate }) => {\n  const handleChange = date => {\n    if (isEndDate) {\n      setDate(\n        moment(date)\n          .subtract(1, \"day\")\n          .endOf(\"day\")\n          .add(6, \"hours\")\n      );\n    } else {\n      setDate(\n        moment(date)\n          .startOf(\"day\")\n          .add(6, \"hours\")\n      );\n    }\n  };\n  const [isOpen, setIsOpen] = useState(false);\n  return (\n    <div className={classes.filter}>\n      <IconButton\n        color='primary'\n        className={classes.arrow}\n        onClick={() => {\n          if (\n            !minDate ||\n            (minDate &&\n              !moment(date)\n                .subtract(1, \"day\")\n                .isSame(minDate, \"day\"))\n          ) {\n            handleChange(moment(date).subtract(1, \"day\"));\n          }\n        }}\n      >\n        <Icon>arrow_back_ios</Icon>\n      </IconButton>\n      <Button size=\"small\" onClick={() => setIsOpen(true)} color='primary'>\n        {date.format(\"ddd, DD [de] MMM HH:mm\")}\n      </Button>\n      <IconButton\n        color='primary'\n        className={classes.arrow}\n        onClick={() => {\n          console.log(\"!!!max\")\n          if (\n            !maxDate ||\n            (maxDate &&\n              !moment(date)\n                .add(1, \"day\")\n                .isAfter(maxDate, \"day\"))\n          ) {\n            handleChange(moment(date).add(1, \"day\"));\n          }\n        }}\n      >\n        <Icon>arrow_forward_ios</Icon>\n      </IconButton>\n      <div hidden>\n        <DatePicker\n          format=\"DD/MM/YYYY HH:mm\"\n          locale=\"pt\"\n          cancelLabel=\"CANCELAR\"\n          autoOk\n          value={date}\n          minDate={minDate}\n          maxDate={maxDate}\n          onChange={handleChange}\n          open={isOpen}\n          onOpen={() => setIsOpen(true)}\n          onClose={() => setIsOpen(false)}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default withStyles(styles, { withTheme: true })(DateFilter);\n","import React, { useRef, useState } from \"react\";\nimport {\n  Button,\n  Icon,\n  Popper,\n  Grow,\n  Paper,\n  ClickAwayListener,\n  MenuList,\n  MenuItem\n} from \"@material-ui/core\";\nimport { withStyles, lodashMap } from \"../../../utils\";\n\nconst styles = theme => ({\n  filter: {\n    backgroundColor: \"rgba(255, 255, 255, .15)\",\n    display: \"flex\",\n    alignItems: \"center\",\n    margin: theme.spacing(1),\n    borderRadius: 50,\n    [theme.breakpoints.down(\"xs\")]: {\n      margin: 3,\n      padding: 2\n    }\n  },\n  item: {\n    textTransform: \"uppercase\"\n  }\n});\n\nconst MenuFilter = ({ classes, filter, setFilter, identity, options }) => {\n  const [open, setOpen] = useState(false);\n  const menuRef = useRef(null);\n  const handleToggle = () => {\n    setOpen(prev => !prev);\n  };\n  const handleClose = event => {\n    if (menuRef.current.contains(event.target)) {\n      return;\n    }\n    setOpen(false);\n  };\n  const handleSelect = ({ key }) => () => {\n    setFilter(key);\n    setOpen(false);\n  };\n  return (\n    <React.Fragment>\n      <div className={classes.filter}>\n        <Button\n          buttonRef={node => {\n            menuRef.current = node;\n          }}\n          aria-owns={open ? identity : undefined}\n          aria-haspopup=\"true\"\n          onClick={handleToggle}\n        >\n          <span>{options[filter]}</span>\n        </Button>\n      </div>\n      {/* TODO use menu as filters menu, without so many wrappers */}\n      <Popper open={open} anchorEl={menuRef.current} transition disablePortal>\n        {({ TransitionProps, placement }) => (\n          <Grow\n            {...TransitionProps}\n            id={identity}\n            style={{\n              transformOrigin: placement === \"bottom\" ? \"center top\" : \"center bottom\"\n            }}\n          >\n            <Paper>\n              <ClickAwayListener onClickAway={handleClose}>\n                <MenuList>\n                  {lodashMap(options, (text, key) => (\n                    <MenuItem className={classes.item} key={key} onClick={handleSelect({ key })}>\n                      {text}\n                      {filter === key && <Icon>done</Icon>}\n                    </MenuItem>\n                  ))}\n                </MenuList>\n              </ClickAwayListener>\n            </Paper>\n          </Grow>\n        )}\n      </Popper>\n    </React.Fragment>\n  );\n};\n\nexport default withStyles(styles, { withTheme: true })(MenuFilter);\n","import React, { useContext, useState, useEffect, useCallback } from \"react\";\nimport moment from \"moment\";\nimport {\n  Grid,\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableRow,\n  Typography,\n  Toolbar,\n  Hidden\n} from \"@material-ui/core\";\nimport { useDebouncedCallback } from \"use-debounce\";\nimport ApiContext from \"../../../api\";\nimport {\n  withStyles,\n  lodashGet,\n  lodashMap,\n  lodashForEach,\n  lodashFilter,\n  lodashReduce,\n  lodashIsNil,\n  getDateJSON,\n  getPermissions,\n  useAuth\n} from \"../../../utils\";\nimport { Loader, Button } from \"../../../components\";\nimport DataRow from \"./DataRow\";\nimport DateFilter from \"../DateFilter\";\nimport PlantFilter from \"../PlantFilter\";\nimport MenuFilter from \"../production-report/MenuFilter\";\n\nconst styles = theme => ({\n  title: {\n    fontSize: \"1rem\"\n  },\n  label: {\n    padding: `0 ${theme.spacing(1)}px`,\n    fontSize: \"1rem\"\n  },\n  container: {\n    height: \"100%\",\n    flexWrap: \"nowrap\",\n    overflow: \"visible\"\n  },\n  wrapper: {\n    position: \"relative\",\n    overflow: \"auto\",\n    flex: 1,\n    top: theme.spacing(1),\n    width: `calc(100% + ${theme.spacing(6)}px)`,\n    margin: -theme.spacing(3),\n    [theme.breakpoints.down(\"xs\")]: {\n      top: 0,\n      margin: -theme.spacing(1),\n      width: `calc(100% + ${theme.spacing(2)}px)`\n    }\n  },\n  header: {\n    \"& th\": {\n      padding: `0 ${theme.spacing(1)}px`,\n      textTransform: \"uppercase\",\n      backgroundColor: theme.palette.primary.main,\n      color: theme.palette.common.white,\n      \"& p,& a span\": {\n        color: theme.palette.common.white,\n        fontSize: \".75rem\"\n      }\n    },\n    [theme.breakpoints.up(\"sm\")]: {\n      position: \"sticky\",\n      top: 0,\n      zIndex: 1\n    }\n  },\n  toolbar: {\n    zIndex: 10,\n    width: `calc(100% + ${theme.spacing(6)}px)`,\n    margin: -theme.spacing(3),\n    marginBottom: theme.spacing(2),\n    color: theme.palette.common.black,\n    backgroundColor: theme.palette.secondary.main,\n    [theme.breakpoints.down(\"xs\")]: {\n      margin: -theme.spacing(1),\n      marginBottom: theme.spacing(1),\n      width: `calc(100% + ${theme.spacing(2)}px)`\n    }\n  },\n  export: {\n    minWidth: \"auto\"\n  },\n  exportWrapper: {\n    position: \"relative\",\n    display: \"flex\"\n  },\n  exportLoader: {\n    width: \"100%\",\n    position: \"absolute\",\n    alignSelf: \"center\"\n  },\n  scrollArea: {\n    height: \"100%\"\n  }\n});\n\nconst ProductionWaste = ({ classes }) => {\n  const { permissions } = useAuth();\n  const client = useContext(ApiContext);\n  const [pendingWasteData, setPendingWasteData] = useState([]);\n  const [header, setHeader] = useState([]);\n  const [loading, setLoading] = useState();\n  const [startDate, setStartDate] = useState(\n    moment()\n      .subtract(1, \"day\")\n      .startOf(\"day\")\n      .add(6, \"hours\")\n  );\n  const [endDate, setEndDate] = useState(\n    moment()\n      .subtract(1, \"day\")\n      .endOf(\"day\")\n      .add(6, \"hours\")\n  );\n  const historyByTextMap = {\n    waste: \"Apontamento\",\n    history: \"Histórico\"\n  };\n  const [historyBy, setHistoryBy] = useState();\n  const typesByTextMap = {\n    all: \"Todas\",\n    active: \"Ativas\",\n    closed: \"Encerradas\"\n  };\n  const [typesBy, setTypesBy] = useState(\"active\");\n  const [groupByExpandMap, setGroupByExpandMap] = useState();\n  const [plantIdQuery, setPlantIdQuery] = useState({});\n  const handleGroupExpand = ({ id }) => () =>\n    setGroupByExpandMap(prev => ({ ...prev, [id]: !prev[id] }));\n  const stringStartDate = startDate.toISOString();\n  const stringEndDate = endDate.toISOString();\n  const stringQuery = JSON.stringify(plantIdQuery);\n  const [getPendingWasteData] = useDebouncedCallback(\n    useCallback(() => {\n      const asyncGetPendingWasteData = async () => {\n        setLoading(true);\n        const PendingWasteData = await client.service(\"machines\").find({\n          query: {\n            ...JSON.parse(stringQuery),\n            $pendingWaste: {\n              sd: getDateJSON({ date: moment(stringStartDate) }),\n              ed: getDateJSON({ date: moment(stringEndDate) }),\n              typesBy,\n              historyBy\n            },\n            machineStatusId: lodashGet(client.get(\"config.machine.status.active\"), \"value\")\n          }\n        });\n        const expandMap = {};\n        lodashForEach(PendingWasteData.groupBy, item => {\n          expandMap[lodashGet(item, \"machine.id\")] = true;\n        });\n        setGroupByExpandMap(expandMap);\n        setPendingWasteData(PendingWasteData.groupBy);\n        setHeader(PendingWasteData.header);\n        setLoading(false);\n      };\n      asyncGetPendingWasteData();\n    }, [client, stringStartDate, stringEndDate, typesBy, historyBy, stringQuery]),\n    1000\n  );\n  useEffect(() => {\n    // TODO useDebounce\n    if (!historyBy) {\n      return;\n    }\n    // console.log(\"!!! useEffect getPendingWasteData\");\n    setLoading(true);\n    getPendingWasteData();\n  }, [getPendingWasteData, historyBy]);\n  const [loadingSubmit, setLoadingSubmit] = useState();\n  const handleSubmit = async () => {\n    if (loadingSubmit) {\n      return;\n    }\n    setLoadingSubmit(true);\n    await Promise.all(\n      lodashMap(pendingWasteData, async wItem => {\n        await lodashReduce(\n          wItem.groupData,\n          async (promise, item) => {\n            await promise;\n            const setFormErrors = item.setFormErrors || (() => {});\n            setFormErrors({});\n            let continueOperation = true;\n            if (!lodashIsNil(item.cp) || !lodashIsNil(item.wp)) {\n              const cp = parseInt(item.cp, \"10\");\n              if (cp < 0) {\n                continueOperation = false;\n                setFormErrors(prev => ({\n                  ...prev,\n                  cp: \"Q Confirmada não pode ser negativo\"\n                }));\n              }\n              const wp = parseInt(item.wp, \"10\");\n              if (wp < 0) {\n                continueOperation = false;\n                setFormErrors(prev => ({\n                  ...prev,\n                  wp: \"Q Refugo não pode ser negativo\"\n                }));\n              }\n              if (lodashGet(item, \"plant.wasteJustification\") && !item.wji && item.wp) {\n                continueOperation = false;\n                setFormErrors(prev => ({\n                  ...prev,\n                  wji: \"Campo obrigatório.\"\n                }));\n              }\n              if (!continueOperation) {\n                return Promise.resolve();\n              }\n              item.dontShow = true;\n              const newWaste = {\n                poi: lodashGet(item, \"poi.id\"),\n                mi: lodashGet(item, \"poi.machineId\"),\n                ti: lodashGet(item, \"turn.id\"),\n                sd: lodashGet(item, \"sd\"),\n                ed: lodashGet(item, \"ed\"),\n                tp: item.tp || 0,\n                cp: item.cp || 0,\n                wp: item.wp || 0,\n                wji: item.wji\n              };\n              return client.service(\"production_order_waste\").create(newWaste);\n            }\n          },\n          Promise.resolve()\n        );\n      })\n    );\n    setLoadingSubmit(false);\n  };\n  const hasWriteAccess = getPermissions({\n    privileges: [\"writePendingWaste\"],\n    permissions\n  });\n  useEffect(() => {\n    setHistoryBy(hasWriteAccess ? \"waste\" : \"history\");\n  }, [hasWriteAccess]);\n  return (\n    <Grid container direction=\"column\" spacing={0} className={classes.container}>\n      <Grid item>\n        <Toolbar className={classes.toolbar}>\n          <Typography variant=\"body1\" className={classes.title}>\n            Apontamento de Refugo\n          </Typography>\n          <div className={classes.exportWrapper}>\n            {loadingSubmit && (\n              <div className={classes.exportLoader}>\n                <Loader />\n              </div>\n            )}\n            {historyBy !== \"history\" && (\n              <Button\n                className={classes.export}\n                onClick={handleSubmit}\n                text=\"Gravar\"\n                type=\"icon\"\n                icon=\"save\"\n              />\n            )}\n          </div>\n          <MenuFilter\n            identity=\"history-by\"\n            filter={historyBy}\n            setFilter={setHistoryBy}\n            options={historyByTextMap}\n          />\n          <div style={{ flex: 1 }} />\n          <Hidden smDown>\n            <MenuFilter\n              identity=\"events-by\"\n              filter={typesBy}\n              setFilter={setTypesBy}\n              options={typesByTextMap}\n            />\n          </Hidden>\n          <DateFilter\n            date={startDate}\n            setDate={setStartDate}\n            maxDate={moment(endDate).subtract(1, \"days\")}\n          />\n          <Hidden smDown>\n            <Typography variant=\"body1\" className={classes.label}>\n              até\n            </Typography>\n          </Hidden>\n          <DateFilter\n            isEndDate\n            date={endDate}\n            setDate={setEndDate}\n            minDate={startDate}\n            maxDate={moment()}\n          />\n          <PlantFilter setQuery={setPlantIdQuery} />\n        </Toolbar>\n      </Grid>\n      <Grid item className={classes.wrapper}>\n        {loading && <Loader />}\n        {!loading && (\n          <Table id=\"tableId\" className={classes.table}>\n            <TableHead>\n              <TableRow className={classes.header}>\n                {lodashMap(header, ({ text }, index) => (\n                  <TableCell key={index} className={classes.header}>\n                    <Typography variant=\"body1\">{text}</Typography>\n                  </TableCell>\n                ))}\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              {lodashMap(pendingWasteData, (wItem, index) => (\n                <React.Fragment key={index}>\n                  <React.Fragment>\n                    <DataRow\n                      header={header}\n                      item={wItem.groupTotal}\n                      groupBy={{\n                        handleGroupExpand,\n                        expandId: lodashGet(wItem, \"machine.id\"),\n                        expanded: lodashGet(groupByExpandMap, `${lodashGet(wItem, \"machine.id\")}`),\n                        enabled: true,\n                        colspan: wItem.colspan,\n                        text: `${lodashGet(wItem, \"machine.identity\")} - ${lodashGet(\n                          wItem,\n                          \"machine.name\"\n                        )} ${\n                          historyBy === \"waste\"\n                            ? `(${\n                                lodashFilter(wItem.groupData, item => !item.dontShow).length\n                              } Pendentes)`\n                            : \"\"\n                        }`\n                      }}\n                    />\n                    {lodashGet(groupByExpandMap, `${lodashGet(wItem, \"machine.id\")}`) &&\n                      lodashMap(\n                        wItem.groupData,\n                        (item, index) =>\n                          !item.dontShow && (\n                            <DataRow\n                              key={index}\n                              header={header}\n                              item={item}\n                              historyBy={historyBy}\n                            />\n                          )\n                      )}\n                  </React.Fragment>\n                </React.Fragment>\n              ))}\n            </TableBody>\n          </Table>\n        )}\n      </Grid>\n    </Grid>\n  );\n};\n\nexport default withStyles(styles, { withTheme: true })(ProductionWaste);\n","import React from \"react\";\nimport moment from \"moment\";\nimport { TableCell, TableRow, Typography, Icon } from \"@material-ui/core\";\nimport NumberFormat from \"react-number-format\";\nimport {\n  withStyles,\n  classNames,\n  lodashGet,\n  lodashIsNil,\n  lodashMap,\n} from \"../../../utils\";\n\nconst styles = (theme) => ({\n  body: {\n    \"& td\": {\n      padding: theme.spacing(1),\n      \"& p,& a span\": {\n        fontSize: \".75rem\",\n      },\n    },\n  },\n  wrapper: {\n    display: \"flex\",\n    alignItems: \"center\",\n  },\n  expanded: {\n    transform: \"rotate(180deg)\",\n  },\n  icon: {\n    margin: `0 ${theme.spacing(1)}px`,\n  },\n  group: {\n    cursor: \"pointer\",\n    backgroundColor: theme.palette.primary.table,\n  },\n});\n\nconst DataRow = ({ classes, header, item, groupBy = {} }) => (\n  <TableRow\n    className={classNames([classes.body, { [classes.group]: groupBy.enabled }])}\n  >\n    {groupBy.enabled && (\n      <TableCell\n        style={{ whiteSpace: \"nowrap\" }}\n        colSpan={groupBy.colspan}\n        onClick={\n          groupBy.handleGroupExpand &&\n          groupBy.handleGroupExpand({ id: groupBy.expandId })\n        }\n      >\n        <div className={classes.wrapper}>\n          {groupBy.expandId && (\n            <Icon\n              className={classNames(classes.icon, {\n                [classes.expanded]: groupBy.expanded,\n              })}\n            >\n              expand_more_icon\n            </Icon>\n          )}\n          <Typography variant=\"body1\">{groupBy.text}</Typography>\n        </div>\n      </TableCell>\n    )}\n    {lodashMap(header, ({ path, alt, type, add }, index) => {\n      const value = lodashGet(item, path);\n      const isNil = lodashIsNil(value);\n      return (\n        (!groupBy.enabled || add) && (\n          <TableCell key={index} style={{ whiteSpace: \"nowrap\" }}>\n            <Typography variant=\"body1\">\n              {!isNil &&\n                type === \"datetime\" &&\n                moment(value).format(\"DD/MM/YYYY HH:mm\")}\n              {!isNil && type === \"integer\" && (\n                <NumberFormat\n                  value={value}\n                  displayType={\"text\"}\n                  thousandSeparator={\".\"}\n                  decimalSeparator={\",\"}\n                />\n              )}\n              {!isNil && type === \"decimal\" && (\n                <NumberFormat\n                  value={parseFloat(value).toFixed(2).replace(\".\", \",\")}\n                  displayType={\"text\"}\n                  thousandSeparator={\".\"}\n                  decimalSeparator={\",\"}\n                />\n              )}\n              {!isNil &&\n                [\"datetime\", \"integer\", \"decimal\"].indexOf(type) === -1 &&\n                value}\n              {isNil && alt}\n            </Typography>\n          </TableCell>\n        )\n      );\n    })}\n  </TableRow>\n);\n\nexport default withStyles(styles, { withTheme: true })(DataRow);\n","import React, { useContext, useState, useEffect, useCallback } from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faFilePdf, faFileExcel } from \"@fortawesome/free-solid-svg-icons\";\nimport moment from \"moment\";\nimport {\n  Grid,\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableRow,\n  Typography,\n  Toolbar,\n  Button,\n  Hidden,\n} from \"@material-ui/core\";\nimport { useDebouncedCallback } from \"use-debounce\";\nimport ApiContext from \"../../../api\";\nimport {\n  withStyles,\n  lodashGet,\n  lodashMap,\n  lodashForEach,\n  useAuth,\n} from \"../../../utils\";\nimport { Loader } from \"../../../components\";\nimport DataRow from \"./DataRow\";\nimport DateFilter from \"../DateFilter\";\nimport PlantFilter from \"../PlantFilter\";\nimport MenuFilter from \"./MenuFilter\";\n\nconst styles = (theme) => ({\n  title: {\n    fontSize: \"1rem\",\n  },\n  label: {\n    padding: `0 ${theme.spacing(1)}px`,\n    fontSize: \"1rem\",\n  },\n  container: {\n    height: \"100%\",\n    flexWrap: \"nowrap\",\n    overflow: \"visible\",\n  },\n  wrapper: {\n    position: \"relative\",\n    overflow: \"auto\",\n    flex: 1,\n    width: `calc(100% + ${theme.spacing(6)}px)`,\n    margin: -theme.spacing(3),\n    [theme.breakpoints.down(\"xs\")]: {\n      top: 0,\n      margin: -theme.spacing(1),\n      width: `calc(100% + ${theme.spacing(2)}px)`,\n    },\n  },\n  loader: {\n    top: theme.spacing(1),\n    width: \"100%\",\n    position: \"absolute\",\n  },\n  header: {\n    //whiteSpace: 'nowrap',\n    \"& th\": {\n      padding: `0 ${theme.spacing(1)}px`,\n      textTransform: \"uppercase\",\n      backgroundColor: theme.palette.primary.main,\n      color: theme.palette.common.white,\n      \"& p,& a span\": {\n        color: theme.palette.common.white,\n        fontSize: \".75rem\",\n      },\n    },\n    [theme.breakpoints.up(\"sm\")]: {\n      position: \"sticky\",\n      top: 0,\n      zIndex: 1,\n    },\n  },\n  toolbar: {\n    zIndex: 10,\n    width: `calc(100% + ${theme.spacing(6)}px)`,\n    margin: -theme.spacing(3),\n    marginBottom: theme.spacing(2),\n    color: theme.palette.common.black,\n    backgroundColor: theme.palette.secondary.main,\n    [theme.breakpoints.down(\"xs\")]: {\n      margin: -theme.spacing(1),\n      marginBottom: theme.spacing(1),\n      width: `calc(100% + ${theme.spacing(2)}px)`,\n    },\n  },\n  export: {\n    minWidth: \"auto\",\n    \"& svg\": {\n      height: \"1rem\",\n      width: \"1rem !important\",\n    },\n    \"& span\": {\n      display: \"flex\",\n      flexDirection: \"column\",\n      flexWrap: \"nowrap\",\n      fontSize: \"0.75rem\",\n    },\n  },\n  exportWrapper: {\n    position: \"relative\",\n    display: \"flex\",\n  },\n  exportLoader: {\n    width: \"100%\",\n    position: \"absolute\",\n    alignSelf: \"center\",\n  },\n  scrollArea: {\n    height: \"100%\",\n  },\n});\n\nconst ProductionReport = ({ classes }) => {\n  const client = useContext(ApiContext);\n  const { session } = useAuth();\n  const [availabilityData, setAvailabilityData] = useState([]);\n  const [header, setHeader] = useState([]);\n  const [loading, setLoading] = useState();\n  const [startDate, setStartDate] = useState(\n    moment().subtract(7, \"days\").startOf(\"day\").add(6, \"hours\")\n  );\n  const [endDate, setEndDate] = useState(\n    moment().subtract(1, \"days\").endOf(\"day\").add(6, \"hours\")\n  );\n  const groupByTextMap = {\n    poi: \"por Ordem\",\n    mi: \"por Máquina\",\n    mipoi: \"por Máquina e Ordem\",\n  };\n  const [groupBy, setGroupBy] = useState(\"mipoi\");\n  const eventsByTextMap = {\n    at: \"por Tipo de Evento\",\n    ev: \"por Evento\",\n  };\n  const [eventsBy, setEventsBy] = useState(\"ev\");\n  const [groupByExpandMap, setGroupByExpandMap] = useState();\n  const [plantIdQuery, setPlantIdQuery] = useState({});\n  const handleGroupExpand = ({ id }) => () =>\n    setGroupByExpandMap((prev) => ({ ...prev, [id]: !prev[id] }));\n  const stringStartDate = startDate.toISOString();\n  const stringEndDate = endDate.toISOString();\n  const stringQuery = JSON.stringify(plantIdQuery);\n  const [getReportAvailabilityData] = useDebouncedCallback(\n    useCallback(() => {\n      const asyncGetReportAvailabilityData = async () => {\n        setLoading(true);\n        const ReportAvailabilityData = await client.service(\"machines\").find({\n          query: {\n            ...JSON.parse(stringQuery),\n            $reportAvailability: {\n              sd: moment(stringStartDate).toDate(),\n              ed: moment(stringEndDate).toDate(),\n              eventsBy,\n              groupBy,\n            },\n            machineStatusId: lodashGet(\n              client.get(\"config.machine.status.active\"),\n              \"value\"\n            ),\n          },\n        });\n        if ([\"mipoi\", \"mi\"].indexOf(groupBy) !== -1) {\n          const expandMap = {};\n          lodashForEach(ReportAvailabilityData.groupBy, (item) => {\n            expandMap[lodashGet(item, \"machine.id\")] = true;\n          });\n          setGroupByExpandMap(expandMap);\n          setAvailabilityData(ReportAvailabilityData.groupBy);\n        } else {\n          setAvailabilityData(ReportAvailabilityData.data);\n        }\n        setHeader(ReportAvailabilityData.header);\n        setLoading(false);\n      };\n      asyncGetReportAvailabilityData();\n    }, [\n      client,\n      stringStartDate,\n      stringEndDate,\n      eventsBy,\n      groupBy,\n      stringQuery,\n    ]),\n    1000\n  );\n  useEffect(() => {\n    // console.log(\"!!! useEffect getReportAvailabilityData\");\n    setLoading(true);\n    getReportAvailabilityData();\n  }, [getReportAvailabilityData]);\n  // TODO dependencies startDate.toISOString(), endDate.toISOString()\n  const fnExcelReport = () => {\n    let tableContent = \"<table border='2px'><tr bgcolor='#87AFC6'>\";\n    let table = document.getElementById(\"tableId\");\n    let frameId = document.getElementById(\"frameId\");\n    for (let i = 0; i < table.rows.length; i++) {\n      tableContent = tableContent + table.rows[i].innerHTML + \"</tr>\";\n    }\n    tableContent = tableContent + \"</table>\";\n    tableContent = tableContent.replace(/<A[^>]*>|<\\/A>/g, \"\"); //remove if u want links in your table\n    tableContent = tableContent.replace(/<img[^>]*>/gi, \"\"); // remove if u want images in your table\n    tableContent = tableContent.replace(/<input[^>]*>|<\\/input>/gi, \"\"); // reomves input params\n    let ua = window.navigator.userAgent;\n    let msie = ua.indexOf(\"MSIE \");\n    let sa;\n    if (msie > 0 || !!navigator.userAgent.match(/Trident.*rv\\:11\\./)) {\n      frameId.document.open(\"txt/html\", \"replace\");\n      frameId.document.write(tableContent);\n      frameId.document.close();\n      frameId.focus();\n      sa = frameId.document.execCommand(\n        \"SaveAs\",\n        true,\n        \"Say Thanks to Sumit.xls\"\n      );\n    } else {\n      sa = window.open(\n        \"data:application/vnd.ms-excel,\" + encodeURIComponent(tableContent)\n      );\n    }\n    return sa;\n  };\n  const [loadingPDF, setLoadingPDF] = useState();\n  const fnPDFReport = async () => {\n    if (loadingPDF) {\n      return;\n    }\n    setLoadingPDF(true);\n    let response = await fetch(\n      `${client.get(\"cloudURL\")}/report_pdf?uuid=${lodashGet(\n        session,\n        \"company.uuid\"\n      )}&sd=${startDate.toDate()}&ed=${endDate.toDate()}`\n    );\n    response = await response.blob();\n    let linkPDF = document.createElement(\"a\");\n    linkPDF.href = window.URL.createObjectURL(response);\n    linkPDF.download = `Relatório de Produção ${startDate.format(\n      \"YYYY-MMM-DD\"\n    )} ${endDate.format(\"YYYY-MMM-DD\")}.pdf`;\n    document.body.appendChild(linkPDF);\n    linkPDF.click();\n    linkPDF.remove();\n    setLoadingPDF(false);\n  };\n  //#region filter menu on mobile\n  // const [anchorEl, setAnchorEl] = useState(null);\n  // const handleClick = event => setAnchorEl(event.currentTarget);\n  // const handleClose = () => setAnchorEl(null);\n  //#endregion\n  return (\n    <Grid\n      container\n      direction=\"column\"\n      spacing={0}\n      className={classes.container}\n    >\n      <Grid item>\n        <Toolbar className={classes.toolbar}>\n          <Typography variant=\"body1\" className={classes.title}>\n            Relatório de Produção\n          </Typography>\n          <div>\n            <Button className={classes.export} onClick={fnExcelReport}>\n              <FontAwesomeIcon icon={faFileExcel} />\n              <span>Excel</span>\n            </Button>\n            <iframe title=\"frameId\" id=\"frameId\" style={{ display: \"none\" }} />\n          </div>\n          <div className={classes.exportWrapper}>\n            {loadingPDF && (\n              <div className={classes.exportLoader}>\n                <Loader />\n              </div>\n            )}\n            <Button className={classes.export} onClick={fnPDFReport}>\n              <FontAwesomeIcon icon={faFilePdf} />\n              <span>PDF</span>\n            </Button>\n          </div>\n          <div style={{ flex: 1 }} />\n          <Hidden smDown>\n            <MenuFilter\n              identity=\"menu-group-by\"\n              filter={groupBy}\n              setFilter={setGroupBy}\n              options={groupByTextMap}\n            />\n            <MenuFilter\n              identity=\"events-by\"\n              filter={eventsBy}\n              setFilter={setEventsBy}\n              options={eventsByTextMap}\n            />\n          </Hidden>\n          <DateFilter\n            date={startDate}\n            setDate={(date) => {\n              setStartDate(moment(date));\n              setEndDate(\n                (moment(date)\n                  .add(6, \"days\")\n                  .isAfter(moment().subtract(1, \"days\"), \"minute\")\n                  ? moment().subtract(1, \"days\")\n                  : moment(date).add(6, \"days\")\n                )\n                  .endOf(\"day\")\n                  .add(6, \"hours\")\n              );\n            }}\n            // minDate={moment(endDate).subtract(30, \"days\")}\n            maxDate={moment(endDate).subtract(1, \"days\")}\n          />\n          <Hidden smDown>\n            <Typography variant=\"body1\" className={classes.label}>\n              até\n            </Typography>\n          </Hidden>\n          <DateFilter\n            isEndDate\n            date={endDate}\n            setDate={setEndDate}\n            minDate={moment(startDate).add(1, \"days\")}\n            maxDate={\n              moment(startDate).add(15, \"days\").isAfter(moment(), \"minute\")\n                ? moment()\n                : moment(startDate).add(15, \"days\")\n            }\n          />\n          <PlantFilter setQuery={setPlantIdQuery} />\n        </Toolbar>\n      </Grid>\n      <Grid item className={classes.wrapper}>\n        {loading && (\n          <div className={classes.loader}>\n            <Loader />\n          </div>\n        )}\n        {!loading && (\n          <Table id=\"tableId\" className={classes.table}>\n            <TableHead>\n              <TableRow className={classes.header}>\n                {lodashMap(header, ({ text }, index) => (\n                  <TableCell key={index} className={classes.header}>\n                    <Typography variant=\"body1\">{text}</Typography>\n                  </TableCell>\n                ))}\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              {lodashMap(availabilityData, (item, index) => (\n                <React.Fragment key={index}>\n                  {groupBy === \"mipoi\" && (\n                    <React.Fragment>\n                      {/* TODO add expand transition */}\n                      <DataRow\n                        header={header}\n                        item={item.groupTotal}\n                        groupBy={{\n                          handleGroupExpand,\n                          expandId: lodashGet(item, \"machine.id\"),\n                          expanded: lodashGet(\n                            groupByExpandMap,\n                            `${lodashGet(item, \"machine.id\")}`\n                          ),\n                          enabled: true,\n                          colspan: item.colspan,\n                          text: `${lodashGet(\n                            item,\n                            \"machine.identity\"\n                          )} - ${lodashGet(item, \"machine.name\")}`,\n                        }}\n                      />\n                      {lodashGet(\n                        groupByExpandMap,\n                        `${lodashGet(item, \"machine.id\")}`\n                      ) &&\n                        lodashMap(item.groupData, (item, index) => (\n                          <DataRow key={index} header={header} item={item} />\n                        ))}\n                    </React.Fragment>\n                  )}\n                  {groupBy === \"mi\" && (\n                    <DataRow header={header} item={item.groupTotal} />\n                  )}\n                  {groupBy === \"poi\" && <DataRow header={header} item={item} />}\n                </React.Fragment>\n              ))}\n            </TableBody>\n          </Table>\n        )}\n      </Grid>\n    </Grid>\n  );\n};\n\nexport default withStyles(styles, { withTheme: true })(ProductionReport);\n","/* eslint-disable import/first */\nimport React from \"react\";\nimport Chartist from \"chartist\";\nimport ChartistGraph from \"react-chartist\";\nimport \"chartist-plugin-tooltips\";\nimport \"../chartist-plugin-tooltip.css\";\nimport \"chartist/dist/chartist.css\";\nimport { withStyles } from \"../../../utils\";\nimport \"./gauge.css\";\n\nconst styles = theme => ({});\n\nconst ProductionGauge = ({ filters, data, header }) => {\n  const options = {\n    stackBars: true,\n    horizontalBars: true,\n    height: header ? \"50px\" : \"80px\",\n    low: 0,\n    high: 1440,\n    classNames: {\n      label: \"myct-label\"\n    },\n    axisX: {\n      offset: header ? 100 : 10,\n      showLabel: header ? true : false,\n      type: Chartist.FixedScaleAxis,\n      divisor: header ?\n        window.innerWidth > 1400 ? 24 : window.innerWidth > 800 ? 12 : window.innerWidth > 400 ? 6 : 3\n        :\n        window.innerWidth > 1400 ? 24*2 : window.innerWidth > 800 ? 12*2 : window.innerWidth > 400 ? 6*2 : 3*2,\n      showGrid: true,\n        labelInterpolationFnc: (value, index, array) => {\n        if (header) {\n          //TODO: get first working hour of the day from location settings\n          console.log(value,array );\n          if (value % 60 === 0){\n            return  filters.sd\n              .clone()\n              .add(6, \"hours\")\n              .add(value, \"m\")\n              .format(\"HH:mm\");            \n          }\n        }\n        return \"\";\n      }\n    },\n    axisY: {\n      showGrid: false,\n      showLabel: false\n    },\n    plugins: [\n      Chartist.plugins.tooltip({\n        appendToBody: true,\n        class: \"gauge-tooltip\",\n        transformTooltipTextFnc: () => {}\n      })\n    ]\n  };\n  const fillBarColor = {\n    draw: context => {\n      if (context.series) {\n        context.element.attr({\n          style: \"stroke:\" + context.series.bgColor\n        });\n      }\n    }\n  };\n  return (\n    <ChartistGraph\n      type=\"Bar\"\n      data={data || { }}\n      options={options}\n      listener={fillBarColor}\n      style={{\n        marginBottom: \"-18px\",\n        marginTop: header ? \"\" : \"-15px\",\n        marginLeft: \"-35px\",\n        position: \"relative\",\n        top: header ? \"-18px\" : \"\",\n        overflowY: header ? \"hidden\" : \"\"\n      }}\n    />\n  );\n};\n\nexport default withStyles(styles, { withTheme: true })(ProductionGauge);\n","import React, { useContext, useState, useEffect } from \"react\";\nimport { TableRow, TableCell, Typography } from \"@material-ui/core\";\nimport ApiContext from \"../../../api\";\nimport { withStyles, lodashGet, getColor, getEventType } from \"../../../utils\";\nimport Status from \"../production/Status\";\nimport ProductionGauge from \"./ProductionGauge\";\n\nconst styles = theme => ({\n  label: {\n    fontSize: \".65rem\"\n  },\n  title: {\n    padding: `${theme.spacing(1)}px 0`,\n    height: \"100%\",\n    minHeight: 58\n  },\n  row: {\n    \"& td\": {\n      padding: `0 ${theme.spacing(2)}px`\n    }\n  },\n  status: {\n    padding: `${theme.spacing(0)}px !important`,\n    \"& > div\": {\n      margin: \"0 auto\"\n    }\n  }\n});\n\nconst MachineRow = ({ classes, machine, typesMap, filters, isSameDay }) => {\n  const client = useContext(ApiContext);\n  const undefinedEventType = getEventType({ client, type: \"undefined\" });\n  const undefinedColor = getColor({\n    data: client.get(`actionType.${undefinedEventType}`),\n    path: \"color\"\n  });\n  const [data, setData] = useState({});\n  useEffect(() => {\n    let total = 0;\n    machine.history.map(item => (total += item.value[0]));\n    setData({\n      labels: [],\n      series: machine.history.length\n        ? machine.history\n        : [\n            {\n              at: -1,\n              ev: -1,\n              bgColor: undefinedColor,\n              diff: 1440,\n              meta: \"SISTEMA SEM COMUNICAÇÃO\",\n              value: [1440]\n            }\n          ]\n    });\n  }, [machine, undefinedColor]);\n  // console.log(\"!!!!data\", machine.id, machine.identity, machine.stats, machine.history);\n  return (\n    <TableRow className={classes.row}>\n      <TableCell className={classes.title}>\n        <Typography variant=\"body1\">{machine.identity}</Typography>\n        <Typography className={classes.label} component=\"p\">\n          {machine.name}\n        </Typography>\n      </TableCell>\n      <TableCell>\n        {/* <ProductionGauge filters={filters} header /> */}\n        <ProductionGauge filters={filters} data={data} />\n      </TableCell>\n      <TableCell>\n        <Typography variant=\"body1\">\n          {parseFloat(lodashGet(machine, \"stats.oem\")) >= 0\n            ? `${lodashGet(machine, \"stats.oem\")}%`\n            : \"ND\"}\n        </Typography>\n      </TableCell>\n      {isSameDay && (\n        <TableCell className={classes.status}>\n          <Status productionOrder={machine.productionOrder} size={40}/>\n        </TableCell>\n      )}\n    </TableRow>\n  );\n};\n\nexport default withStyles(styles, { withTheme: true })(MachineRow);\n","import React, { useContext, useState, useEffect, useCallback } from \"react\";\nimport moment from \"moment\";\nimport {\n  Grid,\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableRow,\n  Typography,\n  Toolbar,\n  Hidden\n} from \"@material-ui/core\";\nimport { useDebouncedCallback } from \"use-debounce\";\nimport ApiContext from \"../../../api\";\nimport {\n  withRouter,\n  withStyles,\n  lodashGet,\n  lodashMap,\n  lodashFindIndex\n} from \"../../../utils\";\nimport { Loader } from \"../../../components\";\nimport DateFilter from \"../DateFilter\";\nimport PlantFilter from \"../PlantFilter\";\nimport MachineRow from \"./MachineRow\";\nimport ProductionGauge from \"./ProductionGauge\";\nimport { LinearProgress } from \"@material-ui/core\";\n\nconst styles = theme => ({\n  title: {\n    fontSize: \"1rem\"\n  },\n  label: {\n    padding: `0 ${theme.spacing(1)}px`,\n    fontSize: \"1rem\"\n  },\n  container: {\n    height: \"100%\",\n    flexWrap: \"nowrap\",\n    overflow: \"visible\"\n  },\n  wrapper: {\n    position: \"relative\",\n    overflow: \"auto\",\n    flex: 1,\n    top: theme.spacing(1),\n    width: `calc(100% + ${theme.spacing(6)}px)`,\n    margin: -theme.spacing(3),\n    [theme.breakpoints.down(\"xs\")]: {\n      top: 0,\n      margin: -theme.spacing(1),\n      width: `calc(100% + ${theme.spacing(2)}px)`\n    }\n  },\n  header: {\n    height: \"56px\",\n    //whiteSpace: 'nowrap',\n    \"& th\": {\n      padding: `0 ${theme.spacing(2)}px`,\n      textTransform: \"uppercase\",\n      backgroundColor: theme.palette.primary.main,\n      color: theme.palette.common.white,\n      \"& p,& a span\": {\n        color: theme.palette.common.white,\n        fontSize: \".75rem\"\n      }\n    },\n    [theme.breakpoints.up(\"sm\")]: {\n      position: \"sticky\",\n      top: 0,\n      zIndex: 1\n    }\n  },\n  toolbar: {\n    zIndex: 10,\n    width: `calc(100% + ${theme.spacing(6)}px)`,\n    margin: -theme.spacing(3),\n    marginBottom: theme.spacing(2),\n    color: theme.palette.common.black,\n    backgroundColor: theme.palette.secondary.main,\n    [theme.breakpoints.down(\"xs\")]: {\n      margin: -theme.spacing(1),\n      marginBottom: theme.spacing(1),\n      width: `calc(100% + ${theme.spacing(2)}px)`\n    }\n  },\n  scrollArea: {\n    height: \"100%\"\n  },\n  loader: {\n    marginBottom: \"-4px\",\n    zIndex: \"2\"\n    // color: theme.palette.secondary.main,\n    // backgroundColor: theme.palette.primary.main,\n  }\n});\n\nconst ProductionHistory = ({ classes, match: { params }, timeCarousel, limit, offset }) => {\n  const client = useContext(ApiContext);\n  const [reportHistoryData, setReportHistoryData] = useState([]);\n  const [loading, setLoading] = useState();\n  const [plantIdQuery, setPlantIdQuery] = useState({});\n  const [date, setDate] = useState(\n    moment().isAfter(\n      moment()\n        .startOf(\"day\")\n        .add(6, \"hours\"),\n      \"minute\"\n    )\n      ? moment()\n          .startOf(\"day\")\n          .add(6, \"hours\")\n      : moment()\n          .subtract(1, \"day\")\n          .startOf(\"day\")\n          .add(6, \"hours\")\n  );\n  const stringDate = date.toISOString();\n  const stringQuery = JSON.stringify(plantIdQuery);\n  const isSameDay = moment().isSame(date, \"day\");\n  const [getReportHistoryData] = useDebouncedCallback(\n    useCallback(\n      ({ machineId } = {}) => {\n        const asyncGetReportHistoryData = async () => {\n          setLoading(true);\n          const companyQuery = {};\n          if (params.companyId) {\n            companyQuery.$adminQueryCompanyId = params.companyId;\n          }\n          const machineQuery = {};\n          if (machineId) {\n            machineQuery.id = machineId;\n          }\n          const ReportHistoryData = await client.service(\"machines\").find({\n            query: {\n              ...JSON.parse(stringQuery),\n              ...companyQuery,\n              ...machineQuery,\n              $reportHistory: {\n                sd: moment(stringDate)\n                  .startOf(\"day\")\n                  .add(6, \"hours\")\n                  .toDate(),\n                ed: moment(stringDate)\n                  .endOf(\"day\")\n                  .add(6, \"hours\")\n                  .toDate(),\n                cd: moment().toDate(),\n                same: isSameDay\n              },\n              machineStatusId: lodashGet(\n                client.get(\"config.machine.status.active\"),\n                \"value\"\n              ),\n              $sort: {\n                identity: 1\n              },\n              $limit: limit,\n              $skip: offset\n            }\n          });\n          if (machineId) {\n            setReportHistoryData(prev => {\n              const index = lodashFindIndex(prev, { id: machineId });\n              if (index !== -1) {\n                prev[index] = ReportHistoryData.data[0];\n                // } else { // TODO add new machines too?\n                //   return [...prev, ...ReportHistoryData.data];\n              }\n              return [...prev];\n            });\n          } else {\n            setReportHistoryData(ReportHistoryData.data);\n          }\n          setLoading(false);\n        };\n        asyncGetReportHistoryData();\n      },\n      [client, stringDate, params.companyId, stringQuery, isSameDay]\n    ),\n    1000\n  );\n  // TODO do the same to ALL reports calls\n  useEffect(() => {\n    // console.log(\"!!! useEffect getReportHistoryData\");\n    if (timeCarousel) {\n      setLoading(true);\n      setTimeout(() => {\n        getReportHistoryData();\n      }, timeCarousel * 1000);\n    } else {\n      setLoading(true);\n      getReportHistoryData();\n    }\n  }, [getReportHistoryData]);\n  useEffect(() => {\n    // console.log(\"!!! useEffect getReportHistoryData\");\n    let getReportHistoryDataInterval;\n    if (isSameDay) {\n      getReportHistoryDataInterval = setInterval(() => {\n        setLoading(true);\n        getReportHistoryData();\n      }, 5 * 60 * 1000);\n    }\n    return () => {\n      clearInterval(getReportHistoryDataInterval);\n    };\n  }, [client, getReportHistoryData, isSameDay]);\n  return (\n    <Grid\n      container\n      direction=\"column\"\n      spacing={0}\n      className={classes.container}\n    >\n      <Grid item>\n        <Toolbar className={classes.toolbar}>\n          <Typography variant=\"body1\" className={classes.title}>\n            Histórico de Produção\n          </Typography>\n          <div style={{ flex: 1 }} />\n          <DateFilter date={date} setDate={setDate} maxDate={moment()} />\n          <PlantFilter setQuery={setPlantIdQuery} />\n        </Toolbar>\n      </Grid>\n      <Grid item className={classes.wrapper}>\n        {loading && <LinearProgress className={classes.loader} />}\n        <Table id=\"tableId\" className={classes.table}>\n          <colgroup>\n            <Hidden smDown>\n              <col width=\"135px\" />\n            </Hidden>\n            <Hidden mdUp>\n              <col width=\"50px\" />\n            </Hidden>\n            <col />\n            <col width=\"50px\" />\n            {isSameDay && <col width=\"70px\" />}\n          </colgroup>\n          <TableHead>\n            <TableRow className={classes.header}>\n              <TableCell className={classes.header}>\n                <Typography variant=\"body1\">Máquina</Typography>\n              </TableCell>\n              <TableCell className={classes.header}>\n                <ProductionGauge\n                  data={[30, 30, 30, 30]}\n                  filters={{\n                    sd: moment(date).startOf(\"day\"),\n                    ed: moment(date).endOf(\"day\")\n                  }}\n                  header\n                />\n              </TableCell>\n              <TableCell className={classes.header}>\n                <Typography variant=\"body1\">Disp.</Typography>\n              </TableCell>\n              {isSameDay && (\n                <TableCell className={classes.header}>\n                  <Typography variant=\"body1\">Status</Typography>\n                </TableCell>\n              )}\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {lodashMap(reportHistoryData, item => (\n              <MachineRow\n                key={item.id}\n                machine={item}\n                filters={{\n                  sd: moment(date).startOf(\"day\"),\n                  ed: moment(date).endOf(\"day\")\n                }}\n                isSameDay={isSameDay}\n              />\n            ))}\n          </TableBody>\n        </Table>\n      </Grid>\n    </Grid>\n  );\n};\n\nexport default withRouter(\n  withStyles(styles, { withTheme: true })(ProductionHistory)\n);\n","import React from \"react\";\nimport Chartist from \"chartist\";\nimport ChartistGraph from \"react-chartist\";\nimport { Grid, Typography } from \"@material-ui/core\";\nimport { withStyles, lodashGet, NUMBER_FORMAT } from \"../../../utils\";\n\nconst styles = (theme) => ({\n  container: {\n    display: \"flex\",\n    // TODO use css instead of prop on GRID\n    alignItems: \"center\",\n  },\n  title: {\n    width: 220,\n  },\n});\n\nconst BarChart = ({ classes, theme, text, data }) => {\n  const chartistOptions = {\n    height: 50,\n    reverseData: true,\n    horizontalBars: true,\n    axisX: {\n      offset: 20,\n      type: Chartist.FixedScaleAxis,\n      high: 110,\n      low: 0,\n      ticks: [0, 50, 100],\n      // TODO find and replace all `+ \"`\n      labelInterpolationFnc: (value) => `${value}%`,\n    },\n    axisY: {\n      showGrid: false,\n      showLabel: false,\n    },\n  };\n  const fillBarColor = {\n    draw: (context) => {\n      if (context.series) {\n        context.element.attr({\n          style: `stroke: ${lodashGet(\n            context,\n            \"series.0.bgColor\"\n          )}; stroke-width: ${\n            window.outerWidth <= theme.breakpoints.width(\"sm\") ? \"15px\" : \"30px\"\n          }`,\n        });\n      }\n      if (context.type === \"grid\") {\n        context.element.attr({\n          y1: context.y1 - 15,\n          y2: context.y2 + 15,\n          style: \"stroke: black; stroke-width: 1px; stroke-dasharray: none;\",\n        });\n      }\n    },\n  };\n  return (\n    <Grid item container spacing={0} className={classes.container}>\n      <Grid item className={classes.title}>\n        <Typography variant=\"body1\">\n          {text}{\" \"}\n          {NUMBER_FORMAT(\n            parseFloat(lodashGet(data, \"series.0.0.value\")).toFixed(2)\n          )}\n          %\n        </Typography>\n      </Grid>\n      <Grid item>\n        <ChartistGraph\n          type=\"Bar\"\n          className=\"ct-oee-indicators\"\n          data={data}\n          options={chartistOptions}\n          listener={fillBarColor}\n          style={{ padding: theme.spacing(2) }}\n        />\n      </Grid>\n    </Grid>\n  );\n};\n\nexport default withStyles(styles, { withTheme: true })(BarChart);\n","import React, { useContext } from \"react\";\nimport { Typography, Grid, Icon, Avatar } from \"@material-ui/core\";\nimport ApiContext from \"../../../api\";\nimport {\n  Link,\n  withRouter,\n  withStyles,\n  classNames,\n  lodashGet,\n  lodashMap,\n  useFindService\n} from \"../../../utils\";\nimport { Loader, NotFound } from \"../../../components\";\n\nconst styles = theme => ({\n  card: {\n    color: theme.palette.common.black,\n    display: \"flex\",\n    padding: `${theme.spacing(1)}px ${theme.spacing(2)}px`\n  },\n  link: {\n    // TODO do all !important are needed?\n    textDecoration: \"none\"\n  },\n  selected: {\n    backgroundColor: theme.palette.primary.header\n  },\n  avatar: {\n    marginRight: theme.spacing(1),\n    color: theme.palette.primary.main\n  },\n  item: {\n    flexWrap: \"nowrap\"\n  }\n});\n\nconst PlantMachinesList = ({ match: { params }, classes, model, plant }) => {\n  const client = useContext(ApiContext);\n  const { list, loading } = useFindService({\n    model: \"machines\",\n    query: {\n      plantId: plant.id,\n      machineStatusId: lodashGet(client.get(\"config.machine.status.active\"), \"value\"),\n      $sort: {\n        identity: 1\n      }\n    }\n  });\n  const empty = !loading && !list.length;\n  return (\n    <React.Fragment>\n      {empty && <NotFound />}\n      {loading && <Loader />}\n      {lodashMap(list, machine => (\n        <Grid\n          item\n          xs={12}\n          key={machine.id}\n          className={classNames(classes.link, {\n            [classes.selected]:\n              parseInt(params.plantId, \"10\") === plant.id &&\n              parseInt(params.machineId, \"10\") === machine.id\n          })}\n          component={Link}\n          to={`${model.formPath}/${plant.id}/machine/${machine.id}`}\n        >\n          <div className={classes.card}>\n            <Grid container alignItems=\"center\" className={classes.item}>\n              {machine.image && (\n                <Avatar alt={machine.name} src={machine.image} className={classes.avatar} />\n              )}\n              {!machine.image && model.icon && <Icon className={classes.avatar}>{model.icon}</Icon>}\n              <Typography variant=\"body1\">\n                {machine.identity ? `${machine.identity} - ` : \"\"} {machine.name}\n              </Typography>\n            </Grid>\n          </div>\n        </Grid>\n      ))}\n    </React.Fragment>\n  );\n};\n\nexport default withRouter(withStyles(styles, { withTheme: true })(PlantMachinesList));\n","import React, { useContext, useState, useEffect, useCallback } from \"react\";\nimport moment from \"moment\";\nimport NumberFormat from \"react-number-format\";\nimport Chartist from \"chartist\";\nimport ChartistGraph from \"react-chartist\";\nimport \"chartist-plugin-tooltips\";\nimport \"../chartist-plugin-tooltip.css\";\nimport \"chartist/dist/chartist.css\";\nimport {\n  Paper,\n  Grid,\n  Typography,\n  Toolbar,\n  Hidden,\n  Icon,\n} from \"@material-ui/core\";\nimport { useDebouncedCallback } from \"use-debounce\";\nimport ApiContext from \"../../../api\";\nimport {\n  Link,\n  withRouter,\n  classNames,\n  withStyles,\n  lodashGet,\n  lodashMap,\n  lodashForEach,\n  NUMBER_FORMAT,\n} from \"../../../utils\";\nimport { Loader, Tree } from \"../../../components\";\nimport \"../reports.css\";\nimport DateFilter from \"../DateFilter\";\nimport GaugeChart from \"../GaugeChart\";\nimport PieChart from \"../PieChart\";\nimport BarChart from \"./BarChart\";\nimport PlantMachinesList from \"./PlantMachinesList\";\nimport { MachinesModel } from \"../../master-data/models\";\n\nconst styles = (theme) => ({\n  container: {\n    height: \"100%\",\n    flexWrap: \"nowrap\",\n    overflow: \"visible\",\n  },\n  wrapper: {\n    height: \"100%\",\n    overflow: \"hidden\",\n  },\n  toolbar: {\n    zIndex: 10,\n    width: `calc(100% + ${theme.spacing(6)}px)`,\n    margin: -theme.spacing(3),\n    marginBottom: theme.spacing(2),\n    color: theme.palette.common.black,\n    backgroundColor: theme.palette.secondary.main,\n    [theme.breakpoints.down(\"xs\")]: {\n      margin: -theme.spacing(1),\n      marginBottom: theme.spacing(1),\n      width: `calc(100% + ${theme.spacing(2)}px)`,\n    },\n  },\n  toolbarTitle: {\n    fontSize: \"1rem\",\n  },\n  // TODO use meaningful names for classes, not just generic\n  toolbarLabel: {\n    padding: `0 ${theme.spacing(1)}px`,\n    fontSize: \"1rem\",\n  },\n  tree: {\n    flex: 1,\n    height: \"100%\",\n    maxWidth: \"25%\",\n    overflowY: \"auto\",\n    overflowX: \"hidden\",\n  },\n  treeItemSelected: {\n    backgroundColor: theme.palette.primary.form,\n  },\n  content: {\n    height: \"100%\",\n    position: \"relative\",\n    overflow: \"auto\",\n    flex: 1,\n  },\n  graphWrapper: {\n    display: \"flex\",\n    paddingLeft: theme.spacing(3),\n    alignItems: \"center\",\n  },\n  graphSidebar: {\n    flexDirection: \"column\",\n    [theme.breakpoints.down(\"sm\")]: {\n      flexDirection: \"row\",\n    },\n  },\n  graphItem: {\n    \"& canvas\": {\n      paddingLeft: theme.spacing(3),\n      [theme.breakpoints.up(\"sm\")]: {\n        height: \"280px !important\",\n      },\n    },\n  },\n  graphItemDetail: {\n    padding: theme.spacing(1),\n  },\n  graphTitle: {\n    display: \"flex\",\n    alignItems: \"center\",\n    fontSize: \"1.5rem\",\n    padding: theme.spacing(2),\n    textDecoration: \"none\",\n  },\n  graphSidebarTitle: {\n    fontSize: \".9rem\",\n  },\n  graphIcon: {\n    fontSize: 50,\n    color: theme.palette.primary.main,\n  },\n  graphDetailTitle: {\n    textAlign: \"right\",\n    fontSize: \".9rem\",\n  },\n  graphDetail: {\n    fontWeight: \"bold\",\n  },\n  allPlants: {\n    color: theme.palette.common.black,\n    padding: `${theme.spacing(1)}px ${theme.spacing(2)}px`,\n  },\n\n  legend: {\n    flexWrap: \"wrap\",\n    display: \"flex\",\n    margin: `${theme.spacing(2)}px ${theme.spacing(2)}px 0`,\n    boxShadow: \"none\",\n    background: \"none\",\n    fontSize: \"small\",\n    [theme.breakpoints.down(\"sm\")]: {\n      fontSize: \"xx-small\",\n    },\n  },\n  titleLegend: {\n    display: \"flex\",\n    width: \"fit-content\",\n    alignItems: \"center\",\n    textTransform: \"uppercase\",\n    margin: theme.spacing(1),\n    [theme.breakpoints.down(\"sm\")]: {\n      margin: theme.spacing(1 / 2),\n    },\n  },\n  iconLegend: {\n    borderRadius: \"50%\",\n    height: 10,\n    width: 10,\n    margin: 5,\n  },\n});\n\nconst ProductionOEE = ({\n  classes,\n  theme,\n  match: { params },\n  location: { pathname },\n  timeCarousel,\n}) => {\n  const client = useContext(ApiContext);\n  const [availabilityData, setAvailabilityData] = useState({});\n  const [graphOEEData, setGraphOEEData] = useState({});\n  const [qualityData, setQualityData] = useState({});\n  const [performanceData, setPerformanceData] = useState({});\n  const [oeeData, setOEEData] = useState();\n  const [actionsData, setActionsData] = useState({});\n  const [statsData, setStatsData] = useState({});\n  const [loading, setLoading] = useState();\n  const [loadingGraph, setLoadingGraph] = useState();\n  const [startDate, setStartDate] = useState(\n    moment().subtract(1, \"days\").startOf(\"day\").add(6, \"hours\")\n  );\n  const [endDate, setEndDate] = useState(\n    moment().subtract(1, \"days\").endOf(\"day\").add(6, \"hours\")\n  );\n  const stringStartDate = startDate.toISOString();\n  const stringEndDate = endDate.toISOString();\n  const [getReportOEEData] = useDebouncedCallback(\n    useCallback(() => {\n      const asyncGetReportOEEData = async () => {\n        setLoading(true);\n        const query = {};\n        if (params.plantId) {\n          query.plantId = params.plantId;\n        }\n        if (params.machineId) {\n          query.id = params.machineId;\n        }\n        const ReportOEEData = await client.service(\"machines\").find({\n          query: {\n            ...query,\n            $reportOEE: {\n              sd: moment(stringStartDate).toDate(),\n              ed: moment(stringEndDate).toDate(),\n            },\n            machineStatusId: lodashGet(\n              client.get(\"config.machine.status.active\"),\n              \"value\"\n            ),\n            $sort: {\n              identity: 1,\n            },\n          },\n        });\n        setAvailabilityData(ReportOEEData.graphAvailability);\n        setQualityData(ReportOEEData.graphQuality);\n        setPerformanceData(ReportOEEData.graphPerformance);\n        setOEEData(ReportOEEData.graphOEE);\n        setActionsData(ReportOEEData.graphActions);\n        setStatsData(ReportOEEData.graphStats);\n        setLoading(false);\n      };\n      asyncGetReportOEEData();\n    }, [\n      client,\n      stringStartDate,\n      stringEndDate,\n      params.plantId,\n      params.machineId,\n    ]),\n    1000\n  );\n  const [getGraphOEEData] = useDebouncedCallback(\n    useCallback(() => {\n      const asyncGetGraphOEEData = async () => {\n        setLoadingGraph(true);\n        const query = {};\n        if (params.plantId) {\n          query.plantId = params.plantId;\n        }\n        if (params.machineId) {\n          query.id = params.machineId;\n        }\n        let sd = moment(stringStartDate);\n        let ed = moment(stringEndDate);\n        if (moment(ed).diff(moment(sd), \"days\") < 7) {\n          sd = moment(ed).subtract(7, \"days\").startOf(\"day\").add(6, \"hours\");\n        }\n        const dates = [];\n        for (let i = 0; i <= moment(ed).diff(moment(sd), \"days\"); i++) {\n          dates.push({\n            sd: moment(sd).add(i, \"days\").startOf(\"day\").add(6, \"hours\"),\n            ed: moment(sd).add(i, \"days\").endOf(\"day\").add(6, \"hours\"),\n          });\n        }\n        const GraphOEEData = await client.service(\"machines\").find({\n          query: {\n            ...query,\n            $reportIndicators: {\n              sd: moment(sd).toDate(),\n              ed: moment(ed).toDate(),\n              dates,\n            },\n            machineStatusId: lodashGet(\n              client.get(\"config.machine.status.active\"),\n              \"value\"\n            ),\n            $sort: {\n              identity: 1,\n            },\n          },\n        });\n        lodashForEach(GraphOEEData.graphIndicators.series, (item) => {\n          item.value = lodashMap(item.value, (v) => (v > 110 ? 110 : v));\n        });\n        setGraphOEEData(GraphOEEData.graphIndicators);\n        setLoadingGraph(false);\n      };\n      asyncGetGraphOEEData();\n    }, [\n      client,\n      stringStartDate,\n      stringEndDate,\n      params.plantId,\n      params.machineId,\n    ]),\n    1000\n  );\n  useEffect(() => {\n    // console.log(\"!!! useEffect getReportOEEData\");\n    if (timeCarousel) {\n      setLoading(true);\n      setTimeout(() => {\n        getReportOEEData();\n      }, timeCarousel * 1000);\n    } else {\n      setLoading(true);\n      getReportOEEData();\n    }\n  }, [getReportOEEData]);\n  useEffect(() => {\n    // console.log(\"!!! useEffect getGraphOEEData\");\n    if (timeCarousel) {\n      setLoadingGraph(true);\n      setTimeout(() => {\n        getGraphOEEData();\n      }, timeCarousel * 1000);\n    } else {\n      setLoadingGraph(true);\n      getGraphOEEData();\n    }\n  }, [getGraphOEEData]);\n  // TODO dependencies startDate.toISOString(), endDate.toISOString(),\n  const graphOEEOptions = {\n    high: 110,\n    low: 0,\n    height: 250,\n    axisX: {\n      showGrid: false,\n    },\n    axisY: {\n      offset: 20,\n      high: 110,\n      low: 0,\n      type: Chartist.FixedScaleAxis,\n      ticks: [0, 20, 40, 60, 80, 100],\n      labelInterpolationFnc: (value) => `${value}%`,\n    },\n    series: {\n      OEE: {\n        showArea: true,\n      },\n    },\n    plugins: [\n      Chartist.plugins.tooltip({\n        appendToBody: true,\n        class: \"gauge-tooltip\",\n        tooltipFnc: (meta, value) =>\n          `${meta ? `${meta} ` : \"\"}${NUMBER_FORMAT(\n            parseFloat(value).toFixed(2)\n          )}`,\n      }),\n    ],\n  };\n  const fillBarColor = {\n    draw: (context) => {\n      if (context.series) {\n        context.element.attr({\n          style: `stroke: ${context.series.bgColor};`,\n        });\n      }\n    },\n  };\n  const urlParams = new URLSearchParams(window.location.search);\n  const sd = urlParams.get(\"sd\");\n  const ed = urlParams.get(\"ed\");\n  useEffect(() => {\n    // console.log(\"~char\", Chartist);\n    if (sd) {\n      setStartDate(moment(sd));\n    }\n    if (ed) {\n      setEndDate(moment(ed));\n    }\n  }, [sd, ed]);\n  return (\n    <Grid\n      container\n      direction=\"column\"\n      spacing={0}\n      className={classes.container}\n    >\n      <Grid item>\n        <Toolbar className={classes.toolbar}>\n          <Typography variant=\"body1\" className={classes.toolbarTitle}>\n            OEE\n          </Typography>\n          <div style={{ flex: 1 }} />\n          <DateFilter\n            date={startDate}\n            setDate={(date) => {\n              setStartDate(moment(date));\n              setEndDate(\n                (moment(date)\n                  .add(6, \"days\")\n                  .isAfter(moment().subtract(1, \"days\"), \"minute\")\n                  ? moment().subtract(1, \"days\")\n                  : moment(date).add(6, \"days\")\n                )\n                  .endOf(\"day\")\n                  .add(6, \"hours\")\n              );\n            }}\n            // minDate={moment(endDate).subtract(30, \"days\")}\n            maxDate={moment(endDate).subtract(1, \"days\")}\n          />\n          <Hidden smDown>\n            <Typography variant=\"body1\" className={classes.toolbarLabel}>\n              até\n            </Typography>\n          </Hidden>\n          <DateFilter\n            isEndDate\n            date={endDate}\n            setDate={setEndDate}\n            minDate={moment(startDate).add(1, \"days\")}\n            maxDate={\n              moment(startDate).add(7, \"days\").isAfter(moment(), \"minute\")\n                ? moment()\n                : moment(startDate).add(7, \"days\")\n            }\n          />\n        </Toolbar>\n      </Grid>\n      <Grid container item spacing={2} className={classes.wrapper}>\n        {/* <Hidden smDown> */}\n        {pathname !== \"/reports/carousel\" && (\n          <Grid item className={classes.tree}>\n            <Paper elevation={4}>\n              <Tree\n                model={{\n                  name: \"plants\",\n                  formPath: \"/reports/production-oee/plant\",\n                  paramsProp: \"plantId\",\n                }}\n                query={{\n                  plantStatusId: lodashGet(\n                    client.get(\"config.plant.status.active\"),\n                    \"value\"\n                  ),\n                  $sort: {\n                    name: 1,\n                  },\n                }}\n                customContent={{\n                  beforeTree: () => (\n                    <Grid item component={Link} to=\"/reports/production-oee\">\n                      <Typography\n                        className={classNames(\n                          {\n                            [classes.treeItemSelected]: !params.plantId,\n                          },\n                          classes.allPlants\n                        )}\n                        variant=\"body1\"\n                      >\n                        TODAS\n                      </Typography>\n                    </Grid>\n                  ),\n                  afterTreeItem: ({ data }) =>\n                    data.id && (\n                      <PlantMachinesList\n                        model={{\n                          ...MachinesModel.metadata,\n                          formPath: \"/reports/production-oee/plant\",\n                          icon: \"style\",\n                        }}\n                        plant={data}\n                      />\n                    ),\n                }}\n              />\n            </Paper>\n          </Grid>\n        )}\n        {/* </Hidden> */}\n        <Grid item className={classes.content}>\n          <Grid item container spacing={2}>\n            <Grid item xs={12} sm={4} className={classes.graphItem}>\n              <div className={classes.graphWrapper}>\n                <Icon className={classes.graphIcon}>donut_large</Icon>\n                <Typography className={classes.graphTitle} variant=\"body1\">\n                  OEE\n                </Typography>\n              </div>\n              {loading && <Loader />}\n              {!loading && <GaugeChart value={oeeData} />}\n            </Grid>\n            <Grid item xs={12} sm={4} className={classes.graphItem}>\n              <div className={classes.graphWrapper}>\n                <Icon className={classes.graphIcon}>view_week</Icon>\n                <Typography className={classes.graphTitle} variant=\"body1\">\n                  Indicadores\n                </Typography>\n              </div>\n              {loading && <Loader />}\n              {!loading && (\n                <React.Fragment>\n                  <Grid item container spacing={2}>\n                    <BarChart text=\"Disponibilidade\" data={availabilityData} />\n                    <BarChart text=\"Qualidade\" data={qualityData} />\n                    <BarChart text=\"Performance\" data={performanceData} />\n                  </Grid>\n                </React.Fragment>\n              )}\n            </Grid>\n            <Grid item xs={12} sm={4} className={classes.graphItem}>\n              <div className={classes.graphWrapper}>\n                <Icon className={classes.graphIcon}>pie_chart</Icon>\n                <Typography className={classes.graphTitle} variant=\"body1\">\n                  Disponibilidade\n                </Typography>\n              </div>\n              {loading && <Loader />}\n              {!loading && (\n                <PieChart\n                  options={{\n                    chartPadding: 20,\n                    labelOffset: 50,\n                    height: 200,\n                  }}\n                  data={actionsData}\n                />\n              )}\n            </Grid>\n            <Grid item xs={12} sm={3} className={classes.graphSidebar}>\n              <Grid item xs={12} className={classes.graphItem}>\n                <div\n                  className={classes.graphItemDetail}\n                  style={{\n                    background: lodashGet(\n                      availabilityData,\n                      \"series.0.0.bgColor\"\n                    ),\n                  }}\n                >\n                  <Typography\n                    className={classes.graphSidebarTitle}\n                    variant=\"body1\"\n                  >\n                    Disponibilidade\n                  </Typography>\n                  <Typography\n                    className={classes.graphDetailTitle}\n                    variant=\"body1\"\n                  >\n                    Tempo Operação:{\" \"}\n                    <span className={classes.graphDetail}>\n                      <NumberFormat\n                        value={\n                          Math.round((statsData.productionTime / 60) * 100) /\n                          100\n                        }\n                        displayType={\"text\"}\n                      />{\" \"}\n                      h{loading && <Loader />}\n                    </span>\n                  </Typography>\n                  <Typography\n                    className={classes.graphDetailTitle}\n                    variant=\"body1\"\n                  >\n                    Tempo Planejado:{\" \"}\n                    <span className={classes.graphDetail}>\n                      <NumberFormat\n                        value={\n                          Math.round((statsData.plannedTime / 60) * 100) / 100\n                        }\n                        displayType={\"text\"}\n                      />{\" \"}\n                      h{loading && <Loader />}\n                    </span>\n                  </Typography>\n                </div>\n              </Grid>\n              <Grid item xs={12} className={classes.graphItem}>\n                <div\n                  className={classes.graphItemDetail}\n                  style={{\n                    background: lodashGet(qualityData, \"series.0.0.bgColor\"),\n                  }}\n                >\n                  <Typography\n                    className={classes.graphSidebarTitle}\n                    variant=\"body1\"\n                  >\n                    Qualidade\n                  </Typography>\n                  <Typography\n                    className={classes.graphDetailTitle}\n                    variant=\"body1\"\n                  >\n                    Prod. Total:{\" \"}\n                    <span className={classes.graphDetail}>\n                      <NumberFormat\n                        value={statsData.totalProductionInEvents}\n                        displayType={\"text\"}\n                        thousandSeparator={\".\"}\n                        decimalSeparator={\",\"}\n                      />\n                      {loading && <Loader />}\n                    </span>\n                  </Typography>\n                  <Typography\n                    className={classes.graphDetailTitle}\n                    variant=\"body1\"\n                  >\n                    Prod. Confirmada:{\" \"}\n                    <span className={classes.graphDetail}>\n                      <NumberFormat\n                        value={statsData.confirmedProductionInEvents}\n                        displayType={\"text\"}\n                        thousandSeparator={\".\"}\n                        decimalSeparator={\",\"}\n                      />\n                      {loading && <Loader />}\n                    </span>\n                  </Typography>\n                  <Typography\n                    className={classes.graphDetailTitle}\n                    variant=\"body1\"\n                  >\n                    Refugo:{\" \"}\n                    <span className={classes.graphDetail}>\n                      <NumberFormat\n                        value={statsData.wastedProductionInEvents}\n                        displayType={\"text\"}\n                        thousandSeparator={\".\"}\n                        decimalSeparator={\",\"}\n                      />\n                      {loading && <Loader />}\n                    </span>\n                  </Typography>\n                </div>\n              </Grid>\n              <Grid item xs={12} className={classes.graphItem}>\n                <div\n                  className={classes.graphItemDetail}\n                  style={{\n                    background: lodashGet(\n                      performanceData,\n                      \"series.0.0.bgColor\"\n                    ),\n                  }}\n                >\n                  <Typography\n                    className={classes.graphSidebarTitle}\n                    variant=\"body1\"\n                  >\n                    Performance\n                  </Typography>\n                  <Typography\n                    className={classes.graphDetailTitle}\n                    variant=\"body1\"\n                  >\n                    Ciclos:{\" \"}\n                    <span className={classes.graphDetail}>\n                      <NumberFormat\n                        value={statsData.readingsInEvents}\n                        displayType={\"text\"}\n                        thousandSeparator={\".\"}\n                        decimalSeparator={\",\"}\n                      />\n                      {loading && <Loader />}\n                    </span>\n                  </Typography>\n                  <Typography\n                    className={classes.graphDetailTitle}\n                    variant=\"body1\"\n                  >\n                    Ciclo Ideal:{\" \"}\n                    <span className={classes.graphDetail}>\n                      <NumberFormat\n                        value={statsData.idealCycle}\n                        displayType={\"text\"}\n                        thousandSeparator={\".\"}\n                        decimalSeparator={\",\"}\n                      />{\" \"}\n                      s{loading && <Loader />}\n                    </span>\n                  </Typography>\n                  <Typography\n                    className={classes.graphDetailTitle}\n                    variant=\"body1\"\n                  >\n                    Ciclo Real:{\" \"}\n                    <span className={classes.graphDetail}>\n                      <NumberFormat\n                        value={statsData.realCycleInEvents}\n                        displayType={\"text\"}\n                        thousandSeparator={\".\"}\n                        decimalSeparator={\",\"}\n                      />{\" \"}\n                      s{loading && <Loader />}\n                    </span>\n                  </Typography>\n                </div>\n              </Grid>\n            </Grid>\n            <Grid item xs={12} sm={9} className={classes.graphItem}>\n              {/* <div className={classes.graphWrapper}>\n                <Icon className={classes.graphIcon}>view_week</Icon>\n                <Typography className={classes.graphTitle} variant=\"body1\">\n                  Indicadores\n                </Typography>\n              </div> */}\n              {loadingGraph && <Loader />}\n              {!loadingGraph && (\n                <React.Fragment>\n                  <Paper className={classes.legend}>\n                    {lodashMap(\n                      [\"Disponibilidade\", \"Qualidade\", \"Performance\", \"OEE\"],\n                      (legend, index) => (\n                        <div key={index} className={classes.titleLegend}>\n                          <i\n                            className={classes.iconLegend}\n                            style={{\n                              background: lodashGet(\n                                graphOEEData,\n                                `series.${index}.bgColor`\n                              ),\n                            }}\n                          />{\" \"}\n                          {legend}\n                        </div>\n                      )\n                    )}\n                  </Paper>\n                  <ChartistGraph\n                    type=\"Line\"\n                    className=\"ct-indicators\"\n                    data={graphOEEData}\n                    options={graphOEEOptions}\n                    listener={fillBarColor}\n                    style={{ padding: theme.spacing(2) }}\n                  />\n                </React.Fragment>\n              )}\n            </Grid>\n          </Grid>\n        </Grid>\n      </Grid>\n    </Grid>\n  );\n};\n\nexport default withRouter(\n  withStyles(styles, { withTheme: true })(ProductionOEE)\n);\n","import React, { useContext } from \"react\";\nimport Slider from \"react-slick\";\nimport { withStyles, getPermissions, useAuth, useFindService, lodashMap, lodashFill, lodashGet } from \"../../utils\";\nimport ProductionPage from \"./production\";\nimport ProductionHistoryPage from \"./production-history\";\nimport ProductionOEEPage from \"./production-oee\";\nimport ApiContext from '../../api';\nimport \"./slick.min.css\";\nimport \"./slick-theme.min.css\";\n\nconst styles = theme => ({\n  container: {\n    width: \"100%\",\n    height: \"100%\",\n    position: \"absolute\",\n    top: 0,\n    left: 0,\n    zIndex: 9999,\n    background: \"white\",\n    padding: 0,\n    \"&>div\": {\n      height: \"100%\",\n      \"&>div\": {\n        height: \"100%\",\n        \"&>div\": {\n          height: \"100%\",\n          \"&>div\": {\n            height: \"100%\",\n            \"&>div\": {\n              height: \"100%\"\n            }\n          }\n        }\n      }\n    }\n  },\n  wrapper: {\n    pointerEvents: \"none\",\n    height: \"100%\",\n    \"&>div\": {\n      padding: \"24px 24px\"\n    }\n  }\n});\n\nconst CarouselPage = ({ classes }) => {\n\n  const client = useContext(ApiContext);\n\n  const { permissions } = useAuth();\n\n  const { list: listMachines } = useFindService({\n    model: \"machines\",\n    query: {\n      machineStatusId: lodashGet(\n        client.get(\"config.machine.status.active\"),\n        \"value\"\n      )\n    }\n  })\n\n  const hasProductionOrdersAccess = getPermissions({\n    privileges: [\n      \"readProductionOrders\",\n      \"writeActiveProductionOrders\",\n      \"writeScheduledStopProductionOrders\",\n      \"writeProductionOrderEvents\"\n    ],\n    permissions\n  });\n  const hasReportsAccess = getPermissions({\n    privileges: [\"readProductionOrderReports\"],\n    permissions\n  });\n\n  const totalPages = (total) => {\n    return Math.ceil(listMachines.length / total);\n  }\n\n  let pagesProduction = new Array(totalPages(8))\n  lodashFill(pagesProduction, 1, 0, totalPages(8))\n\n  let pagesProductionHistory = new Array(totalPages(7))\n  lodashFill(pagesProductionHistory, 1, 0, totalPages(7))\n\n  return (\n    <div className={classes.container}>\n      <Slider\n        {...{\n          dots: false,\n          infinite: true,\n          autoplay: true,\n          autoplaySpeed: 15 * 1000,\n          speed: 500,\n          slidesToShow: 1,\n          slidesToScroll: 1\n        }}\n      >\n        {hasReportsAccess && (\n          lodashMap(pagesProductionHistory, (pageProductionHistory, index) =>\n            <div className={classes.wrapper} key={index}>\n              <ProductionHistoryPage timeCarousel={10} offset={7 * index} limit={7} />\n            </div>\n          )\n        )}\n        {hasReportsAccess && (\n          <div className={classes.wrapper}>\n            <ProductionOEEPage timeCarousel={20} />\n          </div>\n        )}\n        {hasProductionOrdersAccess && (\n          lodashMap(pagesProduction, (pageProduction, index) =>\n            <div className={classes.wrapper} key={index}>\n              <ProductionPage offset={8 * index} limit={8} />\n            </div>\n          )\n        )}\n      </Slider>\n    </div>\n  );\n};\n\nexport default withStyles(styles, { withTheme: true })(CarouselPage);\n","import React from \"react\";\nimport { Switch } from \"react-router-dom\";\nimport DashboardPage from \"./\";\nimport ReportsPage from \"./index2\";\nimport ProductionPage from \"./production\";\nimport ProductionOrderPage from \"./production/production-order\";\nimport ProductionWastePage from \"./production-waste\";\nimport ProductionReportPage from \"./production-report\";\nimport ProductionHistoryPage from \"./production-history\";\nimport CarouselPage from \"./CarouselPage\";\nimport ProductionOEEPage from \"./production-oee\";\nimport UnderConstructionPage from \"../under-construction\";\nimport { ClientRoute } from \"../../components\";\n\nconst MasterDataRoutes = () => (\n  <React.Fragment>\n    <Switch>\n      <ClientRoute\n        exact\n        path=\"/reports/carousel\"\n        permissions={[\n          \"readProductionOrders\",\n          \"readProductionOrderReports\",\n          \"writeActiveProductionOrders\",\n          \"writeScheduledStopProductionOrders\",\n          \"writeProductionOrderEvents\"\n        ]}\n        component={CarouselPage}\n      />\n      <ClientRoute\n        exact\n        path=\"/dashboard\"\n        permissions={[\n          \"readProductionOrders\",\n          \"readProductionOrderReports\",\n          \"writeActiveProductionOrders\",\n          \"writeScheduledStopProductionOrders\",\n          \"writeProductionOrderEvents\"\n        ]}\n        component={DashboardPage}\n      />\n      <ClientRoute\n        exact\n        path=\"/reports\"\n        permissions={[\"readProductionOrderReports\"]}\n        component={ReportsPage}\n      />\n      <ClientRoute\n        exact\n        path=\"/dashboard/production\"\n        permissions={[\n          \"readProductionOrders\",\n          \"writeActiveProductionOrders\",\n          \"writeScheduledStopProductionOrders\",\n          \"writeProductionOrderEvents\"\n        ]}\n        component={ProductionPage}\n      />\n      <ClientRoute\n        exact\n        path=\"/dashboard/production/:machineId/order/:productionOrderId\"\n        permissions={[\n          \"readProductionOrders\",\n          \"writeActiveProductionOrders\",\n          \"writeScheduledStopProductionOrders\",\n          \"writeProductionOrderEvents\"\n        ]}\n        component={ProductionOrderPage}\n      />\n      <ClientRoute\n        exact\n        path=\"/dashboard/production-waste\"\n        permissions={[\"readPendingWaste\", \"writePendingWaste\", \"editPendingWaste\"]}\n        component={ProductionWastePage}\n      />\n      <ClientRoute\n        exact\n        path=\"/dashboard/production-waste/:machineId/order/:productionOrderId\"\n        permissions={[\"readPendingWaste\", \"writePendingWaste\", \"editPendingWaste\"]}\n        component={ProductionWastePage}\n      />\n      <ClientRoute\n        exact\n        path=\"/dashboard/production-history\"\n        permissions={[\"readProductionOrderReports\"]}\n        component={ProductionHistoryPage}\n      />\n      <ClientRoute\n        exact\n        path=\"/reports/production-report\"\n        permissions={[\"readProductionOrderReports\"]}\n        component={ProductionReportPage}\n      />\n      <ClientRoute\n        exact\n        path=\"/reports/production-oee\"\n        permissions={[\"readProductionOrderReports\"]}\n        component={ProductionOEEPage}\n      />\n      <ClientRoute\n        exact\n        path=\"/reports/production-oee/plant/:plantId\"\n        permissions={[\"readProductionOrderReports\"]}\n        component={ProductionOEEPage}\n      />\n      <ClientRoute\n        exact\n        path=\"/reports/production-oee/plant/:plantId/machine/:machineId\"\n        permissions={[\"readProductionOrderReports\"]}\n        component={ProductionOEEPage}\n      />\n      <ClientRoute default component={UnderConstructionPage} />\n    </Switch>\n  </React.Fragment>\n);\n\nexport default MasterDataRoutes;\n","import { withAdministrationPage } from \"../../components\";\n\nconst actions = [\n  {\n    name: \"Domínios do Sistema\",\n    icon: \"domain\",\n    actions: [\n      {\n        name: \"Cores\",\n        href: \"/sysadmin/master-data/colors\"\n      },\n      {\n        name: \"Unidades de Medida\",\n        href: \"/sysadmin/master-data/measurement-units\"\n      },\n      {\n        name: \"Perfis\",\n        href: \"/sysadmin/master-data/roles\"\n      },\n      {\n        name: \"Status de Clientes\",\n        href: \"/sysadmin/master-data/company-statuses\"\n      },\n      {\n        name: \"Status de Funções do Usuário\",\n        href: \"/sysadmin/master-data/role-statuses\"\n      },\n      {\n        name: \"Status de Usuários\",\n        href: \"/sysadmin/master-data/user-statuses\"\n      }\n    ]\n  },\n  {\n    name: \"Domínios de OP\",\n    icon: \"assessment\",\n    actions: [\n      {\n        name: \"Status de Locais\",\n        href: \"/sysadmin/master-data/plant-statuses\"\n      },\n      {\n        name: \"Status de Ordem de Produção\",\n        href: \"/sysadmin/master-data/production-order-statuses\"\n      },\n      {\n        name: \"Tipos de Eventos de Ordem de Produção\",\n        href: \"/sysadmin/master-data/production-order-action-types\"\n      }\n    ]\n  },\n  {\n    name: \"Domínios de Máquinas\",\n    icon: \"build\",\n    actions: [\n      {\n        name: \"Status de Máquinas\",\n        href: \"/sysadmin/master-data/machine-statuses\"\n      }\n    ]\n  },\n  {\n    name: \"Domínios de Moldes\",\n    icon: \"broken_image\",\n    actions: [\n      {\n        name: \"Status de Moldes\",\n        href: \"/sysadmin/master-data/mold-statuses\"\n      }\n    ]\n  },\n  {\n    name: \"Domínios de Produtos\",\n    icon: \"style\",\n    actions: [\n      {\n        name: \"Status de Produtos\",\n        href: \"/sysadmin/master-data/product-statuses\"\n      }\n    ]\n  },\n  {\n    name: \"Domínios de Sensores\",\n    icon: \"memory\",\n    actions: [\n      {\n        name: \"Status de Sensores\",\n        href: \"/sysadmin/master-data/sensor-statuses\"\n      }\n    ]\n  },\n  {\n    name: \"Domínios de Tickets\",\n    icon: \"memory\",\n    actions: [\n      {\n        name: \"Status de Ticket\",\n        href: \"/sysadmin/master-data/ticket-statuses\"\n      }\n    ]\n  }\n];\n\nconst SysAdminPage = () => withAdministrationPage({ actions });\n\nexport default SysAdminPage;\n","export const form = [\n  {\n    text: \"Nome\",\n    identity: \"name\",\n    required: true,\n    type: \"string\"\n  },\n  {\n    text: \"Descrição\",\n    identity: \"description\",\n    type: \"string\"\n  },\n  {\n    text: \"Tabela\",\n    identity: \"model\",\n    enum: [\n      \"measurement_units\",\n      \"machine_statuses\",\n      \"mold_statuses\",\n      \"product_statuses\",\n      \"sensor_statuses\",\n      \"production_order_statuses\"\n    ]\n  },\n  {\n    text: \"Valor\",\n    identity: \"value\",\n    type: \"string\",\n    model: {\n      this: \"model\"\n    }\n  }\n];\n\nexport const metadata = {\n  name: \"configs\"\n};\n\nexport default { metadata, form };\n","import React, { useState, useEffect } from \"react\";\nimport * as lodashGet from \"lodash.get\";\nimport * as lodashMap from \"lodash.map\";\nimport classNames from \"classnames\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport Icon from \"@material-ui/core/Icon\";\nimport NotFound from \"../../../components/not-found\";\nimport Loader from \"../../../components/loader\";\nimport Errors from \"../../../components/errors\";\nimport FormInput from \"../../../components/master-data-form/FormInput\";\n// import MasterTableRow from \"./TableRow\";\nimport { metadata, form as fields } from \"./model\";\n// TODO move to utils\nimport useFindDeleteService from \"../../../utils/useFindDeleteService\";\nimport useUpsertService from \"../../../utils/useUpsertService\";\n\nconst styles = theme => ({\n  table: {\n    width: \"100%\"\n  },\n  header: {\n    backgroundColor: theme.palette.common.black,\n    color: theme.palette.common.white,\n    \"& p,&>a span\": {\n      color: theme.palette.common.white\n    }\n  },\n  button: {\n    padding: theme.spacing(1)\n  },\n  newButton: {\n    color: theme.palette.primary.main\n  },\n  deleteButton: {\n    color: theme.palette.primary.delete\n  }\n});\n\nconst ConfigsPage = ({ classes }) => {\n  const [data, setData] = useState({});\n  const { list, handleDelete, deleteLoading, findLoading, errors } = useFindDeleteService({\n    model: metadata.name,\n    reload: data\n  });\n  const {\n    formItem,\n    newItem,\n    handleChange,\n    handleSubmit,\n    loading: upsertLoading\n    // TODO add loader for FOrm errors and loader\n  } = useUpsertService({\n    model: metadata.name,\n    data,\n    // hooks: {\n    //   afterHooks: [resetForm]\n    // },\n    fields\n  });\n  // TODO implement as afterSubmit\n  useEffect(() => {\n    setData({});\n  }, [newItem]);\n  const loading = deleteLoading || findLoading || upsertLoading;\n  const empty = !findLoading && !errors && list.length === 0;\n  return (\n    // TODO add reload!!\n    <Table className={classes.table}>\n      <TableHead>\n        <TableRow>\n          {lodashMap(fields, ({ text }) => (\n            <TableCell key={text} className={classes.header}>\n              <Typography variant=\"body1\">{text}</Typography>\n            </TableCell>\n          ))}\n          <TableCell className={classes.header} />\n        </TableRow>\n      </TableHead>\n      <TableBody>\n        <TableRow>\n          {lodashMap(fields, row => (\n            <TableCell key={row.text}>\n              <FormInput row={row} formItem={formItem} handleChange={handleChange} />\n            </TableCell>\n          ))}\n          <TableCell>\n            <Tooltip title=\"Criar\">\n              <IconButton\n                aria-label=\"Criar\"\n                className={classNames(classes.button, classes.newButton)}\n                onClick={handleSubmit}\n              >\n                <Icon>add_icon</Icon>\n              </IconButton>\n            </Tooltip>\n          </TableCell>\n        </TableRow>\n        {(loading || errors || empty) && (\n          <TableRow className={classes.row}>\n            <TableCell colSpan={fields.length + 1}>\n              {loading && <Loader />}\n              {errors && <Errors errors={errors} />}\n              {empty && <NotFound />}\n            </TableCell>\n          </TableRow>\n        )}\n        {!findLoading &&\n          lodashMap(list, item => (\n            <TableRow key={item.id}>\n              {lodashMap(fields, row => (\n                <TableCell key={row.text}>\n                  <Typography variant=\"body2\">{lodashGet(item, row.identity)}</Typography>\n                </TableCell>\n              ))}\n              <TableCell>\n                <Tooltip title=\"Deletar\">\n                  <IconButton\n                    aria-label=\"Deletar\"\n                    className={classNames(classes.button, classes.deleteButton)}\n                    onClick={handleDelete(item)}\n                  >\n                    <Icon>delete</Icon>\n                  </IconButton>\n                </Tooltip>\n              </TableCell>\n            </TableRow>\n          ))}\n      </TableBody>\n    </Table>\n  );\n};\n\nexport default withStyles(styles, { withTheme: true })(ConfigsPage);\n","import React, { useContext } from \"react\";\nimport { Grid } from \"@material-ui/core\";\nimport ApiContext from \"../../../api\";\nimport { withRouter, withStyles, lodashGet } from \"../../../utils\";\nimport Button from \"../../../components/buttons\";\n\nconst styles = theme => ({});\n\nconst CustomActions = withRouter(\n  withStyles(styles, { withTheme: true })(({ history, classes, data = {} }) => {\n    const client = useContext(ApiContext);\n    const archiveStatus = lodashGet(client.get(\"config.sensor.status.archived\"), \"value\");\n    const handleArchive = async () => {\n      await client.service(\"sensors\").patch(data.id, {\n        identity: `${data.identity}-ARQ${Date.now()}`,\n        sensorStatusId: archiveStatus,\n        companyId: null\n      });\n      const newSensor = await client.service(\"sensors\").create({\n        barcode: data.barcode,\n        identity: data.identity,\n        sensorStatusId: data.sensorStatusId\n      });\n      history.push(`/sysadmin/sensors/${newSensor.id}`);\n    };\n    const handleSync = async () => {\n      // const request = new URL(`http://localhost:3030/sync_sensor`);\n      const request = new URL(`http://${data.identity}.local:3030/sync_sensor`);\n      const params = { sensorUUID: data.uuid, companyUUID: lodashGet(data, \"company.uuid\") };\n      request.search = new URLSearchParams(params);\n      const response = await (await fetch(request)).json();\n      if (response.status === \"OK\") {\n        alert(\"SYNC DONE!\");\n      }\n    };\n    return (\n      <React.Fragment>\n        {data.id && data.sensorStatusId !== archiveStatus && data.companyId && (\n          <Grid item>\n            <Button text=\"Arquivar\" icon=\"archive\" onClick={handleArchive} />\n          </Grid>\n        )}\n        {data.id && data.sensorStatusId !== archiveStatus && data.companyId && (\n          <Grid item>\n            <Button text=\"Sync\" icon=\"sync\" onClick={handleSync} />\n          </Grid>\n        )}\n      </React.Fragment>\n    );\n  })\n);\n\nexport default CustomActions;\n","import React from \"react\";\nimport { withStyles, useStatusSensor } from \"../../../utils\";\n\nconst styles = theme => ({\n  status: {\n    marginLeft: 20,\n    height: 30,\n    width: 30,\n    borderRadius: \"50%\"\n  }\n});\n\nconst SensorStatus = withStyles(styles, { withTheme: true })(({ classes, data = {} }) => {\n  const { status } = useStatusSensor({ ip: data.ip });\n  return (\n    <div\n      className={classes.status}\n      style={{\n        background: status\n      }}\n    />\n  );\n});\n\nexport default SensorStatus;\n","import React, { useContext, useState, useEffect } from \"react\";\nimport moment from \"moment\";\nimport ApiContext from \"../../../api\";\nimport { withStyles, lodashGet, getEventType, getColor } from \"../../../utils\";\n\nconst styles = theme => ({\n  status: {\n    marginLeft: 20,\n    height: 30,\n    width: 30,\n    borderRadius: \"50%\"\n  }\n});\n\nconst EventStatus = withStyles(styles, { withTheme: true })(({ classes, data = {} }) => {\n  const client = useContext(ApiContext);\n  const activeEventType = getEventType({ client, type: \"active\" });\n  const noScheduledStopEventType = getEventType({ client, type: \"noScheduledStop\" });\n  const scheduledStopEventType = getEventType({ client, type: \"scheduledStop\" });\n  const activeColor = getColor({\n    data: client.get(`actionType.${activeEventType}`),\n    path: \"color\"\n  });\n  const noScheduledStopColor = getColor({\n    data: client.get(`actionType.${noScheduledStopEventType}`),\n    path: \"color\"\n  });\n  const scheduledStopColor = getColor({\n    data: client.get(`actionType.${scheduledStopEventType}`),\n    path: \"color\"\n  });\n  const [status, setStatus] = useState(scheduledStopColor);\n  useEffect(() => {\n    const getStatusEvent = async () => {\n      const { data: events } = await client.service(\"production_order_events\").find({\n        query: {\n          si: data.id,\n          \"r.0\": { $exists: true },\n          sd: {\n            $gte: moment()\n              .startOf(\"day\")\n              .toDate()\n          },\n          $sort: {\n            sd: -1\n          },\n          $limit: 1\n        }\n      });\n      if (!events.length) {\n        return setStatus(scheduledStopColor);\n      }\n      const eventDiff = moment().diff(moment(lodashGet(events, \"0.ed\")), \"minutes\");\n      if (eventDiff > 30) {\n        return setStatus(scheduledStopColor);\n      } else if (eventDiff > 15) {\n        return setStatus(noScheduledStopColor);\n      } else {\n        return setStatus(activeColor);\n      }\n    };\n    getStatusEvent();\n  }, [client, data.id, activeColor, noScheduledStopColor, scheduledStopColor]);\n  return (\n    <div\n      className={classes.status}\n      style={{\n        background: status\n      }}\n    />\n  );\n});\n\nexport default EventStatus;\n","import React from \"react\";\nimport moment from \"moment\";\nimport { lodashGet } from \"../../../utils\";\nimport CustomActions from \"./CustomActions\";\nimport SensorStatus from \"./SensorStatus\";\nimport EventStatus from \"./EventStatus\";\n\nexport const list = [\n  {\n    text: \"Eventos\",\n    identity: \"statusEvents\",\n    customContent: { dontFilter: true },\n    customData: ({ ...props }) => <EventStatus {...props} />\n  },\n  {\n    text: \"Online\",\n    identity: \"statusSensor\",\n    customContent: { dontFilter: true },\n    customData: ({ ...props }) => <SensorStatus {...props} />\n  },\n  {\n    text: \"Cliente\",\n    identity: \"company.fantasyName\",\n    model: {\n      service: \"companies\",\n      identity: \"companyId\",\n      customName: ({ data = {} }) => data.fantasyName\n    }\n  },\n  {\n    text: \"Cod Sensor\",\n    identity: \"identity\",\n    filter: {\n      type: \"string\"\n    }\n  },\n  {\n    text: \"UUID\",\n    identity: \"uuid\",\n    filter: {\n      type: \"string\"\n    }\n  },\n  {\n    text: \"IP\",\n    identity: \"ip\",\n    filter: {\n      type: \"string\"\n    }\n  },\n  {\n    text: \"Status\",\n    identity: \"sensor_status.name\",\n    model: {\n      service: \"sensor_statuses\",\n      identity: \"sensorStatusId\"\n    }\n  }\n];\n\nexport const form = [\n  [\n    {\n      text: \"UUID\",\n      identity: \"uuid\",\n      variants: \"display fullWidth\",\n      readOnly: true,\n      show: {\n        ifThis: \"id\"\n      },\n      type: \"string\"\n    }\n  ],\n  [\n    {\n      text: \"Cod Barra\",\n      identity: \"barcode\",\n      type: \"string\"\n    },\n    {\n      text: \"Cod Sensor\",\n      identity: \"identity\",\n      autoFocus: true,\n      required: true,\n      type: \"string\"\n    },\n    {\n      text: \"Status\",\n      identity: \"sensorStatusId\",\n      required: true,\n      model: \"sensor_statuses\",\n      defaultValue: {\n        config: \"sensor.status.init\"\n      }\n    }\n  ],\n  [\n    {\n      text: \"Cliente\",\n      identity: \"companyId\",\n      type: \"string\",\n      model: {\n        service: \"companies\",\n        customContent: { queryField: \"fantasyName\" },\n        customName: ({ data = {} }) => (data ? data.fantasyName : \"\")\n      }\n    }\n  ],\n  [\n    {\n      text: \"MAC\",\n      identity: \"mac\",\n      variants: \"display\",\n      readOnly: true,\n      show: {\n        ifThis: \"id\"\n      },\n      type: \"string\"\n    },\n    {\n      text: \"IP\",\n      identity: \"ip\",\n      variants: \"display\",\n      readOnly: true,\n      show: {\n        ifThis: \"id\"\n      },\n      type: \"string\"\n    },\n    {\n      text: \"Data Edicão\",\n      identity: \"updateDate\",\n      readOnly: true,\n      show: {\n        ifThis: \"id\"\n      },\n      type: \"string\",\n      defaultValue: {\n        // TODO a more direct way to format value\n        customValue: async ({ data = {}, field, handleChange }) => {\n          const date = moment(lodashGet(data, \"updatedAt\")).format(\"DD/MM/YYYY HH:mm\");\n          handleChange({\n            target: { name: field.identity, value: date }\n          });\n        }\n      }\n    }\n  ]\n];\n\nexport const links = [\n  {\n    text: \"Sensores\",\n    href: \"/sysadmin/sensors\"\n  }\n];\n\nexport const metadata = {\n  name: \"sensors\",\n  icon: \"memory\",\n  listPath: \"/sysadmin/sensors\",\n  formPath: \"/sysadmin/sensors\",\n  paramsProp: \"sensorId\",\n  newItemText: \"Novo Sensor\"\n};\n\nexport default {\n  metadata,\n  list,\n  form,\n  links,\n  query: {\n    $sort: { identity: 1 }\n  },\n  customContent: {\n    customBreadCrumbsName: ({ data = {} }) =>\n      `${data.identity ? `${data.identity} - ` : \"\"}${data.name}`\n  },\n  // TODO ALL to data = {}\n  customActions: ({ isForm, ...props }) => isForm && <CustomActions {...props} />\n};\n","import React from \"react\";\nimport { withStyles, getColor } from \"../../../utils\";\n\nconst styles = theme => ({\n  color: {\n    marginLeft: 20,\n    height: 30,\n    width: 30,\n    borderRadius: \"50%\"\n  }\n});\n\nconst Color = withStyles(styles, { withTheme: true })(({ classes, data = {} }) => (\n  <div\n    className={classes.color}\n    style={{\n      background: getColor({\n        data: { data },\n        path: \"data\"\n      })\n    }}\n  />\n));\n\nexport default Color;\n","import React from \"react\";\nimport Color from \"./Color\";\n\nexport const list = [\n  {\n    text: \"Nome\",\n    identity: \"name\",\n    filter: {\n      type: \"string\"\n    }\n  },\n  {\n    text: \"Descrição\",\n    identity: \"description\",\n    filter: {\n      type: \"string\"\n    }\n  },\n  {\n    text: \"Cor\",\n    identity: \"color\",\n    customData: ({ ...props }) => <Color {...props} />\n  },\n  {\n    text: \"Cod RGB\",\n    identity: \"rgb\",\n    filter: {\n      type: \"string\"\n    }\n  },\n  {\n    text: \"Cod HSV\",\n    identity: \"hsv\",\n    filter: {\n      type: \"string\"\n    }\n  },\n  {\n    text: \"Cod HEX\",\n    identity: \"hex\",\n    filter: {\n      type: \"string\"\n    }\n  }\n];\n\nexport const form = [\n  [\n    {\n      text: \"Nome\",\n      identity: \"name\",\n      autoFocus: true,\n      required: true,\n      type: \"string\"\n    },\n    {\n      text: \"Descrição\",\n      identity: \"description\",\n      type: \"string\"\n    }\n  ],\n  [\n    {\n      text: \"Cod RGB\",\n      identity: \"rgb\",\n      type: \"string\"\n    },\n    {\n      text: \"Cod HSV\",\n      identity: \"hsv\",\n      type: \"string\"\n    },\n    {\n      text: \"Cod HEX\",\n      identity: \"hex\",\n      type: \"string\"\n    }\n  ]\n];\n\nexport const links = [\n  {\n    text: \"Cadastros\",\n    href: \"/sysadmin/master-data\"\n  },\n  {\n    text: \"Cores\",\n    href: \"/sysadmin/master-data/colors\"\n  }\n];\n\nexport const metadata = {\n  name: \"colors\",\n  listPath: \"/sysadmin/master-data/colors\",\n  formPath: \"/sysadmin/master-data/colors\",\n  paramsProp: \"colorId\",\n  newItemText: \"Novo Cor\"\n};\n\nexport default {\n  metadata,\n  list,\n  form,\n  links,\n  query: {\n    $sort: { name: 1 }\n  }\n};\n","export const list = [\n  {\n    text: \"Nome\",\n    identity: \"name\",\n    filter: {\n      type: \"string\"\n    }\n  },\n  {\n    text: \"Descrição\",\n    identity: \"description\",\n    filter: {\n      type: \"string\"\n    }\n  },\n  {\n    text: \"Tipo\",\n    identity: \"type\",\n    filter: {\n      type: \"string\"\n    }\n  }\n];\n\nexport const form = [\n  [\n    {\n      text: \"Nome\",\n      identity: \"name\",\n      autoFocus: true,\n      required: true,\n      type: \"string\"\n    },\n    {\n      text: \"Descrição\",\n      identity: \"description\",\n      type: \"string\"\n    },\n    {\n      text: \"Tipo\",\n      identity: \"type\",\n      required: true,\n      // TODO FIX DROPDOWN FOR ENUM\n      enum: [\"distance\", \"force\", \"frequency\", \"mass\", \"quantity\", \"temperature\", \"time\", \"other\"]\n    }\n  ]\n];\n\nexport const links = [\n  {\n    text: \"Cadastros\",\n    href: \"/sysadmin/master-data\"\n  },\n  {\n    text: \"Unidades de Medida\",\n    href: \"/sysadmin/master-data/measurement-units\"\n  }\n];\n\nexport const metadata = {\n  name: \"measurement_units\",\n  listPath: \"/sysadmin/master-data/measurement-units\",\n  formPath: \"/sysadmin/master-data/measurement-units\",\n  paramsProp: \"measurementUnitId\",\n  newItemText: \"Nova Unidade de Medida\"\n};\n\nexport default { metadata, list, form, links };\n","export const list = [\n  {\n    text: \"Nome\",\n    identity: \"name\",\n    filter: {\n      type: \"string\"\n    }\n  },\n  {\n    text: \"Descrição\",\n    identity: \"description\",\n    filter: {\n      type: \"string\"\n    }\n  }\n];\n\nexport const form = [\n  [\n    {\n      text: \"Nome\",\n      identity: \"name\",\n      autoFocus: true,\n      required: true,\n      type: \"string\"\n    },\n    {\n      text: \"Descrição\",\n      identity: \"description\",\n      type: \"string\"\n    }\n  ]\n];\n\nexport const links = [\n  {\n    text: \"Cadastros\",\n    href: \"/sysadmin/master-data\"\n  },\n  {\n    text: \"Status de Locais\",\n    href: \"/sysadmin/master-data/plant-statuses\"\n  }\n];\n\nexport const metadata = {\n  name: \"plant_statuses\",\n  listPath: \"/sysadmin/master-data/plant-statuses\",\n  formPath: \"/sysadmin/master-data/plant-statuses\",\n  paramsProp: \"plantStatusId\",\n  newItemText: \"Novo Status de Local\"\n};\n\nexport default { metadata, list, form, links };\n","export const list = [\n  {\n    text: \"Nome\",\n    identity: \"name\",\n    filter: {\n      type: \"string\"\n    }\n  },\n  {\n    text: \"Descrição\",\n    identity: \"description\",\n    filter: {\n      type: \"string\"\n    }\n  }\n];\n\nexport const form = [\n  [\n    {\n      text: \"Nome\",\n      identity: \"name\",\n      autoFocus: true,\n      required: true,\n      type: \"string\"\n    },\n    {\n      text: \"Descrição\",\n      identity: \"description\",\n      type: \"string\"\n    }\n  ]\n];\n\nexport const links = [\n  {\n    text: \"Cadastros\",\n    href: \"/sysadmin/master-data\"\n  },\n  {\n    text: \"Status de Ordem de Produção\",\n    href: \"/sysadmin/master-data/production-order-statuses\"\n  }\n];\n\nexport const metadata = {\n  name: \"production_order_statuses\",\n  listPath: \"/sysadmin/master-data/production-order-statuses\",\n  formPath: \"/sysadmin/master-data/production-order-statuses\",\n  paramsProp: \"productionOrderStatusId\",\n  newItemText: \"Novo Status de Ordem de Produção\"\n};\n\nexport default { metadata, list, form, links };\n","import React from \"react\";\nimport { withStyles, getColor } from \"../../../utils\";\n\nconst styles = theme => ({\n  color: {\n    marginLeft: 20,\n    height: 30,\n    width: 30,\n    borderRadius: \"50%\"\n  }\n});\n\nconst Color = withStyles(styles, { withTheme: true })(({ classes, data = {} }) => (\n  <div\n    className={classes.color}\n    style={{\n      background: getColor({\n        data,\n        path: \"color\"\n      })\n    }}\n  />\n));\n\nexport default Color;\n","import eCompaniesModel from \"./companies/model\";\nimport eSensorsModel from \"./sensors/model\";\nimport eColorsModel from \"./colors/model\";\nimport eMeasurementUnitsModel from \"./measurement-units/model\";\nimport ePlantStatusesModel from \"./plant-statuses/model\";\nimport eProductionOrderStatusesModel from \"./production-order-statuses/model\";\nimport eProductionOrderActionTypesModel from \"./production-order-action-types/model\";\nimport eCompanyStatusesModel from \"./company-statuses/model\";\nimport eMachineStatusesModel from \"./machine-statuses/model\";\nimport eMoldStatusesModel from \"./mold-statuses/model\";\nimport eProductStatusesModel from \"./product-statuses/model\";\nimport eSensorStatusesModel from \"./sensor-statuses/model\";\nimport eRolesModel from \"./roles/model\";\nimport eRoleStatusesModel from \"./role-statuses/model\";\nimport eUserStatusesModel from \"./user-statuses/model\";\nimport eTicketStatusesModel from \"./ticket-statuses/model\";\n\nexport const CompaniesModel = eCompaniesModel;\nexport const SensorsModel = eSensorsModel;\nexport const ColorsModel = eColorsModel;\nexport const MeasurementUnitsModel = eMeasurementUnitsModel;\nexport const PlantStatusesModel = ePlantStatusesModel;\nexport const ProductionOrderStatusesModel = eProductionOrderStatusesModel;\nexport const ProductionOrderActionTypesModel = eProductionOrderActionTypesModel;\nexport const CompanyStatusesModel = eCompanyStatusesModel;\nexport const MachineStatusesModel = eMachineStatusesModel;\nexport const MoldStatusesModel = eMoldStatusesModel;\nexport const ProductStatusesModel = eProductStatusesModel;\nexport const SensorStatusesModel = eSensorStatusesModel;\nexport const RolesModel = eRolesModel;\nexport const RoleStatusesModel = eRoleStatusesModel;\nexport const UserStatusesModel = eUserStatusesModel;\nexport const TicketStatusesModel = eTicketStatusesModel;\n","import React from \"react\";\nimport Color from \"./Color\";\n\nexport const list = [\n  {\n    text: \"Nome\",\n    identity: \"name\",\n    filter: {\n      type: \"string\"\n    }\n  },\n  {\n    text: \"Descrição\",\n    identity: \"description\",\n    filter: {\n      type: \"string\"\n    }\n  },\n  {\n    text: \"Cor\",\n    identity: \"color\",\n    model: {\n      service: \"colors\",\n      identity: \"colorId\"\n    },\n    customData: ({ ...props }) => <Color {...props} />\n  }\n];\n\nexport const form = [\n  [\n    {\n      text: \"Nome\",\n      identity: \"name\",\n      autoFocus: true,\n      required: true,\n      type: \"string\"\n    },\n    {\n      text: \"Descrição\",\n      identity: \"description\",\n      type: \"string\"\n    }\n  ],\n  [\n    {\n      text: \"Cor\",\n      identity: \"colorId\",\n      required: true,\n      model: \"colors\"\n    },\n    {\n      text: \"Evento do Sistema\",\n      identity: \"isSystemEvent\",\n      type: \"boolean\"\n    }\n  ]\n];\n\nexport const links = [\n  {\n    text: \"Cadastros\",\n    href: \"/sysadmin/master-data\"\n  },\n  {\n    text: \"Tipos de Eventos de Ordem de Produção\",\n    href: \"/sysadmin/master-data/production-order-action-types\"\n  }\n];\n\nexport const metadata = {\n  name: \"production_order_action_types\",\n  listPath: \"/sysadmin/master-data/production-order-action-types\",\n  formPath: \"/sysadmin/master-data/production-order-action-types\",\n  paramsProp: \"productionOrderActionTypeId\",\n  newItemText: \"Novo Tipo de Evento de Ordem de Produção\"\n};\n\nexport default { metadata, list, form, links };\n","export const list = [\n  {\n    text: \"Nome\",\n    identity: \"name\",\n    filter: {\n      type: \"string\"\n    }\n  },\n  {\n    text: \"Descrição\",\n    identity: \"description\",\n    filter: {\n      type: \"string\"\n    }\n  }\n];\n\nexport const form = [\n  [\n    {\n      text: \"Nome\",\n      identity: \"name\",\n      autoFocus: true,\n      required: true,\n      type: \"string\"\n    },\n    {\n      text: \"Descrição\",\n      identity: \"description\",\n      type: \"string\"\n    }\n  ]\n];\n\nexport const links = [\n  {\n    text: \"Cadastros\",\n    href: \"/sysadmin/master-data\"\n  },\n  {\n    text: \"Status de Clientes\",\n    href: \"/sysadmin/master-data/company-statuses\"\n  }\n];\n\nexport const metadata = {\n  name: \"company_statuses\",\n  listPath: \"/sysadmin/master-data/company-statuses\",\n  formPath: \"/sysadmin/master-data/company-statuses\",\n  paramsProp: \"companyStatusId\",\n  newItemText: \"Novo Status de Cliente\"\n};\n\nexport default { metadata, list, form, links };\n","export const list = [\n  {\n    text: \"Nome\",\n    identity: \"name\",\n    filter: {\n      type: \"string\"\n    }\n  },\n  {\n    text: \"Descrição\",\n    identity: \"description\",\n    filter: {\n      type: \"string\"\n    }\n  }\n];\n\nexport const form = [\n  [\n    {\n      text: \"Nome\",\n      identity: \"name\",\n      autoFocus: true,\n      required: true,\n      type: \"string\"\n    },\n    {\n      text: \"Descrição\",\n      identity: \"description\",\n      type: \"string\"\n    }\n  ]\n];\n\nexport const links = [\n  {\n    text: \"Cadastros\",\n    href: \"/sysadmin/master-data\"\n  },\n  {\n    text: \"Status de Máquinas\",\n    href: \"/sysadmin/master-data/machine-statuses\"\n  }\n];\n\nexport const metadata = {\n  name: \"machine_statuses\",\n  listPath: \"/sysadmin/master-data/machine-statuses\",\n  formPath: \"/sysadmin/master-data/machine-statuses\",\n  paramsProp: \"machineStatusId\",\n  newItemText: \"Novo Status de Máquina\"\n};\n\nexport default { metadata, list, form, links };\n","export const list = [\n  {\n    text: \"Nome\",\n    identity: \"name\",\n    filter: {\n      type: \"string\"\n    }\n  },\n  {\n    text: \"Descrição\",\n    identity: \"description\",\n    filter: {\n      type: \"string\"\n    }\n  }\n];\n\nexport const form = [\n  [\n    {\n      text: \"Nome\",\n      identity: \"name\",\n      autoFocus: true,\n      required: true,\n      type: \"string\"\n    },\n    {\n      text: \"Descrição\",\n      identity: \"description\",\n      type: \"string\"\n    }\n  ]\n];\n\nexport const links = [\n  {\n    text: \"Cadastros\",\n    href: \"/sysadmin/master-data\"\n  },\n  {\n    text: \"Status de Moldes\",\n    href: \"/sysadmin/master-data/mold-statuses\"\n  }\n];\n\nexport const metadata = {\n  name: \"mold_statuses\",\n  listPath: \"/sysadmin/master-data/mold-statuses\",\n  formPath: \"/sysadmin/master-data/mold-statuses\",\n  paramsProp: \"moldStatusId\",\n  newItemText: \"Novo Status de Molde\"\n};\n\nexport default { metadata, list, form, links };\n","export const list = [\n  {\n    text: \"Nome\",\n    identity: \"name\",\n    filter: {\n      type: \"string\"\n    }\n  },\n  {\n    text: \"Descrição\",\n    identity: \"description\",\n    filter: {\n      type: \"string\"\n    }\n  }\n];\n\nexport const form = [\n  [\n    {\n      text: \"Nome\",\n      identity: \"name\",\n      autoFocus: true,\n      required: true,\n      type: \"string\"\n    },\n    {\n      text: \"Descrição\",\n      identity: \"description\",\n      type: \"string\"\n    }\n  ]\n];\n\nexport const links = [\n  {\n    text: \"Cadastros\",\n    href: \"/sysadmin/master-data\"\n  },\n  {\n    text: \"Status de Produtos\",\n    href: \"/sysadmin/master-data/product-statuses\"\n  }\n];\n\nexport const metadata = {\n  name: \"product_statuses\",\n  listPath: \"/sysadmin/master-data/product-statuses\",\n  formPath: \"/sysadmin/master-data/product-statuses\",\n  paramsProp: \"productStatusId\",\n  newItemText: \"Novo Status de Produto\"\n};\n\nexport default { metadata, list, form, links };\n","export const list = [\n  {\n    text: \"Nome\",\n    identity: \"name\",\n    filter: {\n      type: \"string\"\n    }\n  },\n  {\n    text: \"Descrição\",\n    identity: \"description\",\n    filter: {\n      type: \"string\"\n    }\n  }\n];\n\nexport const form = [\n  [\n    {\n      text: \"Nome\",\n      identity: \"name\",\n      autoFocus: true,\n      required: true,\n      type: \"string\"\n    },\n    {\n      text: \"Descrição\",\n      identity: \"description\",\n      type: \"string\"\n    }\n  ]\n];\n\nexport const links = [\n  {\n    text: \"Cadastros\",\n    href: \"/sysadmin/master-data\"\n  },\n  {\n    text: \"Status de Sensores\",\n    href: \"/sysadmin/master-data/sensor-statuses\"\n  }\n];\n\nexport const metadata = {\n  name: \"sensor_statuses\",\n  listPath: \"/sysadmin/master-data/sensor-statuses\",\n  formPath: \"/sysadmin/master-data/sensor-statuses\",\n  paramsProp: \"sensorStatusId\",\n  newItemText: \"Novo Status de Sensor\"\n};\n\nexport default { metadata, list, form, links };\n","export const list = [\n  {\n    text: \"Nome\",\n    identity: \"name\",\n    filter: {\n      type: \"string\"\n    }\n  },\n  {\n    text: \"Descrição\",\n    identity: \"description\",\n    filter: {\n      type: \"string\"\n    }\n  },\n  {\n    text: \"Status\",\n    identity: \"role_status.name\",\n    model: {\n      service: \"role_statuses\",\n      identity: \"roleStatusId\"\n    }\n  }\n];\n\nexport const form = [\n  [\n    {\n      text: \"Nome\",\n      identity: \"name\",\n      autoFocus: true,\n      required: true,\n      type: \"string\"\n    },\n    {\n      text: \"Descrição\",\n      identity: \"description\",\n      type: \"string\"\n    },\n    {\n      text: \"Status\",\n      identity: \"roleStatusId\",\n      required: true,\n      model: \"role_statuses\",\n      defaultValue: {\n        config: \"role.status.init\"\n      }\n    }\n  ],\n  [\n    {\n      text: \"Criar/Modificar Cadastros\",\n      identity: \"writeMasterData\",\n      type: \"boolean\"\n    }\n  ],\n  [\n    {\n      text: \"Visualizar Cadastros\",\n      identity: \"readMasterData\",\n      type: \"boolean\"\n    }\n  ],\n  [\n    {\n      text: \"Acesso a Dados Administração\",\n      identity: \"crudAdminData\",\n      type: \"boolean\"\n    }\n  ],\n  [\n    {\n      text: \"Cadastro Usuario/Perfil\",\n      identity: \"crudUserData\",\n      type: \"boolean\"\n    }\n  ],\n  [\n    {\n      text: \"Criar Ordens Produção\",\n      identity: \"writeActiveProductionOrders\",\n      type: \"boolean\"\n    }\n  ],\n  [\n    {\n      text: \"Criar Ordens Não Produção\",\n      identity: \"writeScheduledStopProductionOrders\",\n      type: \"boolean\"\n    }\n  ],\n  [\n    {\n      text: \"Liberar Ordens (sequenciaador)\",\n      identity: \"openProductionOrders\",\n      type: \"boolean\"\n    }\n  ],\n  [\n    {\n      text: \"Apontar Eventos Ordem\",\n      identity: \"writeProductionOrderEvents\",\n      type: \"boolean\"\n    }\n  ],\n  [\n    {\n      text: \"Modificar Eventos Ordem\",\n      identity: \"editProductionOrderEvents\",\n      type: \"boolean\"\n    }\n  ],\n  [\n    {\n      text: \"Visualizar Ordens\",\n      identity: \"readProductionOrders\",\n      type: \"boolean\"\n    }\n  ],\n  [\n    {\n      text: \"Visualizar Relatorios\",\n      identity: \"readProductionOrderReports\",\n      type: \"boolean\"\n    }\n  ],\n  [\n    {\n      text: \"Visualizar Refugo\",\n      identity: \"readPendingWaste\",\n      type: \"boolean\"\n    }\n  ],\n  [\n    {\n      text: \"Apontar Refugo\",\n      identity: \"writePendingWaste\",\n      type: \"boolean\"\n    }\n  ],\n  [\n    {\n      text: \"Modificar Refugo\",\n      identity: \"editPendingWaste\",\n      type: \"boolean\"\n    }\n  ]\n];\n\nexport const links = [\n  {\n    text: \"Cadastros\",\n    href: \"/sysadmin/master-data\"\n  },\n  {\n    text: \"Perfis\",\n    href: \"/sysadmin/master-data/roles\"\n  }\n];\n\nexport const metadata = {\n  name: \"roles\",\n  listPath: \"/sysadmin/master-data/roles\",\n  formPath: \"/sysadmin/master-data/roles\",\n  paramsProp: \"roleId\",\n  newItemText: \"Novo Perfil\"\n};\n\nexport default {\n  metadata,\n  list,\n  form,\n  links,\n  query: {\n    name: { $nin: [\"sysadmin\"] },\n    $sort: { name: 1 }\n  }\n};\n","export const list = [\n  {\n    text: \"Nome\",\n    identity: \"name\",\n    filter: {\n      type: \"string\"\n    }\n  },\n  {\n    text: \"Descrição\",\n    identity: \"description\",\n    filter: {\n      type: \"string\"\n    }\n  }\n];\n\nexport const form = [\n  [\n    {\n      text: \"Nome\",\n      identity: \"name\",\n      autoFocus: true,\n      required: true,\n      type: \"string\"\n    },\n    {\n      text: \"Descrição\",\n      identity: \"description\",\n      type: \"string\"\n    }\n  ]\n];\n\nexport const links = [\n  {\n    text: \"Cadastros\",\n    href: \"/sysadmin/master-data\"\n  },\n  {\n    text: \"Status de Funções do Usuário\",\n    href: \"/sysadmin/master-data/role-statuses\"\n  }\n];\n\nexport const metadata = {\n  name: \"role_statuses\",\n  listPath: \"/sysadmin/master-data/role-statuses\",\n  formPath: \"/sysadmin/master-data/role-statuses\",\n  paramsProp: \"roleStatusId\",\n  newItemText: \"Novo Status de Função do Usuário\"\n};\n\nexport default { metadata, list, form, links };\n","export const list = [\n  {\n    text: \"Nome\",\n    identity: \"name\",\n    filter: {\n      type: \"string\"\n    }\n  },\n  {\n    text: \"Descrição\",\n    identity: \"description\",\n    filter: {\n      type: \"string\"\n    }\n  }\n];\n\nexport const form = [\n  [\n    {\n      text: \"Nome\",\n      identity: \"name\",\n      autoFocus: true,\n      required: true,\n      type: \"string\"\n    },\n    {\n      text: \"Descrição\",\n      identity: \"description\",\n      type: \"string\"\n    }\n  ]\n];\n\nexport const links = [\n  {\n    text: \"Cadastros\",\n    href: \"/sysadmin/master-data\"\n  },\n  {\n    text: \"Status de Usuários\",\n    href: \"/sysadmin/master-data/user-statuses\"\n  }\n];\n\nexport const metadata = {\n  name: \"user_statuses\",\n  listPath: \"/sysadmin/master-data/user-statuses\",\n  formPath: \"/sysadmin/master-data/user-statuses\",\n  paramsProp: \"userStatusId\",\n  newItemText: \"Novo Status de Usuário\"\n};\n\nexport default { metadata, list, form, links };\n","export const list = [\n  {\n    text: \"Nome\",\n    identity: \"name\",\n    filter: {\n      type: \"string\"\n    }\n  },\n  {\n    text: \"Descrição\",\n    identity: \"description\",\n    filter: {\n      type: \"string\"\n    }\n  }\n];\n\nexport const form = [\n  [\n    {\n      text: \"Nome\",\n      identity: \"name\",\n      autoFocus: true,\n      required: true,\n      type: \"string\"\n    },\n    {\n      text: \"Descrição\",\n      identity: \"description\",\n      type: \"string\"\n    }\n  ]\n];\n\nexport const links = [\n  {\n    text: \"Cadastros\",\n    href: \"/sysadmin/master-data\"\n  },\n  {\n    text: \"Status de Ticket\",\n    href: \"/sysadmin/master-data/ticket-statuses\"\n  }\n];\n\nexport const metadata = {\n  name: \"ticket_statuses\",\n  listPath: \"/sysadmin/master-data/ticket-statuses\",\n  formPath: \"/sysadmin/master-data/ticket-statuses\",\n  paramsProp: \"ticketStatusId\",\n  newItemText: \"Novo Status do Ticket\"\n};\n\nexport default { metadata, list, form, links };\n","import React from \"react\";\nimport { Switch } from \"../../utils\";\nimport { AdminRoute, withMasterDataListPage, withMasterDataFormPage } from \"../../components\";\nimport SysAdminPage from \"./\";\nimport ConfigsPage from \"./configs\";\nimport LandingPage from \"../landing\";\nimport ProductionHistoryPage from \"../dashboard/production-history\";\nimport UnderConstructionPage from \"../under-construction\";\nimport {\n  CompaniesModel,\n  CompanyStatusesModel,\n  SensorsModel,\n  ColorsModel,\n  MeasurementUnitsModel,\n  PlantStatusesModel,\n  ProductionOrderStatusesModel,\n  ProductionOrderActionTypesModel,\n  MachineStatusesModel,\n  MoldStatusesModel,\n  ProductStatusesModel,\n  SensorStatusesModel,\n  RolesModel,\n  RoleStatusesModel,\n  UserStatusesModel,\n  TicketStatusesModel\n} from \"./models\";\n\nconst SysAdminRoutes = () => (\n  <React.Fragment>\n    <Switch>\n      <AdminRoute exact path=\"/sysadmin\" component={() => <LandingPage title=\"Sys Admin\" />} />\n      <AdminRoute\n        exact\n        path=\"/sysadmin/companies\"\n        component={() => withMasterDataListPage(CompaniesModel)}\n      />\n      <AdminRoute\n        exact\n        path=\"/sysadmin/companies/:companyId\"\n        component={() => withMasterDataFormPage(CompaniesModel)}\n      />\n      <AdminRoute\n        exact\n        path=\"/sysadmin/companies/:companyId/production-history\"\n        component={ProductionHistoryPage}\n      />\n      <AdminRoute\n        exact\n        path=\"/sysadmin/sensors\"\n        component={() => withMasterDataListPage(SensorsModel)}\n      />\n      <AdminRoute\n        exact\n        path=\"/sysadmin/sensors/:sensorId\"\n        component={() => withMasterDataFormPage(SensorsModel)}\n      />\n      <AdminRoute\n        exact\n        path=\"/sysadmin/master-data/colors\"\n        component={() => withMasterDataListPage(ColorsModel)}\n      />\n      <AdminRoute\n        exact\n        path=\"/sysadmin/master-data/colors/:colorId\"\n        component={() => withMasterDataFormPage(ColorsModel)}\n      />\n      <AdminRoute exact path=\"/sysadmin/configs\" component={ConfigsPage} />\n      <AdminRoute exact path=\"/sysadmin/master-data\" component={SysAdminPage} />\n      <AdminRoute\n        exact\n        path=\"/sysadmin/master-data/measurement-units\"\n        component={() => withMasterDataListPage(MeasurementUnitsModel)}\n      />\n      <AdminRoute\n        exact\n        path=\"/sysadmin/master-data/measurement-units/:measurementUnitId\"\n        component={() => withMasterDataFormPage(MeasurementUnitsModel)}\n      />\n      <AdminRoute\n        exact\n        path=\"/sysadmin/master-data/plant-statuses\"\n        component={() => withMasterDataListPage(PlantStatusesModel)}\n      />\n      <AdminRoute\n        exact\n        path=\"/sysadmin/master-data/plant-statuses/:plantStatusId\"\n        component={() => withMasterDataFormPage(PlantStatusesModel)}\n      />\n      <AdminRoute\n        exact\n        path=\"/sysadmin/master-data/production-order-statuses\"\n        component={() => withMasterDataListPage(ProductionOrderStatusesModel)}\n      />\n      <AdminRoute\n        exact\n        path=\"/sysadmin/master-data/production-order-statuses/:productionOrderStatusId\"\n        component={() => withMasterDataFormPage(ProductionOrderStatusesModel)}\n      />\n      <AdminRoute\n        exact\n        path=\"/sysadmin/master-data/production-order-action-types\"\n        component={() => withMasterDataListPage(ProductionOrderActionTypesModel)}\n      />\n      <AdminRoute\n        exact\n        path=\"/sysadmin/master-data/production-order-action-types/:productionOrderActionTypeId\"\n        component={() => withMasterDataFormPage(ProductionOrderActionTypesModel)}\n      />\n      <AdminRoute\n        exact\n        path=\"/sysadmin/master-data/company-statuses\"\n        component={() => withMasterDataListPage(CompanyStatusesModel)}\n      />\n      <AdminRoute\n        exact\n        path=\"/sysadmin/master-data/company-statuses/:companyStatusId\"\n        component={() => withMasterDataFormPage(CompanyStatusesModel)}\n      />\n      <AdminRoute\n        exact\n        path=\"/sysadmin/master-data/machine-statuses\"\n        component={() => withMasterDataListPage(MachineStatusesModel)}\n      />\n      <AdminRoute\n        exact\n        path=\"/sysadmin/master-data/machine-statuses/:machineStatusId\"\n        component={() => withMasterDataFormPage(MachineStatusesModel)}\n      />\n      <AdminRoute\n        exact\n        path=\"/sysadmin/master-data/mold-statuses\"\n        component={() => withMasterDataListPage(MoldStatusesModel)}\n      />\n      <AdminRoute\n        exact\n        path=\"/sysadmin/master-data/mold-statuses/:moldStatusId\"\n        component={() => withMasterDataFormPage(MoldStatusesModel)}\n      />\n      <AdminRoute\n        exact\n        path=\"/sysadmin/master-data/product-statuses\"\n        component={() => withMasterDataListPage(ProductStatusesModel)}\n      />\n      <AdminRoute\n        exact\n        path=\"/sysadmin/master-data/product-statuses/:productStatusId\"\n        component={() => withMasterDataFormPage(ProductStatusesModel)}\n      />\n      <AdminRoute\n        exact\n        path=\"/sysadmin/master-data/sensor-statuses\"\n        component={() => withMasterDataListPage(SensorStatusesModel)}\n      />\n      <AdminRoute\n        exact\n        path=\"/sysadmin/master-data/sensor-statuses/:sensorStatusId\"\n        component={() => withMasterDataFormPage(SensorStatusesModel)}\n      />\n      <AdminRoute\n        exact\n        path=\"/sysadmin/master-data/roles\"\n        component={() => withMasterDataListPage(RolesModel)}\n      />\n      <AdminRoute\n        exact\n        path=\"/sysadmin/master-data/roles/:roleId\"\n        component={() => withMasterDataFormPage(RolesModel)}\n      />\n      <AdminRoute\n        exact\n        path=\"/sysadmin/master-data/role-statuses\"\n        component={() => withMasterDataListPage(RoleStatusesModel)}\n      />\n      <AdminRoute\n        exact\n        path=\"/sysadmin/master-data/role-statuses/:roleStatusId\"\n        component={() => withMasterDataFormPage(RoleStatusesModel)}\n      />\n      <AdminRoute\n        exact\n        path=\"/sysadmin/master-data/user-statuses\"\n        component={() => withMasterDataListPage(UserStatusesModel)}\n      />\n      <AdminRoute\n        exact\n        path=\"/sysadmin/master-data/user-statuses/:userStatusId\"\n        component={() => withMasterDataFormPage(UserStatusesModel)}\n      />\n      <AdminRoute\n        exact\n        path=\"/sysadmin/master-data/ticket-statuses\"\n        component={() => withMasterDataListPage(TicketStatusesModel)}\n      />\n      <AdminRoute\n        exact\n        path=\"/sysadmin/master-data/ticket-statuses/:ticketStatusId\"\n        component={() => withMasterDataFormPage(TicketStatusesModel)}\n      />\n      <AdminRoute default component={UnderConstructionPage} />\n    </Switch>\n  </React.Fragment>\n);\n\nexport default SysAdminRoutes;\n","import React, {useState, useEffect} from \"react\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport { MuiThemeProvider, createMuiTheme } from \"@material-ui/core/styles\";\nimport { ThemeProvider } from \"@material-ui/styles\";\nimport { MuiPickersUtilsProvider } from \"@material-ui/pickers\";\nimport MomentUtils from \"@date-io/moment\";\nimport moment from \"moment\";\nimport \"moment/locale/pt-br\";\nimport { BrowserRouter, Route, Switch } from \"./utils\";\nimport { Shell, SessionRoute, AdminRoute } from \"./components\";\nimport LoginPage from \"./pages/login\";\nimport WikiPage from \"./pages/help\";\nimport SupportTicket from './pages/support';\nimport LandingPage from \"./pages/landing\";\nimport UnderConstructionPage from \"./pages/under-construction\";\nimport MasterDataRoutes from \"./pages/master-data/routes\";\nimport AdministrationRoutes from \"./pages/administration/routes\";\nimport DashboardRoutes from \"./pages/dashboard/routes\";\nimport SysAdminRoutes from \"./pages/sysadmin/routes\";\nimport { SnackbarProvider } from 'notistack';\n\n// import Ubuntu from\"./components/fonts/ubuntu.css\";\nmoment.locale(\"pt-br\");\n\n\nconst App = () => {\n  \n  const [dark, setDark] = useState(localStorage.getItem('DarkTheme') === \"true\");\n\n  const swtichTheme = () => setDark(p => !p);\n\n  useEffect(() => {\n    localStorage.setItem('DarkTheme' , dark);\n  },[dark])\n\n  const theme = createMuiTheme({\n    typography: {\n      useNextVariants: true\n      // fontFamily: 'TypoGraphica_demo' TODO://make this font work!!!\n    },\n    palette: {\n      type: dark ? \"dark\" : \"light\",\n      primary: {\n        main: \"#424242\",\n        header: \"#616161\",\n        // header: \"#00b5ad\",\n        table: \"rgba(0, 0, 0, .14)\",\n        form: \"rgba(0, 0, 0, .14)\",\n        disabled: \"rgba(0, 0, 0, .14)\",\n        delete: \"#db2828\"\n      },\n      secondary: {\n        main: \"#ffb300\"\n      }\n    }\n  });\n\n  return (\n    <ThemeProvider theme={theme}>\n      <MuiThemeProvider theme={theme}>\n        <MuiPickersUtilsProvider utils={MomentUtils}>\n          <CssBaseline />\n          <BrowserRouter>\n            <SnackbarProvider\n              maxSnack={3}\n            >\n              <Shell swtichTheme = {swtichTheme} dark={dark}>\n                <Switch>\n                  <Route exact path=\"/\" component={() => <LandingPage title=\"MonitorProd\" />} />\n                  <Route path=\"/login/:companyUUID\" component={LoginPage} />\n                  <Route path=\"/master-data\" component={MasterDataRoutes} />\n                  <Route path=\"/administration\" component={AdministrationRoutes} />\n                  <Route path=\"/dashboard\" component={DashboardRoutes} />\n                  <Route path=\"/reports\" component={DashboardRoutes} />\n                  <Route path=\"/sysadmin\" component={SysAdminRoutes} />\n                  <SessionRoute path=\"/help/home\" component={WikiPage} />\n                  <SessionRoute path=\"/help/:wikiPageId\" component={WikiPage} />\n                  <SessionRoute exact path=\"/support\" component={SupportTicket} />\n                  <SessionRoute exact path=\"/support/:ticketId\" component={SupportTicket} />\n                  <AdminRoute exact path=\"/support/company/:companyId/ticket/:ticketId\" component={SupportTicket} />\n                  <Route default component={UnderConstructionPage} />\n                </Switch>\n              </Shell>\n            </SnackbarProvider>\n          </BrowserRouter>\n        </MuiPickersUtilsProvider>\n      </MuiThemeProvider>\n    </ThemeProvider>\n  );\n};\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === \"localhost\" ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === \"[::1]\" ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n    window.addEventListener(\"load\", () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            \"This web app is being served cache-first by a service \" +\n              \"worker. To learn more, visit http://bit.ly/CRA-PWA\"\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === \"installed\") {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                \"New content is available and will be used when all \" +\n                  \"tabs for this page are closed. See http://bit.ly/CRA-PWA.\"\n              );\n              alert(\n                \"Nova versão está disponível! Por favor, feche todas as abas de monitorprod.com.br para usar a nova funcionalidade.\"\n              );\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log(\"Content is cached for offline use.\");\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error(\"Error during service worker registration:\", error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get(\"content-type\");\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf(\"javascript\") === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\"No internet connection found. App is running in offline mode.\");\n    });\n}\n\nexport function unregister() {\n  if (\"serviceWorker\" in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport \"./App.css\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.register();\n"],"sourceRoot":""}