{"version":3,"sources":["icons/logo.svg","icons/injector.svg","icons/mold.svg","pages/landing/logo-dark.png","pages/landing/intro.jpg","pages/landing/about1.jpg","pages/landing/about2.jpg","pages/landing/about3.jpg","pages/landing/about4.jpg","pages/landing/logo.png","pages/landing/favicon-32x32.png","pages/landing/favicon-16x16.png","pages/landing/bg-showcase-1.png","pages/landing/bg-showcase-2.png","pages/landing/bg-showcase-3.png","utils/lodash.js","utils/addHooks.js","utils/validateForm.js","utils/getColor.js","utils/getConfigs.js","utils/getEventType.js","utils/getDateJSON.js","utils/getLastReadingCycle.js","utils/getPermissions.js","utils/mapPermissions.js","utils/login.js","utils/logout.js","api.js","pages/dashboard/target-line-plugin.js","utils/useAuth.js","utils/runHooks.js","utils/useUpsertService.js","utils/useDeleteService.js","utils/useFindService.js","utils/useGetService.js","utils/useFindDeleteService.js","utils/useStatusSensor.js","utils/useSensorAllURL.js","utils/index.js","components/buttons/index.js","components/layout/MainTabsNav.js","components/layout/CompanyLogin.js","components/not-found/index.js","components/loader/index.js","components/layout/SnackNotification.js","components/layout/Notifications.js","components/layout/NotificationMessageItem.js","components/errors/index.js","components/master-data-form/Tree.js","components/layout/TreeSupportItem.js","pages/sysadmin/companies/SendEmailAction.js","pages/sysadmin/companies/model.js","components/layout/TicketsList.js","components/layout/Logout.js","components/layout/useTicketContext.js","components/layout/UserActions.js","components/layout/Shell.js","components/routes/ClientRoute.js","components/routes/AdminRoute.js","components/routes/SessionRoute.js","components/breadcrumbs/index.js","components/master-data-list/GridToolbar.js","components/master-data-list/GridCard.js","components/master-data-list/Grid.js","components/master-data-list/Filter.js","components/master-data-list/TableRow.js","components/master-data-list/Table.js","components/master-data-list/index.js","components/pages/withMasterDataList.js","components/master-data-form/Actions.js","components/master-data-form/useDEFAULT.js","components/master-data-form/AutoComplete.js","components/master-data-form/IntegerInput.js","components/master-data-form/CheckList.js","components/master-data-form/FormInput.js","components/master-data-form/FieldsRow.js","components/master-data-form/useENTER.js","components/master-data-form/index.js","components/pages/withMasterDataForm.js","components/master-data-card/index.js","components/pages/withAdministrationPage.js","components/plant-turns-table/model.js","components/plant-turns-table/NewTurn.js","components/plant-turns-table/TurnPanel.js","components/plant-turns-table/Form.js","components/plant-turns-table/index.js","components/plant-holidays-table/model.js","components/plant-holidays-table/NewHoliday.js","components/plant-holidays-table/HolidayPanel.js","components/plant-holidays-table/Form.js","components/plant-holidays-table/index.js","pages/master-data/machines/SensorURL.js","pages/master-data/machines/SensorAllURL.js","pages/master-data/machines/model.js","pages/master-data/molds/model.js","pages/master-data/products/model.js","pages/master-data/sensors/model.js","pages/master-data/setups/model.js","pages/master-data/models.js","components/mold-products-table/model.js","components/mold-products-table/NewProduct.js","components/mold-products-table/AddProduct.js","components/mold-products-table/ProductPanel.js","components/mold-products-table/Form.js","components/mold-products-table/index.js","components/machine-mold-products-table/model.js","components/machine-mold-products-table/AddMachine.js","components/machine-mold-products-table/MachinePanel.js","components/machine-mold-products-table/Form.js","components/machine-mold-products-table/index.js","components/wiki-page-wiki-sections-table/model.js","components/wiki-page-wiki-sections-table/Form.js","components/wiki-page-wiki-sections-table/NewWikiSection.js","components/wiki-page-wiki-sections-table/WikiSectionPanel.js","components/wiki-page-wiki-sections-table/index.js","components/chat-support/message/index.js","components/chat-support/dropbox.js","components/chat-support/Input.js","components/chat-support/index.js","components/index.js","pages/login/index.js","pages/help/model.js","pages/help/TreeItem.js","pages/help/home/model.js","pages/help/home/index.js","pages/help/index.js","pages/support/tickets/model.js","pages/support/index.js","pages/landing/index.js","pages/under-construction/index.js","utils/svgIcons.js","pages/master-data/index.js","pages/master-data/molds/MoldProductsList.js","pages/master-data/molds/Form.js","pages/master-data/molds/MoldProductForm.js","pages/master-data/routes.js","pages/administration/index.js","pages/reset-password/index.js","pages/administration/plants/model.js","pages/administration/plants/Form.js","pages/administration/attributes/model.js","pages/administration/production-order-types/model.js","pages/administration/production-order-event-types/Color.js","pages/administration/production-order-event-types/model.js","pages/administration/machine-types/model.js","pages/administration/nozzle-types/model.js","pages/administration/product-mat-types/model.js","pages/administration/users/SendEmailAction.js","pages/administration/users/SendReportAction.js","pages/administration/users/RoleHelp.js","pages/administration/users/model.js","pages/administration/models.js","pages/administration/waste-justifications/model.js","pages/administration/routes.js","pages/dashboard/PlantFilter.js","pages/dashboard/index.js","pages/dashboard/GaugeChart.js","pages/dashboard/PieChart.js","pages/dashboard/IndicatorsReport.js","pages/dashboard/index2.js","pages/dashboard/production/Status.js","pages/dashboard/production/ProductionOrderCard.js","pages/dashboard/production/index.js","pages/dashboard/production/production-order/model.js","pages/dashboard/production/production-order/Actions.js","pages/dashboard/production/production-order/StatusLine.js","pages/dashboard/production/production-order/Status.js","pages/dashboard/production/production-order/Selection.js","pages/dashboard/production/production-order/useDEFAULT.js","pages/dashboard/production/production-order/EventDrawer.js","pages/dashboard/production/production-order/index.js","pages/dashboard/production-waste/DataRow.js","pages/dashboard/DateFilter.js","pages/dashboard/production-report/MenuFilter.js","pages/dashboard/production-waste/index.js","pages/dashboard/production-report/DataRow.js","pages/dashboard/production-report/index.js","pages/dashboard/production-history/ProductionGauge.js","pages/dashboard/production-history/MachineRow.js","pages/dashboard/production-history/index.js","pages/dashboard/production-oee/BarChart.js","pages/dashboard/production-oee/PlantMachinesList.js","pages/dashboard/production-oee/index.js","pages/dashboard/CarouselPage.js","pages/dashboard/routes.js","pages/sysadmin/index.js","pages/sysadmin/configs/model.js","pages/sysadmin/configs/index.js","pages/sysadmin/sensors/CustomActions.js","pages/sysadmin/sensors/SensorStatus.js","pages/sysadmin/sensors/EventStatus.js","pages/sysadmin/sensors/model.js","pages/sysadmin/colors/Color.js","pages/sysadmin/colors/model.js","pages/sysadmin/measurement-units/model.js","pages/sysadmin/plant-statuses/model.js","pages/sysadmin/production-order-statuses/model.js","pages/sysadmin/production-order-action-types/Color.js","pages/sysadmin/models.js","pages/sysadmin/production-order-action-types/model.js","pages/sysadmin/company-statuses/model.js","pages/sysadmin/machine-statuses/model.js","pages/sysadmin/mold-statuses/model.js","pages/sysadmin/product-statuses/model.js","pages/sysadmin/sensor-statuses/model.js","pages/sysadmin/roles/model.js","pages/sysadmin/role-statuses/model.js","pages/sysadmin/user-statuses/model.js","pages/sysadmin/ticket-statuses/model.js","pages/sysadmin/routes.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","lodashGet","get","lodashMap","map","lodashForEach","foreach","lodashFilter","filter","lodashReduce","reduce","lodashFind","find","lodashFindIndex","findindex","lodashIsNil","isnil","lodashSplit","split","lodashDeburr","deburr","lodashDebounce","debounce","lodashToUpper","toupper","lodashToLower","upperfirst","tolower","lodashTrim","trim","lodashFlattenDeep","flattendeep","lodashFill","fill","addHooks","hooks","identity","hooksToAdd","targetHooks","Array","isArray","sourceHooks","validateField","field","requiredKey","formItem","setFormErrors","OR","isValid","value","validation","key","indexOf","prev","handleValidate","validationResult","data","target","name","item","validateForm","fields","isValidField","required","getColor","path","getConfigs","a","client","service","configs","c","set","query","$populateAll","actionTypes","type","id","console","log","getEventType","getDateJSON","date","dateD","moment","year","month","hour","minute","second","getLastReadingCycle","productionOrder","lastReading","getPermissions","privileges","permissions","length","privilege","mapPermissions","payload","userPermissions","roles","permission","role","login","email","password","companyUUID","authenticate","strategy","response","localStorage","setItem","accessToken","getItem","passport","verifyJWT","logout","removeItem","setCompanyUUID","context","params","feathers","socket","io","configure","socketio","timeout","auth","storageKey","storage","window","before","all","React","Chartist","createContext","useAuth","dependencies","useContext","ApiContext","useState","session","setSesstion","loading","setLoading","setPermissions","hasAccess","setHasAccess","stringPrivileges","JSON","stringify","stringDependencies","useEffect","parsedPrivileges","parse","runHooks","continueOperation","hooksToRun","Promise","hook","result","useUpsertService","propsModel","model","propsFields","newItem","setNewItem","setFormItem","formErrors","errors","setErrors","setModel","setFields","flattenFields","stringHooks","stringFormItem","handleChange","useCallback","asyncHandleChange","handleSubmit","e","preventDefault","cleanFormItem","patch","create","validatorKey","fieldIdentity","fieldError","handleFormErrors","text","useDeleteService","propsItem","handleDelete","confirm","remove","useFindService","propsQuery","timeCarousel","list","setList","setQuery","trigger","setTrigger","stringQuery","useDebouncedCallback","setTimeout","doFind","reload","Date","now","useGetService","useFindDeleteService","$sort","findQuery","setFindQuery","findLoading","findErrors","stringFindQuery","afterDelete","doDelete","deleteLoading","deleteErrors","deleteRef","setDeleteRef","useStatusSensor","ip","activeEventType","undefinedEventType","activeColor","undefinedColor","status","setStatus","deviceURL","getStatusSensor","didTimeOut","resolve","reject","fetchTimeout","fetch","then","clearTimeout","catch","getStatusInterval","setInterval","clearInterval","href","useSensorAllURL","unreachableSensors","setUnreachableSensors","sensorsURL","setSensorsURL","sensor","machineId","sensorId","url","Redirect","eRedirect","BrowserRouter","eBrowserRouter","Route","eRoute","Link","eLink","Switch","eSwitch","withRouter","eWithRouter","withStyles","eWithStyles","classNames","eClassNames","eLodashGet","eLodashMap","eLodashForEach","eLodashFilter","eLodashReduce","eLodashFind","eLodashFindIndex","eLodashIsNil","eLodashSplit","eLodashDeburr","eLodashDebounce","eLodashToUpper","eLodashToLower","eLodashTrim","eLodashFlattenDeep","eLodashFill","formatNumber","eFormatNumber","NUMBER_FORMAT","integerSeparator","decimal","eAddHooks","eValidateForm","eGetColor","eGetConfigs","eGetEventType","eGetDateJSON","eGetLastReadingCycle","eGetPermissions","eMapPermissions","eLogin","eLogout","eUseAuth","eUseUpsertService","eUseDeleteService","eUseFindService","eUseGetService","eUseFindDeleteService","eUseStatusSensor","eUseSensorAllURL","theme","button","navbar","marginRight","spacing","color","profile","backgroundColor","palette","common","white","boxShadow","header","borderRadius","padding","margin","fontSize","toolbar","minHeight","table","secondary","main","lowercase","textTransform","icon","submit","black","delete","primary","editAction","deleteAction","clearAction","position","right","bottom","chatSupport","marginTop","withTheme","classes","avatar","variants","fullWidth","onClick","props","Component","IconButton","Button","buttonProps","Tooltip","className","title","aria-label","variant","Fragment","Hidden","mdUp","Icon","smDown","Avatar","style","width","height","background","nav","flex","minWidth","wrapper","selected","pathname","location","actions","BottomNavigation","showLabels","BottomNavigationAction","label","xsDown","component","to","form","display","alignItems","textField","borderColor","loginName","setLoginName","error","setError","redirect","setRedirect","handleLogin","request","URL","search","URLSearchParams","json","push","TextField","helperText","placeholder","onChange","onKeyPress","which","notFound","textAlign","Typography","loader","marginBottom","LinearProgress","SnackNotification","forwardRef","ref","closeSnackbar","useSnackbar","notification","productionExceeded","stop","noise","Card","card","CardActions","root","gutterBottom","createdAt","format","icons","close","maxWidth","marginLeft","paddingBottom","paddingTop","maxHeight","overflow","whiteSpace","badge","top","justifyContent","userMenuItem","borderTopLeftRadius","borderTopRightRadius","breakpoints","up","border","down","listHeader","hasSession","isAdminApp","open","setOpen","MenuRef","useRef","handleClose","event","current","contains","enqueueSnackbar","newNotification","preventDuplicate","autoHideDuration","anchorOrigin","vertical","horizontal","content","handleRemove","handleRemoveAll","onNotification","navigator","serviceWorker","ready","Notification","requestPermission","showNotification","body","logo","image","vibrate","action","productionOrderId","pushNotification","on","removeListener","userName","initials","outerWidth","fragment","alert","empty","buttonRef","node","aria-owns","undefined","aria-haspopup","Popper","anchorEl","transition","disablePortal","TransitionProps","placement","Grow","transformOrigin","Paper","ClickAwayListener","onClickAway","AppBar","Toolbar","edge","List","Divider","ListItem","ListItemText","ListItemSecondaryAction","UnreadBadge","Badge","link","urgent","nested","paddingLeft","ticket","withoutClosedTickets","reloadTicket","ticketId","viewedAt","listMessages","setQueryMessages","userId","unreadMessages","message","STATUS","changeUrgency","ticketStatusId","resp","changeClose","ticket_status","ListItemAvatar","ListItemIcon","getAvatar","paddingRight","textDecoration","toLowerCase","badgeContent","dark","SnackbarContent","panel","details","flexDirection","flexWrap","deep","match","propsReload","reloadTree","customContent","options","paramsId","paramsProp","expandRef","setExpandRef","handleExpand","Grid","container","direction","dontShowNotFound","beforeTree","xs","isSelected","parseInt","linkProps","dontTreeItemLink","formPath","ExpansionPanel","expanded","ExpansionPanelSummary","expandIcon","afterTreeItem","alt","src","customTreeName","customName","customTree","ExpansionPanelDetails","afterTree","TreeSupportItem","company","companyId","listTicket","loadingTicket","SendEmailAction","zIndex","send","setSend","handleSendEmail","$sendEmail","RegExp","test","readOnly","show","ifThis","autoFocus","replace","isCNPJValid","defaultValue","config","enum","customValue","customData","metadata","listPath","newItemText","links","customBreadCrumbsName","fantasyName","customActions","isList","isForm","ticketsList","overflowX","addTicket","setWithoutClosedTickets","reloadMessages","$in","t","onNewEvent","aria-labelledby","startIcon","FormControlLabel","control","p","labelPlacement","Companies","ticketCompany","ticketOpen","ticketUrgent","borderBottomLeftRadius","borderBottomRightRadius","handleLogout","useTicketContext","connected","setConnected","tickets","userUnreadMessages","swtichTheme","supportOpen","setSupportOpen","handleClick","handleToggle","checked","Collapse","overflowY","in","unmountOnExit","userActions","sysAdminActions","scrollbarWidth","flexGrow","home","children","isAdmin","isLoginApp","isDevelopmentEnvironment","includes","MainTabsNav","ClientRoute","AdminRoute","SessionRoute","grid","firstLink","arrow","index","spacer","fab","dontCreate","writePermissions","Fab","controls","CardContent","hasIdentity","dontEdit","dontDelete","sm","menu","setSelected","setSearch","sortType","setSortType","anchor","setAnchor","handleSelect","selectedString","queryString","newQuery","param","values","Object","keys","$like","modelCustomName","currentTarget","Menu","onClose","MenuItem","row","TableRow","hidden","only","TableCell","scrollArea","Table","TableHead","dontFilter","customText","TableBody","colSpan","MasterDataListPage","withMasterDataListPage","history","justify","dontSave","dontCopy","copyItem","uuid","useDEFAULT","populate","setConfigValue","configValue","populatedValue","defaultConfig","defaultThis","defaultCustomValue","popper","TextFieldProps","InputProps","queryField","sortQuery","findModel","modelThis","modelService","modelQuery","useCustomQuery","setFindModel","getLoading","setGetModel","setOptions","updateQuery","inputValue","$or","DownshiftRef","PopperRef","selectItem","enumValue","focused","setFocused","handleFocus","select","handleBlur","handleClear","selectedItem","selectedValue","onInputValueChange","itemToString","getInputProps","getItemProps","isOpen","getMenuProps","inputRef","onFocus","onBlur","disabled","square","clientWidth","IntegerInput","other","allowEmptyFormatting","thousandSeparator","decimalSeparator","decimalScale","onValueChange","floatValue","parseFloat","getInputRef","option","checkbox","spliceAndPush","arraySplice","identitySplice","arrayPush","identityPush","splice","handleOptionChange","fieldValue","fieldDeleteValue","customOptionContent","Checkbox","textfield","inputBootstrap","checkboxLabel","editor","pointerEvents","short","setup","wiki","contact","getInputType","getInputValue","inputComponent","readOnlyIfThis","readOnlyUntil","readOnlyCustomIf","variantsCustomIf","useCustomIf","useVariantIf","customIfValue","variantIfValue","readOnlyValue","variantsValue","setReadOnly","setVariants","max","maxLength","maxValue","minValue","min","DatePicker","DateTimePicker","TimePicker","getInputComponent","getInputFormat","handleInputChange","toISOString","EditorState","createEmpty","editorState","setEditorState","contentBlock","htmlToDraft","contentState","ContentState","createFromBlockArray","contentBlocks","draftToHtml","convertToRaw","getCurrentContent","createWithContent","ampm","disableOpenOnEnter","keyboard","toolbarHidden","wrapperClassName","editorClassName","onEditorStateChange","multiline","FieldsRow","isContainer","showIfThis","showFieldValue","showField","setShowField","useENTER","handleKeyPress","flatFields","nodeName","nextField","document","querySelector","focus","dontUseEnter","addEventListener","removeEventListener","tree","treeModel","propsFormErrors","propsData","propsLoading","propsErrors","setReloadTree","reloadHome","setReloadHome","reloadTreeHook","asyncReloadTreeHook","reloadHomeHook","asyncReloadHomeHook","redirectToItemHook","noRedirect","asyncRedirectToItemHook","upsertSubmit","upsertLoading","upsertErrors","redirectToListHook","hasWriteAccess","hasActions","copyData","stringCopyData","parsedCopyData","itemIsNull","dontShowTree","elevation","replaceNewItem","onSubmit","saveOnEnter","beforeForm","customError","afterForm","MasterDataFormPage","dontUseBreadcrumbs","withMasterDataFormPage","area","kpi","order","svgIcon","description","CardActionArea","AdministrationPage","gridItem","outline","outlineOffset","setExpanded","group","lg","withAdministrationPage","FormRef","setFormRef","isExpanded","stopPropagation","turn","Portal","plant","propsHandleChange","plantId","refsMap","rest","resetForm","resetList","newTurn","monday","tuesday","wednesday","thursday","friday","saturday","sunday","turnStartT","startTime","turnEndT","endTime","isSameOrAfter","subtract","newTurnStartT","newTurnEndT","isBetween","toDate","turns","hoursPerWeek","Math","round","hours","days","day","diff","NewTurn","Form","holiday","startDate","endDate","isSame","newHoliday","holidays","sort","b","NewHoliday","SensorURL","cursor","machineName","machineURL","escape","SensorAllURL","rel","dontFilterWhenChild","plantStatusId","machinesIcon","readPermissions","mold","idealCycle","moldsIcon","product","weight","machine","$ne","$nin","machineStatusId","moldStatusId","until","productStatusId","moldId","products","calculateCycle","factor","MachinesModel","eMachinesModel","MoldsModel","eMoldsModel","ProductsModel","eProductsModel","SensorsModel","eSensorsModel","SetupsModel","eSetupsModel","productId","handleAddProduct","cavities","handleEditProduct","handleDeleteProduct","afterChange","productItem","productLoading","productErrors","addProductQuery","intCavities","newProduct","moldProduct","NewProduct","AddProduct","handleAddMachine","handleEditMachine","handleDeleteMachine","addMachineQuery","minCycle","maxCycle","machineMoldProduct","WikiPagesModel","slice","wikiSection","wikiPage","wikiPageId","newWikiSection","wiki_sections","colored","listTextWrap","wordWrap","viewed","tab","user","classnames","dbx","Dropbox","input","appBar","iconButton","divider","ticketClosed","file","setFile","uploadResponse","setUploadResponse","size","filesUpload","contents","workItems","offset","chunkSize","acc","blob","idx","items","filesUploadSessionStart","session_id","sessionId","filesUploadSessionAppendV2","commit","mode","autorename","mute","filesUploadSessionFinish","getElementById","appendChild","createTextNode","evt","files","click","InputBase","inputProps","orientation","appbarRoot","question","inline","subheader","left","transform","lineHeight","scrollRef","setListMessages","$markAsViewed","loadingMessages","newMessage","scrollTo","Shell","eShell","eClientRoute","eAdminRoute","eSessionRoute","eWithMasterDataListPage","eWithMasterDataFormPage","eWithAdministrationPage","MasterDataCard","eMasterDataCard","MasterDataForm","eMasterDataForm","PlantTurnsTable","ePlantTurnsTable","PlantHolidaysTable","ePlantHolidaysTable","MoldProductsTable","eMoldProductsTable","MachineMoldProductsTable","eMachineMoldProductsTable","WikiPageWikiSectionsTable","eWikiPageWikiSectionsTable","FormInput","eFormInput","eFieldsRow","Tree","eTree","BreadCrumbs","eBreadCrumbs","Loader","eLoader","Errors","eErrors","NotFound","eNotFound","eButton","ChatSupport","eChatSupport","goToHome","footer","success","authLoading","loginForm","setLoginForm","Error","handleChangePassword","handleResetPassword","$forgotPassword","stringSession","stringPermissions","parsedSession","autoComplete","TreeItem","afterSubmit","hrStyle","buttonForm","Logo","HomeModel","dontRedirect","headerLogo","borderLeft","containerButton","ticketItem","ticketLoading","ticketErrors","onPatched","TicketModel","phone","setContact","setSuccess","lang","charSet","sizes","favicon32","favicon16","logoPNG","data-toggle","data-target","aria-controls","aria-expanded","introIMG","backgroundImage","BackgroundShowcase1","BackgroundShowcase2","BackgroundShowcase3","about1IMG","about2IMG","about3IMG","about4IMG","noValidate","data-validation-required-message","data-dismiss","aria-hidden","logoDarkPNG","MoldIcon","SvgIcon","viewBox","d","MachineIcon","level","MasterDataRoutes","exact","MasterDataPage","MasterDataMoldsFormPage","MasterDataMoldProductsFormPage","default","UnderConstructionPage","newPassword","confirmPassword","PlatnsModel","Color","isSystemEvent","SendReportAction","$sendReport","RoleHelp","tooltip","writeMasterData","readMasterData","crudAdminData","crudUserData","writeActiveProductionOrders","writeScheduledStopProductionOrders","openProductionOrders","writeProductionOrderEvents","editProductionOrderEvents","readProductionOrders","readProductionOrderReports","readPendingWaste","writePendingWaste","editPendingWaste","r","join","AttributesModel","eAttributesModel","ProductionOrderTypesModel","eProductionOrderTypesModel","ProductionOrderEventTypesModel","eProductionOrderEventTypesModel","MachineTypesModel","eMachineTypesModel","NozzleTypesModel","eNozzleTypesModel","PlantsModel","ePlantsModel","ProductMatTypesModel","eProductMatTypesModel","UsersModel","WasteJustificationsModel","AdministrationRoutes","ResetPasswordPage","AdminPlantFormPage","memo","setText","firstUpdate","setFirstUpdate","parsedSelected","copyFilter","kpiLabel","export","noJustifiedEventType","inactiveMachines","setInactiveMachines","pendingWaste","setPendingWaste","plantIdQuery","setPlantIdQuery","inactiveMachinesLoading","setInactiveMachinesLoading","pendingWasteLoading","setPendingWasteLoading","$reportLabels","sd","startOf","add","ed","endOf","ReportLabelsData","getReportLabelsData","noJustifiedColor","getLinkLabel","hasProductionAccess","hasReportsAccess","hasWasteAccess","plugins","targetLine","chart","class","axisX","horizontalBars","targetLineX","chartRect","x1","projectValue","svg","elem","x2","y1","y2","targetLineY","axisY","centerX","centerY","relativePercentage","thetaRad","percentToDegree","PI","topX","cos","topY","sin","leftX","leftY","rightX","rightY","cx","cy","x","y","_node","innerHTML","toFixed","chartistGaugeOptions","startAngle","total","showLabel","series","bgColor","listener","draw","element","attr","legend","spacing9","titleLegend","iconLegend","chartistOptions","chartPadding","labelOffset","labelDirection","labelInterpolationFnc","fillSectorColor","prototype","call","labelsNames","linkIcon","weekLoading","setWeekLoading","$reportYesterdaySummary","YesterdaySummaryData","setOEEData","graphOEE","setInactivityData","graphInactivity","setStatsData","graphStats","getYesterdaySummaryData","$reportIndicators","dates","ReportIndicatorsData","graphIndicators","setWeekReportData","getReportIndicatorsData","oeeData","weekReportData","inactivityData","statsData","weekReportOptions","showGrid","FixedScaleAxis","high","low","ticks","appendToBody","tooltipFnc","meta","fillBarColor","graphTotalNonPlannedStoppedTime","currentCycle","standardCycle","borderTop","noOPEventType","cycle","setCycleValue","productionOrderEvent","setProductionOrderEvent","stringProductionOrder","pProductionOrder","pLastEvent","lastEvent","setShowUndefinedAlert","setShowStoppedAlert","setShowNoActiveOPAlert","setShowMaxProductionAlert","setProductionOrder","setLastEvent","setBackgrund","confirmedProduction","missingProduction","findProductionOrders","isActive","actualStartDate","$limit","productionOrders","$withoutOP","sensors","mi","si","$exists","$gte","events","asyncFindProductionOrders","stringPProductionOrder","parsedPProductionOrder","stringPLastEvent","parsedPLastEvent","stringLastEvent","parsedProductionOrder","parsedLastEvent","setStatusColor","noJustified","noActiveOP","undefinedEV","productionOrderActionTypeId","readings","isProductionType","findReadingAlert","activeOrder","inProductionOrder","reloadEvents","onEventCreated","poi","onProductionOrder","endD","md","noWrap","displayType","limit","showUndefinedAlert","showStoppedAlert","showNoActiveOPAlert","showMaxProductionAlert","$productionOrders","$skip","customIf","productionOrderType","productionOrderTypeId","moldProducts","UM","setProductionOrderCycles","cyclesData","machineMoldProductCycles","machineProductCycles","isInProduction","navigation","hasCRUDAccess","prevProductionOrder","prevProductionOrderProps","nextProductionOrder","nextProductionOrderProps","activeProductionOrder","activeProductionOrderProps","totalProduction","wastedProduction","actualEndDate","borderBottom","turnName","fontStyle","isFirst","hasEditAccess","typesMap","allowEdition","setAllowEdition","handleEdit","getActionType","ev","at","$editEvent","tr","production","eventDetail","currentOp","setCurrentOp","setEvents","setTypesMap","setIsExpanded","page","setPage","paginatedList","setPaginatedList","historyResult","setHistoryResult","eventTypes","getTypesMap","$populateUsers","reverse","findEvents","undefinedProduction","expectedEndDate","productionTime","expectedProduction","openCavities","disableHeight","rowHeight","nextEV","tu","alignContent","formReadOnly","afterSelected","selectedMachine","setSelectedMachine","selectedSensor","setSelectedSensor","beforeSubmit","expectedProductionUM","cycleUM","loadingUpsert","errorsUpsert","sidebar","drawer","itemIcon","side","handleDrawer","eventLoading","setEventLoading","sendEvent","productionOrderEventTypeId","designedStatus","designed","listContent","hideTracksWhenNotNeeded","Drawer","formContainer","isClosed","breadCrumbs","inputWrapper","$eventsAndNavigation","loadingGet","errorsGet","setMachine","openDrawer","setOpenDrawer","getMachineNavigation","machineNavigation","hasInProductionAccess","hasNotInProductionAccess","hasEventsAccess","productionOrderTypeQuery","Selection","groupBy","historyBy","setShow","stringItem","cpw","cp","wasteP","wp","wpw","confirmP","wji","handleUpdate","_id","enabled","colspan","handleGroupExpand","expandId","setDate","maxDate","minDate","isEndDate","setIsOpen","isAfter","locale","cancelLabel","autoOk","onOpen","setFilter","menuRef","MenuList","exportWrapper","exportLoader","alignSelf","pendingWasteData","setPendingWasteData","setHeader","setStartDate","setEndDate","setHistoryBy","typesBy","setTypesBy","groupByExpandMap","setGroupByExpandMap","stringStartDate","stringEndDate","$pendingWaste","PendingWasteData","expandMap","asyncGetPendingWasteData","getPendingWasteData","loadingSubmit","setLoadingSubmit","wItem","groupData","promise","dontShow","newWaste","ti","tp","waste","active","closed","groupTotal","isNil","availabilityData","setAvailabilityData","setGroupBy","eventsBy","setEventsBy","$reportAvailability","ReportAvailabilityData","asyncGetReportAvailabilityData","getReportAvailabilityData","loadingPDF","setLoadingPDF","fnPDFReport","linkPDF","createElement","createObjectURL","download","tableContent","frameId","i","rows","sa","userAgent","write","execCommand","encodeURIComponent","faFileExcel","faFilePdf","mipoi","filters","stackBars","divisor","innerWidth","array","clone","transformTooltipTextFnc","isSameDay","setData","labels","reportHistoryData","setReportHistoryData","stringDate","asyncGetReportHistoryData","companyQuery","$adminQueryCompanyId","machineQuery","$reportHistory","cd","same","ReportHistoryData","getReportHistoryData","getReportHistoryDataInterval","reverseData","toolbarTitle","toolbarLabel","treeItemSelected","graphWrapper","graphSidebar","graphItem","graphItemDetail","graphTitle","graphSidebarTitle","graphIcon","graphDetailTitle","graphDetail","fontWeight","allPlants","graphOEEData","setGraphOEEData","qualityData","setQualityData","performanceData","setPerformanceData","actionsData","setActionsData","loadingGraph","setLoadingGraph","$reportOEE","ReportOEEData","graphAvailability","graphQuality","graphPerformance","graphActions","asyncGetReportOEEData","getReportOEEData","GraphOEEData","v","asyncGetGraphOEEData","getGraphOEEData","graphOEEOptions","OEE","showArea","urlParams","plannedTime","totalProductionInEvents","confirmedProductionInEvents","wastedProductionInEvents","readingsInEvents","realCycleInEvents","listMachines","hasProductionOrdersAccess","totalPages","ceil","pagesProduction","pagesProductionHistory","dots","infinite","autoplay","autoplaySpeed","speed","slidesToShow","slidesToScroll","pageProductionHistory","pageProduction","CarouselPage","DashboardPage","ReportsPage","ProductionPage","ProductionOrderPage","ProductionWastePage","ProductionHistoryPage","ProductionReportPage","ProductionOEEPage","SysAdminPage","this","newButton","deleteButton","CustomActions","archiveStatus","handleArchive","sensorStatusId","barcode","newSensor","handleSync","sensorUUID","SensorStatus","EventStatus","noScheduledStopEventType","scheduledStopEventType","noScheduledStopColor","scheduledStopColor","eventDiff","getStatusEvent","CompaniesModel","eCompaniesModel","ColorsModel","eColorsModel","MeasurementUnitsModel","eMeasurementUnitsModel","PlantStatusesModel","ePlantStatusesModel","ProductionOrderStatusesModel","eProductionOrderStatusesModel","ProductionOrderActionTypesModel","CompanyStatusesModel","MachineStatusesModel","MoldStatusesModel","ProductStatusesModel","SensorStatusesModel","RolesModel","RoleStatusesModel","UserStatusesModel","TicketStatusesModel","SysAdminRoutes","ConfigsPage","App","setDark","createMuiTheme","typography","useNextVariants","ThemeProvider","utils","MomentUtils","CssBaseline","maxSnack","LoginPage","DashboardRoutes","WikiPage","SupportTicket","isLocalhost","Boolean","hostname","registerValidSW","swUrl","register","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","onUpdate","onSuccess","ReactDOM","render","process","origin","contentType","headers","unregister","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.cf6fb6e5.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.bd43a904.svg\";","module.exports = __webpack_public_path__ + \"static/media/injector.11b01df4.svg\";","module.exports = __webpack_public_path__ + \"static/media/mold.71c1f6dc.svg\";","module.exports = __webpack_public_path__ + \"static/media/logo-dark.f159a8d1.png\";","module.exports = __webpack_public_path__ + \"static/media/intro.135fbc8c.jpg\";","module.exports = __webpack_public_path__ + \"static/media/about1.dec583f7.jpg\";","module.exports = __webpack_public_path__ + \"static/media/about2.97981d66.jpg\";","module.exports = __webpack_public_path__ + \"static/media/about3.02812765.jpg\";","module.exports = __webpack_public_path__ + \"static/media/about4.c32c406b.jpg\";","module.exports = __webpack_public_path__ + \"static/media/logo.78952398.png\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAgY0hSTQAAeiYAAICEAAD6AAAAgOgAAHUwAADqYAAAOpgAABdwnLpRPAAAAVBQTFRF////8/Pz29vb1tbW+fn519fXfHx8QUFBHBwcLy8v3dzZ/+eZ/+26//78/v7+p6enKSkpAAAA2dfR/9BI/8EV/+SU/f77qampFxcX2dfQ/9FH/7YA/8IU/+mv3t7eMTEx/9BJ/7gA/7oA/81E//noh4eH/7kA/8AO/+uw+Pj4s7Ozubm59fX1WFhY/9FI/7wF/+ab+/v7rq6uUlJSBAQE3d3d/70G/+iffX19EBAQLCws2traPDw8/8Qd/vPKhISEBgYG/7cA/7sA/9t0//77wcHBGRkZ2tfQ/9JF//ffcHBwHRwc2tfS/9Za/9Zg//ba/f//5ubmq6urg4ODlJSU6enpRERE2tnX//nf//3x7e3tioqKLS0t1dXV2dnZ5eXlV1dX1NTU9/f3aGhooqKiDg4OUVFRAgICPT09Hh4etra2o6OjtLS08PDw8vLyoaGhAp6M4AAAAAFiS0dEAIgFHUgAAAAJcEhZcwAAAEgAAABIAEbJaz4AAAD8SURBVDjLY2AYwoCRiZkFjzQrGzsHJxc3Dy92aT5+AUFBQQ4hYRFRMawKxCUEQQokpaRlZLHJy8kLghUIKSgqKatgUaAqCFOgpqSugSqnyaylraMLU6CnpKRvgCxtaGTMYcJpyo6kwMwc2esWlkBxK2sbmAJhJTVbOyTP2TsIoiiQ1HN0cnZBKHB1E0RV4C6l5uGJZIOXIKoCbx9fP/8AiFxgUHBIaBiaAo7wiEiIdFS0vINgTCwnuoI4qNHxCSZAbkxiDA4FSclgLm4FKakEFKQJpgOBIGciJ4QRw5QBYWRaQxRkpWQDQUpObg6EoZWnnQ9mGOVRK3UOCwAAoek8remBZVEAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTktMDMtMDdUMTU6MjI6NDcrMDA6MDAX6Wg+AAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE5LTAzLTA3VDE1OjIyOjQ3KzAwOjAwZrTQggAAAEZ0RVh0c29mdHdhcmUASW1hZ2VNYWdpY2sgNi43LjgtOSAyMDE0LTA1LTEyIFExNiBodHRwOi8vd3d3LmltYWdlbWFnaWNrLm9yZ9yG7QAAAAAYdEVYdFRodW1iOjpEb2N1bWVudDo6UGFnZXMAMaf/uy8AAAAYdEVYdFRodW1iOjpJbWFnZTo6aGVpZ2h0ADE5Mg8AcoUAAAAXdEVYdFRodW1iOjpJbWFnZTo6V2lkdGgAMTky06whCAAAABl0RVh0VGh1bWI6Ok1pbWV0eXBlAGltYWdlL3BuZz+yVk4AAAAXdEVYdFRodW1iOjpNVGltZQAxNTUxOTcyMTY3I89bNwAAAA90RVh0VGh1bWI6OlNpemUAMEJClKI+7AAAAFZ0RVh0VGh1bWI6OlVSSQBmaWxlOi8vL21udGxvZy9mYXZpY29ucy8yMDE5LTAzLTA3L2UxODRlNWEzMjUxZDg2ZDM2Y2E4MmE3YWY5ZTkxNGJiLmljby5wbmfA/GasAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAgY0hSTQAAeiYAAICEAAD6AAAAgOgAAHUwAADqYAAAOpgAABdwnLpRPAAAAMxQTFRF////8fHx4eLi+vn3///++/v7p6enPDw8Njc54c2U/+aZ/v35qqqqDw8PAAAAHR4h3sFy/8AQ/+ej9vb219fX3t7eSEhI3sJ0/7sA/9FS0NDQUlJSFhYWeHh4Li4u3sJz/9Rc5ubmOjo6cHBwLS0t/8Yh/u692dnZzMzMnZ2dAwMDHR4f3tCm//HC/v/+8PDwfX19GhoaLy8vbm5uHR0ddnZ2BAQEJycnbGxs3d3ddXV1XV1do6OjXl5eX19fpaWle3t7cXFx6urq/v7+Ke5pUwAAAAFiS0dEAIgFHUgAAAAJcEhZcwAAAEgAAABIAEbJaz4AAACBSURBVBjTY2AgBTAyMbMgcVnZ2Dk4ubgRAjy8fPwCgkJQnrCIqBgfH7+4hCSELyUtIysHFJCXUADzFZX4+JRVgAICqmpAw9Q1NLUgAto6unoM+gaGRsZ8EAETUaByUzM+cwuYgCVQwMraWtbG1s7W3sHa2tEJKODs7AwnSPIXAgAAOtMOgXa08DAAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTktMDMtMDdUMTU6MjI6NDcrMDA6MDAX6Wg+AAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE5LTAzLTA3VDE1OjIyOjQ3KzAwOjAwZrTQggAAAEZ0RVh0c29mdHdhcmUASW1hZ2VNYWdpY2sgNi43LjgtOSAyMDE0LTA1LTEyIFExNiBodHRwOi8vd3d3LmltYWdlbWFnaWNrLm9yZ9yG7QAAAAAYdEVYdFRodW1iOjpEb2N1bWVudDo6UGFnZXMAMaf/uy8AAAAYdEVYdFRodW1iOjpJbWFnZTo6aGVpZ2h0ADE5Mg8AcoUAAAAXdEVYdFRodW1iOjpJbWFnZTo6V2lkdGgAMTky06whCAAAABl0RVh0VGh1bWI6Ok1pbWV0eXBlAGltYWdlL3BuZz+yVk4AAAAXdEVYdFRodW1iOjpNVGltZQAxNTUxOTcyMTY3I89bNwAAAA90RVh0VGh1bWI6OlNpemUAMEJClKI+7AAAAFZ0RVh0VGh1bWI6OlVSSQBmaWxlOi8vL21udGxvZy9mYXZpY29ucy8yMDE5LTAzLTA3L2UxODRlNWEzMjUxZDg2ZDM2Y2E4MmE3YWY5ZTkxNGJiLmljby5wbmfA/GasAAAAAElFTkSuQmCC\"","module.exports = __webpack_public_path__ + \"static/media/bg-showcase-1.d2bd7dec.png\";","module.exports = __webpack_public_path__ + \"static/media/bg-showcase-2.9c5122b0.png\";","module.exports = __webpack_public_path__ + \"static/media/bg-showcase-3.e9d2dab5.png\";","import get from \"lodash.get\";\r\nimport map from \"lodash.map\";\r\nimport foreach from \"lodash.foreach\";\r\nimport filter from \"lodash.filter\";\r\nimport reduce from \"lodash.reduce\";\r\nimport find from \"lodash.find\";\r\nimport findindex from \"lodash.findindex\";\r\nimport isnil from \"lodash.isnil\";\r\nimport split from \"lodash.split\";\r\nimport deburr from \"lodash.deburr\";\r\nimport debounce from \"lodash.debounce\";\r\nimport toupper from \"lodash.toupper\";\r\nimport upperfirst from \"lodash.upperfirst\";\r\nimport tolower from \"lodash.tolower\";\r\nimport trim from \"lodash.trim\";\r\nimport flattendeep from \"lodash.flattendeep\";\r\nimport fill from \"lodash.fill\";\r\n\r\nexport const lodashGet = get;\r\nexport const lodashMap = map;\r\nexport const lodashForEach = foreach;\r\nexport const lodashFilter = filter;\r\nexport const lodashReduce = reduce;\r\nexport const lodashFind = find;\r\nexport const lodashFindIndex = findindex;\r\nexport const lodashIsNil = isnil;\r\nexport const lodashSplit = split;\r\nexport const lodashDeburr = deburr;\r\nexport const lodashDebounce = debounce;\r\nexport const lodashToUpper = toupper;\r\nexport const lodashUpperFirst = upperfirst;\r\nexport const lodashToLower = tolower;\r\nexport const lodashTrim = trim;\r\nexport const lodashFlattenDeep = flattendeep;\r\nexport const lodashFill = fill;\r\n","const addHooks = ({ hooks, identity, hooksToAdd }) => {\r\n  let targetHooks = hooks[identity] || [];\r\n  if (!Array.isArray(targetHooks)) {\r\n    targetHooks = [targetHooks];\r\n  }\r\n  let sourceHooks = hooksToAdd || [];\r\n  if (!Array.isArray(sourceHooks)) {\r\n    sourceHooks = [];\r\n  }\r\n  return {\r\n    ...hooks,\r\n    [identity]: [...targetHooks, ...sourceHooks]\r\n  };\r\n};\r\n\r\nexport default addHooks;\r\n","import { lodashGet, lodashMap, lodashForEach, lodashIsNil } from \"./lodash\";\r\n\r\nconst validateForm = ({ fields, formItem, setFormErrors }) => {\r\n  let isValid = true;\r\n  lodashForEach(fields, field => {\r\n    let isValidField = true;\r\n    if (Array.isArray(field)) {\r\n      isValidField = validateForm({\r\n        fields: field,\r\n        formItem,\r\n        setFormErrors\r\n      });\r\n    } else {\r\n      isValidField = validateField({\r\n        field,\r\n        requiredKey: field.required,\r\n        formItem,\r\n        setFormErrors\r\n      });\r\n    }\r\n    if (isValid) {\r\n      isValid = isValidField;\r\n    }\r\n  });\r\n  return isValid;\r\n};\r\n\r\nconst validateField = ({ field, requiredKey, formItem, setFormErrors, OR = false }) => {\r\n  let isValid = true;\r\n  const value = lodashGet(formItem, field.identity);\r\n  if (Array.isArray(requiredKey)) {\r\n    const validation = lodashMap(requiredKey, key =>\r\n      validateField({\r\n        field,\r\n        requiredKey: key,\r\n        formItem,\r\n        setFormErrors,\r\n        OR: !OR\r\n      })\r\n    );\r\n    if (OR) {\r\n      return validation.indexOf(true) !== -1;\r\n    }\r\n    return validation.indexOf(false) === -1;\r\n  }\r\n  const required =\r\n    typeof requiredKey === \"boolean\" ? requiredKey : !!lodashGet(formItem, requiredKey);\r\n  if (required && (lodashIsNil(value) || value === \"\")) {\r\n    setFormErrors(prev => ({ ...prev, [field.identity]: true }));\r\n    isValid = false;\r\n  }\r\n  if (field.handleValidate) {\r\n    const validationResult = field.handleValidate({\r\n      data: {\r\n        target: {\r\n          name: field.identity,\r\n          value\r\n        }\r\n      },\r\n      item: formItem\r\n    });\r\n    if (typeof validationResult === \"string\") {\r\n      setFormErrors(prev => ({ ...prev, [field.identity]: validationResult }));\r\n      isValid = false;\r\n    }\r\n  }\r\n  return isValid;\r\n};\r\n\r\nexport default validateForm;\r\n","import { lodashGet } from \"./lodash\";\r\n\r\nconst getColor = ({ data, path }) =>\r\n  lodashGet(data, `${path}.hex`) ||\r\n  lodashGet(data, `${path}.rgb`) ||\r\n  lodashGet(data, `${path}.hsv`);\r\n\r\nexport default getColor;\r\n","import { lodashForEach } from \"./lodash\";\r\n\r\nconst getConfigs = async ({ client }) => {\r\n  try {\r\n    if (!client.get(\"config.machine.status\")) {\r\n      const { data: configs } = await client.service(\"configs\").find();\r\n      lodashForEach(configs, c => client.set(`config.${c.name}`, c));\r\n    }\r\n    if (!client.get(\"actionType.init\")) {\r\n      const { data: actionTypes } = await client\r\n        .service(\"production_order_action_types\")\r\n        .find({ query: { $populateAll: true } });\r\n      lodashForEach(actionTypes, type => client.set(`actionType.${type.id}`, type));\r\n      client.set(\"actionType.init\", true);\r\n    }\r\n  } catch (e) {\r\n    console.log(e);\r\n  }\r\n};\r\n\r\nexport default getConfigs;\r\n","import { lodashGet } from \"./lodash\";\r\n\r\nconst getEventType = ({ client, type }) =>\r\n  lodashGet(client.get(`config.productionOrder.eventType.${type}`), \"value\");\r\n\r\nexport default getEventType;\r\n","import moment from \"moment\";\r\n\r\nconst getDateJSON = ({ date }) => {\r\n  const dateD = moment(date);\r\n  return {\r\n    year: dateD.year(),\r\n    month: dateD.month(),\r\n    date: dateD.date(),\r\n    hour: dateD.hour(),\r\n    minute: dateD.minute(),\r\n    second: dateD.second()\r\n  };\r\n};\r\n\r\nexport default getDateJSON;\r\n","import { lodashGet } from \"./lodash\";\r\n\r\nconst getLastReadingCycle = ({ data: productionOrder }) => {\r\n  let lastReading =\r\n    lodashGet(productionOrder, \"lastReading.0\") ||\r\n    lodashGet(productionOrder, \"mostRecentEvent.0\") ||\r\n    [];\r\n  const totalReadingsTime =\r\n    lodashGet(lastReading, \"tr\") > 0 ? lodashGet(lastReading, \"r.length\") || 0 : 0;\r\n  return (totalReadingsTime * 60) / (lodashGet(lastReading, \"tr\") || 1);\r\n};\r\n\r\nexport default getLastReadingCycle;\r\n","import { lodashReduce } from \"./lodash\";\r\n\r\nconst getPermissions = ({ privileges = [], permissions = {} }) =>\r\n  !privileges.length ||\r\n  lodashReduce(privileges, (query, privilege) => query || !!permissions[privilege], false);\r\n\r\nexport default getPermissions;\r\n","import { lodashForEach, lodashReduce } from \"./lodash\";\r\n\r\nconst getPermissions = ({ payload, privilege }) =>\r\n  lodashReduce(payload.roles, (permission, role) => permission || role[privilege], false);\r\n\r\nconst mapPermissions = ({ payload = {} }) => {\r\n  const userPermissions = {};\r\n  lodashForEach(\r\n    [\r\n      \"writeMasterData\",\r\n      \"readMasterData\",\r\n      \"crudAdminData\",\r\n      \"crudUserData\",\r\n      \"writeActiveProductionOrders\",\r\n      \"writeScheduledStopProductionOrders\",\r\n      \"openProductionOrders\",\r\n      \"writeProductionOrderEvents\",\r\n      \"editProductionOrderEvents\",\r\n      \"readProductionOrders\",\r\n      \"readProductionOrderReports\",\r\n      \"readPendingWaste\",\r\n      \"writePendingWaste\",\r\n      \"editPendingWaste\"\r\n    ],\r\n    privilege => (userPermissions[privilege] = getPermissions({ payload, privilege }))\r\n  );\r\n  return userPermissions;\r\n};\r\n\r\nexport default mapPermissions;\r\n","const login = async ({ client, email, password, companyUUID }) => {\r\n  let response;\r\n  // console.log(\">>> effect login\", email, password, companyUUID)\r\n  if (email && password && companyUUID) {\r\n    response = await client.authenticate({\r\n      strategy: \"local\",\r\n      email,\r\n      password,\r\n      companyUUID\r\n    });\r\n    localStorage.setItem(\"companyUUID\", companyUUID);\r\n  } else {\r\n    response = await client.authenticate({\r\n      strategy: \"jwt\",\r\n      accessToken: localStorage.getItem(\"monitorprod-jwt\"),\r\n      companyUUID: localStorage.getItem(\"companyUUID\")\r\n    });\r\n  }\r\n  const payload = await client.passport.verifyJWT(response.accessToken);\r\n  return payload;\r\n};\r\n\r\nexport default login;\r\n","const logout = async ({ client }) => {\r\n  await client.logout();\r\n  localStorage.removeItem(\"companyUUID\");\r\n};\r\n\r\nexport default logout;\r\n","import React from \"react\";\r\nimport feathers from \"@feathersjs/feathers\";\r\nimport socketio from \"@feathersjs/socketio-client\";\r\nimport auth from \"@feathersjs/authentication-client\";\r\nimport io from \"socket.io-client\";\r\n\r\nconst setCompanyUUID = async (context) => {\r\n  const companyUUID = localStorage.getItem(\"companyUUID\");\r\n  const { data, params } = context;\r\n  context.data = { ...data, companyUUID };\r\n  params.query = {\r\n    ...params.query,\r\n    companyUUID,\r\n  };\r\n  return context;\r\n};\r\nconst client = feathers();\r\n// client.set(\"cloudURL\", \"https://www.monitorprod.com.br\");\r\nclient.set(\"cloudURL\", \"https://monitorprod.herokuapp.com\");\r\n// client.set(\"cloudURL\", \"http://localhost:3030\");\r\nconst socket = io(client.get(\"cloudURL\"));\r\nclient\r\n  .configure(socketio(socket, { timeout: 100000 }))\r\n  .configure(\r\n    auth({ storageKey: \"monitorprod-jwt\", storage: window.localStorage })\r\n  )\r\n  .hooks({\r\n    before: {\r\n      all: [setCompanyUUID],\r\n    },\r\n  });\r\n\r\n  client.socket = socket;\r\n\r\nexport default React.createContext(client);\r\n","/**\r\n * Chartist.js plugin to display a target line on a chart.\r\n * With code from @gionkunz in https://github.com/gionkunz/chartist-js/issues/235\r\n * and @OscarGodson in https://github.com/gionkunz/chartist-js/issues/491.\r\n * and @EmersonBottero in https://github.com/gionkunz/chartist-js/issues/235\r\n * Based on https://github.com/gionkunz/chartist-plugin-pointlabels\r\n */\r\n\r\n// eslint-disable-next-line no-unused-vars\r\n/* global Chartist */\r\nimport Chartist from \"chartist\";\r\nimport { NUMBER_FORMAT } from \"../../utils\";\r\n\r\n((window, document, Chartist) => {\r\n  Chartist.plugins = Chartist.plugins || {};\r\n  Chartist.plugins.targetLine = (options) => {\r\n    const targetLine = (chart) => {\r\n      chart.on(\"created\", (context) => {\r\n        options.class = \"ct-target-line\";\r\n        if (context.axisX && context.options.horizontalBars) {\r\n          const targetLineX =\r\n            context.chartRect.x1 + context.axisX.projectValue(options.value);\r\n          context.svg.elem(\r\n            \"line\",\r\n            {\r\n              x1: targetLineX,\r\n              x2: targetLineX,\r\n              y1: context.chartRect.y1,\r\n              y2: context.chartRect.y2,\r\n            },\r\n            options.class\r\n          );\r\n        } else if (context.axisX && !context.options.horizontalBars) {\r\n          const targetLineY =\r\n            context.chartRect.y1 - context.axisY.projectValue(options.value);\r\n          context.svg.elem(\r\n            \"line\",\r\n            {\r\n              x1: context.chartRect.x1,\r\n              x2: context.chartRect.x2,\r\n              y1: targetLineY,\r\n              y2: targetLineY,\r\n            },\r\n            options.class\r\n          );\r\n        } else {\r\n          options.class = \"ct-gauge-needle\";\r\n          const centerX = (context.chartRect.x1 + context.chartRect.x2) / 2;\r\n          const centerY = (context.chartRect.y1 + context.chartRect.y2) / 2;\r\n          const needleLength = 150;\r\n          const needleRadius = 5;\r\n          const percentToDegree = (p) => p * 360;\r\n          const degreeToRadian = (d) => (d * Math.PI) / 180;\r\n          const percentToRadian = (p) => degreeToRadian(percentToDegree(p));\r\n          // TODO this is hardcoded, consider the arc and length on options\r\n          // const relativePercentage =\r\n          //   Math.round(\r\n          //     ((parseFloat(options.value) * (116.66666 - -16.66666)) / 100 + -16.66666) * 10\r\n          //   ) / 10;\r\n          const relativePercentage = parseFloat(options.value);\r\n          const thetaRad = percentToRadian(\r\n            (relativePercentage > 105 ? 105 : relativePercentage) / 100 / 2\r\n          );\r\n          const topX = centerX - needleLength * Math.cos(thetaRad);\r\n          const topY = centerY - needleLength * Math.sin(thetaRad);\r\n          const leftX =\r\n            centerX - needleRadius * Math.cos(thetaRad - Math.PI / 2);\r\n          const leftY =\r\n            centerY - needleRadius * Math.sin(thetaRad - Math.PI / 2);\r\n          const rightX =\r\n            centerX - needleRadius * Math.cos(thetaRad + Math.PI / 2);\r\n          const rightY =\r\n            centerY - needleRadius * Math.sin(thetaRad + Math.PI / 2);\r\n          context.svg.elem(\r\n            \"circle\",\r\n            {\r\n              cx: centerX,\r\n              cy: centerY,\r\n              r: needleRadius,\r\n            },\r\n            options.class\r\n          );\r\n          context.svg.elem(\r\n            \"path\",\r\n            {\r\n              d: `M ${leftX} ${leftY} L ${topX} ${topY} L ${rightX} ${rightY}`,\r\n            },\r\n            options.class\r\n          );\r\n          const text = context.svg.elem(\r\n            \"text\",\r\n            {\r\n              x: topX,\r\n              y: topY - 20,\r\n              style: `fill:${options.color};stroke:${options.color};`,\r\n            },\r\n            options.class\r\n          );\r\n          text._node.innerHTML = `${NUMBER_FORMAT(\r\n            parseFloat(options.value).toFixed(2)\r\n          )}%`;\r\n        }\r\n      });\r\n    };\r\n    return targetLine;\r\n  };\r\n})(window, document, Chartist);\r\n","import { useContext, useState, useEffect } from \"react\";\r\nimport ApiContext from \"../api\";\r\nimport login from \"./login\";\r\nimport getConfigs from \"./getConfigs\";\r\nimport getPermissions from \"./getPermissions\";\r\nimport mapPermissions from \"./mapPermissions\";\r\n\r\nconst useAuth = ({ dependencies = [], privileges = [] } = {}) => {\r\n  const client = useContext(ApiContext);\r\n  const [session, setSesstion] = useState();\r\n  const [loading, setLoading] = useState(true);\r\n  const [permissions, setPermissions] = useState({});\r\n  const [hasAccess, setHasAccess] = useState(false);\r\n  const stringPrivileges = JSON.stringify(privileges);\r\n  const stringDependencies = JSON.stringify(dependencies);\r\n  useEffect(() => {\r\n    const parsedPrivileges = JSON.parse(stringPrivileges);\r\n    // const parsedDependencies = JSON.parse(stringDependencies);\r\n    const authenticate = async () => {\r\n      setLoading(true);\r\n      try {\r\n        const payload = await login({ client });\r\n        await getConfigs({ client });\r\n        setSesstion(payload);\r\n        const userPermissions = mapPermissions({ payload });\r\n        setPermissions(userPermissions);\r\n        if (!parsedPrivileges.length) {\r\n          setHasAccess(true);\r\n        } else {\r\n          setHasAccess(\r\n            getPermissions({ privileges: parsedPrivileges, permissions: userPermissions })\r\n          );\r\n        }\r\n      } catch (error) {\r\n        setSesstion();\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n    // console.log(\">>> effect AUTH\");\r\n    authenticate();\r\n  }, [client, stringPrivileges, stringDependencies]);\r\n  return { session, loading, permissions, hasAccess };\r\n};\r\n\r\nexport default useAuth;\r\n","import { lodashMap } from \"./lodash\";\r\n\r\nconst runHooks = async ({ hooks = {}, identity, data }) => {\r\n  let continueOperation = true;\r\n  if (hooks[identity]) {\r\n    let hooksToRun = hooks[identity];\r\n    if (!Array.isArray(hooksToRun)) {\r\n      hooksToRun = [hooksToRun];\r\n    }\r\n    await Promise.all(\r\n      lodashMap(hooksToRun, async hook => {\r\n        const result = await hook({ data });\r\n        if (continueOperation) {\r\n          continueOperation = result;\r\n        }\r\n      })\r\n    );\r\n  }\r\n  return continueOperation;\r\n};\r\n\r\nexport default runHooks;\r\n","import { useContext, useState, useEffect, useCallback } from \"react\";\r\nimport ApiContext from \"../api\";\r\nimport {\r\n  lodashForEach,\r\n  lodashFind,\r\n  lodashIsNil,\r\n  lodashSplit,\r\n  lodashToUpper,\r\n  lodashFlattenDeep\r\n} from \"./lodash\";\r\nimport runHooks from \"./runHooks\";\r\nimport validateForm from \"./validateForm\";\r\n\r\nconst useUpsertService = ({\r\n  model: propsModel,\r\n  fields: propsFields,\r\n  data,\r\n  hooks = {}\r\n}) => {\r\n  const client = useContext(ApiContext);\r\n  const [newItem, setNewItem] = useState({});\r\n  const [formItem, setFormItem] = useState({ ...data });\r\n  const [formErrors, setFormErrors] = useState({});\r\n  const [loading, setLoading] = useState();\r\n  const [errors, setErrors] = useState();\r\n  const [model, setModel] = useState(propsModel);\r\n  const [fields, setFields] = useState(propsFields);\r\n  useEffect(() => {\r\n    setErrors();\r\n    setFormErrors({});\r\n    setFormItem({ ...data });\r\n  }, [data]);\r\n  const flattenFields = lodashFlattenDeep(fields);\r\n  const stringHooks = JSON.stringify(hooks);\r\n  const stringFormItem = JSON.stringify(formItem);\r\n  const handleChange = useCallback(\r\n    ({ target }) => {\r\n      const asyncHandleChange = async () => {\r\n        const field =\r\n          lodashFind(flattenFields, { identity: target.name }) || {};\r\n        // console.log(\"!!! useCallback handleChange\", target, field.identity);\r\n        if (field.handleChange) {\r\n          field.handleChange({\r\n            client,\r\n            data: { target },\r\n            field,\r\n            item: JSON.parse(stringFormItem),\r\n            handleChange\r\n          });\r\n        }\r\n        setFormItem(prev => {\r\n          // console.log(\"!!setFormItem\", target, field, data);\r\n          return {\r\n            ...prev,\r\n            [target.name]:\r\n              !lodashIsNil(target.value) &&\r\n              field.type !== \"boolean\" &&\r\n              field.type !== \"checklist\" &&\r\n              field.type !== \"table\" &&\r\n              field.type !== \"image\" &&\r\n              field.type !== \"content\" &&\r\n              target.name !== \"loginName\"\r\n                ? lodashToUpper(target.value)\r\n                : target.value || null\r\n          };\r\n        });\r\n        await runHooks({\r\n          hooks,\r\n          data: target,\r\n          identity: \"afterChange\"\r\n        });\r\n      };\r\n      asyncHandleChange();\r\n    },\r\n    // [client, stringFormItem, flattenFields, hooks],\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    [client, stringFormItem, stringHooks]\r\n  );\r\n  const handleSubmit = async e => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    setErrors();\r\n    setFormErrors({});\r\n    try {\r\n      let continueOperation = true;\r\n      if (!validateForm({ fields, formItem, setFormErrors })) {\r\n        continueOperation = false;\r\n      }\r\n      if (\r\n        !(await runHooks({ hooks, data: formItem, identity: \"beforeSubmit\" }))\r\n      ) {\r\n        continueOperation = false;\r\n      }\r\n      if (!continueOperation) {\r\n        setLoading(false);\r\n        return;\r\n      }\r\n      const cleanFormItem = {\r\n        id: formItem.id\r\n      };\r\n      lodashForEach(\r\n        flattenFields,\r\n        ({ identity }) => (cleanFormItem[identity] = formItem[identity])\r\n      );\r\n      if (cleanFormItem.id) {\r\n        console.log(\"patch\", cleanFormItem);\r\n        await client.service(model).patch(cleanFormItem.id, cleanFormItem);\r\n        await runHooks({ hooks, data: formItem, identity: \"afterSubmit\" });\r\n      } else {\r\n        console.log(\"create\", cleanFormItem);\r\n        const data = await client.service(model).create(cleanFormItem);\r\n        setNewItem(data);\r\n        await runHooks({ hooks, data, identity: \"afterSubmit\" });\r\n      }\r\n    } catch (error) {\r\n      console.log(\"upsert error:\", error);\r\n      lodashForEach(error.errors, ({ path, validatorKey }) => {\r\n        const fieldIdentity = lodashSplit(path, \"_\")[0];\r\n        const fieldError = lodashFind(flattenFields, {\r\n          identity: fieldIdentity\r\n        });\r\n        if (validatorKey === \"not_unique\" && fieldError) {\r\n          handleFormErrors({\r\n            identity: fieldError.identity,\r\n            value: `Já existe um registro com esse ${fieldError.text}`\r\n          });\r\n        }\r\n      });\r\n      setErrors(error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n  const handleFormErrors = ({ identity, value }) =>\r\n    setFormErrors(prev => ({ ...prev, [identity]: value }));\r\n  return {\r\n    newItem,\r\n    formItem,\r\n    formErrors,\r\n    handleChange,\r\n    handleSubmit,\r\n    handleFormErrors,\r\n    loading,\r\n    errors,\r\n    setModel,\r\n    setFields\r\n  };\r\n};\r\n\r\nexport default useUpsertService;\r\n","import { useContext, useState, useEffect } from \"react\";\r\nimport ApiContext from \"../api\";\r\nimport runHooks from \"./runHooks\";\r\n\r\nconst useDeleteService = ({ model: propsModel, item: propsItem, hooks = {} }) => {\r\n  const client = useContext(ApiContext);\r\n  const [item, setItem] = useState(propsItem);\r\n  const [loading, setLoading] = useState();\r\n  const [errors, setErrors] = useState();\r\n  const [model, setModel] = useState(propsModel);\r\n  useEffect(() => {\r\n    // console.log(\">>> effect DELETE setErrors\");\r\n    setErrors();\r\n  }, [item]);\r\n  const handleDelete = ({ id }) => async () => {\r\n    if (!window.confirm(\"Você quer apagar o item?\")) {\r\n      return;\r\n    }\r\n    setErrors();\r\n    setLoading(true);\r\n    try {\r\n      console.log(\"delete\", item);\r\n      await runHooks({ hooks, item, identity: \"beforeDelete\" });\r\n      await client.service(model).remove(id || item.id);\r\n      await runHooks({ hooks, item, identity: \"afterDelete\" });\r\n    } catch (error) {\r\n      setErrors(error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n  return { item, handleDelete, loading, errors, setModel, setItem };\r\n};\r\n\r\nexport default useDeleteService;\r\n","import { useContext, useState, useEffect, useCallback } from \"react\";\r\nimport { useDebouncedCallback } from \"use-debounce\";\r\nimport ApiContext from \"../api\";\r\n\r\nconst useFindService = ({ model: propsModel, query: propsQuery = {}, timeCarousel }) => {\r\n  const client = useContext(ApiContext);\r\n  const [list, setList] = useState([]);\r\n  const [loading, setLoading] = useState();\r\n  const [errors, setErrors] = useState();\r\n  const [model, setModel] = useState(propsModel);\r\n  const [query, setQuery] = useState(propsQuery);\r\n  const [trigger, setTrigger] = useState();\r\n  const stringQuery = JSON.stringify(query);\r\n  const [doFind] = useDebouncedCallback(\r\n    useCallback(() => {\r\n      const find = async () => {\r\n        // console.log(\">>> effect FIND\", stringQuery, trigger);\r\n        setLoading(true);\r\n        setErrors();\r\n        try {\r\n          const { data } = await client.service(model).find({ query: JSON.parse(stringQuery) });\r\n          setList(data);\r\n        } catch (error) {\r\n          setErrors(error);\r\n        } finally {\r\n          setLoading(false);\r\n        }\r\n      };\r\n      if (timeCarousel) {\r\n        setTimeout(() => {\r\n          find()\r\n        }, timeCarousel * 1000)\r\n      } else {\r\n        find();\r\n      } \r\n      // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [client, model, stringQuery, trigger]),\r\n    300\r\n  );\r\n  useEffect(() => {\r\n    // const find = async () => {\r\n    //   console.log(\">>> effect FIND\", stringQuery, trigger);\r\n    //   setLoading(true);\r\n    //   setErrors();\r\n    //   try {\r\n    //     const { data } = await client.service(model).find({ query: JSON.parse(stringQuery) });\r\n    //     setList(data);\r\n    //   } catch (error) {\r\n    //     setErrors(error);\r\n    //   } finally {\r\n    //     setLoading(false);\r\n    //   }\r\n    // };\r\n    // find();\r\n    doFind();\r\n  }, [doFind]);\r\n  const reload = useCallback(() => {\r\n    // console.log(\"!! useCallback FIND reload\");\r\n    setTrigger(Date.now());\r\n  }, []);\r\n  return { list, loading, errors, reload, setModel, setQuery };\r\n};\r\n\r\nexport default useFindService;\r\n","import { useContext, useState, useEffect, useCallback } from \"react\";\r\nimport ApiContext from \"../api\";\r\n\r\nconst useGetService = ({ model: propsModel, id, query: propsQuery = {} }) => {\r\n  const client = useContext(ApiContext);\r\n  const [item, setItem] = useState({});\r\n  const [loading, setLoading] = useState();\r\n  const [errors, setErrors] = useState();\r\n  const [model, setModel] = useState(propsModel);\r\n  const [query, setQuery] = useState(propsQuery);\r\n  const [trigger, setTrigger] = useState();\r\n  const stringQuery = JSON.stringify(query);\r\n  useEffect(() => {\r\n    const get = async () => {\r\n      // console.log(\">>> effect GET\");\r\n      setLoading(true);\r\n      setErrors();\r\n      try {\r\n        if (id !== \"new\" && id !== \"list\" && id) {\r\n          const data = await client.service(model).get(id, { query: JSON.parse(stringQuery) });\r\n          // console.log(\"!!! GET\", data);\r\n          setItem(data);\r\n        } else {\r\n          setItem();\r\n        }\r\n      } catch (error) {\r\n        setErrors(error);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n    get();\r\n  }, [client, model, id, trigger, stringQuery]);\r\n  const reload = useCallback(() => {\r\n    // console.log(\"!! useCallback GET reload\");\r\n    setTrigger(Date.now());\r\n  }, []);\r\n  return { item, loading, errors, reload, setModel, setQuery };\r\n};\r\n\r\nexport default useGetService;\r\n","import { useState, useEffect } from \"react\";\r\nimport useFindService from \"./useFindService\";\r\nimport useDeleteService from \"./useDeleteService\";\r\n\r\nconst useFindDeleteService = ({ model, query = {} }) => {\r\n  const [findQuery, setFindQuery] = useState({\r\n    $populateAll: true,\r\n    $sort: {\r\n      name: 1\r\n    },\r\n    ...query\r\n  });\r\n  const { list, loading: findLoading, errors: findErrors, reload, setQuery } = useFindService({\r\n    model,\r\n    query: findQuery\r\n  });\r\n  const stringQuery = JSON.stringify(query);\r\n  useEffect(() => {\r\n    // console.log(\"!!!efect setFindQuery\", stringQuery, query);\r\n    setFindQuery(prev => ({ ...prev, ...JSON.parse(stringQuery) }));\r\n  }, [stringQuery]);\r\n  const stringFindQuery = JSON.stringify(findQuery);\r\n  useEffect(() => {\r\n    // console.log(\"!!!efect setQuery\", stringFindQuery, findQuery);\r\n    setQuery(JSON.parse(stringFindQuery));\r\n  }, [stringFindQuery, setQuery]);\r\n  const reloadFindHook = async () => reload();\r\n  const { handleDelete: doDelete, loading: deleteLoading, errors: deleteErrors } = useDeleteService(\r\n    {\r\n      model,\r\n      hooks: {\r\n        afterDelete: [reloadFindHook]\r\n      }\r\n    }\r\n  );\r\n  const [deleteRef, setDeleteRef] = useState({});\r\n  const handleDelete = ({ id }) => () => {\r\n    setDeleteRef(prev => ({ ...prev, [id]: true }));\r\n    doDelete({ id })();\r\n  };\r\n  return {\r\n    list,\r\n    setFindQuery,\r\n    handleDelete,\r\n    deleteRef,\r\n    deleteLoading,\r\n    findLoading,\r\n    loading: deleteLoading || findLoading,\r\n    errors: deleteErrors || findErrors\r\n  };\r\n};\r\n\r\nexport default useFindDeleteService;\r\n","import { useContext, useState, useEffect } from \"react\";\r\nimport ApiContext from \"../api\";\r\nimport getColor from \"./getColor\";\r\nimport getEventType from \"./getEventType\";\r\n\r\nconst useStatusSensor = ({ ip }) => {\r\n  const client = useContext(ApiContext);\r\n  const activeEventType = getEventType({ client, type: \"active\" });\r\n  const undefinedEventType = getEventType({ client, type: \"undefined\" });\r\n  const activeColor = getColor({\r\n    data: client.get(`actionType.${activeEventType}`),\r\n    path: \"color\"\r\n  });\r\n  const undefinedColor = getColor({\r\n    data: client.get(`actionType.${undefinedEventType}`),\r\n    path: \"color\"\r\n  });\r\n  const [status, setStatus] = useState(undefinedColor);\r\n  const deviceURL = `http://${ip}:3030`;\r\n  useEffect(() => {\r\n    const getStatusSensor = async () => {\r\n      const FETCH_TIMEOUT = 5000;\r\n      let didTimeOut = false;\r\n      const response = await new Promise((resolve, reject) => {\r\n        const fetchTimeout = setTimeout(() => {\r\n          didTimeOut = true;\r\n          resolve(undefinedColor);\r\n        }, FETCH_TIMEOUT);\r\n        // fetch(`${client.get(\"cloudURL\")}/redirect_status_sensor?url=${deviceURL}/use_status_sensor`)\r\n        fetch(`${deviceURL}/use_status_sensor`)\r\n          .then(() => {\r\n            clearTimeout(fetchTimeout);\r\n            if (!didTimeOut) {\r\n              resolve(activeColor);\r\n            }\r\n          })\r\n          .catch(() => resolve(undefinedColor));\r\n      });\r\n      setStatus(response);\r\n    };\r\n    getStatusSensor();\r\n    const getStatusInterval = setInterval(() => {\r\n      getStatusSensor();\r\n    }, 10000);\r\n    return () => {\r\n      clearInterval(getStatusInterval);\r\n    };\r\n  }, [activeColor, deviceURL, undefinedColor]);\r\n  return { status, href: `${deviceURL}/use_status_sensor` };\r\n};\r\n\r\nexport default useStatusSensor;\r\n","import { useState, useEffect } from \"react\";\r\nimport { lodashFind } from \"./lodash\";\r\nimport useFindService from \"./useFindService\";\r\n\r\nconst useSensorAllURL = () => {\r\n  const [unreachableSensors, setUnreachableSensors] = useState([]);\r\n  const [sensorsURL, setSensorsURL] = useState(\"\");\r\n  const { list } = useFindService({\r\n    model: \"sensors\"\r\n  });\r\n  useEffect(() => {\r\n    const getStatusSensor = async () => {\r\n      const sensor =\r\n        lodashFind(\r\n          list,\r\n          sensor => sensor.ip && sensor.machineId && unreachableSensors.indexOf(sensor.id) === -1\r\n        ) || {};\r\n      const deviceURL = `http://${sensor.ip}:3030`;\r\n      const FETCH_TIMEOUT = 5000;\r\n      let didTimeOut = false;\r\n      const response = await new Promise((resolve, reject) => {\r\n        const fetchTimeout = setTimeout(() => {\r\n          didTimeOut = true;\r\n          resolve({\r\n            sensorId: sensor.id\r\n          });\r\n        }, FETCH_TIMEOUT);\r\n        fetch(`${deviceURL}/use_status_sensor`)\r\n          .then(() => {\r\n            clearTimeout(fetchTimeout);\r\n            if (!didTimeOut) {\r\n              resolve({\r\n                url: `http://${sensor.ip}:3030/realtime-dashboard`\r\n              });\r\n            }\r\n          })\r\n          .catch(() =>\r\n            resolve({\r\n              sensorId: sensor.id\r\n            })\r\n          );\r\n      });\r\n      if (response.sensorId) {\r\n        setUnreachableSensors(prev => [...prev, response.sensorId]);\r\n      } else {\r\n        setSensorsURL(response.url);\r\n      }\r\n    };\r\n    getStatusSensor();\r\n  }, [list, unreachableSensors]);\r\n  return { sensorsURL };\r\n};\r\n\r\nexport default useSensorAllURL;\r\n","import { Redirect as eRedirect } from \"react-router\";\r\nimport {\r\n  BrowserRouter as eBrowserRouter,\r\n  Route as eRoute,\r\n  Link as eLink,\r\n  Switch as eSwitch,\r\n} from \"react-router-dom\";\r\nimport { withRouter as eWithRouter } from \"react-router\";\r\nimport { withStyles as eWithStyles } from \"@material-ui/styles\";\r\nimport eClassNames from \"classnames\";\r\nimport {\r\n  lodashGet as eLodashGet,\r\n  lodashMap as eLodashMap,\r\n  lodashForEach as eLodashForEach,\r\n  lodashFilter as eLodashFilter,\r\n  lodashReduce as eLodashReduce,\r\n  lodashFind as eLodashFind,\r\n  lodashFindIndex as eLodashFindIndex,\r\n  lodashIsNil as eLodashIsNil,\r\n  lodashSplit as eLodashSplit,\r\n  lodashDeburr as eLodashDeburr,\r\n  lodashDebounce as eLodashDebounce,\r\n  lodashToUpper as eLodashToUpper,\r\n  lodashUpperFirst as eLodashUpperFirst,\r\n  lodashToLower as eLodashToLower,\r\n  lodashTrim as eLodashTrim,\r\n  lodashFlattenDeep as eLodashFlattenDeep,\r\n  lodashFill as eLodashFill,\r\n} from \"./lodash\";\r\nimport * as eFormatNumber from \"format-number\";\r\nimport eAddHooks from \"./addHooks\";\r\nimport eValidateForm from \"./validateForm\";\r\nimport eGetColor from \"./getColor\";\r\nimport eGetConfigs from \"./getConfigs\";\r\nimport eGetEventType from \"./getEventType\";\r\nimport eGetDateJSON from \"./getDateJSON\";\r\nimport eGetLastReadingCycle from \"./getLastReadingCycle\";\r\nimport eGetPermissions from \"./getPermissions\";\r\nimport eMapPermissions from \"./mapPermissions\";\r\nimport eLogin from \"./login\";\r\nimport eLogout from \"./logout\";\r\nimport eUseAuth from \"./useAuth\";\r\nimport eUseUpsertService from \"./useUpsertService\";\r\nimport eUseDeleteService from \"./useDeleteService\";\r\nimport eUseFindService from \"./useFindService\";\r\nimport eUseGetService from \"./useGetService\";\r\nimport eUseFindDeleteService from \"./useFindDeleteService\";\r\nimport eUseStatusSensor from \"./useStatusSensor\";\r\nimport eUseSensorAllURL from \"./useSensorAllURL\";\r\n\r\nexport const Redirect = eRedirect;\r\nexport const BrowserRouter = eBrowserRouter;\r\nexport const Route = eRoute;\r\nexport const Link = eLink;\r\nexport const Switch = eSwitch;\r\nexport const withRouter = eWithRouter;\r\nexport const withStyles = eWithStyles;\r\nexport const classNames = eClassNames;\r\nexport const lodashGet = eLodashGet;\r\nexport const lodashMap = eLodashMap;\r\nexport const lodashForEach = eLodashForEach;\r\nexport const lodashFilter = eLodashFilter;\r\nexport const lodashReduce = eLodashReduce;\r\nexport const lodashFind = eLodashFind;\r\nexport const lodashFindIndex = eLodashFindIndex;\r\nexport const lodashIsNil = eLodashIsNil;\r\nexport const lodashSplit = eLodashSplit;\r\nexport const lodashDeburr = eLodashDeburr;\r\nexport const lodashDebounce = eLodashDebounce;\r\nexport const lodashToUpper = eLodashToUpper;\r\nexport const lodashUpperFirst = eLodashUpperFirst;\r\nexport const lodashToLower = eLodashToLower;\r\nexport const lodashTrim = eLodashTrim;\r\nexport const lodashFlattenDeep = eLodashFlattenDeep;\r\nexport const lodashFill = eLodashFill;\r\nexport const formatNumber = eFormatNumber;\r\nexport const NUMBER_FORMAT = formatNumber({\r\n  integerSeparator: \".\",\r\n  decimal: \",\",\r\n});\r\nexport const addHooks = eAddHooks;\r\nexport const validateForm = eValidateForm;\r\nexport const getColor = eGetColor;\r\nexport const getConfigs = eGetConfigs;\r\nexport const getEventType = eGetEventType;\r\nexport const getDateJSON = eGetDateJSON;\r\nexport const getLastReadingCycle = eGetLastReadingCycle;\r\nexport const getPermissions = eGetPermissions;\r\nexport const mapPermissions = eMapPermissions;\r\nexport const login = eLogin;\r\nexport const logout = eLogout;\r\nexport const useAuth = eUseAuth;\r\nexport const useUpsertService = eUseUpsertService;\r\nexport const useDeleteService = eUseDeleteService;\r\nexport const useFindService = eUseFindService;\r\nexport const useGetService = eUseGetService;\r\nexport const useFindDeleteService = eUseFindDeleteService;\r\nexport const useStatusSensor = eUseStatusSensor;\r\nexport const useSensorAllURL = eUseSensorAllURL;\r\n","import React from \"react\";\r\nimport { Tooltip, Button, IconButton, Icon, Hidden, Avatar } from \"@material-ui/core\";\r\nimport { withStyles, classNames, lodashMap, lodashSplit } from \"../../utils\";\r\n\r\nconst styles = theme => ({\r\n  button: {},\r\n  navbar: {\r\n    marginRight: theme.spacing(2),\r\n    color: \"inherit\"\r\n  },\r\n  profile: {\r\n    backgroundColor: \"unset\",\r\n    color: theme.palette.common.white,\r\n    boxShadow: \"none\"\r\n  },\r\n  header: {\r\n    borderRadius: 4,\r\n    padding: `0 !important`,\r\n    margin: `0 0 0 ${theme.spacing(1)}px`,\r\n    fontSize: \".75rem\",\r\n    \"& button, & a\": {\r\n      padding: `0 ${theme.spacing(1)}px !important`,\r\n      margin: \"0 !important\"\r\n    }\r\n  },\r\n  toolbar: {\r\n    minHeight: \"unset\",\r\n    padding: `${theme.spacing(1 / 2)}px ${theme.spacing(1)}px`\r\n  },\r\n  table: {\r\n    borderRadius: 4,\r\n    minHeight: \"unset\",\r\n    backgroundColor: theme.palette.secondary.main,  \r\n    \"& span\":{\r\n      color: \"black !important\",\r\n    }\r\n    // backgroundColor: \"unset\"\r\n  },\r\n  lowercase: {\r\n    textTransform: \"lowercase !important\"\r\n  },\r\n  icon: {\r\n    marginRight: theme.spacing(1)\r\n  },\r\n  submit: {\r\n    borderRadius: 4,\r\n    backgroundColor: theme.palette.secondary.main,\r\n    color: theme.palette.common.black\r\n  },\r\n  delete: {\r\n    borderRadius: 4,\r\n    backgroundColor: theme.palette.primary.delete,\r\n    color: theme.palette.common.white\r\n  },\r\n  editAction: {\r\n    color: theme.palette.primary.main\r\n  },\r\n  deleteAction: {\r\n    color: theme.palette.primary.delete\r\n  },\r\n  clearAction: {\r\n    position: \"absolute\",\r\n    right: 0,\r\n    bottom: 0\r\n  },\r\n  chatSupport: {\r\n    marginRight: theme.spacing(1),\r\n    marginTop: '3px',\r\n    color: \"inherit\"\r\n  }\r\n});\r\n\r\nconst FormButton = ({\r\n  classes,\r\n  text,\r\n  icon,\r\n  avatar,\r\n  type = \"button\",\r\n  variants = \"\",\r\n  fullWidth = false,\r\n  onClick = () => {},\r\n  ...props\r\n}) => {\r\n  // console.log(\">>> render FormButton\");\r\n  const Component = type === \"icon\" ? IconButton : Button;\r\n  const buttonProps = {};\r\n  if (fullWidth) {\r\n    buttonProps.fullWidth = true;\r\n  }\r\n  return (\r\n    <Tooltip\r\n      className={classNames(lodashMap(lodashSplit(variants, \" \"), key => classes[key]))}\r\n      title={type === \"icon\" ? text : \"\"}\r\n    >\r\n      <div>\r\n        <Component\r\n          type={type && type !== \"icon\" ? type : \"button\"}\r\n          aria-label={text}\r\n          variant=\"contained\"\r\n          className={classNames(\r\n            classes.button,\r\n            lodashMap(lodashSplit(variants, \" \"), key => classes[key])\r\n          )}\r\n          onClick={onClick}\r\n          {...buttonProps}\r\n          {...props}\r\n        >\r\n          {icon && (\r\n            <React.Fragment>\r\n              <Hidden mdUp>\r\n                <Icon className={classes.lowercase}>{icon}</Icon>\r\n              </Hidden>\r\n              <Hidden smDown>\r\n                <Icon\r\n                  className={classNames(classes.lowercase, { [classes.icon]: type !== \"icon\" })}\r\n                >\r\n                  {icon}\r\n                </Icon>\r\n                {type !== \"icon\" && text}\r\n              </Hidden>\r\n            </React.Fragment>\r\n          )}\r\n          {!icon && type !== \"icon\" && text}\r\n          {avatar && (\r\n            <Avatar style={{ width: \"24px\", height: \"24px\", background: \"none\" }}>{avatar}</Avatar>\r\n          )}\r\n        </Component>\r\n      </div>\r\n    </Tooltip>\r\n  );\r\n};\r\n\r\nexport default withStyles(styles, { withTheme: true })(FormButton);\r\n","import React from \"react\";\r\nimport { BottomNavigation, BottomNavigationAction, Hidden, Icon } from \"@material-ui/core\";\r\nimport { Link, withRouter, withStyles, lodashMap } from \"../../utils\";\r\n\r\nconst styles = theme => ({\r\n  nav: {\r\n    flex: 1,\r\n    backgroundColor: \"transparent\",\r\n    '&>a':{\r\n      //shows all buttons on mobile\r\n      minWidth: 'unset'\r\n    }\r\n  },\r\n  wrapper: {\r\n    color: \"rgba(255, 255, 255, 0.5)\",\r\n  },\r\n  selected: {\r\n    fontSize: \"0.8rem !important\",\r\n    color: theme.palette.secondary.main,\r\n    \"&>span\": {\r\n      color: theme.palette.secondary.main\r\n    }\r\n  }\r\n});\r\n\r\nconst MainTabs = ({ location: { pathname }, classes, actions }) => (\r\n  <BottomNavigation value={pathname} showLabels className={classes.nav}>\r\n    {lodashMap(actions, ({ icon, href, text }) => (\r\n      <BottomNavigationAction\r\n        classes={{\r\n          selected: classes.selected,\r\n          wrapper: classes.wrapper,\r\n          label: classes.wrapper\r\n        }}\r\n        key={text}\r\n        label={<Hidden xsDown>{text}</Hidden>}\r\n        icon={<Icon>{icon}</Icon>}\r\n        component={Link}\r\n        to={href}\r\n        value={pathname.indexOf(href) !== -1 && pathname.indexOf(`${href}-`) === -1 ? pathname : -1}\r\n      />\r\n    ))}\r\n  </BottomNavigation>\r\n);\r\n\r\nexport default withRouter(withStyles(styles, { withTheme: true })(MainTabs));\r\n","import React, { useContext, useState } from \"react\";\r\nimport { TextField } from \"@material-ui/core\";\r\nimport ApiContext from \"../../api\";\r\nimport { Redirect, withStyles } from \"../../utils\";\r\nimport Button from \"../buttons\";\r\n\r\nconst styles = theme => ({\r\n  form: {\r\n    display: \"flex\",\r\n    alignItems: \"center\"\r\n  },\r\n  textField: {\r\n    width: 175,\r\n    \"&>div\": {\r\n      color: theme.palette.common.white,\r\n      \"&::before,&::after\": {\r\n        borderColor: `${theme.palette.common.white} !important`\r\n      }\r\n    }\r\n  }\r\n});\r\n\r\nconst CompanyLogin = ({ classes }) => {\r\n  const client = useContext(ApiContext);\r\n  // TODO verify no setState on render\r\n  const [loginName, setLoginName] = useState();\r\n  const [error, setError] = useState();\r\n  const [redirect, setRedirect] = useState();\r\n  const handleChange = ({ target }) => {\r\n    setLoginName(target.value);\r\n  };\r\n  const handleKeyPress = e => {\r\n    if (e.which === 13) {\r\n      handleLogin(e);\r\n    }\r\n  };\r\n  const handleLogin = async e => {\r\n    e.preventDefault();\r\n    setError();\r\n    const request = new URL(`${client.get(\"cloudURL\")}/use_company_login_name`);\r\n    const params = { loginName };\r\n    request.search = new URLSearchParams(params);\r\n    const response = await (await fetch(request)).json();\r\n    if (response.companyUUID) {\r\n      setRedirect(`/login/${response.companyUUID}`);\r\n    } else {\r\n      setError(\"Empresa não encontrada.\");\r\n    }\r\n  };\r\n  return (\r\n    <form className={classes.form}>\r\n      {redirect && <Redirect push to={redirect} />}\r\n      <TextField\r\n        className={classes.textField}\r\n        error={!!error}\r\n        helperText={error}\r\n        required\r\n        name=\"loginName\"\r\n        placeholder=\"Login da Empresa\"\r\n        value={loginName || \"\"}\r\n        onChange={handleChange}\r\n        onKeyPress={handleKeyPress}\r\n      />\r\n      <Button\r\n        type=\"icon\"\r\n        text=\"Iniciar Sessão\"\r\n        icon=\"lock_outlined\"\r\n        color=\"inherit\"\r\n        onClick={handleLogin}\r\n      />\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default withStyles(styles, { withTheme: true })(CompanyLogin);\r\n","import React from \"react\";\r\nimport { Typography } from \"@material-ui/core\";\r\nimport { withStyles } from \"../../utils\";\r\n\r\nconst styles = theme => ({\r\n  notFound: {\r\n    width: \"100%\",\r\n    textAlign: \"center\"\r\n  }\r\n});\r\n\r\nconst NotFound = ({ classes }) => (\r\n  <Typography className={classes.notFound} variant=\"body1\">\r\n    Nenhum item encontrado.\r\n  </Typography>\r\n);\r\n\r\nexport default withStyles(styles, { withTheme: true })(NotFound);\r\n","import React from \"react\";\r\nimport { LinearProgress } from \"@material-ui/core\";\r\nimport { withStyles } from \"../../utils\";\r\n\r\nconst styles = theme => ({\r\n  loader: {\r\n    width: \"100%\",\r\n    marginBottom: theme.spacing(1)\r\n  }\r\n});\r\n\r\nconst Loader = ({ classes }) => <LinearProgress className={classes.loader} variant=\"query\" />;\r\n\r\nexport default withStyles(styles, { withTheme: true })(Loader);\r\n","import React, { forwardRef } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '../../utils';\r\nimport {\r\n  Card,\r\n  CardActions,\r\n  Typography,\r\n  Icon,\r\n  IconButton\r\n} from '@material-ui/core';\r\nimport { useSnackbar } from 'notistack';\r\nimport moment from 'moment';\r\n\r\nconst styles = theme => ({\r\n  card: {\r\n    maxWidth: 450,\r\n    minWidth: 344,\r\n  },\r\n  productionExceeded: {\r\n    padding: '8px 8px 8px 16px',\r\n    backgroundColor: '#adff2f',\r\n  },\r\n  stop: {\r\n    padding: '8px 8px 8px 16px',\r\n    backgroundColor: '#993399',\r\n  },\r\n  noise: {\r\n    padding: '8px 8px 8px 16px',\r\n    backgroundColor: '#ffa000',\r\n  },\r\n  icons: {\r\n    marginLeft: 'auto',\r\n  },\r\n});\r\n\r\nconst SnackNotification = forwardRef((props, ref) => {\r\n\r\n  const { closeSnackbar } = useSnackbar();\r\n\r\n  // SET CSS\r\n  let variant;\r\n\r\n  if (props.notification.type === \"production_exceeded\") {\r\n    variant = props.classes.productionExceeded\r\n  }\r\n  if (props.notification.type === \"stop\") {\r\n    variant = props.classes.stop\r\n  }\r\n  if (props.notification.type === \"noise\") {\r\n    variant = props.classes.noise\r\n  }\r\n\r\n  return (\r\n    <Card className={props.classes.card} ref={ref}>\r\n      <CardActions\r\n        classes={{ root: `${variant}` }}\r\n      >\r\n        <div>\r\n          <Typography variant='body2' gutterBottom>{props.notification.title}</Typography>\r\n          <Typography\r\n            variant='subtitle2'\r\n            color='textSecondary'\r\n            gutterBottom\r\n          >\r\n            {moment(props.notification.createdAt).format(\"ddd, DD [de] MMM [de] YYYY HH:mm\")}\r\n          </Typography>\r\n        </div>\r\n        <div className={props.classes.icons}>\r\n          <IconButton\r\n            key=\"close\"\r\n            aria-label=\"close\"\r\n            color=\"inherit\"\r\n            className={props.classes.close}\r\n            onClick={() => closeSnackbar(props.id)}\r\n          >\r\n            <Icon>close</Icon>\r\n          </IconButton>\r\n        </div>\r\n      </CardActions>\r\n    </Card>\r\n  )\r\n})\r\n\r\nSnackNotification.propTypes = {\r\n  id: PropTypes.number.isRequired,\r\n};\r\n\r\nexport default withStyles(styles, { withTheme: true })(SnackNotification);\r\n","import React, { useContext, useRef, useState, useEffect } from \"react\";\r\nimport moment from \"moment\";\r\nimport {\r\n  Popper,\r\n  Grow,\r\n  IconButton,\r\n  Icon,\r\n  Paper,\r\n  ClickAwayListener,\r\n  List,Divider,  ListItemText,\r\n  ListItemSecondaryAction, ListItem,\r\n  AppBar, Toolbar,\r\n  Typography,\r\n} from \"@material-ui/core\";\r\nimport { useSnackbar } from 'notistack';\r\nimport ApiContext from \"../../api\";\r\nimport {\r\n  Link,\r\n  withStyles,\r\n  lodashGet,\r\n  lodashMap,\r\n  lodashSplit,\r\n  lodashToUpper,\r\n  useFindService\r\n} from \"../../utils\";\r\nimport Button from \"../buttons\";\r\nimport NotFound from \"../not-found\";\r\nimport Loader from \"../loader\";\r\nimport logo from \"../../icons/logo.svg\";\r\nimport SnackNotification from \"./SnackNotification\";\r\n\r\nconst styles = theme => ({\r\n  list: {\r\n    paddingBottom: \"0px\",\r\n    paddingTop: \"0px\",\r\n    position: 'sticky',\r\n    maxWidth: 350,\r\n    maxHeight: 750,\r\n    overflow: 'overlay',\r\n  },\r\n  item: {\r\n    height: \"auto\",\r\n    color: theme.palette.type === \"dark\"? theme.palette.common.white : theme.palette.primary.main,\r\n    whiteSpace: \"normal\",\r\n    padding: theme.spacing(1),\r\n    \"&>div\": {\r\n      width: \"100%\"\r\n    }\r\n  },\r\n  wrapper: {\r\n    position: \"relative\",\r\n    \"&>div\": {\r\n      margin: 0\r\n    }\r\n  },\r\n  badge: {\r\n    position: \"absolute\",\r\n    top: 5,\r\n    right: 5,\r\n    fontSize: \".65rem\",\r\n    background: theme.palette.primary.delete,\r\n    borderRadius: \"50%\",\r\n    height: 18,\r\n    width: 18,\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\"\r\n  },\r\n  userMenuItem: {\r\n    backgroundColor: theme.palette.primary.header,\r\n    color: theme.palette.common.white,\r\n    borderTopLeftRadius: \"4px\",\r\n    borderTopRightRadius: \"4px\",\r\n    \"&:hover\": {\r\n      backgroundColor: theme.palette.primary.header\r\n    }\r\n  },\r\n  button: {\r\n    height: 50,\r\n    color: theme.palette.common.white,\r\n    \"&>span>div\": {\r\n      width: \"100% !important\",\r\n      height: \"100% !important\",\r\n      borderRadius: 0\r\n    },\r\n    [theme.breakpoints.up(\"md\")]: {\r\n      background: \"none\",\r\n      border: \"none\",\r\n      boxShadow: \"none\"\r\n    },\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      width: 50,\r\n      padding: 0\r\n    }\r\n  },\r\n  icon: {\r\n    fontSize: \"1.5rem\"\r\n  },\r\n  listHeader:{\r\n    backgroundColor: theme.palette.secondary.main,\r\n    color: theme.palette.primary.main,\r\n    height: 64\r\n  },\r\n});\r\n\r\nconst Notifications = ({ classes, theme, hasSession, session, isAdminApp }) => {\r\n  const client = useContext(ApiContext);\r\n  const { list, loading, reload } = useFindService({\r\n    model: \"notifications\",\r\n    query: {\r\n      $sort: {\r\n        createdAt: -1\r\n      }\r\n    }\r\n  });\r\n  const [open, setOpen] = useState(false);\r\n  const MenuRef = useRef(null);\r\n  const handleToggle = () => {\r\n    setOpen(prev => !prev);\r\n  };\r\n  const handleClose = event => {\r\n    if (MenuRef.current.contains(event.target)) {\r\n      return;\r\n    }\r\n    setOpen(false);\r\n  };\r\n  const { enqueueSnackbar } = useSnackbar();\r\n  const newNotification = ({ notification }) => {\r\n    enqueueSnackbar('', {\r\n      preventDuplicate: true,\r\n      autoHideDuration: 5000,\r\n      anchorOrigin: {\r\n        vertical: 'bottom',\r\n        horizontal: 'left',\r\n      },\r\n      content: (key) => (\r\n        <SnackNotification id={key} notification={notification} />\r\n      )\r\n    });\r\n  }\r\n  const handleRemove = ({ id }) => async e => {\r\n    e.preventDefault();\r\n    await client.service(\"notifications\").remove(id);\r\n    reload();\r\n  };\r\n\r\n  const handleRemoveAll = list => async  e => {\r\n    await Promise.all(\r\n      lodashMap(\r\n        list,      \r\n        async (notification) => await client.service(\"notifications\").remove(notification.id))\r\n    )\r\n    .then( reload() );\r\n  }\r\n\r\n  useEffect(() => {\r\n    // console.log(\"!!! effect onNotification\")\r\n    const onNotification = notification => {\r\n      newNotification({ notification })\r\n      const pushNotification = async () => {\r\n        try {\r\n          const serviceWorker = await window.navigator.serviceWorker.ready;\r\n          window.Notification.requestPermission(status => {\r\n            if (status === \"granted\") {\r\n              serviceWorker.showNotification(notification.title, {\r\n                body: moment(notification.createdAt).format(\"ddd, DD [de] MMM [de] YYYY HH:mm\"),\r\n                badge: logo,\r\n                image: logo,\r\n                icon: logo,\r\n                vibrate: [10000],\r\n                actions: [\r\n                  {\r\n                    action: \"url\",\r\n                    title: \"Ir para OP\",\r\n                    url: `/dashboard/production/${notification.machineId}/order/${notification.productionOrderId}`\r\n                  }\r\n                ]\r\n              });\r\n            }\r\n          });\r\n        } catch (error) {\r\n          console.log(\"PUSH ERROR\", error);\r\n        }\r\n      };\r\n      pushNotification();\r\n      reload();\r\n    };\r\n    client.service(\"notifications\").on(\"created\", onNotification);\r\n    return () => {\r\n      client.service(\"notifications\").removeListener(\"created\", onNotification);\r\n    };\r\n  }, [client, reload, newNotification]);\r\n  const userName = lodashGet(session, \"user.name\");\r\n  let initials = \"\";\r\n  const isMobile = window.outerWidth <= theme.breakpoints.width(\"md\");\r\n  lodashMap(lodashSplit(userName, \" \"), fragment => (initials += lodashToUpper(fragment[0])));\r\n  useEffect(() => {\r\n    try {\r\n      window.Notification.requestPermission(status => {\r\n        if (status !== \"granted\") {\r\n          alert(\r\n            \"Não tem notificações ativas! Por favor, recarrege a página de monitorprod.com.br para ativar-las.\"\r\n          );\r\n        }\r\n      });\r\n    } catch (error) {\r\n      console.log(\"PUSH ERROR\", error);\r\n    }\r\n  }, []);\r\n  const empty = !loading && list.length === 0;\r\n  return (\r\n    <React.Fragment>\r\n      <div className={classes.wrapper}>\r\n        <Button\r\n          className={classes.button}\r\n          buttonRef={node => {\r\n            MenuRef.current = node;\r\n          }}\r\n          aria-owns={open ? \"menu-list-grow\" : undefined}\r\n          aria-haspopup=\"true\"\r\n          onClick={handleToggle}\r\n          text= \"notifications\"\r\n          type = \"icon\"\r\n          icon = \"notifications\"\r\n          variants=\"navbar\"\r\n        />\r\n        {!isAdminApp && !loading && list.length > 0 && (\r\n          <div className={classes.badge}>{list.length}</div>\r\n        )}\r\n      </div>\r\n      <Popper open={open} anchorEl={MenuRef.current} transition disablePortal>\r\n        {({ TransitionProps, placement }) => (\r\n          <Grow\r\n            {...TransitionProps}\r\n            id=\"menu-list-grow\"\r\n            style={{\r\n              transformOrigin: placement === \"bottom\" ? \"center top\" : \"center bottom\"\r\n            }}\r\n          >\r\n            <Paper style={{ width: 350 }}>\r\n              <ClickAwayListener onClickAway={handleClose}>\r\n                <div >\r\n                  <AppBar position=\"static\" color=\"secondary\" style={{borderRadius:'5px'}}>\r\n                    <Toolbar>\r\n                      <Typography variant='button' style={{flex: 1}}>Dispensar Todos</Typography>\r\n                      <IconButton edge=\"end\" color='primary' aria-label=\"dispensar\" onClick={handleRemoveAll(list)}>\r\n                        <Icon>delete_sweep</Icon>\r\n                      </IconButton>\r\n                    </Toolbar>\r\n                  </AppBar>\r\n                  <List className={classes.list}>\r\n                    {loading && <Loader />}\r\n                    {!isAdminApp && (\r\n                      <div style={{ width: 350, maxHeight: '75vh'}}>\r\n                        {empty && <NotFound />}\r\n                        {!empty &&\r\n                          lodashMap(\r\n                            list,\r\n                            ({ id, title, productionOrderId, machineId, createdAt }) => (\r\n                              <React.Fragment>\r\n                                <Divider />\r\n\r\n                                <ListItem\r\n                                  key={id}\r\n                                  className={classes.item}\r\n                                  component={Link}\r\n                                  to={`/dashboard/production/${machineId}/order/${productionOrderId}`}\r\n                                >\r\n                                  <ListItemText\r\n                                    primary={title.split(':')[1]}\r\n                                    secondary={<div style={{display:'flex'}}>\r\n                                      <div>{title.split(':')[0]}</div>\r\n                                      <div style={{position: 'absolute',right: '60px'}}>{moment(createdAt).format(\"DD/MM HH:mm\")}</div>\r\n                                    </div>}\r\n                                  />\r\n                                  <ListItemSecondaryAction>\r\n                                    <IconButton edge=\"end\" aria-label=\"dispensar\" onClick={handleRemove({ id })}>\r\n                                      <Icon>delete</Icon>\r\n                                    </IconButton>\r\n                                  </ListItemSecondaryAction>\r\n                                </ListItem>\r\n                              </React.Fragment>\r\n                            )\r\n                          )}\r\n                      </div>\r\n                    )}\r\n                  </List>                \r\n                </div>\r\n              </ClickAwayListener>\r\n            </Paper>\r\n          </Grow>\r\n        )}\r\n      </Popper>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default withStyles(styles, { withTheme: true })(Notifications);\r\n","import React, { useEffect, useContext } from 'react';\r\n\r\nimport ApiContext from '../../api';\r\nimport {\r\n  withStyles,\r\n  lodashGet,\r\n  useFindService,\r\n  Link,\r\n  useAuth\r\n} from '../../utils';\r\n\r\nimport {\r\n  ListItemAvatar, ListItemIcon, IconButton, Tooltip,Typography,\r\n  ListItemSecondaryAction, ListItem, ListItemText, Divider, Badge\r\n} from '@material-ui/core';\r\n\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport ReportIcon from '@material-ui/icons/Report';\r\nimport DoneIcon from \"@material-ui/icons/Done\";\r\nimport ReportOutlineIcon from \"@material-ui/icons/ReportOutlined\";\r\nimport moment from 'moment';\r\n\r\nconst styles = theme => ({\r\n  link:{\r\n    color: theme.palette.type === \"dark\"? theme.palette.common.white : theme.palette.primary.main,\r\n    textTransform: 'capitalize'\r\n  },\r\n  urgent:{\r\n    color: theme.palette.error.main,\r\n  },\r\n  nested:{\r\n    paddingLeft: theme.spacing(4),\r\n  },\r\n  badge:{\r\n    top: '8px',\r\n    right: '-20px'\r\n  }\r\n});\r\n\r\nconst UnreadBadge = withStyles((theme) => ({\r\n  badge: {\r\n    right: -20,\r\n    top: 8,\r\n  },\r\n}))(Badge);\r\n\r\nconst NotificationMessageItem = ({ classes, ticket, isAdminApp , type, withoutClosedTickets, reloadTicket}) => {\r\n\r\n  const client = useContext(ApiContext);\r\n\r\n\r\n  /* Query to filter messages */\r\n  const query = {\r\n    ticketId: ticket.id\r\n  }\r\n\r\n  /* Ticket List */\r\n  const { list: listMessages, reload: reloadMessages, loading: loadingMessages, setQuery: setQueryMessages } = useFindService({\r\n    model: \"ticket_messages\",\r\n    query: {\r\n      ...query,\r\n      viewedAt: null\r\n    }\r\n  })\r\n  \r\n  const { session } = useAuth();\r\n\r\n  const userId = lodashGet(session, 'userId')\r\n  \r\n  const unreadMessages = listMessages.filter(message => message.userId !== userId)\r\n\r\n  const STATUS ={\r\n    \"EM ANDAMENTO\" : 1,\r\n    \"URGENTE\" : 11,\r\n    \"FECHADO\" : 21\r\n  }\r\n\r\n  const changeUrgency = async ticket => {\r\n    await client.service(\"tickets\").patch(ticket.id,ticket.ticketStatusId === STATUS[\"EM ANDAMENTO\"] ? {ticketStatusId : STATUS.URGENTE} : {ticketStatusId: STATUS[\"EM ANDAMENTO\"]})\r\n    .then(resp => reloadTicket())\r\n  }\r\n\r\n  const changeClose = async ticket => {\r\n    await client.service(\"tickets\").patch(ticket.id,(ticket.ticketStatusId === STATUS[\"EM ANDAMENTO\"] || ticket.ticketStatusId === STATUS.URGENTE) ? {ticketStatusId : STATUS.FECHADO} : {ticketStatusId: STATUS[\"EM ANDAMENTO\"]})\r\n    .then(resp => reloadTicket())\r\n  }\r\n\r\n  const stringQuery = JSON.stringify(query);\r\n\r\n  useEffect(() => {\r\n    setQueryMessages(prev => ({ ...prev, ...JSON.parse(stringQuery) }));\r\n  }, [stringQuery, setQueryMessages]);\r\n\r\n  const getAvatar = (status, isAdminApp) =>{\r\n    if (isAdminApp && status != \"FECHADO\")\r\n      return ticket.ticket_status.name === \"URGENTE\" ? <ReportIcon className={classes.urgent} style={{fontSize:\"40\"}}/> : <ReportOutlineIcon style={{fontSize:\"40\"}}/>;\r\n\r\n    switch (status) {\r\n      case \"FECHADO\":\r\n        return  <CloseIcon /> \r\n      case \"URGENTE\":\r\n        return  <ReportIcon className={classes.urgent}/> \r\n          \r\n      default:\r\n        return <ReportOutlineIcon />\r\n    }\r\n  }\r\n\r\n  if (!(ticket.ticket_status != null && ticket.ticket_status.name === \"FECHADO\" && withoutClosedTickets))\r\n    return (\r\n      <React.Fragment>\r\n        <Divider />\r\n        <ListItem \r\n          className={type === \"Menu\" ? classes.nested : null}\r\n          button\r\n          key={ticket.id}\r\n          component={Link}\r\n          to={`/support/${ticket.id}`}\r\n        >\r\n        {!isAdminApp && <ListItemAvatar>\r\n            <ListItemIcon>\r\n              <Tooltip title={ticket.ticket_status.name} aria-label={ticket.ticket_status.name}>\r\n                {getAvatar(ticket.ticket_status.name, isAdminApp)}\r\n              </Tooltip>\r\n            </ListItemIcon>\r\n          </ListItemAvatar>}\r\n\r\n          <ListItemText  style={{paddingRight: isAdminApp? '40px' : ''}}\r\n            primary={<div className={classes.link} style={{textDecoration: ticket.ticket_status.name === \"FECHADO\" ? 'line-through' : ''}}>{ticket.id} - {ticket.title.toLowerCase()}</div>}\r\n            secondary={\r\n              <UnreadBadge badgeContent={unreadMessages.length} color=\"secondary\" >\r\n                <span  style={{textDecoration: ticket.ticket_status.name === \"FECHADO\" ? 'line-through' : ''}}>{ticket.ticket_status.name} : {moment(ticket.createdAt).format(\"DD/MM/YYYY HH:mm\")}</span>\r\n              </UnreadBadge>\r\n            }\r\n          />\r\n          { isAdminApp && type != \"Menu\" &&\r\n            <ListItemSecondaryAction>\r\n              <Tooltip title={ticket.ticket_status.name === \"URGENTE\" ? \"URGENTE\" : \"NORMAL\"} aria-label=\"URGENCIA\">\r\n                <IconButton edge=\"end\" aria-label=\"delete\" onClick={() => changeUrgency(ticket)}>\r\n                {ticket.ticket_status.name === \"URGENTE\" ? <ReportIcon className={classes.urgent}/>: <ReportOutlineIcon />}\r\n                </IconButton>\r\n              </Tooltip>\r\n              <Tooltip title={ticket.ticket_status.name === \"FECHADO\" ? \"FECHADO\" : \"EM ANDAMENTO\"} aria-label=\"FECHADO\">\r\n                  <IconButton edge=\"end\" aria-label=\"delete\" onClick={() => changeClose(ticket)}>\r\n                    {ticket.ticket_status.name != \"FECHADO\" ? <DoneIcon /> : <CloseIcon />}\r\n                  </IconButton>\r\n              </Tooltip>\r\n            </ListItemSecondaryAction>\r\n          }\r\n        </ListItem>\r\n        </React.Fragment>\r\n    )\r\n    else\r\n      return null\r\n}\r\n\r\nexport default withStyles(styles, { withTheme: true })(NotificationMessageItem);","import React from \"react\";\r\nimport { withStyles } from \"../../utils\";\r\nimport { SnackbarContent } from \"@material-ui/core\";\r\n\r\nconst styles = theme => ({\r\n  error: {\r\n    margin: `0 auto ${theme.spacing(1)}px`,\r\n    backgroundColor: theme.palette.error.dark,\r\n    whiteSpace: \"pre-wrap\",\r\n    \"&>div\": {\r\n      padding: 0\r\n    }\r\n  }\r\n});\r\n\r\nconst Errors = ({ classes, errors }) => (\r\n  <SnackbarContent className={classes.error} message={errors.message || errors} />\r\n);\r\n\r\nexport default withStyles(styles, { withTheme: true })(Errors);\r\n","import React, { useState, useEffect } from \"react\";\r\nimport {\r\n  ExpansionPanel,\r\n  ExpansionPanelSummary,\r\n  ExpansionPanelDetails,\r\n  Grid,\r\n  Avatar,\r\n  Icon,\r\n  Typography\r\n} from \"@material-ui/core\";\r\nimport {\r\n  Link,\r\n  withRouter,\r\n  withStyles,\r\n  classNames,\r\n  lodashGet,\r\n  lodashMap,\r\n  useFindService\r\n} from \"../../utils\";\r\nimport moment from 'moment';\r\nimport NotFound from \"../not-found\";\r\nimport Loader from \"../loader\";\r\nimport Errors from \"../errors\";\r\n\r\nconst styles = theme => ({\r\n  panel: {\r\n    boxShadow: \"none\",\r\n    backgroundColor: \"unset\"\r\n  },\r\n  header: {\r\n    padding: 0,\r\n    minHeight: \"unset !important\",\r\n    \"&>div\": {\r\n      margin: \"0 !important\"\r\n    }\r\n  },\r\n  details: {\r\n    padding: \"0 !important\",\r\n    flexDirection: \"column\",\r\n    flexWrap: \"nowrap\"\r\n  },\r\n  card: {\r\n    color: theme.palette.type === \"dark\" ?  theme.palette.common.white : theme.palette.common.black,\r\n    flexWrap: \"nowrap\",\r\n    textDecoration: \"none\",\r\n    padding: `${theme.spacing(1)}px ${theme.spacing(2)}px`,\r\n    paddingLeft: ({ deep = 0 }) => `${theme.spacing(2 * (deep + 1))}px`\r\n  },\r\n  selected: {\r\n    backgroundColor: theme.palette.primary.form\r\n  },\r\n  avatar: {\r\n    width: theme.spacing(4),\r\n    height: theme.spacing(4),\r\n    marginRight: theme.spacing(1),\r\n    color: theme.palette.primary.main\r\n  }\r\n});\r\n\r\n// TODO move this file to its own folder\r\nconst Tree = ({\r\n  match: { params },\r\n  classes,\r\n  model,\r\n  query = {},\r\n  deep = 0,\r\n  reload: propsReload,\r\n  reloadTree,\r\n  customContent = {},\r\n  options = {}\r\n}) => {\r\n  const { list, loading, errors, reload } = useFindService({\r\n    model: model.name,\r\n    query: { $sort: { name: 1 }, ...query }\r\n  });\r\n  // TODO why is Tree reloading when clicking on an item\r\n  useEffect(() => {\r\n    // console.log(\"!!effect Tree propsReload\", propsReload);\r\n    reload(propsReload);\r\n  }, [reload, propsReload]);\r\n  const empty = !loading && !errors && list.length === 0;\r\n  const paramsId = lodashGet(params, model.paramsProp);\r\n  const [expandRef, setExpandRef] = useState({\r\n    [paramsId]: true\r\n  });\r\n  const handleExpand = ({ id }) => () => setExpandRef(prev => ({ ...prev, [id]: !prev[id] }));\r\n  // console.log(\"!!! TREE render\", deep, lodashGet(list, \"0.name\"));\r\n  return (\r\n    <Grid container direction=\"column\">\r\n      {loading && <Loader />}\r\n      {errors && <Errors errors={errors} />}\r\n      {!options.dontShowNotFound && empty && <NotFound />}\r\n      {!loading && (\r\n        <Grid container spacing={1}>\r\n          {customContent.beforeTree && (\r\n            <Grid item xs={12}>\r\n              {customContent.beforeTree()}\r\n            </Grid>\r\n          )}\r\n          {lodashMap(list, item => {\r\n            const isSelected = parseInt(paramsId, \"10\") === item.id;\r\n            const linkProps = {};\r\n            if (!options.dontTreeItemLink) {\r\n              linkProps.component = Link;\r\n              linkProps.to = `${model.formPath}/${item.id}`;\r\n            }\r\n            return (\r\n              <Grid key={item.id} item xs={12}>\r\n                <ExpansionPanel\r\n                  className={classes.panel}\r\n                  expanded={expandRef[item.id]}\r\n                  onChange={handleExpand({ id: item.id })}//TODO: this is causing an error on console (it is really necessary????)\r\n                >\r\n                  <ExpansionPanelSummary\r\n                    className={classNames(classes.header, {\r\n                      [classes.selected]: isSelected\r\n                    })}\r\n                    expandIcon={customContent.afterTreeItem && <Icon>expand_more_icon</Icon>}\r\n                  >\r\n                    <Grid container alignItems=\"center\" className={classes.card} {...linkProps}>\r\n                      {item.image && (\r\n                        <Avatar alt={item.name} src={item.image} className={classes.avatar} />\r\n                      )}\r\n                      {!item.image && model.icon && model.icon.type === \"svg\" && (\r\n                        <img className={classes.avatar} alt=\"icon\" src={model.icon.src} />\r\n                      )}\r\n                      {!item.image && model.icon && !model.icon.type && (\r\n                        <Icon className={classes.avatar}>{model.icon}</Icon>\r\n                      )}\r\n                      {!customContent.customTreeName && (\r\n                        <Typography variant=\"body1\">\r\n                          {item.identity ? `${item.identity} - ` : \"\"}\r\n                          {item.name}\r\n                        </Typography>\r\n                      )}\r\n                      {customContent.customTreeName && (\r\n                        <Typography variant=\"body1\">\r\n                          {customContent.customTreeName({ data: item })}\r\n                        </Typography>\r\n                      )}\r\n                      {customContent.customName && (\r\n                        <Typography variant=\"body1\">\r\n                          {customContent.customName({ data: item })}\r\n                        </Typography>\r\n                      )}\r\n                      {customContent.customTree && (\r\n                        <Grid item>\r\n                          {customContent.customTree({ data: item })}\r\n                        </Grid>\r\n                      )}\r\n                    </Grid>\r\n                  </ExpansionPanelSummary>\r\n                  {customContent.afterTreeItem && (\r\n                    <ExpansionPanelDetails className={classes.details}>\r\n                      {customContent.afterTreeItem({\r\n                        data: item,\r\n                        reloadTree\r\n                      })}\r\n                    </ExpansionPanelDetails>\r\n                  )}\r\n                </ExpansionPanel>\r\n              </Grid>\r\n            );\r\n          })}\r\n        </Grid>\r\n      )}\r\n      {customContent.afterTree && <div>{customContent.afterTree({ reloadTree })}</div>}\r\n    </Grid>\r\n  );\r\n};\r\n\r\nexport default withRouter(withStyles(styles, { withTheme: true })(Tree));\r\n","import React, { useEffect, useContext } from 'react';\r\nimport {\r\n  lodashMap,\r\n  useFindService\r\n} from '../../utils';\r\n\r\nimport { Loader, NotFound } from \"..\";\r\nimport NotificationMessageItem from './NotificationMessageItem';\r\nimport ApiContext from '../../api';\r\n\r\nconst TreeSupportItem = ({ company, isAdminApp, type, withoutClosedTickets }) => {\r\n\r\n  const client = useContext(ApiContext);\r\n\r\n  const { list: listTicket, loading: loadingTicket, reload: reloadTicket } = useFindService({\r\n    model: \"tickets\",\r\n    query: {\r\n      $populateAll: true,\r\n      companyId: company.id,\r\n      $sort: {\r\n        createdAt: -1\r\n      }\r\n    }\r\n  });\r\n\r\n  const empty = !loadingTicket && !listTicket.length;\r\n\r\n  return (\r\n    <React.Fragment>\r\n      {empty && <NotFound />}\r\n      {loadingTicket && <Loader />}\r\n      {lodashMap(listTicket, ticket => (        \r\n        <NotificationMessageItem isAdminApp={isAdminApp} key={ticket.id} ticket={ticket} type={type} withoutClosedTickets={withoutClosedTickets} reloadTicket={reloadTicket}/>\r\n      ))}\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nexport default TreeSupportItem;","import React, { useContext, useState } from \"react\";\r\nimport { Icon } from \"@material-ui/core\";\r\nimport ApiContext from \"../../../api\";\r\nimport { withStyles } from \"../../../utils\";\r\nimport Button from \"../../../components/buttons\";\r\nimport Loader from \"../../../components/loader\";\r\nimport Errors from \"../../../components/errors\";\r\n\r\nconst styles = theme => ({\r\n  actions: {\r\n    position: \"relative\",\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\"\r\n  },\r\n  loader: {\r\n    height: \"100%\",\r\n    width: \"100%\",\r\n    background: \"rgba(255,255,255,.5)\",\r\n    zIndex: 1,\r\n    position: \"absolute\",\r\n    right: 0,\r\n    top: 0,\r\n    padding: \"0 8px\",\r\n    \"&>div\": {\r\n      position: \"relative\",\r\n      top: 25\r\n    }\r\n  },\r\n  icon: {\r\n    fontSize: 30,\r\n    color: theme.palette.primary.main\r\n  }\r\n});\r\n\r\nconst SendEmailAction = withStyles(styles, { withTheme: true })(({ classes, data = {}, field }) => {\r\n  const client = useContext(ApiContext);\r\n  const [loading, setLoading] = useState();\r\n  const [errors, setErrors] = useState();\r\n  const [send, setSend] = useState();\r\n  const handleSendEmail = async () => {\r\n    setLoading(true);\r\n    setErrors();\r\n    try {\r\n      await client\r\n        .service(\"companies\")\r\n        .patch(data.id, { loginName: data.loginName }, { query: { $sendEmail: true } });\r\n      setSend(true);\r\n    } catch (error) {\r\n      setErrors(error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n  return (\r\n    !!data.id && (\r\n      <div className={classes.actions}>\r\n        {loading && (\r\n          <div className={classes.loader}>\r\n            <Loader />\r\n          </div>\r\n        )}\r\n        <Button text=\"(Re) Iniciar Senha\" icon=\"mail\" onClick={handleSendEmail} />\r\n        {send && <Icon className={classes.icon}>done</Icon>}\r\n        {errors && (\r\n          <React.Fragment>\r\n            <Icon className={classes.icon}>clear</Icon>\r\n            <Errors errors={errors} />\r\n          </React.Fragment>\r\n        )}\r\n      </div>\r\n    )\r\n  );\r\n});\r\n\r\nexport default SendEmailAction;\r\n","import React from \"react\";\r\nimport { isValid as isCNPJValid } from \"@fnando/cnpj\";\r\nimport { Grid } from \"@material-ui/core\";\r\nimport { Link, lodashGet, lodashToLower, lodashForEach } from \"../../../utils\";\r\nimport { Button } from \"../../../components\";\r\nimport SendEmailAction from \"./SendEmailAction\";\r\n\r\nconst isValid = value => {\r\n  const CEPRegExp = new RegExp(/^\\d{5}-?\\d{3}$/);\r\n  return CEPRegExp.test(value);\r\n};\r\n\r\nexport const list = [\r\n  {\r\n    text: \"Nome Fantasia\",\r\n    identity: \"fantasyName\",\r\n    filter: {\r\n      type: \"string\"\r\n    }\r\n  },\r\n  {\r\n    text: \"Identificação Fiscal\",\r\n    identity: \"taxId\",\r\n    filter: {\r\n      type: \"string\"\r\n    }\r\n  },\r\n  {\r\n    text: \"Nivel\",\r\n    identity: \"level\",\r\n    filter: {\r\n      type: \"string\"\r\n    }\r\n  },\r\n  {\r\n    text: \"Admin Sis\",\r\n    identity: \"adminContact\",\r\n    filter: {\r\n      type: \"string\"\r\n    }\r\n  },\r\n  {\r\n    text: \"Email Admin Sis\",\r\n    identity: \"adminEmail\",\r\n    filter: {\r\n      type: \"string\"\r\n    }\r\n  },\r\n  {\r\n    text: \"Status\",\r\n    identity: \"company_status.name\",\r\n    model: {\r\n      service: \"company_statuses\",\r\n      identity: \"companyStatusId\"\r\n    }\r\n  }\r\n];\r\n\r\nexport const form = [\r\n  [\r\n    {\r\n      text: \"UUID\",\r\n      identity: \"uuid\",\r\n      variants: \"display fullWidth\",\r\n      readOnly: true,\r\n      show: {\r\n        ifThis: \"id\"\r\n      },\r\n      type: \"string\"\r\n    }\r\n  ],\r\n  [\r\n    {\r\n      text: \"Nome Fantasia\",\r\n      identity: \"fantasyName\",\r\n      autoFocus: true,\r\n      required: true,\r\n      type: \"string\",\r\n      handleChange: ({ data = {}, handleChange }) => {\r\n        const value = lodashGet(data, \"target.value\");\r\n        if (value) {\r\n          handleChange({\r\n            target: {\r\n              name: \"loginName\",\r\n              value: lodashToLower(value).replace(/\\s/g, \"\")\r\n            }\r\n          });\r\n        }\r\n      }\r\n    },\r\n    {\r\n      text: \"Identificação Fiscal\",\r\n      identity: \"taxId\",\r\n      required: true,\r\n      type: \"string\",\r\n      handleValidate: ({ data = {} }) => {\r\n        const value = lodashGet(data, \"target.value\");\r\n        if (!isCNPJValid(value)) {\r\n          return \"CNPJ não é válido\";\r\n        }\r\n        return true;\r\n      }\r\n    },\r\n    {\r\n      text: \"Status\",\r\n      identity: \"companyStatusId\",\r\n      required: true,\r\n      model: \"company_statuses\",\r\n      defaultValue: {\r\n        config: \"company.status.init\"\r\n      }\r\n    },\r\n    {\r\n      text: \"Nivel\",\r\n      identity: \"level\",\r\n      required: true,\r\n      enum: [\"N1\", \"N6\"],\r\n      defaultValue: \"N1\"\r\n    },\r\n    {\r\n      text: \"Login da Empresa\",\r\n      identity: \"loginName\",\r\n      type: \"string\"\r\n    }\r\n  ],\r\n  [\r\n    [\r\n      {\r\n        text: \"Limite de Usuários\",\r\n        identity: \"usersLimit\",\r\n        required: true,\r\n        defaultValue: 50,\r\n        type: \"integer\"\r\n      },\r\n      {\r\n        text: \"Usuários\",\r\n        identity: \"usersNumber\",\r\n        readOnly: true,\r\n        show: {\r\n          ifThis: \"id\"\r\n        },\r\n        type: \"integer\",\r\n        defaultValue: {\r\n          customValue: async ({ data = {}, field, client, handleChange }) => {\r\n            const { data: list } = await client.service(\"users\").find({\r\n              query: {\r\n                companyId: data.id\r\n              }\r\n            });\r\n            handleChange({\r\n              target: { name: field.identity, value: list.length }\r\n            });\r\n          }\r\n        }\r\n      }\r\n    ],\r\n    [\r\n      {\r\n        text: \"Limite de Máquinas\",\r\n        identity: \"machinesLimit\",\r\n        required: true,\r\n        defaultValue: 50,\r\n        type: \"integer\"\r\n      },\r\n      {\r\n        text: \"Máquinas\",\r\n        identity: \"machinesNumber\",\r\n        readOnly: true,\r\n        show: {\r\n          ifThis: \"id\"\r\n        },\r\n        type: \"integer\",\r\n        defaultValue: {\r\n          customValue: async ({ data = {}, field, client, handleChange }) => {\r\n            const { data: list } = await client.service(\"machines\").find({\r\n              query: {\r\n                companyId: data.id\r\n              }\r\n            });\r\n            handleChange({\r\n              target: { name: field.identity, value: list.length }\r\n            });\r\n          }\r\n        }\r\n      }\r\n    ]\r\n  ],\r\n  [\r\n    [\r\n      {\r\n        text: \"Razão Social\",\r\n        identity: \"companyName\",\r\n        required: true,\r\n        type: \"string\"\r\n      },\r\n      {\r\n        text: \"Insc. Estadual\",\r\n        identity: \"stateRegistration\",\r\n        type: \"string\"\r\n      },\r\n      {\r\n        text: \"Insc. Municipal\",\r\n        identity: \"municipalRegistration\",\r\n        type: \"string\"\r\n      }\r\n    ]\r\n  ],\r\n  [\r\n    {\r\n      text: \"Contato Admin Sist\",\r\n      identity: \"adminContact\",\r\n      required: true,\r\n      type: \"string\"\r\n    },\r\n    {\r\n      text: \"Email Admin Sist\",\r\n      identity: \"adminEmail\",\r\n      required: true,\r\n      type: \"email\",\r\n      customData: ({ ...props }) => <SendEmailAction {...props} />\r\n    }\r\n  ],\r\n  [\r\n    {\r\n      text: \"Contato Comercial\",\r\n      identity: \"technicalContact\",\r\n      required: true,\r\n      type: \"string\"\r\n    },\r\n    {\r\n      text: \"Email Comercial\",\r\n      identity: \"technicalEmail\",\r\n      required: true,\r\n      type: \"email\"\r\n    }\r\n  ],\r\n  [\r\n    {\r\n      text: \"Endereço\",\r\n      identity: \"address\",\r\n      type: \"string\"\r\n    },\r\n    {\r\n      text: \"Número\",\r\n      identity: \"addressNumber\",\r\n      type: \"string\"\r\n    },\r\n    {\r\n      text: \"Bairro\",\r\n      identity: \"neighborhood\",\r\n      type: \"string\"\r\n    }\r\n  ],\r\n  [\r\n    {\r\n      text: \"Estado\",\r\n      identity: \"state\",\r\n      type: \"string\",\r\n      enum: [\r\n        \"AC\",\r\n        \"AL\",\r\n        \"AM\",\r\n        \"AP\",\r\n        \"BA\",\r\n        \"CE\",\r\n        \"DF\",\r\n        \"ES\",\r\n        \"GO\",\r\n        \"MA\",\r\n        \"MG\",\r\n        \"MS\",\r\n        \"MT\",\r\n        \"PA\",\r\n        \"PB\",\r\n        \"PE\",\r\n        \"PI\",\r\n        \"PR\",\r\n        \"RJ\",\r\n        \"RN\",\r\n        \"RO\",\r\n        \"RR\",\r\n        \"RS\",\r\n        \"SC\",\r\n        \"SE\",\r\n        \"SP\",\r\n        \"TO\"\r\n      ]\r\n    },\r\n    {\r\n      text: \"Cidade\",\r\n      identity: \"city\",\r\n      type: \"string\"\r\n    },\r\n    {\r\n      text: \"CEP\",\r\n      identity: \"cep\",\r\n      required: true,\r\n      type: \"string\",\r\n      handleValidate: ({ data = {} }) => {\r\n        const value = lodashGet(data, \"target.value\");\r\n        if (!isValid(value)) {\r\n          return \"CEP não é válido\";\r\n        }\r\n        return true;\r\n      },\r\n      async handleChange({ data = {}, handleChange }) {\r\n        let value = lodashGet(data, \"target.value\");\r\n        if (isValid(value)) {\r\n          let response = await fetch(`https://viacep.com.br/ws/${value}/json`);\r\n          response = await response.json();\r\n          lodashForEach(\r\n            [\r\n              {\r\n                key: \"address\",\r\n                value: \"logradouro\"\r\n              },\r\n              {\r\n                key: \"neighborhood\",\r\n                value: \"bairro\"\r\n              },\r\n              {\r\n                key: \"state\",\r\n                value: \"uf\"\r\n              },\r\n              {\r\n                key: \"city\",\r\n                value: \"localidade\"\r\n              }\r\n            ],\r\n            ({ key, value }) => {\r\n              handleChange({\r\n                target: {\r\n                  name: key,\r\n                  value: `${response[value]}`\r\n                }\r\n              });\r\n            }\r\n          );\r\n        }\r\n      }\r\n    }\r\n  ],\r\n  [\r\n    {\r\n      text: \"Fone\",\r\n      identity: \"phone\",\r\n      required: true,\r\n      type: \"string\"\r\n    },\r\n    {\r\n      text: \"Fone 2\",\r\n      identity: \"phone2\",\r\n      type: \"string\"\r\n    }\r\n  ]\r\n];\r\n\r\nexport const links = [\r\n  {\r\n    text: \"Clientes\",\r\n    href: \"/sysadmin/companies\"\r\n  }\r\n];\r\n\r\nexport const metadata = {\r\n  name: \"companies\",\r\n  listPath: \"/sysadmin/companies\",\r\n  formPath: \"/sysadmin/companies\",\r\n  paramsProp: \"companyId\",\r\n  newItemText: \"Novo Cliente\"\r\n};\r\n\r\nexport default {\r\n  metadata,\r\n  list,\r\n  form,\r\n  links,\r\n  customContent: {\r\n    customBreadCrumbsName: ({ data = {} }) => data.fantasyName,\r\n    customTreeName: ({ data = {} }) => data.fantasyName\r\n  },\r\n  customActions: ({ isList, isForm, data: company }) => (\r\n    <React.Fragment>\r\n      {isList && (\r\n        <Button\r\n          text=\"Visualizar Histórico\"\r\n          icon=\"view_day\"\r\n          type=\"icon\"\r\n          component={Link}\r\n          to={`/sysadmin/companies/${company.id}/production-history`}\r\n        />\r\n      )}\r\n      {isForm && company.id && (\r\n        <Grid item>\r\n          <Button\r\n            text=\"Visualizar Histórico\"\r\n            icon=\"view_day\"\r\n            component={Link}\r\n            to={`/sysadmin/companies/${company.id}/production-history`}\r\n          />\r\n        </Grid>\r\n      )}\r\n    </React.Fragment>\r\n  ),\r\n  query: {\r\n    $sort: { fantasyName: 1 }\r\n  }\r\n};\r\n","import React, { useState, useContext, useEffect } from \"react\";\r\n\r\nimport {\r\n  lodashMap,\r\n  lodashGet,\r\n  lodashFilter,\r\n  useFindService,\r\n  useAuth,\r\n  Link,\r\n  withStyles\r\n} from \"../../utils\"\r\n\r\nimport {\r\n  Icon,\r\n  AppBar,\r\n  Toolbar,\r\n  Button,FormControlLabel,\r\n  Typography,\r\n  Badge,\r\n  Switch,\r\n  List, ListItemIcon, Grid,\r\n  ListItem, ListItemText\r\n} from \"@material-ui/core\";\r\n\r\nimport ReportIcon from '@material-ui/icons/Report';\r\nimport ReportOutlineIcon from \"@material-ui/icons/ReportOutlined\";\r\n\r\n// import NotFound from \"../not-found\";\r\n// import Button from \"../buttons\";\r\nimport NotificationMessageItem from \"./NotificationMessageItem\";\r\nimport Tree from \"../master-data-form/Tree\";\r\nimport TreeSupportItem from \"./TreeSupportItem\";\r\n\r\nimport Companies from \"../../pages/sysadmin/companies/model\";\r\n\r\nimport ApiContext from \"../../api\";\r\n\r\nconst styles = theme => ({\r\n  ticketsList:{\r\n    maxHeight: '100%' ,overflow: 'overlay', overflowX: 'hidden', paddingTop: 0\r\n  },\r\n  addTicket:{\r\n    backgroundColor: theme.palette.secondary.main,\r\n    color: theme.palette.primary.main,\r\n  },\r\n  wrapper: {\r\n    position: \"relative\",\r\n    \"&>div\": {\r\n      margin: 0\r\n    }\r\n  },\r\n  button: {\r\n    height: 50,\r\n    \"&>span>div\": {\r\n      width: \"100% !important\",\r\n      height: \"100% !important\",\r\n      borderRadius: 0\r\n    },\r\n    [theme.breakpoints.up(\"md\")]: {\r\n      background: \"none\",\r\n      border: \"none\",\r\n      color: theme.palette.common.white,\r\n      boxShadow: \"none\"\r\n    },\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      width: 50,\r\n      padding: 0\r\n    }\r\n  },\r\n  userMenuItem: {\r\n    backgroundColor: theme.palette.primary.header,\r\n    color: theme.palette.common.white,\r\n    borderTopLeftRadius: \"4px\",\r\n    borderTopRightRadius: \"4px\",\r\n    \"&:hover\": {\r\n      backgroundColor: theme.palette.primary.header\r\n    }\r\n  },\r\n  badge: {\r\n    position: \"absolute\",\r\n    top: 0,\r\n    right: 0,\r\n    fontSize: \".65rem\",\r\n    background: theme.palette.primary.delete,\r\n    borderRadius: \"50%\",\r\n    height: 18,\r\n    width: 18,\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\"\r\n  },\r\n  list: {\r\n    paddingBottom: \"0px\",\r\n    maxWidth: 350,\r\n    //maxHeight: 350\r\n  },\r\n  item: {\r\n    height: \"auto\",\r\n    whiteSpace: \"normal\",\r\n    padding: theme.spacing(1),\r\n    \"&>div\": {\r\n      width: \"100%\"\r\n    }\r\n  },\r\n  // open: {\r\n  //   width: '20px',\r\n  //   height: '20px',\r\n  //   borderRadius: '20px',\r\n  //   backgroundColor: 'rgb(129, 215, 66)',\r\n  //   color: 'white',\r\n  //   textAlign: 'center',\r\n  //   marginLeft: '5px'\r\n  // },\r\n  // closed: {\r\n  //   width: '20px',\r\n  //   height: '20px',\r\n  //   borderRadius: '20px',\r\n  //   backgroundColor: 'rgb(51, 51, 51)',\r\n  //   color: 'white',\r\n  //   textAlign: 'center',\r\n  //   marginLeft: '5px'\r\n  // },\r\n  // urgent: {\r\n  //   width: '20px',\r\n  //   height: '20px',\r\n  //   borderRadius: '20px',\r\n  //   backgroundColor: 'red',\r\n  //   color: 'white',\r\n  //   textAlign: 'center',\r\n  //   marginLeft: '5px'\r\n  // },\r\n  nested: {\r\n    paddingLeft: theme.spacing(4),\r\n  },\r\n  listHeader:{\r\n    paddingLeft: theme.spacing(4),\r\n    minHeight: 64,\r\n    backgroundColor: theme.palette.secondary.main,\r\n    color: theme.palette.primary.main\r\n  },\r\n  urgent:{\r\n    color: theme.palette.error.main,\r\n    margin: 2\r\n  },\r\n  icon:{\r\n    color: theme.palette.type === \"dark\"? theme.palette.common.white : theme.palette.primary.main,\r\n    margin: 2\r\n  }\r\n});\r\n\r\nconst TicketsList = ({ classes, isAdminApp, type }) => {\r\n  const client = useContext(ApiContext);\r\n  const { session } = useAuth();\r\n  const companyId = lodashGet(session, 'companyId')\r\n  const [withoutClosedTickets, setWithoutClosedTickets] = useState(true);\r\n\r\n  const { list: listTicket, loading: loadingTicket, reload: reloadTicket } = useFindService({\r\n    model: \"tickets\",\r\n    query: {\r\n      $populateAll: true,\r\n      $sort: {\r\n        createdAt: -1\r\n      }\r\n    }\r\n  });\r\n\r\n  const { list: listMessages, reload: reloadMessages, loading: loadingMessages, setQuery: setQueryMessages } = useFindService({\r\n    model: \"ticket_messages\"\r\n  })\r\n\r\n  useEffect(() => {\r\n    setQueryMessages({\r\n      ticketId: {\r\n        $in: lodashMap(listTicket, t => t.id)\r\n      },\r\n      viewedAt: null,\r\n      companyId: companyId\r\n    })\r\n  }, [listTicket, companyId, setQueryMessages])\r\n\r\n  const userId = lodashGet(session, 'userId')\r\n  const listMessagesUser = lodashFilter(listMessages, (ticket) => ticket.userId !== userId)\r\n\r\n  useEffect(() => {\r\n    const onNewEvent = () => {\r\n      console.log('nova mensagem de suport');\r\n      reloadMessages()\r\n    }\r\n    client.service(\"ticket_messages\").on(\"created\", onNewEvent);\r\n    client.service(\"ticket_messages\").on(\"patched\", onNewEvent);\r\n    return () => {\r\n      client.service(\"ticket_messages\").removeListener(\"created\", onNewEvent);\r\n      client.service(\"ticket_messages\").removeListener(\"patched\", onNewEvent);\r\n    }\r\n  }, [client]);\r\n\r\n  useEffect(() => {\r\n    const onNewEvent = () => {\r\n      console.log('nova solicitação de suport');\r\n\r\n      reloadTicket()\r\n    }\r\n    client.service(\"tickets\").on(\"created\", onNewEvent);\r\n    client.service(\"tickets\").on(\"patched\", onNewEvent);\r\n    return () => {\r\n      client.service(\"tickets\").removeListener(\"created\", onNewEvent);\r\n      client.service(\"tickets\").removeListener(\"patched\", onNewEvent);\r\n    }\r\n  }, [client]);\r\n\r\n  const empty = !loadingTicket && listTicket.length === 0;\r\n\r\n  return (\r\n    <List  component=\"nav\" className={classes.ticketsList} aria-labelledby=\"Lista de tickets\" >\r\n      <div style={{ width: 350}}>\r\n        {type === \"Menu\" && !isAdminApp &&\r\n          <ListItem button component={Link} to=\"/support/\" className={classes.addTicket, classes.nested, classes.listHeader} >\r\n            <ListItemIcon>\r\n              <Icon >help</Icon>\r\n            </ListItemIcon>\r\n          <ListItemText primary={<Typography variant='button'>Abrir Novo</Typography>} />\r\n          </ListItem>\r\n        }\r\n        {type != \"Menu\" &&\r\n            <Toolbar variant=\"dense\">\r\n              {!isAdminApp && <Button variant=\"contained\"  color=\"secondary\" component={Link} to=\"/support/\" startIcon={<Icon>edit</Icon>}>  Novo </Button>}\r\n              <span style={{flex:1, color:'black'}}></span>\r\n              <FormControlLabel\r\n                style={{margin:'4px'}}\r\n                value={withoutClosedTickets}\r\n                control={<Switch color=\"secondary\" onChange = {() =>setWithoutClosedTickets(p => !p)}/>}\r\n                label=\"CONCLUÍDOS\"\r\n                labelPlacement=\"start\"\r\n              />\r\n            </Toolbar>\r\n        }\r\n        {!empty && !isAdminApp &&\r\n          lodashMap(\r\n            listTicket,\r\n            ticket => (\r\n              <NotificationMessageItem key={ticket.id} ticket={ticket} type={type} reloadTicket={reloadTicket}  withoutClosedTickets={withoutClosedTickets}/>\r\n            )\r\n          )}\r\n        {!empty && isAdminApp &&\r\n          <Tree\r\n            model={Companies.metadata}\r\n            options={{\r\n              dontTreeItemLink: isAdminApp\r\n            }}\r\n            query={Companies.query}\r\n            customContent={{\r\n              ...Companies.customContent,\r\n              customTree: ({ data }) => {\r\n                const ticketCompany = lodashFilter(listTicket, (ticket) => ticket.companyId === data.id)\r\n                const ticketOpen = lodashFilter(ticketCompany, (ticket) =>  ticket.ticketStatusId === parseInt(lodashGet(client.get(\"config.ticket.status.init\"), \"value\")))\r\n                // const ticketClosed = lodashFilter(ticketCompany, (ticket) =>  ticket.ticketStatusId === parseInt(lodashGet(client.get(\"config.ticket.status.closed\"), \"value\")))\r\n                const ticketUrgent = lodashFilter(ticketCompany, (ticket) =>  ticket.ticketStatusId === parseInt(lodashGet(client.get(\"config.ticket.status.urgent\"), \"value\")))\r\n                return (\r\n                  <Grid container>\r\n                    {ticketUrgent.length >= 1 && <Badge color=\"secondary\" badgeContent={ticketUrgent.length}><ReportIcon className={classes.urgent} /></Badge>} <div style={{width:12}}/>\r\n                    {ticketOpen.length >= 1 && <Badge color=\"secondary\" badgeContent={ticketOpen.length}><ReportOutlineIcon className={classes.icon} /></Badge>} <div style={{width:12}}/>\r\n                    {/* {ticketClosed.length >= 1 && <Badge color=\"secondary\" badgeContent={ticketClosed.length}><CloseIcon className={classes.icon}  /> </Badge>} */}\r\n                  </Grid>\r\n                )\r\n              },\r\n              afterTreeItem: ({ data }) =>\r\n                <TreeSupportItem isAdminApp={isAdminApp} company={data} type={type} withoutClosedTickets={withoutClosedTickets}/>\r\n            }}\r\n          />\r\n        }\r\n      </div>\r\n    </List>\r\n  )\r\n}\r\n\r\nexport default withStyles(styles, { withTheme: true })(TicketsList)","import React, { useContext } from \"react\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faSignOutAlt } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { MenuItem, Hidden ,ListItemText, ListItem, ListItemIcon} from \"@material-ui/core\";\r\nimport ApiContext from \"../../api\";\r\nimport { withStyles, logout } from \"../../utils\";\r\nimport Button from \"../buttons\";\r\nimport ExitToApp from '@material-ui/icons/ExitToApp';\r\n\r\nconst styles = theme => ({\r\n  root: {\r\n    backgroundColor: theme.palette.primary.header,\r\n    color: theme.palette.common.white,\r\n    borderBottomLeftRadius: \"4px\",\r\n    borderBottomRightRadius: \"4px\"\r\n  },\r\n  wrapper: {\r\n    position: \"relative\",\r\n    \"&>div\": {\r\n      margin: 0\r\n    }\r\n  },\r\n  button: {\r\n    width: 50,\r\n    \"&>span>div\": {\r\n      width: \"100% !important\",\r\n      height: \"100% !important\",\r\n      borderRadius: 0\r\n    }\r\n  },\r\n  icon: {\r\n    width: \"18px !important\",\r\n    height: \"18px !important\",\r\n    color: theme.palette.common.white,\r\n  }\r\n});\r\n\r\nconst Logout = ({ classes, isAdminApp }) => {\r\n  const client = useContext(ApiContext);\r\n  const handleLogout = async () => {\r\n    const companyUUID = localStorage.getItem(\"companyUUID\");\r\n    await logout({ client });\r\n    window.location = `/login/${isAdminApp ? \"admin\" : companyUUID}`;\r\n  };\r\n  return (\r\n    <ListItem button onClick={handleLogout}>\r\n      <ListItemIcon>\r\n        <ExitToApp />\r\n      </ListItemIcon>\r\n      <ListItemText primary=\"Deslogar\" />\r\n    </ListItem>\r\n\r\n    // <React.Fragment>\r\n    //   <Hidden smDown>\r\n    //     <div className={classes.wrapper}>\r\n    //       <Button\r\n    //         className={classes.button}\r\n    //         onClick={handleLogout}\r\n    //         text=\"Sair\"\r\n    //         type=\"icon\"\r\n    //         avatar={<FontAwesomeIcon icon={faSignOutAlt} className={classes.icon} />}\r\n    //         variants=\"navbar\"\r\n    //       />\r\n    //     </div>\r\n    //   </Hidden>\r\n    //   <Hidden mdUp>\r\n    //     <MenuItem onClick={handleLogout} className={classes.root}>\r\n    //       Sair\r\n    //       <span style={{ flex: \"1\" }} />\r\n    //       <FontAwesomeIcon icon={faSignOutAlt} className={classes.icon} />\r\n    //     </MenuItem>\r\n    //   </Hidden>\r\n    // </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default withStyles(styles, { withTheme: true })(Logout);\r\n","import { useState, useContext, useEffect } from \"react\";\r\nimport {\r\n    lodashMap,\r\n    lodashGet,\r\n    lodashFilter,\r\n    useFindService\r\n  } from \"../../utils\"\r\nimport ApiContext from \"../../api\";\r\n\r\nconst useTicketContext = ({session}) =>{\r\n\r\nconst client = useContext(ApiContext);\r\nconst [connected, setConnected] = useState(false);\r\n\r\nclient.socket.on('connect', () => setConnected(true) );\r\n\r\nconst userId = lodashGet(session, 'userId')\r\nconst companyId = lodashGet(session, 'companyId')\r\n\r\nconst { list: tickets, reload: reloadTicket } = useFindService({\r\n    model: \"tickets\",\r\n    query: {\r\n      $populateAll: true,\r\n      $sort: {\r\n        createdAt: -1\r\n      }\r\n    }\r\n  });\r\n\r\n  const { list: unreadMessages, reload: reloadMessages, setQuery: setQueryMessages } = useFindService({\r\n    model: \"ticket_messages\"\r\n  });\r\n\r\n  useEffect(()=> {  \r\n    console.log('conectou no TicketContext')  \r\n    client.service(\"tickets\").on(\"created\", () => {\r\n      reloadTicket()})\r\n  } ,[connected]);\r\n  \r\n  useEffect(() => {\r\n    setQueryMessages({\r\n      ticketId: {\r\n        $in: lodashMap(tickets, t => t.id)\r\n      },\r\n      viewedAt: null,\r\n      companyId: companyId\r\n    })\r\n  }, [tickets, companyId, setQueryMessages])\r\n\r\n  useEffect(() => {\r\n    client.service(\"ticket_messages\").on(\"created\", () =>{console.log('nova mensagem...'); reloadMessages()});\r\n  }, [connected,reloadMessages]);\r\n\r\n  let userUnreadMessages = lodashFilter(unreadMessages, ticket => ticket.userId !== userId) || []\r\n\r\n  console.log( userUnreadMessages);\r\n\r\n  return {userUnreadMessages};\r\n}\r\nexport default useTicketContext;","import React, { useRef, useState, useContext, useEffect } from \"react\";\r\n\r\nimport {\r\n  lodashMap,\r\n  lodashGet,\r\n  lodashFilter,\r\n  useFindService,\r\n  lodashSplit,\r\n  lodashToUpper,\r\n  Link,\r\n  withStyles\r\n} from \"../../utils\"\r\n\r\nimport {\r\n  Icon,\r\n  Popper,\r\n  Grow,\r\n  Paper,\r\n  ClickAwayListener,\r\n  Switch,\r\n  Divider,\r\n  Badge,\r\n  MenuItem,\r\n  MenuList,\r\n  Grid\r\n} from \"@material-ui/core\";\r\n\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport Collapse from '@material-ui/core/Collapse';\r\nimport Chat from '@material-ui/icons/Chat';\r\nimport MenuBook from '@material-ui/icons/MenuBook';\r\nimport ExpandLess from '@material-ui/icons/ExpandLess';\r\nimport ExpandMore from '@material-ui/icons/ExpandMore';\r\n\r\nimport TicketsList from './TicketsList'\r\nimport Button from \"../buttons\";\r\nimport Logout from \"./Logout\";\r\n\r\nimport useTicketContext from \"./useTicketContext\";\r\n\r\nconst styles = theme => ({\r\n  button: {\r\n    height: 50,\r\n    color: theme.palette.common.white,\r\n    \"&>span>div\": {\r\n      width: \"100% !important\",\r\n      height: \"100% !important\",\r\n      borderRadius: 0\r\n    },\r\n    [theme.breakpoints.up(\"md\")]: {\r\n      background: \"none\",\r\n      border: \"none\",\r\n      boxShadow: \"none\"\r\n    },\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      width: 50,\r\n      padding: 0\r\n    }\r\n  },\r\n  userMenuItem: {\r\n    backgroundColor: theme.palette.primary.header,\r\n    color: theme.palette.common.white,\r\n    borderTopLeftRadius: \"4px\",\r\n    borderTopRightRadius: \"4px\",\r\n    \"&:hover\": {\r\n      backgroundColor: theme.palette.primary.header\r\n    }\r\n  },\r\n  badge: {\r\n    position: \"absolute\",\r\n    top: 0,\r\n    right: 0,\r\n    fontSize: \".65rem\",\r\n    background: theme.palette.primary.delete,\r\n    borderRadius: \"50%\",\r\n    height: 18,\r\n    width: 18,\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\"\r\n  },\r\n  list: {\r\n    paddingBottom: \"0px\",\r\n    width: 350,\r\n    maxHeight: 350\r\n  },\r\n  item: {\r\n    height: \"auto\",\r\n    whiteSpace: \"normal\",\r\n    padding: theme.spacing(1),\r\n    \"&>div\": {\r\n      width: \"100%\"\r\n    }\r\n  },\r\n});\r\n\r\nconst UnreadBadge = withStyles((theme) => ({\r\n  badge: {\r\n    right: 29,\r\n    top: 14,\r\n  },\r\n}))(Badge);\r\n\r\nconst UserActions = ({ classes, isAdminApp, hasSession, session , swtichTheme, dark}) => {\r\n\r\n  const [supportOpen, setSupportOpen] = useState(false);\r\n  const {userUnreadMessages} = useTicketContext({session});\r\n\r\n  const handleClick = () => {\r\n    setSupportOpen(prev => !prev);\r\n  };\r\n\r\n\r\n  const [open, setOpen] = useState(false);\r\n  const MenuRef = useRef(null);\r\n\r\n  const handleClose = event => {\r\n    if (MenuRef.current.contains(event.target)) {\r\n      return;\r\n    }\r\n    setOpen(false);\r\n  };\r\n\r\n  const handleToggle = () => {\r\n    setOpen(prev => !prev)\r\n  };\r\n\r\n  const userName = lodashGet(session, \"user.name\");\r\n  let initials = \"\";\r\n  lodashMap(lodashSplit(userName, \" \"), fragment => (initials += lodashToUpper(fragment[0])));\r\n\r\n  //const empty = !loadingTicket && tickets.length === 0;\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <UnreadBadge badgeContent={userUnreadMessages.length} color=\"secondary\">\r\n        <Button\r\n          className={classes.button}\r\n          buttonRef={node => {\r\n\r\n            MenuRef.current = node;\r\n          }}\r\n          aria-owns={open ? \"menu-list-grow\" : undefined}\r\n          aria-haspopup=\"true\"\r\n          onClick={handleToggle}\r\n          type=\"icon\"\r\n          variants=\"navbar\"\r\n          icon=\"account_circle\"\r\n          text={isAdminApp ? \"Admin\" : userName}\r\n        />\r\n        </UnreadBadge>\r\n      <Popper open={open} anchorEl={MenuRef.current} transition disablePortal>\r\n        {({ TransitionProps, placement }) => (\r\n          <Grow\r\n            {...TransitionProps}\r\n            id=\"menu-list-grow\"\r\n            style={{\r\n              transformOrigin: placement === \"bottom\" ? \"center top\" : \"center bottom\"\r\n            }}\r\n          >\r\n            <Paper style={{ width: 350 }}>\r\n              <ClickAwayListener onClickAway={handleClose}>\r\n\r\n              <List\r\n                component=\"nav\"\r\n                aria-labelledby=\"Menu do Usuário\"                \r\n              >\r\n                  <ListItem>\r\n                    <ListItemIcon>\r\n                      <Switch edge=\"start\" color=\"secondary\" onChange={swtichTheme} checked={dark}/>\r\n                    </ListItemIcon>\r\n                    <ListItemText primary=\"Tema Escuro\" />\r\n                  </ListItem>\r\n\r\n                  <Divider />\r\n\r\n                  {!isAdminApp && (\r\n                    <ListItem button component={Link} to=\"/administration/reset-password\" onClick={handleToggle}>\r\n                      <ListItemIcon>\r\n                        <Icon>lock_outlined</Icon>\r\n                      </ListItemIcon>\r\n                      <ListItemText primary=\"Alterar Senha\" />\r\n                    </ListItem>\r\n                  )}\r\n\r\n                  <Logout />                    \r\n                 \r\n                  <Divider />\r\n\r\n                  <ListItem button   component={Link} to=\"/help/home\" onClick={handleToggle}>\r\n                    <ListItemIcon>\r\n                      <MenuBook />\r\n                    </ListItemIcon>\r\n                    <ListItemText primary=\"Manual Wiki\"/>\r\n                  </ListItem>\r\n                  <ListItem button onClick={handleClick}>\r\n                    <ListItemIcon>\r\n                      <Chat />\r\n                    </ListItemIcon>\r\n                    <ListItemText primary=\"Suporte Técnico\" />\r\n                    {supportOpen ? <ExpandLess /> : <ExpandMore />}\r\n                  </ListItem>\r\n                  <Collapse style={{maxHeight:'250px', overflowY:'overlay', overflowX:'hidden'}} in={supportOpen} timeout=\"auto\" unmountOnExit>\r\n                    <TicketsList hasSession={hasSession} session={session} isAdminApp={isAdminApp} type=\"Menu\" handleToggle={handleToggle}/>\r\n                  </Collapse>\r\n                </List>\r\n              </ClickAwayListener>\r\n            </Paper>\r\n          </Grow>\r\n        )}\r\n      </Popper>\r\n    </React.Fragment>\r\n  )\r\n\r\n}\r\n\r\nexport default withStyles(styles, { withTheme: true })(UserActions)","import React, { useContext } from \"react\";\r\nimport { Grid, AppBar, Toolbar, Avatar } from \"@material-ui/core\";\r\nimport {\r\n  Link,\r\n  withRouter,\r\n  withStyles,\r\n  lodashFilter,\r\n  getPermissions,\r\n  useAuth,\r\n} from \"../../utils\";\r\nimport Button from \"../buttons\";\r\nimport MainTabsNav from \"./MainTabsNav\";\r\nimport CompanyLogin from \"./CompanyLogin\";\r\nimport Notifications from \"./Notifications\";\r\nimport logo from \"../../icons/logo.svg\";\r\nimport UserActions from \"./UserActions\";\r\nimport ApiContext from \"../../api\";\r\n\r\nconst userActions = [\r\n  {\r\n    icon: \"assignment\",\r\n    href: \"/master-data\",\r\n    text: \"Cadastros\",\r\n    permissions: [\"writeMasterData\", \"readMasterData\"],\r\n  },\r\n  {\r\n    icon: \"assessment\",\r\n    href: \"/dashboard\",\r\n    text: \"Painel de Controle\",\r\n    permissions: [\r\n      \"readProductionOrders\",\r\n      \"readProductionOrderReports\",\r\n      \"writeActiveProductionOrders\",\r\n      \"writeScheduledStopProductionOrders\",\r\n      \"writeProductionOrderEvents\",\r\n    ],\r\n  },\r\n  {\r\n    icon: \"table_chart\",\r\n    href: \"/reports\",\r\n    text: \"Relatórios\",\r\n    permissions: [\"readProductionOrderReports\"],\r\n  },\r\n  {\r\n    icon: \"settings_applications\",\r\n    href: \"/administration\",\r\n    text: \"Configurações\",\r\n    permissions: [\"crudAdminData\", \"crudUserData\"],\r\n  },\r\n];\r\n\r\nconst sysAdminActions = [\r\n  {\r\n    icon: \"domain\",\r\n    href: \"/sysadmin/companies\",\r\n    text: \"Clientes\",\r\n  },\r\n  {\r\n    icon: \"memory\",\r\n    href: \"/sysadmin/sensors\",\r\n    text: \"Sensores\",\r\n  },\r\n  {\r\n    icon: \"assignment\",\r\n    href: \"/sysadmin/master-data\",\r\n    text: \"Cadastros\",\r\n  },\r\n];\r\n\r\nconst styles = (theme) => ({\r\n  \"@global\": {\r\n    /* width */\r\n    \"::-webkit-scrollbar\": {\r\n      width: \"6px\",\r\n      height: \"6px\",\r\n\r\n      /* FireFox */\r\n      scrollbarWidth: \"thin\",\r\n    },\r\n    /* Track */\r\n    \"::-webkit-scrollbar-track\": {\r\n      background: \"transparent\",\r\n    },\r\n    \"::-webkit-scrollbar-track-piece\": {\r\n      backgroundColor: \"transparent\",\r\n    },\r\n\r\n    /* Handle */\r\n    \"::-webkit-scrollbar-thumb\": {\r\n      background: \"rgba(0, 0, 0, 0.54)\",\r\n      borderRadius: \"3px\",\r\n    },\r\n\r\n    /* Handle on hover */\r\n    \"::-webkit-scrollbar-thumb:hover\": {\r\n      background: \"#555\",\r\n    },\r\n  },\r\n  root: {\r\n    height: \"100vh\",\r\n    flexWrap: \"nowrap\",\r\n    flexGrow: 1,\r\n    [theme.breakpoints.down(\"md\")]: {\r\n      fontSize: 14,\r\n    },\r\n    [theme.breakpoints.down(\"xs\")]: {\r\n      fontSize: 12,\r\n    },\r\n  },\r\n  title: {\r\n    flex: 1,\r\n  },\r\n  main: {\r\n    overflowY: \"auto\",\r\n    display: \"flex\",\r\n    flexGrow: 1,\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      flexDirection: \"column\",\r\n    },\r\n  },\r\n  home: {\r\n    marginRight: theme.spacing(2),\r\n  },\r\n  content: {\r\n    overflowX: \"hidden\",\r\n    overflowY: \"auto\",\r\n    flexGrow: 1,\r\n    flexWrap: \"nowrap\",\r\n    padding: theme.spacing(3),\r\n    [theme.breakpoints.down(\"xs\")]: {\r\n      padding: theme.spacing(1),\r\n    },\r\n  },\r\n});\r\n\r\nconst Shell = ({\r\n  location: { pathname },\r\n  classes,\r\n  children,\r\n  swtichTheme,\r\n  dark,\r\n}) => {\r\n  const { session, permissions } = useAuth({ dependencies: [pathname] });\r\n  const isAdminApp = session && session.isAdmin;\r\n  const isLoginApp = pathname.indexOf(\"login\") !== -1;\r\n  const hasSession = !isLoginApp && session;\r\n  const actions = isAdminApp ? sysAdminActions : userActions;\r\n\r\n  const client = useContext(ApiContext);\r\n  const isDevelopmentEnvironment =\r\n    client.get(\"cloudURL\").includes(\"heroku\") ||\r\n    client.get(\"cloudURL\").includes(\"localhost\");\r\n\r\n  return (\r\n    <Grid container direction=\"column\" className={classes.root}>\r\n      <AppBar position=\"static\">\r\n        <Toolbar>\r\n          {\" \"}\r\n          {/*on mobile we can swipe the menu* style={{overflow:'overlay'}}*/}\r\n          {isDevelopmentEnvironment && <span>DEV</span>}\r\n          {!isAdminApp && !hasSession && (\r\n            <Avatar\r\n              className={classes.home}\r\n              alt=\"Logo\"\r\n              src={logo}\r\n              component={Link}\r\n              to=\"/\"\r\n            />\r\n          )}{\" \"}\r\n          {/*on mobile the logo takes to much space in the menu*/}\r\n          {hasSession && isAdminApp && (\r\n            <Button\r\n              type=\"icon\"\r\n              text=\"SysAdmin\"\r\n              icon=\"settings\"\r\n              variants=\"navbar\"\r\n              component={Link}\r\n              to=\"/sysadmin\"\r\n            />\r\n          )}\r\n          {!session && !isLoginApp && <CompanyLogin />}\r\n          {hasSession && (\r\n            <MainTabsNav\r\n              actions={lodashFilter(\r\n                actions,\r\n                (action) =>\r\n                  !action.permissions ||\r\n                  getPermissions({\r\n                    privileges: action.permissions,\r\n                    permissions,\r\n                  })\r\n              )}\r\n            />\r\n          )}\r\n          {hasSession && (\r\n            <Notifications\r\n              hasSession={hasSession}\r\n              session={session}\r\n              isAdminApp={isAdminApp}\r\n            />\r\n          )}\r\n          {hasSession && (\r\n            <UserActions\r\n              hasSession={hasSession}\r\n              session={session}\r\n              isAdminApp={isAdminApp}\r\n              swtichTheme={swtichTheme}\r\n              dark={dark}\r\n            />\r\n          )}\r\n        </Toolbar>\r\n      </AppBar>\r\n      <main className={classes.main}>\r\n        <Grid container direction=\"column\" className={classes.content}>\r\n          {children}\r\n        </Grid>\r\n      </main>\r\n    </Grid>\r\n  );\r\n};\r\n\r\nexport default withRouter(withStyles(styles, { withTheme: true })(Shell));\r\n","import React from \"react\";\r\nimport { Redirect, Route, useAuth } from \"../../utils\";\r\nimport Loader from \"../loader\";\r\n\r\nconst ClientRoute = props => {\r\n  const { session, loading, hasAccess } = useAuth({\r\n    privileges: props.permissions\r\n  });\r\n  if (loading) {\r\n    return <Loader />;\r\n  }\r\n  const companyUUID = localStorage.getItem(\"companyUUID\");\r\n  if (!session || !hasAccess) {\r\n    return <Redirect push to={companyUUID ? `/login/${companyUUID}` : \"/\"} />;\r\n  }\r\n  return <Route {...props} />;\r\n};\r\n\r\nexport default ClientRoute;\r\n","import React from \"react\";\r\nimport { Redirect, Route, useAuth, lodashGet } from \"../../utils\";\r\nimport Loader from \"../loader\";\r\n\r\nconst AdminRoute = props => {\r\n  const { session, loading } = useAuth();\r\n  if (loading) {\r\n    return <Loader />;\r\n  }\r\n  if (!lodashGet(session, \"isAdmin\")) {\r\n    return <Redirect push to=\"/login/admin\" />;\r\n  }\r\n  return <Route {...props} />;\r\n};\r\n\r\nexport default AdminRoute;\r\n","import React from \"react\";\r\nimport { Redirect, Route, useAuth } from \"../../utils\";\r\nimport Loader from \"../loader\";\r\n\r\nconst SessionRoute = props => {\r\n  const { session, loading } = useAuth();\r\n  if (loading) {\r\n    return <Loader />;\r\n  }\r\n  const companyUUID = localStorage.getItem(\"companyUUID\");\r\n  if (!session) {\r\n    return <Redirect push to={companyUUID ? `/login/${companyUUID}` : \"/\"} />;\r\n  }\r\n  return <Route {...props} />;\r\n};\r\n\r\nexport default SessionRoute;\r\n","import React from \"react\";\r\nimport { Grid, Button, Icon } from \"@material-ui/core\";\r\nimport { Link, withStyles, classNames, lodashMap } from \"../../utils\";\r\n\r\nconst styles = theme => ({\r\n  grid: {\r\n    minHeight: 64,\r\n    zIndex: 10,\r\n    width: `calc(100% + ${theme.spacing(6)}px)`,\r\n    margin: -theme.spacing(3),\r\n    marginBottom: theme.spacing(2),\r\n    padding: `0 ${theme.spacing(3)}px`,\r\n    backgroundColor: theme.palette.secondary.main,\r\n    [theme.breakpoints.down(\"xs\")]: {\r\n      margin: -theme.spacing(1),\r\n      marginBottom: theme.spacing(1),\r\n      width: `calc(100% + ${theme.spacing(2)}px)`,\r\n      padding: `0 ${theme.spacing(1)}px`,\r\n      minHeight: 56\r\n    }\r\n  },\r\n  link: {\r\n    \"& a\": {\r\n      minHeight: 0\r\n    }\r\n  },\r\n  firstLink: {\r\n    \"& a\": {\r\n      paddingLeft: 0\r\n    }\r\n  },\r\n  wrapper: {\r\n    display: \"flex\",\r\n    color: '#000000de',\r\n  },\r\n  arrow: {\r\n    fontSize: \"1.25rem\"\r\n  },\r\n  button: {\r\n    color: '#000000de',\r\n  }\r\n});\r\n\r\nconst BreadCrumbs = ({ classes, links }) => (\r\n  <Grid container alignItems=\"center\" className={classes.grid}>\r\n    {lodashMap(links, ({ text, href }, index) => (\r\n      <React.Fragment key={index}>\r\n        {index !== 0 && (\r\n          <Grid item className={classes.wrapper}>\r\n            <Icon className={classes.arrow}>arrow_forward_ios</Icon>\r\n          </Grid>\r\n        )}\r\n        <Grid\r\n          item\r\n          className={classNames(classes.link, {\r\n            [classes.firstLink]: index === 0\r\n          })}\r\n        >\r\n          {href ? (\r\n            <Button className={classes.button} component={Link } to={href}>\r\n              {text}\r\n            </Button>\r\n          ) : (\r\n            <Button className={classes.button} >{text}</Button>\r\n          )}\r\n        </Grid>\r\n      </React.Fragment>\r\n    ))}\r\n  </Grid>\r\n);\r\n\r\nexport default withStyles(styles, { withTheme: true })(BreadCrumbs);\r\n","import React from \"react\";\r\nimport { Toolbar, Fab } from \"@material-ui/core\";\r\nimport { Link, withStyles, getPermissions, useAuth } from \"../../utils\";\r\nimport Button from \"../buttons\";\r\nimport AddIcon from '@material-ui/icons/Add';\r\n\r\nconst styles = theme => ({\r\n  toolbar: {\r\n    padding: 0,\r\n    minHeight: 40,\r\n    marginBottom: theme.spacing(1)\r\n  },\r\n  spacer: {\r\n    flex: \"1 1 100%\"\r\n  },\r\n  actions: {\r\n    color: theme.palette.text.secondary\r\n  },\r\n  fab: {\r\n    position: 'absolute',\r\n    bottom: theme.spacing(2),\r\n    right: theme.spacing(2),\r\n    zIndex: 1\r\n  },\r\n});\r\n\r\nconst GridToolbar = ({ classes, model, options = {} }) => {\r\n  const { permissions } = useAuth();\r\n  const showToolbar =\r\n    !options.dontCreate && getPermissions({ privileges: options.writePermissions, permissions });\r\n  return (\r\n    showToolbar && (\r\n      <Fab color=\"secondary\" aria-label=\"criar\"  className={classes.fab}>\r\n        <AddIcon />\r\n      </Fab>\r\n      // <Toolbar className={classes.toolbar}>\r\n      //   <div className={classes.spacer} />\r\n      //   <div className={classes.actions}>\r\n      //     {showToolbar && (\r\n      //       <Button\r\n      //         text=\"Criar\"\r\n      //         icon=\"add_icon\"\r\n      //         variants=\"toolbar\"\r\n      //         component={Link}\r\n      //         to={`${model.formPath}/new`}\r\n      //       />\r\n      //     )}\r\n      //   </div>\r\n      // </Toolbar>\r\n    )\r\n  );\r\n};\r\n\r\nexport default withStyles(styles, { withTheme: true })(GridToolbar);\r\n","import React from \"react\";\r\nimport { Grid, Card, CardContent, Avatar, Typography } from \"@material-ui/core\";\r\nimport { Link, withStyles, lodashGet, lodashMap, getPermissions, useAuth } from \"../../utils\";\r\nimport Button from \"../buttons\";\r\nimport Loader from \"../loader\";\r\n\r\nconst styles = theme => ({\r\n  card: {\r\n    display: \"flex\",\r\n    position: \"relative\"\r\n  },\r\n  content: {\r\n    flex: 1,\r\n    padding: theme.spacing(1)\r\n  },\r\n  header: {\r\n    minHeight: 40,\r\n    marginBottom: theme.spacing(1)\r\n  },\r\n  avatar: {\r\n    marginRight: theme.spacing(1)\r\n  },\r\n  controls: {\r\n    width: \"unset\"\r\n  },\r\n  loader: {\r\n    height: \"100%\",\r\n    width: \"100%\",\r\n    background: \"rgba(255,255,255,.5)\",\r\n    zIndex: 1,\r\n    position: \"absolute\",\r\n    right: 0,\r\n    top: 0,\r\n    padding: \"0 8px\",\r\n    \"&>div\": {\r\n      position: \"relative\",\r\n      top: \"50%\"\r\n    }\r\n  }\r\n});\r\n\r\nconst GridCard = ({\r\n  classes,\r\n  model,\r\n  fields,\r\n  data,\r\n  handleDelete,\r\n  loading,\r\n  options = {},\r\n  customContent = {},\r\n  customActions\r\n}) => {\r\n  const { permissions } = useAuth();\r\n  return (\r\n    <Card className={classes.card}>\r\n      {loading && (\r\n        <div className={classes.loader}>\r\n          <Loader />\r\n        </div>\r\n      )}\r\n      <CardContent className={classes.content}>\r\n        <Grid container alignItems=\"center\" className={classes.header}>\r\n          {data.image && <Avatar alt={data.name} src={data.image} className={classes.avatar} />}\r\n          <Typography component=\"h5\" variant=\"h5\">\r\n            {data.name}\r\n          </Typography>\r\n        </Grid>\r\n        <Grid container spacing={2}>\r\n          {lodashMap(\r\n            fields,\r\n            ({ identity, text, hasIdentity, customData }) =>\r\n              identity !== \"name\" &&\r\n              (lodashGet(data, identity) || customData) && (\r\n                <Grid item key={identity}>\r\n                  <Typography variant=\"subtitle1\" color=\"textSecondary\">\r\n                    {text}\r\n                  </Typography>\r\n                  <Typography component=\"p\">\r\n                    {customData && customData({ data })}\r\n                    {!customData && (\r\n                      <React.Fragment>\r\n                        {hasIdentity ? (data.identity ? `${data.identity} - ` : \"\") : \"\"}\r\n                        {lodashGet(data, identity)}\r\n                      </React.Fragment>\r\n                    )}\r\n                  </Typography>\r\n                </Grid>\r\n              )\r\n          )}\r\n        </Grid>\r\n      </CardContent>\r\n      <Grid container direction=\"column\" className={classes.controls}>\r\n        {!options.dontEdit && (!customContent.dontEdit || customContent.dontEdit({ data })) && (\r\n          <Button\r\n            type=\"icon\"\r\n            text=\"Editar\"\r\n            icon=\"edit_icon\"\r\n            variants=\"editAction\"\r\n            component={Link}\r\n            to={`${model.formPath}/${data.id}`}\r\n          />\r\n        )}\r\n        {getPermissions({ privileges: options.writePermissions, permissions }) &&\r\n          !options.dontDelete &&\r\n          (!customContent.dontDelete || customContent.dontDelete({ data })) && (\r\n            <Button\r\n              type=\"icon\"\r\n              text=\"Deletar\"\r\n              icon=\"delete\"\r\n              variants=\"deleteAction\"\r\n              onClick={handleDelete(data)}\r\n            />\r\n          )}\r\n        {customActions && customActions({ isList: true, data })}\r\n      </Grid>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default withStyles(styles, { withTheme: true })(GridCard);\r\n","import React from \"react\";\r\nimport { Grid } from \"@material-ui/core\";\r\nimport { withStyles, lodashMap, useFindDeleteService } from \"../../utils\";\r\nimport NotFound from \"../not-found\";\r\nimport Loader from \"../loader\";\r\nimport Errors from \"../errors\";\r\nimport GridToolbar from \"./GridToolbar\";\r\nimport GridCard from \"./GridCard\";\r\n\r\nconst styles = theme => ({\r\n  container: {\r\n    flexWrap: \"nowrap\"\r\n  },\r\n  grid: {\r\n    overflowY: \"auto\"\r\n  }\r\n});\r\n\r\nconst MasterDataGrid = ({\r\n  classes,\r\n  model,\r\n  fields,\r\n  query = {},\r\n  options = {},\r\n  customContent = {},\r\n  customActions\r\n}) => {\r\n  const {\r\n    list,\r\n    handleDelete,\r\n    deleteRef,\r\n    deleteLoading,\r\n    findLoading,\r\n    errors\r\n  } = useFindDeleteService({ model: model.name, query });\r\n  const empty = !findLoading && !errors && list.length === 0;\r\n  return (\r\n    <Grid container direction=\"column\" className={classes.container}>\r\n      <GridToolbar model={model} options={options} />\r\n      {findLoading && <Loader />}\r\n      {errors && <Errors errors={errors} />}\r\n      {empty && <NotFound />}\r\n      {!findLoading && (\r\n        <Grid className={classes.grid} container spacing={1}>\r\n          {lodashMap(list, item => (\r\n            <Grid item xs={12} sm={6} key={item.id}>\r\n              <GridCard\r\n                model={model}\r\n                fields={fields}\r\n                data={item}\r\n                loading={deleteRef[item.id] && deleteLoading}\r\n                handleDelete={handleDelete}\r\n                options={options}\r\n                customContent={customContent}\r\n                customActions={customActions}\r\n              />\r\n            </Grid>\r\n          ))}\r\n        </Grid>\r\n      )}\r\n    </Grid>\r\n  );\r\n};\r\n\r\nexport default withStyles(styles, { withTheme: true })(MasterDataGrid);\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Icon, Button, Menu, MenuItem, Typography, TextField } from \"@material-ui/core\";\r\nimport { withStyles, lodashGet, lodashMap, useFindService } from \"../../utils\";\r\n\r\nconst styles = theme => ({\r\n  menu: {\r\n    height: 300\r\n  },\r\n  icon: {\r\n    color: theme.palette.common.white\r\n  }\r\n});\r\n\r\nconst Filter = ({ classes, field, query = {}, setFindQuery }) => {\r\n  // TODO useMemo and useReduce\r\n  // const [query, setQuery] = useState({});\r\n  const [selected, setSelected] = useState({});\r\n  const [search, setSearch] = useState();\r\n  const [sortType, setSortType] = useState();\r\n  const { list } = useFindService({\r\n    // const { list, loading, errors } = useFindService({\r\n    model: lodashGet(field, \"model.service\"),\r\n    query: lodashGet(field, \"model.query\")\r\n  });\r\n  const [anchor, setAnchor] = useState(null);\r\n  const handleClick = e => setAnchor(e.currentTarget);\r\n  const handleClose = () => setAnchor(null);\r\n  const handleSearch = ({ target }) => {\r\n    setSearch(target.value);\r\n  };\r\n  const handleSelect = ({ id }) => () => {\r\n    setSelected(prev => {\r\n      if (prev[id]) {\r\n        delete prev[id];\r\n      } else {\r\n        prev[id] = true;\r\n      }\r\n      return prev;\r\n    });\r\n    handleClose();\r\n  };\r\n  const clearSelection = () => {\r\n    setSelected({});\r\n    setSearch();\r\n    setSortType();\r\n    handleClose();\r\n  };\r\n  const sortASC = () => {\r\n    setSortType(1);\r\n    handleClose();\r\n  };\r\n  const sortDESC = () => {\r\n    setSortType(-1);\r\n    handleClose();\r\n  };\r\n  const selectedString = JSON.stringify(selected);\r\n  const queryString = JSON.stringify(query);\r\n  useEffect(() => {\r\n    setFindQuery(prev => {\r\n      const newQuery = { ...prev, ...JSON.parse(queryString) };\r\n      const param = lodashGet(field, \"model.identity\") || lodashGet(field, \"identity\");\r\n      const values = Object.keys(JSON.parse(selectedString));\r\n      if (param && values.length) {\r\n        newQuery[param] = {\r\n          $in: values\r\n        };\r\n      } else {\r\n        delete newQuery[param];\r\n      }\r\n      return newQuery;\r\n    });\r\n  }, [selectedString, queryString, field, setFindQuery]);\r\n  useEffect(() => {\r\n    setFindQuery(prev => {\r\n      const newQuery = { ...prev, ...JSON.parse(queryString) };\r\n      const param = lodashGet(field, \"filter.identity\") || lodashGet(field, \"identity\");\r\n      if (param && search) {\r\n        newQuery[param] = {\r\n          $like: `%${search}%`\r\n        };\r\n      } else {\r\n        delete newQuery[param];\r\n      }\r\n      return newQuery;\r\n    });\r\n  }, [queryString, search, field, setFindQuery]);\r\n  useEffect(() => {\r\n    setFindQuery(prev => {\r\n      const newQuery = { ...prev, ...JSON.parse(queryString) };\r\n      const param = lodashGet(field, \"filter.identity\") || lodashGet(field, \"identity\");\r\n      if (param && sortType) {\r\n        newQuery[\"$sort\"] = {\r\n          [param]: sortType\r\n        };\r\n      } else if (param !== \"identity\" && param !== \"name\") {\r\n        delete newQuery[\"$sort\"][param];\r\n      }\r\n      return newQuery;\r\n    });\r\n  }, [queryString, sortType, field, setFindQuery]);\r\n  const modelCustomName = lodashGet(field, \"model.customName\");\r\n  return (\r\n    <React.Fragment>\r\n      <Button\r\n        aria-owns={anchor ? `filter-${field.text}` : undefined}\r\n        aria-haspopup=\"true\"\r\n        onClick={handleClick}\r\n      >\r\n        <Typography variant=\"body1\">{field.text}</Typography>\r\n        <Icon className={classes.icon}>arrow_drop_down</Icon>\r\n        {(Object.keys(selected).length > 0 || search || sortType) && (\r\n          <Icon className={classes.icon}>filter_list</Icon>\r\n        )}\r\n      </Button>\r\n      {(field.model || field.filter) && (\r\n        <Menu\r\n          className={classes.menu}\r\n          id={`filter-${field.text}`}\r\n          anchorEl={anchor}\r\n          open={!!anchor}\r\n          onClose={handleClose}\r\n        >\r\n          <MenuItem onClick={sortASC}>\r\n            {sortType === 1 && <Icon>done</Icon>}Ordenação ascendente\r\n          </MenuItem>\r\n          <MenuItem onClick={sortDESC}>\r\n            {sortType === -1 && <Icon>done</Icon>}Ordenação descendente\r\n          </MenuItem>\r\n          <MenuItem onClick={clearSelection}>Remover filtros</MenuItem>\r\n          {field.filter && (\r\n            <MenuItem>\r\n              <TextField\r\n                name={field.identity}\r\n                label={\"Pesquisa\"}\r\n                value={search}\r\n                onChange={handleSearch}\r\n              />\r\n            </MenuItem>\r\n          )}\r\n          {lodashMap(list, item => (\r\n            <MenuItem key={item.id} onClick={handleSelect({ id: item.id })}>\r\n              {selected[item.id] && <Icon>done</Icon>}\r\n              {!modelCustomName && item.name}\r\n              {modelCustomName && modelCustomName({ data: item })}\r\n            </MenuItem>\r\n          ))}\r\n        </Menu>\r\n      )}\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default withStyles(styles, { withTheme: true })(Filter);\r\n","import React from \"react\";\r\nimport { Hidden, TableCell, TableRow, Typography } from \"@material-ui/core\";\r\nimport { Link, withStyles, lodashGet, lodashMap, getPermissions, useAuth } from \"../../utils\";\r\nimport Button from \"../buttons\";\r\nimport Loader from \"../loader\";\r\n\r\nconst styles = theme => ({\r\n  row: {\r\n    \"&:nth-of-type(odd)\": {\r\n      backgroundColor: theme.palette.primary.table\r\n    }\r\n  },\r\n  actions: {\r\n    position: \"relative\",\r\n    justifyContent: \"center\",\r\n    display: \"flex\"\r\n  },\r\n  loader: {\r\n    height: \"100%\",\r\n    width: \"100%\",\r\n    background: \"rgba(255,255,255,.5)\",\r\n    zIndex: 1,\r\n    position: \"absolute\",\r\n    right: 0,\r\n    top: 0,\r\n    padding: \"0 8px\",\r\n    \"&>div\": {\r\n      position: \"relative\",\r\n      top: 25\r\n    }\r\n  }\r\n});\r\n\r\nconst MasterTableRow = ({\r\n  classes,\r\n  model,\r\n  fields,\r\n  data,\r\n  handleDelete,\r\n  loading,\r\n  options = {},\r\n  customContent = {},\r\n  customActions\r\n}) => {\r\n  const { permissions } = useAuth();\r\n  return (\r\n    <TableRow className={classes.row} key={data.id}>\r\n      {lodashMap(fields, ({ identity, hidden, hasIdentity, customData }) => (\r\n        <Hidden key={identity} only={hidden ? \"md\" : \"xs\"}>\r\n          <TableCell>\r\n            <Typography variant=\"body2\">\r\n              {customData && customData({ data })}\r\n              {!customData && (\r\n                <React.Fragment>\r\n                  {hasIdentity ? (data.identity ? `${data.identity} - ` : \"\") : \"\"}\r\n                  {lodashGet(data, identity)}\r\n                </React.Fragment>\r\n              )}\r\n            </Typography>\r\n          </TableCell>\r\n        </Hidden>\r\n      ))}\r\n      <TableCell>\r\n        <div className={classes.actions}>\r\n          {loading && (\r\n            <div className={classes.loader}>\r\n              <Loader />\r\n            </div>\r\n          )}\r\n          {!options.dontEdit && (!customContent.dontEdit || customContent.dontEdit({ data })) && (\r\n            <Button\r\n              type=\"icon\"\r\n              text=\"Editar\"\r\n              icon=\"edit_icon\"\r\n              variants=\"editAction\"\r\n              component={Link}\r\n              to={`${model.formPath}/${data.id}`}\r\n            />\r\n          )}\r\n          {getPermissions({ privileges: options.writePermissions, permissions }) &&\r\n            !options.dontDelete &&\r\n            (!customContent.dontDelete || customContent.dontDelete({ data })) && (\r\n              <Button\r\n                type=\"icon\"\r\n                text=\"Deletar\"\r\n                icon=\"delete\"\r\n                variants=\"deleteAction\"\r\n                onClick={handleDelete(data)}\r\n              />\r\n            )}\r\n          {customActions && customActions({ isList: true, data })}\r\n        </div>\r\n      </TableCell>\r\n    </TableRow>\r\n  );\r\n};\r\n\r\nexport default withStyles(styles, { withTheme: true })(MasterTableRow);\r\n","import React from \"react\";\r\nimport {\r\n  Hidden,\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableHead,\r\n  TableRow,\r\n  Typography\r\n} from \"@material-ui/core\";\r\nimport {\r\n  Link,\r\n  withStyles,\r\n  lodashMap,\r\n  getPermissions,\r\n  useAuth,\r\n  useFindDeleteService\r\n} from \"../../utils\";\r\nimport NotFound from \"../not-found\";\r\nimport Loader from \"../loader\";\r\nimport Errors from \"../errors\";\r\nimport Button from \"../buttons\";\r\nimport Filter from \"./Filter\";\r\nimport MasterTableRow from \"./TableRow\";\r\n\r\nconst styles = theme => ({\r\n  root: {\r\n    flex: 1,\r\n    overflow: \"hidden\"\r\n  },\r\n  scrollArea: {\r\n    height: \"100%\",\r\n    minHeight: \"300px\",\r\n    overflow: 'overlay'\r\n  },\r\n  container: {\r\n    flex: 1,\r\n    overflow: \"hidden\"\r\n  },\r\n  actions: {\r\n    justifyContent: \"center\",\r\n    display: \"flex\"\r\n  },\r\n  header: {\r\n    position: \"sticky\",\r\n    top: 0,\r\n    zIndex: 1,\r\n    backgroundColor: theme.palette.primary.main,\r\n    color: theme.palette.common.white,\r\n    padding: theme.spacing(1),\r\n    \"& p,& a span\": {\r\n      color: theme.palette.common.white,\r\n      textTransform: \"uppercase\"\r\n    }\r\n  }\r\n});\r\n\r\nconst MasterDataTable = ({\r\n  classes,\r\n  model,\r\n  fields,\r\n  query = {},\r\n  options = {},\r\n  customContent = {},\r\n  customActions\r\n}) => {\r\n  const { permissions } = useAuth();\r\n  const {\r\n    list,\r\n    setFindQuery,\r\n    handleDelete,\r\n    deleteRef,\r\n    deleteLoading,\r\n    findLoading,\r\n    errors\r\n  } = useFindDeleteService({ model: model.name, query });\r\n  const empty = !findLoading && !errors && list.length === 0;\r\n  return (\r\n    // TODO add pagination!!\r\n    <div className={classes.root}>\r\n      <div className={classes.scrollArea} style={{ width: \"none\" }}>\r\n        <Table className={classes.table}>\r\n          <TableHead>\r\n            <TableRow>\r\n              {lodashMap(fields, field => (\r\n                <Hidden key={field.identity} only={field.hidden ? \"md\" : \"xs\"}>\r\n                  <TableCell className={classes.header}>\r\n                    {!(field.customContent && field.customContent.dontFilter) && (\r\n                      <Filter field={field} query={query} setFindQuery={setFindQuery} />\r\n                    )}\r\n                    {field.customContent && field.customContent.dontFilter && !field.customText && (\r\n                      <Typography variant=\"body1\">{field.text}</Typography>\r\n                    )}\r\n                    {field.customContent &&\r\n                      field.customContent.dontFilter &&\r\n                      field.customText &&\r\n                      field.customText()}\r\n                  </TableCell>\r\n                </Hidden>\r\n              ))}\r\n              <TableCell className={classes.header}>\r\n                {!options.dontCreate &&\r\n                  getPermissions({ privileges: options.writePermissions, permissions }) && (\r\n                    <div className={classes.actions}>\r\n                      <Button\r\n                        text=\"Criar\"\r\n                        icon=\"add_icon\"\r\n                        variants=\"table\"\r\n                        component={Link}\r\n                        to={`${model.formPath}/new`}\r\n                      />\r\n                    </div>\r\n                  )}\r\n              </TableCell>\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            {(findLoading || errors || empty) && (\r\n              <TableRow className={classes.row}>\r\n                <TableCell colSpan={fields.length + 1}>\r\n                  {findLoading && <Loader />}\r\n                  {errors && <Errors errors={errors} />}\r\n                  {empty && <NotFound />}\r\n                </TableCell>\r\n              </TableRow>\r\n            )}\r\n            {!findLoading &&\r\n              lodashMap(list, item => (\r\n                <MasterTableRow\r\n                  key={item.id}\r\n                  model={model}\r\n                  fields={fields}\r\n                  data={item}\r\n                  loading={deleteRef[item.id] && deleteLoading}\r\n                  handleDelete={handleDelete}\r\n                  options={options}\r\n                  customContent={customContent}\r\n                  customActions={customActions}\r\n                />\r\n              ))}\r\n          </TableBody>\r\n        </Table>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default withStyles(styles, { withTheme: true })(MasterDataTable);\r\n","import React from \"react\";\r\nimport { Hidden } from \"@material-ui/core\";\r\nimport { withStyles } from \"../../utils\";\r\nimport Grid from \"./Grid\";\r\nimport Table from \"./Table\";\r\n\r\nconst styles = theme => ({});\r\n\r\nconst MasterDataList = ({\r\n  classes,\r\n  model,\r\n  fields,\r\n  query = {},\r\n  options = {},\r\n  customContent = {},\r\n  customActions\r\n}) => (\r\n  <React.Fragment>\r\n    <Hidden smDown>\r\n      <Table\r\n        model={model}\r\n        fields={fields}\r\n        query={query}\r\n        options={options}\r\n        customContent={customContent}\r\n        customActions={customActions}\r\n      />\r\n    </Hidden>\r\n    <Hidden mdUp>\r\n      <Grid\r\n        model={model}\r\n        fields={fields}\r\n        query={query}\r\n        options={options}\r\n        customContent={customContent}\r\n        customActions={customActions}\r\n      />\r\n    </Hidden>\r\n  </React.Fragment>\r\n);\r\n\r\nexport default withStyles(styles, { withTheme: true })(MasterDataList);\r\n","import React from \"react\";\r\nimport { withStyles } from \"../../utils\";\r\nimport BreadCrumbs from \"../breadcrumbs\";\r\nimport MasterDataList from \"../master-data-list\";\r\n\r\nconst styles = theme => ({});\r\n\r\nconst MasterDataListPage = withStyles(styles, { withTheme: true })(\r\n  ({\r\n    classes,\r\n    metadata,\r\n    list,\r\n    links,\r\n    query = {},\r\n    options = {},\r\n    customContent = {},\r\n    customActions\r\n  }) => (\r\n    <React.Fragment>\r\n      <BreadCrumbs links={links} />\r\n      <MasterDataList\r\n        model={metadata}\r\n        fields={list}\r\n        query={query}\r\n        options={options}\r\n        customContent={customContent}\r\n        customActions={customActions}\r\n      />\r\n    </React.Fragment>\r\n  )\r\n);\r\n\r\nconst withMasterDataListPage = ({\r\n  metadata,\r\n  list,\r\n  links,\r\n  query = {},\r\n  options = {},\r\n  customContent = {},\r\n  customActions\r\n}) => (\r\n  <MasterDataListPage\r\n    metadata={metadata}\r\n    list={list}\r\n    links={links}\r\n    query={query}\r\n    options={options}\r\n    customContent={customContent}\r\n    customActions={customActions}\r\n  />\r\n);\r\n\r\nexport default withMasterDataListPage;\r\n","import React from \"react\";\r\nimport { Grid } from \"@material-ui/core\";\r\nimport { Link, withRouter, withStyles, lodashMap, lodashFlattenDeep } from \"../../utils\";\r\nimport Button from \"../buttons\";\r\n\r\nconst styles = theme => ({\r\n  container: {\r\n    minHeight: 44,\r\n    marginBottom: theme.spacing(2)\r\n  }\r\n});\r\n\r\nconst Actions = ({\r\n  history,\r\n  classes,\r\n  model,\r\n  fields,\r\n  formItem,\r\n  handleSubmit,\r\n  handleDelete,\r\n  options = {},\r\n  customContent = {},\r\n  customActions\r\n}) => {\r\n  const handleCopy = () => {\r\n    const copyItem = { ...formItem };\r\n    delete copyItem.id;\r\n    delete copyItem.uuid;\r\n    localStorage.setItem(`copy-${model.name}`, JSON.stringify(copyItem));\r\n    lodashMap(lodashFlattenDeep(fields), field => {\r\n      if (field.defaultValue) {\r\n        window.localStorage.setItem(`dont-default${field.identity}`, true);\r\n      }\r\n    });\r\n    history.push(`${model.formPath}/new`);\r\n  };\r\n  return (\r\n    <Grid\r\n      item\r\n      container\r\n      spacing={1}\r\n      direction=\"row\"\r\n      justify=\"flex-start\"\r\n      alignItems=\"center\"\r\n      className={classes.container}\r\n    >\r\n      {!options.dontSave &&\r\n        (!customContent.dontEdit || customContent.dontEdit({ data: formItem })) && (\r\n          <Grid item>\r\n            <Button\r\n              type=\"submit\"\r\n              text=\"Gravar\"\r\n              icon=\"save\"\r\n              variants=\"submit\"\r\n              onClick={handleSubmit}\r\n            />\r\n          </Grid>\r\n        )}\r\n      {formItem.id &&\r\n        !options.dontDelete &&\r\n        (!customContent.dontDelete || customContent.dontDelete({ data: formItem })) && (\r\n          <Grid item>\r\n            <Button\r\n              text=\"Deletar\"\r\n              icon=\"delete\"\r\n              variants=\"delete\"\r\n              onClick={handleDelete(formItem)}\r\n            />\r\n          </Grid>\r\n        )}\r\n      {formItem.id && !options.dontCreate && (\r\n        <Grid item>\r\n          <Button text=\"Criar Novo\" icon=\"add\" component={Link} to={`${model.formPath}/new`} />\r\n        </Grid>\r\n      )}\r\n      {formItem.id && !options.dontCreate && !options.dontCopy && (\r\n        <Grid item>\r\n          <Button text=\"Criar como Copia\" icon=\"file_copy\" onClick={handleCopy} />\r\n        </Grid>\r\n      )}\r\n      {customActions && customActions({ isForm: true, data: formItem })}\r\n    </Grid>\r\n  );\r\n};\r\n\r\nexport default withRouter(withStyles(styles, { withTheme: true })(Actions));\r\n","import { useContext, useEffect } from \"react\";\r\nimport ApiContext from \"../../api\";\r\nimport { lodashGet, lodashForEach, lodashIsNil, getConfigs } from \"../../utils\";\r\n\r\nconst useDEFAULT = ({ field, formItem, value, loading, handleChange = () => {} }) => {\r\n  const client = useContext(ApiContext);\r\n  useEffect(() => {\r\n    // console.log(\"!! effect POPULATE\");\r\n    if (field.populate) {\r\n      let populate = field.populate;\r\n      if (!Array.isArray(populate)) {\r\n        populate = [populate];\r\n      }\r\n      if (value) {\r\n        lodashForEach(populate, key => {\r\n          if (formItem[key] !== value) {\r\n            // console.log(\"effect populate\", field, formItem);\r\n            handleChange({ target: { name: key, value } });\r\n          }\r\n        });\r\n      }\r\n    }\r\n    // TODO don't depend on the whole formItem somehow\r\n  }, [field, formItem, handleChange, value]);\r\n  // TODO handleChange calling too many times, and maybe value too\r\n  // useEffect(() => {\r\n  //   console.log(\"!! effect populate handleChange\", handleChange);\r\n  // }, [handleChange]);\r\n  useEffect(() => {\r\n    // console.log(\"!!! effect DEFAULT\");\r\n    let continueOperation = true;\r\n    const setConfigValue = async ({ config }) => {\r\n      await getConfigs({ client });\r\n      const configValue = lodashGet(client.get(`config.${config}`), \"value\");\r\n      if (configValue) {\r\n        handleChange({\r\n          target: { name: field.identity, value: configValue }\r\n        });\r\n      }\r\n    };\r\n    // TODO set DIRTY logic to set default value, is overwriting\r\n    // TODO 0 value must be allowed, only nil\r\n    if (!formItem[field.identity]) {\r\n      // TODO populate if value on formItem, use upsertLoading flag?\r\n      if (field.populate) {\r\n        // console.log(\"effect default value POPULATE\");\r\n        let populate = field.populate;\r\n        if (!Array.isArray(populate)) {\r\n          populate = [populate];\r\n        }\r\n        let populatedValue = false;\r\n        lodashForEach(populate, key => {\r\n          // TODO 0 value must be allowed, only nil\r\n          if (!populatedValue && formItem[key]) {\r\n            handleChange({\r\n              target: { name: field.identity, value: formItem[key] }\r\n            });\r\n            populatedValue = true;\r\n          }\r\n        });\r\n        if (populatedValue) {\r\n          continueOperation = false;\r\n        }\r\n      }\r\n      // TODO 0 value must be allowed, only nil\r\n      if (continueOperation && !lodashIsNil(loading) && !loading && field.defaultValue) {\r\n        if (window.localStorage.getItem(`dont-default${field.identity}`)) {\r\n          window.localStorage.removeItem(`dont-default${field.identity}`);\r\n        } else {\r\n          // console.log(\"!!! effect default value default\", field.defaultValue);\r\n          let defaultValue = field.defaultValue;\r\n          const defaultConfig = lodashGet(defaultValue, \"config\");\r\n          const defaultThis = lodashGet(defaultValue, \"this\");\r\n          const defaultCustomValue = lodashGet(defaultValue, \"customValue\");\r\n          if (defaultConfig) {\r\n            setConfigValue({ config: defaultConfig });\r\n          } else if (defaultThis) {\r\n            handleChange({\r\n              target: {\r\n                name: field.identity,\r\n                value: lodashGet(formItem, defaultThis)\r\n              }\r\n            });\r\n          } else if (defaultCustomValue) {\r\n            defaultCustomValue({ data: formItem, field, client, handleChange });\r\n          } else if (defaultValue) {\r\n            handleChange({\r\n              target: { name: field.identity, value: defaultValue }\r\n            });\r\n          }\r\n        }\r\n      }\r\n      // if (field.type === \"date\" || field.type === \"datetime\") {\r\n      //   // console.log(\"effect default value date\");\r\n      //   return setTimeout(\r\n      //     () =>\r\n      //       handleChange({\r\n      //         target: { name: field.identity, value: new Date().toISOString() }\r\n      //       }),\r\n      //     0\r\n      //   );\r\n      // }\r\n    }\r\n  }, [client, field, handleChange, formItem, loading]);\r\n};\r\n\r\nexport default useDEFAULT;\r\n","import React, { useRef, useState, useEffect } from \"react\";\r\nimport Downshift from \"downshift\";\r\nimport { TextField, Popper, Paper, MenuItem, Avatar, Icon, Typography } from \"@material-ui/core\";\r\nimport {\r\n  withStyles,\r\n  lodashGet,\r\n  lodashMap,\r\n  lodashDeburr,\r\n  lodashDebounce,\r\n  lodashToLower,\r\n  lodashTrim,\r\n  useGetService,\r\n  useFindService\r\n} from \"../../utils\";\r\nimport NotFound from \"../not-found\";\r\nimport Loader from \"../loader\";\r\nimport Button from \"../buttons\";\r\n// TODO make this work\r\n// import FormMenu from \"./FormMenu\";\r\n\r\nconst styles = theme => ({\r\n  popper: {\r\n    zIndex: 10,\r\n    minWidth: 300\r\n  },\r\n  wrapper: {\r\n    position: \"relative\"\r\n  },\r\n  menu: {\r\n    marginTop: theme.spacing(1),\r\n    minWidth: 300,\r\n    maxHeight: 300,\r\n    overflowY: \"auto\"\r\n  },\r\n  avatar: {\r\n    width: theme.spacing(4),\r\n    height: theme.spacing(4),\r\n    marginRight: theme.spacing(1),\r\n    color: theme.palette.primary.main\r\n  }\r\n});\r\n\r\nconst AutoComplete = ({\r\n  classes,\r\n  field,\r\n  formItem,\r\n  query = {},\r\n  value,\r\n  handleChange,\r\n  TextFieldProps = {},\r\n  InputProps = {}\r\n}) => {\r\n  // TODO abstrac to a hook shared with checklist\r\n  let hasIdentity = lodashGet(field, \"model.hasIdentity\");\r\n  let queryField = lodashGet(field, \"model.customContent.queryField\");\r\n  let modelCustomName = lodashGet(field, \"model.customName\");\r\n  const sortQuery = {};\r\n  if (hasIdentity) {\r\n    sortQuery.identity = 1;\r\n  } else if (queryField) {\r\n    sortQuery[queryField] = 1;\r\n  } else {\r\n    sortQuery.name = 1;\r\n  }\r\n  // let findQuery = { ...query, $limit: 5, $sort: { ...sortQuery } };\r\n  let findQuery = { ...query, $sort: { ...sortQuery } };\r\n  let findModel = field.model || \"\";\r\n  const modelThis = lodashGet(field, \"model.this\");\r\n  if (modelThis) {\r\n    findModel = lodashGet(formItem, modelThis);\r\n  }\r\n  const modelService = lodashGet(field, \"model.service\");\r\n  const modelQuery = lodashGet(field, \"model.query\");\r\n  let useCustomQuery = () => {};\r\n  if (modelService) {\r\n    if (modelQuery) {\r\n      findQuery = { ...findQuery, ...modelQuery };\r\n    }\r\n    useCustomQuery = lodashGet(field, \"model.useCustomQuery\") || useCustomQuery;\r\n    findModel = modelService;\r\n  }\r\n  // console.log(\"!!!useCustomQuery\", useCustomQuery({ data: formItem }));\r\n  findQuery = { ...findQuery, ...useCustomQuery({ data: formItem }) };\r\n  const { list, loading, errors, setModel: setFindModel, setQuery } = useFindService({\r\n    model: findModel,\r\n    query: findQuery\r\n  });\r\n  const { item, loading: getLoading, setModel: setGetModel } = useGetService({\r\n    model: findModel,\r\n    id: value\r\n  });\r\n  // TODO verify invocation of effects, reduce the ones not needed\r\n  useEffect(() => {\r\n    // console.log(\">>> effect findModel\", field.identity, findModel);\r\n    setFindModel(findModel);\r\n    setGetModel(findModel);\r\n  }, [setFindModel, setGetModel, findModel]);\r\n  // TODO really a need for this stringify?\r\n  const stringFindQuery = JSON.stringify(findQuery);\r\n  useEffect(() => {\r\n    // console.log(\">>> effect findQuery\", field.identity, findQuery);\r\n    setQuery(JSON.parse(stringFindQuery));\r\n  }, [setQuery, stringFindQuery]);\r\n  const [options, setOptions] = useState([]);\r\n\r\n  useEffect(() => {\r\n    // TODO test this effect more\r\n    // console.log(\">>> effect findList\", list, field.identity);\r\n    if (findModel) {\r\n      setOptions(list);\r\n    }\r\n  }, [findModel, list]);\r\n  useEffect(() => {\r\n    // console.log(\">>> effect field.enum\", field.enum);\r\n    if (field.enum) {\r\n      setOptions(lodashMap(field.enum, value => ({ id: value, name: value })));\r\n    }\r\n  }, [field.enum]);\r\n  // TODO support custom fields for search\r\n  const updateQuery = lodashDebounce(({ value }) => {\r\n    const inputValue = lodashToLower(lodashDeburr(lodashTrim(value)));\r\n    let query = {};\r\n    if (hasIdentity) {\r\n      query.$or = [\r\n        {\r\n          identity: {\r\n            $like: `%${inputValue}%`\r\n          }\r\n        },\r\n        {\r\n          name: {\r\n            $like: `%${inputValue}%`\r\n          }\r\n        }\r\n      ];\r\n    } else if (queryField) {\r\n      query[queryField] = {\r\n        $like: `%${inputValue}%`\r\n      };\r\n      if (modelQuery && modelQuery[queryField]) {\r\n        query[queryField] = { ...query[queryField], ...modelQuery[queryField] };\r\n      }\r\n    } else {\r\n      query.name = {\r\n        $like: `%${inputValue}%`\r\n      };\r\n      if (modelQuery && modelQuery.name) {\r\n        query.name = { ...query.name, ...modelQuery.name };\r\n      }\r\n    }\r\n    setQuery(prev => ({\r\n      ...prev,\r\n      ...query\r\n    }));\r\n  }, 300);\r\n  const handleMenuChange = selectedItem => {\r\n    // console.log(\"!!!handleMenuChange\", selectedItem, item);\r\n    const selectedValue = lodashGet(selectedItem, \"id\") || null;\r\n    if (`${lodashGet(item, \"id\")}` !== `${selectedValue}`) {\r\n      handleChange({\r\n        target: {\r\n          name: field.identity,\r\n          value: selectedValue\r\n        },\r\n        field\r\n      });\r\n    }\r\n    if (selectedValue) {\r\n      handleBlur();\r\n    }\r\n  };\r\n  const handleSearch = inputValue => updateQuery({ value: inputValue });\r\n  // TODO support custom string value\r\n  const getStringValue = item =>\r\n    modelCustomName\r\n      ? modelCustomName({ data: item })\r\n      : `${lodashGet(item, \"identity\") ? `${lodashGet(item, \"identity\")} - ` : \"\"}${lodashGet(\r\n          item,\r\n          \"name\"\r\n        ) || \"\"}`;\r\n  const empty = (!loading && options.length === 0) || (!field.enum && errors);\r\n  const DownshiftRef = useRef(null);\r\n  const PopperRef = useRef(null);\r\n  useEffect(() => {\r\n    // console.log(\"!! effect AutoComplete item\", item, field.identity);\r\n    if (getLoading || field.enum) {\r\n      return;\r\n    }\r\n    // console.log(\"effectItem\", lodashGet(item, \"id\"), value, formItem[field.identity]);\r\n    if (lodashGet(item, \"id\") && DownshiftRef.current) {\r\n      DownshiftRef.current.selectItem(item);\r\n    } else {\r\n      DownshiftRef.current.selectItem(null);\r\n    }\r\n  }, [item, getLoading, field.enum]);\r\n  const enumValue = lodashGet(formItem, field.identity);\r\n  useEffect(() => {\r\n    // console.log(\"!!!!effect enumValue\", field.enum, enumValue, DownshiftRef.current);\r\n    if (field.enum && enumValue && DownshiftRef.current) {\r\n      DownshiftRef.current.selectItem({\r\n        id: enumValue,\r\n        name: enumValue,\r\n        value: enumValue\r\n      });\r\n    }\r\n  }, [enumValue, field.enum]);\r\n  const [focused, setFocused] = useState();\r\n  const handleFocus = e => {\r\n    e.target.select();\r\n    setFocused(true);\r\n  };\r\n  const handleBlur = () => setFocused(false);\r\n  const handleClear = () => {\r\n    window.localStorage.setItem(`dont-default${field.identity}`, true);\r\n    DownshiftRef.current.selectItem(null);\r\n  };\r\n  return (\r\n    <React.Fragment>\r\n      <Downshift\r\n        ref={ref => (DownshiftRef.current = ref)}\r\n        onChange={handleMenuChange}\r\n        onInputValueChange={handleSearch}\r\n        itemToString={getStringValue}\r\n      >\r\n        {({ getInputProps, getItemProps, getMenuProps, isOpen, inputValue }) => (\r\n          <div className={classes.wrapper}>\r\n            <TextField\r\n              InputProps={{\r\n                inputRef: ref => (PopperRef.current = ref),\r\n                ...InputProps,\r\n                ...getInputProps(),\r\n                onFocus: handleFocus,\r\n                onBlur: handleBlur\r\n              }}\r\n              {...TextFieldProps}\r\n            />\r\n            {!TextFieldProps.disabled && !InputProps.readOnly && value && (\r\n              <Button\r\n                type=\"icon\"\r\n                text=\"Deletar\"\r\n                icon=\"close\"\r\n                variants=\"deleteAction clearAction\"\r\n                onClick={handleClear}\r\n              />\r\n            )}\r\n            <Popper\r\n              open={focused || isOpen}\r\n              anchorEl={PopperRef.current}\r\n              className={classes.popper}\r\n            >\r\n              <Paper\r\n                square\r\n                style={{\r\n                  width: PopperRef.current ? PopperRef.current.clientWidth : null\r\n                }}\r\n                className={classes.menu}\r\n              >\r\n                {empty && (\r\n                  <MenuItem disabled>\r\n                    <NotFound />\r\n                  </MenuItem>\r\n                )}\r\n                {!empty &&\r\n                  (!!inputValue || !loading) &&\r\n                  lodashMap(options, item => (\r\n                    <MenuItem\r\n                      {...getItemProps({ item })}\r\n                      key={item.id}\r\n                      value={item.id}\r\n                      selected={value === item.id}\r\n                    >\r\n                      {/** TODO support custom select render */}\r\n                      {item.image && (\r\n                        <Avatar alt={item.name} src={item.image} className={classes.avatar} />\r\n                      )}\r\n                      {!item.image && field.icon && field.icon.type === \"svg\" && (\r\n                        <img className={classes.avatar} alt=\"icon\" src={field.icon.src} />\r\n                      )}\r\n                      {!item.image && field.icon && !field.icon.type && (\r\n                        <Icon className={classes.avatar}>{field.icon}</Icon>\r\n                      )}\r\n                      {!modelCustomName && (\r\n                        <Typography variant=\"body1\">\r\n                          {item.identity ? `${item.identity} - ` : \"\"}\r\n                          {item.name}\r\n                        </Typography>\r\n                      )}\r\n                      {modelCustomName && (\r\n                        <Typography variant=\"body1\">{modelCustomName({ data: item })}</Typography>\r\n                      )}\r\n                    </MenuItem>\r\n                  ))}\r\n              </Paper>\r\n            </Popper>\r\n          </div>\r\n        )}\r\n      </Downshift>\r\n      {field.loading && <Loader />}\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default withStyles(styles, { withTheme: true })(AutoComplete);\r\n","import React from \"react\";\r\nimport NumberFormat from \"react-number-format\";\r\n\r\nconst IntegerInput = ({ inputRef, onChange, name, value, ...other }) => {\r\n  return (\r\n    <NumberFormat\r\n      {...other}\r\n      allowEmptyFormatting\r\n      thousandSeparator={\".\"}\r\n      decimalSeparator={\",\"}\r\n      decimalScale={0}\r\n      type=\"text\"\r\n      value={value}\r\n      onValueChange={({ floatValue }) => {\r\n        if (parseFloat(value) !== floatValue) {\r\n          onChange({\r\n            target: {\r\n              name,\r\n              value: floatValue || 0\r\n            }\r\n          });\r\n        }\r\n      }}\r\n      getInputRef={inputRef}\r\n    />\r\n  );\r\n};\r\n\r\nexport default IntegerInput;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { List, ListItem, Checkbox, FormControlLabel, Typography } from \"@material-ui/core\";\r\nimport {\r\n  withStyles,\r\n  classNames,\r\n  lodashGet,\r\n  lodashMap,\r\n  lodashFind,\r\n  lodashFindIndex,\r\n  useFindService\r\n} from \"../../utils\";\r\nimport NotFound from \"../not-found\";\r\n\r\nconst styles = theme => ({\r\n  wrapper: {\r\n    position: \"relative\"\r\n  },\r\n  option: { padding: `0 ${theme.spacing(2)}px` },\r\n  textField: {\r\n    margin: 0,\r\n    minWidth: 250,\r\n    backgroundColor: theme.palette.common.white,\r\n    '& input,& div[aria-haspopup=\"true\"]': {\r\n      padding: `${theme.spacing(1)}px ${theme.spacing(2)}px`\r\n    },\r\n    '& label[data-shrink=\"false\"]': {\r\n      top: -12\r\n    },\r\n    [theme.breakpoints.down(\"md\")]: {\r\n      minWidth: 200\r\n    },\r\n    [theme.breakpoints.down(\"xs\")]: {\r\n      minWidth: 170\r\n    }\r\n  },\r\n  checkbox: {\r\n    padding: theme.spacing(1),\r\n    minWidth: \"unset\"\r\n  },\r\n  label: {\r\n    margin: 0\r\n  },\r\n  error: {\r\n    color: \"#f44336\",\r\n    margin: 0,\r\n    fontSize: \"0.75rem\",\r\n    // textAlign: \"left\",\r\n    marginTop: theme.spacing(1)\r\n  }\r\n});\r\n\r\nconst CheckList = ({ classes, field, formItem, formErrors, query = {}, handleChange }) => {\r\n  // TODO abstrac to a hook shared with checklist\r\n  let hasIdentity = lodashGet(field, \"model.hasIdentity\");\r\n  let queryField = lodashGet(field, \"model.customContent.queryField\");\r\n  const sortQuery = {};\r\n  if (hasIdentity) {\r\n    sortQuery.identity = 1;\r\n  } else if (queryField) {\r\n    sortQuery[queryField] = 1;\r\n  } else {\r\n    sortQuery.name = 1;\r\n  }\r\n  // let findQuery = { ...query, $limit: 5, $sort: { ...sortQuery } };\r\n  let findQuery = { ...query, $sort: { ...sortQuery } };\r\n  let findModel = field.model || \"\";\r\n  const modelThis = lodashGet(field, \"model.this\");\r\n  if (modelThis) {\r\n    findModel = lodashGet(formItem, modelThis);\r\n  }\r\n  const modelService = lodashGet(field, \"model.service\");\r\n  const modelQuery = lodashGet(field, \"model.query\");\r\n  let useCustomQuery = () => {};\r\n  if (modelService) {\r\n    if (modelQuery) {\r\n      findQuery = { ...findQuery, ...modelQuery };\r\n    }\r\n    useCustomQuery = lodashGet(field, \"model.useCustomQuery\") || useCustomQuery;\r\n    findModel = modelService;\r\n  }\r\n  // console.log(\"!!!useCustomQuery\", useCustomQuery({ data: formItem }));\r\n  findQuery = { ...findQuery, ...useCustomQuery({ data: formItem }) };\r\n  const { list, loading, errors, setModel: setFindModel, setQuery } = useFindService({\r\n    model: findModel,\r\n    query: findQuery\r\n  });\r\n  // TODO verify invocation of effects, reduce the ones not needed\r\n  useEffect(() => {\r\n    // console.log(\">>> effect findModel\", field.identity, findModel);\r\n    setFindModel(findModel);\r\n  }, [findModel, setFindModel]);\r\n  const stringQuery = JSON.stringify(findQuery);\r\n  useEffect(() => {\r\n    // console.log(\">>> effect findQuery\", field.identity, findQuery);\r\n    setQuery(JSON.parse(stringQuery));\r\n  }, [stringQuery, setQuery]);\r\n  const [options, setOptions] = useState([]);\r\n  useEffect(() => {\r\n    // console.log(\">>> effect findList\", list);\r\n    if (findModel) {\r\n      setOptions(list);\r\n    }\r\n  }, [list, findModel]);\r\n  const spliceAndPush = async ({\r\n    arraySplice,\r\n    identitySplice,\r\n    arrayPush,\r\n    identityPush,\r\n    field,\r\n    id\r\n  }) => {\r\n    const index = lodashFindIndex(arraySplice, { id });\r\n    if (index !== -1) {\r\n      arraySplice.splice(index, 1);\r\n      await handleChange({\r\n        target: {\r\n          name: identitySplice,\r\n          value: arraySplice\r\n        },\r\n        field\r\n      });\r\n    }\r\n    arrayPush.push({ id });\r\n    return handleChange({\r\n      target: {\r\n        name: identityPush,\r\n        value: arrayPush\r\n      },\r\n      field\r\n    });\r\n  };\r\n  const handleOptionChange = ({ id }) => async data => {\r\n    const checked = lodashGet(data, \"target.checked\");\r\n    const fieldValue = lodashGet(formItem, field.identity) || [];\r\n    const fieldDeleteValue = lodashGet(formItem, `${field.identity}:delete`) || [];\r\n    if (checked) {\r\n      await spliceAndPush({\r\n        arraySplice: fieldDeleteValue,\r\n        identitySplice: `${field.identity}:delete`,\r\n        arrayPush: fieldValue,\r\n        identityPush: field.identity,\r\n        identity: field.identity,\r\n        field,\r\n        id\r\n      });\r\n    } else {\r\n      await spliceAndPush({\r\n        arraySplice: fieldValue,\r\n        identitySplice: field.identity,\r\n        arrayPush: fieldDeleteValue,\r\n        identityPush: `${field.identity}:delete`,\r\n        field,\r\n        id\r\n      });\r\n    }\r\n  };\r\n  const empty = (!loading && options.length === 0) || (!field.enum && errors);\r\n  const error = lodashGet(formErrors, field.identity);\r\n  const customOptionContent = lodashGet(field, \"customContent.customOptionContent\");\r\n  return (\r\n    <div className={classes.wrapper}>\r\n      <Typography variant=\"body1\">{field.text}</Typography>\r\n      {!!error && (\r\n        <Typography className={classes.error} variant=\"body1\">\r\n          {typeof error === \"string\" ? error : \"Campo obrigatório.\"}\r\n        </Typography>\r\n      )}\r\n      <List className={classes.options}>\r\n        {empty && (\r\n          <ListItem disabled>\r\n            <NotFound />\r\n          </ListItem>\r\n        )}\r\n        {!empty &&\r\n          !loading &&\r\n          lodashMap(options, item => (\r\n            <ListItem className={classes.option} button key={item.id}>\r\n              <FormControlLabel\r\n                className={classes.label}\r\n                control={\r\n                  <Checkbox\r\n                    className={classNames(classes.textfield, classes.checkbox)}\r\n                    checked={!!lodashFind(lodashGet(formItem, field.identity), { id: item.id })}\r\n                    name={field.identity}\r\n                    onChange={handleOptionChange({ id: item.id })}\r\n                    color=\"primary\"\r\n                  />\r\n                }\r\n                label={item.name}\r\n              />\r\n              {customOptionContent && customOptionContent({ option: item, field, data: formItem })}\r\n            </ListItem>\r\n          ))}\r\n      </List>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default withStyles(styles, { withTheme: true })(CheckList);\r\n","import React, { useRef, useState, useEffect } from \"react\";\r\nimport {\r\n  TextField,\r\n  FormControlLabel,\r\n  Checkbox,\r\n  Typography,\r\n  InputBase\r\n} from \"@material-ui/core\";\r\nimport { DatePicker, DateTimePicker, TimePicker } from \"@material-ui/pickers\";\r\nimport {\r\n  withStyles,\r\n  classNames,\r\n  lodashGet,\r\n  lodashMap,\r\n  lodashSplit,\r\n  lodashIsNil,\r\n  lodashToLower\r\n} from \"../../utils\";\r\nimport useDEFAULT from \"./useDEFAULT\";\r\nimport AutoComplete from \"./AutoComplete\";\r\nimport IntegerInput from \"./IntegerInput\";\r\nimport CheckList from \"./CheckList\";\r\nimport { EditorState, convertToRaw, ContentState } from \"draft-js\";\r\nimport { Editor } from \"react-draft-wysiwyg\";\r\nimport draftToHtml from \"draftjs-to-html\";\r\nimport htmlToDraft from \"html-to-draftjs\";\r\nimport \"../../../node_modules/react-draft-wysiwyg/dist/react-draft-wysiwyg.css\";\r\n\r\nconst styles = theme => ({\r\n  textField: {\r\n    margin: 0,\r\n    minWidth: 250,\r\n    //backgroundColor: theme.palette.common.white,\r\n    '& input,& div[aria-haspopup=\"true\"]': {\r\n      padding: `${theme.spacing(1)}px ${theme.spacing(2)}px`\r\n    },\r\n    '& label[data-shrink=\"false\"]': {\r\n      top: -12\r\n    },\r\n    [theme.breakpoints.down(\"md\")]: {\r\n      minWidth: 200\r\n    },\r\n    [theme.breakpoints.down(\"xs\")]: {\r\n      minWidth: 170\r\n    }\r\n  },\r\n  inputBootstrap: {\r\n    borderRadius: 4,\r\n    position: \"relative\",\r\n    backgroundColor: theme.palette.common.white,\r\n    border: \"1px solid #ced4da\",\r\n    fontSize: 14,\r\n    width: \"auto\",\r\n    \"& div\": {\r\n      padding: \"0 !important\"\r\n    },\r\n    \"& ::before\": {\r\n      display: \"none\"\r\n    },\r\n    \"& ::after\": {\r\n      display: \"none\"\r\n    }\r\n  },\r\n  checkboxLabel: {\r\n    marginLeft: `-${theme.spacing(1)}px`\r\n  },\r\n  checkbox: {\r\n    padding: theme.spacing(1),\r\n    minWidth: \"unset\"\r\n  },\r\n  editor: {\r\n    backgroundColor: theme.palette.common.white\r\n  },\r\n  readOnly: {\r\n    backgroundColor: theme.palette.primary.form,\r\n    pointerEvents: \"none\"\r\n  },\r\n  disabled: {\r\n    backgroundColor: theme.palette.primary.form,\r\n    pointerEvents: \"none\"\r\n  },\r\n  fullWidth: {\r\n    width: \"100%\",\r\n    minWidth: \"100%\"\r\n  },\r\n  short: {\r\n    width: 80,\r\n    minWidth: \"unset\"\r\n  },\r\n  setup: {\r\n    width: 225,\r\n    minWidth: \"unset\",\r\n    [theme.breakpoints.down(\"md\")]: {\r\n      width: 150\r\n    }\r\n  },\r\n  wiki: {\r\n    background: \"none\",\r\n    \"& label, & :before\": {\r\n      display: \"none\"\r\n    },\r\n    \"& > div\": {\r\n      margin: 0\r\n    },\r\n    \"& input\": {\r\n      padding: 0\r\n    }\r\n  },\r\n  display: {\r\n    width: \"100%\",\r\n    // background: \"none\",\r\n    \"& fieldset\": {\r\n      border: \"none\"\r\n    }\r\n  },\r\n  error: {\r\n    color: \"#f44336\",\r\n    margin: 0,\r\n    fontSize: \"0.75rem\",\r\n    // textAlign: \"left\",\r\n    marginTop: theme.spacing(1)\r\n  },\r\n  contact: {\r\n    backgroundColor: \"transparent !important\"\r\n  }\r\n});\r\n\r\nconst getInputType = ({ type }) => {\r\n  switch (type) {\r\n    case \"integer\":\r\n    case \"decimal\":\r\n    case \"year\":\r\n      return \"number\";\r\n    case \"date\":\r\n    case \"datetime\":\r\n    case \"string\":\r\n    default:\r\n      return \"text\";\r\n  }\r\n};\r\n\r\nconst getInputValue = ({ formItem, field }) => {\r\n  let value = lodashGet(formItem, field.identity);\r\n  value = !lodashIsNil(value) ? value : \"\";\r\n  switch (field.type) {\r\n    case \"date\":\r\n    case \"datetime\":\r\n    case \"time\":\r\n      return new Date(value || Date.now());\r\n    default:\r\n      return value;\r\n  }\r\n};\r\n\r\nconst getInputComponent = ({ field }) => {\r\n  switch (field.type) {\r\n    case \"date\":\r\n      return DatePicker;\r\n    case \"datetime\":\r\n      return DateTimePicker;\r\n    case \"time\":\r\n      return TimePicker;\r\n    default:\r\n      return TextField;\r\n  }\r\n};\r\n\r\nconst getInputFormat = ({ field }) => {\r\n  switch (field.type) {\r\n    case \"date\":\r\n      return \"DD/MM/YYYY\";\r\n    case \"datetime\":\r\n      return \"DD/MM/YYYY HH:mm\";\r\n    case \"time\":\r\n      return \"HH:mm\";\r\n    default:\r\n      return \"\";\r\n  }\r\n};\r\n\r\nconst FormInput = ({\r\n  classes,\r\n  field,\r\n  formItem,\r\n  formErrors,\r\n  loading,\r\n  query = {},\r\n  options = {},\r\n  handleChange = () => { }\r\n}) => {\r\n  const inputRef = useRef();\r\n  const type = getInputType(field);\r\n  const value = getInputValue({ formItem, field });\r\n  // TODO requiredIf\r\n  const required =\r\n    typeof field.required === \"boolean\"\r\n      ? field.required\r\n      : !!lodashGet(formItem, field.required);\r\n  const InputProps = {};\r\n  if (field.type === \"integer\") {\r\n    InputProps.inputComponent = IntegerInput;\r\n  }\r\n  if (field.autoFocus) {\r\n    InputProps.autoFocus = true;\r\n  }\r\n  const disabled = !lodashIsNil(field.disabled)\r\n    ? field.disabled\r\n    : !lodashIsNil(options.disabled)\r\n      ? options.disabled\r\n      : false;\r\n  const readOnlyIfThis = lodashGet(field, \"readOnly.ifThis\");\r\n  const readOnlyUntil = lodashGet(field, \"readOnly.until\");\r\n  const readOnlyCustomIf = lodashGet(field, \"readOnly.customIf\");\r\n  const variantsCustomIf = lodashGet(field, \"variants.useVariantIf\");\r\n  let useCustomIf = () => { };\r\n  let useVariantIf = () => { };\r\n  useCustomIf = lodashGet(field, \"readOnly.useCustomIf\") || useCustomIf;\r\n  useVariantIf = lodashGet(field, \"variants.useVariantIf\") || useVariantIf;\r\n  const customIfValue = useCustomIf({ data: formItem });\r\n  const variantIfValue = useVariantIf({ data: formItem })\r\n  let readOnlyValue = !lodashIsNil(customIfValue)\r\n    ? customIfValue\r\n    : !lodashIsNil(field.readOnly)\r\n      ? field.readOnly\r\n      : !lodashIsNil(options.readOnly)\r\n        ? options.readOnly\r\n        : false;\r\n  let variantsValue = !lodashIsNil(variantIfValue)\r\n    ? variantIfValue\r\n    : !lodashIsNil(field.variants)\r\n      ? field.variants\r\n      : false;\r\n  if (readOnlyUntil) {\r\n    readOnlyValue = !lodashGet(formItem, readOnlyUntil);\r\n  }\r\n  if (readOnlyIfThis) {\r\n    readOnlyValue = !!lodashGet(formItem, readOnlyIfThis);\r\n  }\r\n  if (readOnlyCustomIf) {\r\n    readOnlyValue = readOnlyCustomIf({ data: formItem });\r\n  }\r\n  if (variantsCustomIf) {\r\n    variantsValue = variantsCustomIf({ data: formItem })\r\n  }\r\n  const [readOnly, setReadOnly] = useState(readOnlyValue);\r\n  const [variants, setVariants] = useState(variantsValue);\r\n  useEffect(() => {\r\n    // console.log(\"!!!readOnly\", readOnlyValue);\r\n    setReadOnly(readOnlyValue);\r\n  }, [readOnlyValue]);\r\n  useEffect(() => {\r\n    // console.log('!!!variants', variantsValue)\r\n    setVariants(variantsValue);\r\n  }, [variantsValue])\r\n  if (readOnly) {\r\n    InputProps.readOnly = true;\r\n  }\r\n  useEffect(() => {\r\n    if (field.max && inputRef.current) {\r\n      inputRef.current.maxLength = field.max;\r\n    }\r\n  }, [field.max]);\r\n  useEffect(() => {\r\n    if (!lodashIsNil(field.maxValue) && inputRef.current) {\r\n      inputRef.current.max = field.maxValue;\r\n    }\r\n  }, [field.maxValue]);\r\n  useEffect(() => {\r\n    if (!lodashIsNil(field.minValue) && inputRef.current) {\r\n      inputRef.current.min = field.minValue;\r\n    }\r\n  }, [field.minValue]);\r\n  useDEFAULT({ field, formItem, value, loading, handleChange });\r\n  const Component = getInputComponent({ field });\r\n  const format = getInputFormat({ field });\r\n  const handleInputChange = data => {\r\n    if (field.type === \"boolean\") {\r\n      return handleChange({\r\n        target: {\r\n          name: field.identity,\r\n          value: lodashGet(data, \"target.checked\")\r\n        },\r\n        field\r\n      });\r\n    }\r\n    if (data.target) {\r\n      return handleChange({ target: data.target, field });\r\n    }\r\n    return handleChange({\r\n      target: { name: field.identity, value: data.toISOString() },\r\n      field\r\n    });\r\n  };\r\n  const error = lodashGet(formErrors, field.identity);\r\n  const [editorState, setEditorState] = useState(EditorState.createEmpty());\r\n  useEffect(() => {\r\n    if (field.type === \"content\") {\r\n      const contentBlock = htmlToDraft(value);\r\n      const contentState = ContentState.createFromBlockArray(\r\n        contentBlock.contentBlocks\r\n      );\r\n      if (\r\n        lodashToLower(\r\n          draftToHtml(convertToRaw(editorState.getCurrentContent()))\r\n        ) !== lodashToLower(value)\r\n      ) {\r\n        // console.log(\r\n        //   \"!!!effect editorState\",\r\n        //   value,\r\n        //   draftToHtml(convertToRaw(editorState.getCurrentContent()))\r\n        // );\r\n        setEditorState(EditorState.createWithContent(contentState));\r\n      }\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [value]);\r\n  const TextFieldProps = {\r\n    error: !!error,\r\n    helperText: !!error\r\n      ? typeof error === \"string\"\r\n        ? error\r\n        : \"Campo obrigatório.\"\r\n      : \"\",\r\n    disabled: !!disabled,\r\n    required: required,\r\n    name: field.identity,\r\n    label: field.text,\r\n    margin: \"normal\",\r\n    // variant: \"outlined\",\r\n    className: classNames(\r\n      classes.textField,\r\n      {\r\n        [classes.readOnly]: readOnly,\r\n        [classes.disabled]: disabled\r\n      },\r\n      lodashMap(lodashSplit(variants, \" \"), key => classes[key]),\r\n      lodashMap(lodashSplit(field.variants, \" \"), key => classes[key])\r\n    )\r\n  };\r\n  if (field.type === \"time\") {\r\n    TextFieldProps.ampm = false;\r\n    TextFieldProps.disableOpenOnEnter = true;\r\n    TextFieldProps.keyboard = true;\r\n  }\r\n  if (field.type === \"datetime\") {\r\n    TextFieldProps.ampm = false;\r\n  }\r\n  if (field.type === \"checklist\") {\r\n    return (\r\n      <CheckList\r\n        field={field}\r\n        query={query}\r\n        formItem={formItem}\r\n        formErrors={formErrors}\r\n        handleChange={handleChange}\r\n      />\r\n    );\r\n  }\r\n  if (!!field.model || !!field.enum) {\r\n    // TODO dont sent formItem nor handleChange, use dispatch\r\n    return (\r\n      <AutoComplete\r\n        field={field}\r\n        query={query}\r\n        formItem={formItem}\r\n        value={value}\r\n        handleChange={handleChange}\r\n        TextFieldProps={TextFieldProps}\r\n        InputProps={InputProps}\r\n      />\r\n    );\r\n  }\r\n  if (field.type === \"content\") {\r\n    return (\r\n      <div className={classNames({ [classes.editor]: !readOnly })}>\r\n        {!!error && (\r\n          <Typography className={classes.error} variant=\"body1\">\r\n            {typeof error === \"string\" ? error : \"Campo obrigatório.\"}\r\n          </Typography>\r\n        )}\r\n        <Editor\r\n          readOnly={readOnly}\r\n          toolbarHidden={readOnly}\r\n          editorState={editorState}\r\n          wrapperClassName=\"demo-wrapper\"\r\n          editorClassName=\"demo-editor\"\r\n          onEditorStateChange={editorState => {\r\n            setEditorState(editorState);\r\n            handleChange({\r\n              target: {\r\n                name: field.identity,\r\n                value: editorState\r\n                  ? draftToHtml(convertToRaw(editorState.getCurrentContent()))\r\n                  : \"\"\r\n              },\r\n              field\r\n            });\r\n          }}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n  if (field.type === \"boolean\") {\r\n    return (\r\n      <FormControlLabel\r\n        className={classes.checkboxLabel}\r\n        control={\r\n          <Checkbox\r\n            className={classNames(classes.textfield, classes.checkbox)}\r\n            checked={!!lodashGet(formItem, field.identity)}\r\n            name={field.identity}\r\n            onChange={handleInputChange}\r\n            disabled={readOnly}\r\n            color=\"primary\"\r\n          />\r\n        }\r\n        label={field.text}\r\n      />\r\n    );\r\n  }\r\n  return (\r\n    <Component\r\n      // defaultValue=\"\"\r\n      // placeholder=\"\"\r\n      // fullWidth\r\n      format={format}\r\n      type={type}\r\n      value={value}\r\n      checked={value}\r\n      onChange={handleInputChange}\r\n      InputProps={InputProps}\r\n      inputRef={ref => (inputRef.current = ref)}\r\n      multiline={field.type === \"longtext\"}\r\n      {...TextFieldProps}\r\n    />\r\n  );\r\n};\r\n\r\nexport default withStyles(styles, { withTheme: true })(FormInput);\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Grid } from \"@material-ui/core\";\r\nimport {\r\n  withStyles,\r\n  classNames,\r\n  lodashGet,\r\n  lodashMap,\r\n  lodashIsNil,\r\n  lodashSplit\r\n} from \"../../utils\";\r\nimport FormInput from \"./FormInput\";\r\n\r\nconst styles = theme => ({\r\n  nested: {\r\n    width: \"auto\",\r\n    alignItems: \"center\",\r\n    flexWrap: \"nowrap\"\r\n  },\r\n  fullWidth: {\r\n    width: \"100%\"\r\n  },\r\n  inputBootstrap: {\r\n    width: \"auto\",\r\n    alignItems: \"center\",\r\n    flexWrap: \"nowrap\",\r\n    \"& div:first-child\": {\r\n      flexDirection: \"column\",\r\n    },\r\n    \"& div:last-child\": {\r\n      height: \"100% !important\",\r\n      \"& div, & textarea\": {\r\n        height: \"100% !important\",\r\n        padding: '0 !important'\r\n      }\r\n    }\r\n  }\r\n});\r\n\r\nconst FieldsRow = withStyles(styles, { withTheme: true })(\r\n  ({\r\n    classes,\r\n    fields,\r\n    formItem,\r\n    formErrors,\r\n    handleChange,\r\n    loading,\r\n    query = {},\r\n    options = {},\r\n    deep = 0\r\n  }) => {\r\n    return lodashMap(fields, (field, index) => {\r\n      const isContainer = field.fields || Array.isArray(field);\r\n      const props = {};\r\n      if (isContainer) {\r\n        props.spacing = 2;\r\n      }\r\n      const showIfThis = lodashGet(field, \"show.ifThis\");\r\n      let useCustomIf = () => { };\r\n      useCustomIf = lodashGet(field, \"show.useCustomIf\") || useCustomIf;\r\n      const customIfValue = useCustomIf({ data: formItem });\r\n      let showFieldValue = !lodashIsNil(customIfValue)\r\n        ? customIfValue\r\n        : !lodashIsNil(field.show)\r\n          ? field.show\r\n          : true;\r\n      if (showIfThis) {\r\n        showFieldValue = formItem[showIfThis];\r\n      }\r\n      const [showField, setShowField] = useState(showFieldValue);\r\n      useEffect(() => {\r\n        setShowField(showFieldValue);\r\n      }, [showFieldValue]);\r\n      return (\r\n        <React.Fragment key={index}>\r\n          <Grid\r\n            item\r\n            container={isContainer}\r\n            className={classNames(\r\n              {\r\n                [classes.nested]: isContainer && deep !== 0\r\n              },\r\n              lodashMap(lodashSplit(field.variants, \" \"), key => classes[key])\r\n            )}\r\n            {...props}\r\n          >\r\n            {isContainer && (\r\n              <FieldsRow\r\n                fields={field.fields || field}\r\n                formItem={formItem}\r\n                formErrors={formErrors}\r\n                handleChange={handleChange}\r\n                loading={loading}\r\n                query={query}\r\n                options={options}\r\n                deep={deep + 1}\r\n              />\r\n            )}\r\n            {!isContainer && showField && (\r\n              <FormInput\r\n                field={field}\r\n                formItem={formItem}\r\n                formErrors={formErrors}\r\n                handleChange={handleChange}\r\n                query={query}\r\n                options={options}\r\n                loading={loading}\r\n              />\r\n            )}\r\n          </Grid>\r\n          {field.customData && <Grid item>{field.customData({ data: formItem, field })}</Grid>}\r\n        </React.Fragment>\r\n      );\r\n    });\r\n  }\r\n);\r\n\r\nexport default FieldsRow;\r\n","import { useEffect } from \"react\";\r\nimport { lodashGet, lodashFindIndex, lodashFlattenDeep } from \"../../utils\";\r\n\r\nconst useENTER = ({ fields, options = {} }) => {\r\n  useEffect(() => {\r\n    const handleKeyPress = e => {\r\n      if (e.which === 13) {\r\n        e.preventDefault();\r\n        const flatFields = lodashFlattenDeep(fields);\r\n        const target = e.target;\r\n        if (target.nodeName === \"INPUT\") {\r\n          const nextField = flatFields[lodashFindIndex(flatFields, { identity: target.name }) + 1];\r\n          if (nextField) {\r\n            document.querySelector(`input[name=${nextField.identity}]`).focus();\r\n          }\r\n        } else {\r\n          document.querySelector(`input[name=${lodashGet(flatFields, \"0.identity\")}]`).focus();\r\n        }\r\n      }\r\n    };\r\n    if (!options.dontUseEnter) {\r\n      document.addEventListener(\"keypress\", handleKeyPress);\r\n    }\r\n    return () => document.removeEventListener(\"keypress\", handleKeyPress);\r\n  }, [fields, options.dontUseEnter]);\r\n};\r\n\r\nexport default useENTER;\r\n","import React, { useState, useEffect, useCallback } from \"react\";\r\nimport { Grid, Hidden, Paper } from \"@material-ui/core\";\r\nimport {\r\n  withRouter,\r\n  withStyles,\r\n  classNames,\r\n  lodashGet,\r\n  lodashMap,\r\n  lodashFlattenDeep,\r\n  lodashIsNil,\r\n  getPermissions,\r\n  addHooks,\r\n  useUpsertService,\r\n  useDeleteService,\r\n  useAuth\r\n} from \"../../utils\";\r\nimport Loader from \"../loader\";\r\nimport Errors from \"../errors\";\r\nimport Actions from \"./Actions\";\r\nimport Tree from \"./Tree\";\r\nimport FieldsRow from \"./FieldsRow\";\r\nimport useENTER from \"./useENTER\";\r\n// import useEXIT from \"./useEXIT\";\r\n\r\nconst styles = theme => ({\r\n  container: {\r\n    flexWrap: \"nowrap\",\r\n    overflow: \"hidden\"\r\n  },\r\n  tree: {\r\n    flex: 1,\r\n    maxWidth: \"25%\",\r\n    overflowY: \"auto\",\r\n    overflowX: \"hidden\"\r\n  },\r\n  wrapper: {\r\n    flex: 1,\r\n    overflowX: \"auto\"\r\n  },\r\n  form: {\r\n    flex: 1,\r\n    width: \"100%\",\r\n    overflowY: \"auto\",\r\n    overflowX: \"hidden\",\r\n    padding: `${theme.spacing(1)}px 0`\r\n  },\r\n  fullWidth: {\r\n    overflowX: \"auto\",\r\n    \"&>div\": {\r\n      width: \"100%\"\r\n    }\r\n  }\r\n});\r\n\r\nconst MasterDataForm = ({\r\n  history,\r\n  classes,\r\n  model,\r\n  treeModel,\r\n  fields,\r\n  formErrors: propsFormErrors = {},\r\n  data: propsData,\r\n  query = {},\r\n  hooks = {},\r\n  options = {},\r\n  loading: propsLoading,\r\n  errors: propsErrors,\r\n  customContent = {},\r\n  customActions\r\n}) => {\r\n  const { permissions } = useAuth();\r\n  const [reloadTree, setReloadTree] = useState();\r\n  const [reloadHome, setReloadHome] = useState();\r\n  // const [dirty, setDirty] = useState();\r\n  const reloadTreeHook = useCallback(() => {\r\n    // console.log(\"!!! useCallback reloadTreeHook\");\r\n    const asyncReloadTreeHook = async () => setReloadTree(Date.now());\r\n    asyncReloadTreeHook();\r\n  }, []);\r\n  const reloadHomeHook = useCallback(() => {\r\n    const asyncReloadHomeHook = async () => setReloadHome(Date.now());\r\n    asyncReloadHomeHook();\r\n  });\r\n  const redirectToItemHook = useCallback(\r\n    ({ data }) => {\r\n      // console.log(\"!!! useCallback redirectToItemHook\");\r\n      const asyncRedirectToItemHook = async () => {\r\n        if (lodashGet(propsData, \"id\") !== data.id && !options.noRedirect) {\r\n          history.push(`${model.formPath}/${data.id}`);\r\n        }\r\n      };\r\n      asyncRedirectToItemHook();\r\n    },\r\n    [history, model.formPath, options.noRedirect, propsData]\r\n  );\r\n  // const cleanFormHook = async () => setDirty();\r\n  const {\r\n    formItem,\r\n    formErrors,\r\n    handleChange,\r\n    handleSubmit: upsertSubmit,\r\n    loading: upsertLoading,\r\n    errors: upsertErrors\r\n  } = useUpsertService({\r\n    model: model.name,\r\n    fields,\r\n    data: propsData,\r\n    hooks: addHooks({\r\n      hooks,\r\n      identity: \"afterSubmit\",\r\n      hooksToAdd: [\r\n        // cleanFormHook,\r\n        reloadTreeHook,\r\n        redirectToItemHook\r\n      ]\r\n    })\r\n  });\r\n  const redirectToListHook = async () => {\r\n    if (!options.noRedirect) {\r\n      history.push(model.listPath);\r\n    }\r\n  };\r\n  const {\r\n    handleDelete,\r\n    loading: deleteLoading,\r\n    errors: deleteErrors\r\n  } = useDeleteService({\r\n    model: model.name,\r\n    data: propsData,\r\n    hooks: {\r\n      ...addHooks({\r\n        hooks,\r\n        identity: \"beforeDelete\"\r\n        // hooksToAdd: [cleanFormHook]\r\n      }),\r\n      ...addHooks({\r\n        hooks,\r\n        identity: \"afterDelete\",\r\n        hooksToAdd: [redirectToListHook, reloadHomeHook]\r\n      })\r\n    }\r\n  });\r\n  useENTER({ fields, options });\r\n  // TODO make this work\r\n  // useEXIT({ history, fields, formItem, loading: propsLoading, dirty });\r\n  const errors = propsErrors || upsertErrors || deleteErrors;\r\n  const loading = propsLoading || upsertLoading || deleteLoading;\r\n  const hasWriteAccess = getPermissions({\r\n    privileges: options.writePermissions,\r\n    permissions\r\n  });\r\n  const hasActions =\r\n    hasWriteAccess &&\r\n    (!options.dontSave ||\r\n      (formItem.id && !options.dontDelete) ||\r\n      (formItem.id && !options.dontCreate));\r\n  const copyData = localStorage.getItem(`copy-${model.name}`);\r\n  const stringCopyData = JSON.stringify(JSON.parse(copyData || \"{}\"));\r\n  useEffect(() => {\r\n    // console.log(\"!!! effect copy\", stringCopyData);\r\n    let parsedCopyData = JSON.parse(stringCopyData);\r\n    localStorage.removeItem(`copy-${model.name}`);\r\n    if (Object.keys(parsedCopyData).length > 0) {\r\n      setTimeout(\r\n        () =>\r\n          lodashMap(lodashFlattenDeep(fields), field => {\r\n            const value = lodashGet(parsedCopyData, field.identity);\r\n            if (value) {\r\n              handleChange({\r\n                target: {\r\n                  name: field.identity,\r\n                  value\r\n                },\r\n                field\r\n              });\r\n            }\r\n          }),\r\n        0\r\n      );\r\n    }\r\n  }, [stringCopyData, model.name, fields, handleChange]);\r\n  // TODO it's calling again because of the handleChange funtion, use dispatch? useCallback? useMemo on Hooks?\r\n  // useEffect(() => {\r\n  //   console.log(\"!!! effect handleChange\", handleChange);\r\n  // }, [handleChange]);\r\n  const handleSubmit = e => {\r\n    e.preventDefault();\r\n    if (loading) {\r\n      return;\r\n    }\r\n    upsertSubmit(e);\r\n  };\r\n  /* #region  handleSubmitEnter */\r\n  const handleSubmitEnter = e => {\r\n    e.preventDefault();\r\n    if (options.saveOnEnter) {\r\n      if (loading) {\r\n        return;\r\n      }\r\n      upsertSubmit(e);\r\n    }\r\n  };\r\n  /* #endregion */\r\n  // console.log(\"!! MasterDataForm formItem\", formItem);\r\n\r\n  const itemIsNull = lodashIsNil(formItem.id) ? false : true\r\n\r\n  if (!options.isAdmin && options.chatSupport) {\r\n    options = {\r\n      ...options, readOnly: itemIsNull, dontSave: itemIsNull\r\n    }\r\n  }\r\n\r\n  if (options.isAdmin && options.chatSupport) {\r\n    options = {\r\n      ...options,\r\n      readOnly: true\r\n    }\r\n  }\r\n\r\n  // console.log(' >> formItem.id: ', formItem.id)\r\n  return (\r\n    <Grid\r\n      container\r\n      spacing={2}\r\n      className={classNames(classes.container, \"form-container\")}\r\n    >\r\n      {!options.dontShowTree && (\r\n        <Hidden smDown>\r\n          <Grid item className={classes.tree}>\r\n            <Paper elevation={4}>\r\n              {/* Render Tree */}\r\n              <Tree\r\n                model={treeModel || model}\r\n                reload={reloadTree}\r\n                reloadTree={reloadTreeHook}\r\n                query={query}\r\n                customContent={customContent}\r\n              />\r\n            </Paper>\r\n          </Grid>\r\n        </Hidden>\r\n      )}\r\n      <Grid item className={classes.wrapper}>\r\n        {!formItem.id && customContent.replaceNewItem && (\r\n          <Grid>\r\n            {customContent.replaceNewItem({\r\n              reloadHomeHook: reloadHomeHook,\r\n              reloadHome: reloadHome\r\n            })}\r\n          </Grid>\r\n        )}\r\n        {((formItem.id && customContent.replaceNewItem) ||\r\n          (formItem.id && !customContent.replaceNewItem) ||\r\n          (!formItem.id && !customContent.replaceNewItem) ||\r\n          (!formItem.id && customContent.replaceNewItem && !options.isAdmin)) && (\r\n            <Grid\r\n              container\r\n              direction=\"column\"\r\n              component=\"form\"\r\n              onSubmit={handleSubmitEnter}\r\n              className={classNames(classes.container, \"form-wrapper\")}\r\n            >\r\n              {customContent.beforeForm && (\r\n                <Grid>\r\n                  {customContent.beforeForm({\r\n                    data: formItem,\r\n                  })}\r\n                </Grid>\r\n              )}\r\n              {(options.chatSupport && formItem.id && !options.isAdmin && hasActions) || \r\n                hasActions && (\r\n                //Button save\r\n                <Actions\r\n                  model={model}\r\n                  fields={fields}\r\n                  formItem={formItem}\r\n                  handleSubmit={handleSubmit}\r\n                  handleDelete={handleDelete}\r\n                  options={options}\r\n                  customContent={customContent}\r\n                  customActions={customActions}\r\n                />\r\n              )}\r\n              {loading && <Loader />}\r\n              {errors && (\r\n                // Errors form\r\n                <Errors\r\n                  errors={\r\n                    customContent.customError\r\n                      ? customContent.customError({ errors })\r\n                      : errors\r\n                  }\r\n                />\r\n              )}\r\n              <Grid item container spacing={2} className={classes.form}>\r\n                <FieldsRow\r\n                  fields={fields}\r\n                  formErrors={{ ...propsFormErrors, ...formErrors }}\r\n                  formItem={formItem}\r\n                  handleChange={handleChange}\r\n                  loading={propsLoading}\r\n                  options={{\r\n                    ...options,\r\n                    readOnly: !hasWriteAccess || options.readOnly\r\n                  }}\r\n                />\r\n                {customContent.afterForm && (\r\n                  <Grid item container spacing={2} className={classes.fullWidth}>\r\n                    {customContent.afterForm({\r\n                      data: formItem,\r\n                      handleChange: handleChange,\r\n                      reloadTree: reloadTreeHook,\r\n                      handleSubmit: handleSubmit\r\n                    })}\r\n                  </Grid>\r\n                )}\r\n              </Grid>\r\n            </Grid>\r\n          )}\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n};\r\n\r\nexport default withRouter(\r\n  withStyles(styles, { withTheme: true })(MasterDataForm)\r\n);\r\n","import React from \"react\";\r\nimport { withRouter, withStyles, lodashGet, useGetService, lodashIsNil } from \"../../utils\";\r\nimport BreadCrumbs from \"../breadcrumbs\";\r\nimport MasterDataForm from \"../master-data-form\";\r\n\r\nconst styles = theme => ({});\r\n\r\nconst MasterDataFormPage = withRouter(\r\n  withStyles(styles, { withTheme: true })(\r\n    ({\r\n      match: { params },\r\n      classes,\r\n      metadata,\r\n      form,\r\n      links,\r\n      query = {},\r\n      options = {},\r\n      customContent = {},\r\n      customActions\r\n    }) => {\r\n      const { item, loading, errors } = useGetService({\r\n        model: metadata.name,\r\n        id: lodashGet(params, metadata.paramsProp)\r\n      });\r\n      return (\r\n        <React.Fragment>\r\n          {!options.dontUseBreadcrumbs && (\r\n            <BreadCrumbs\r\n              links={[\r\n                ...links,\r\n                {\r\n                  text: lodashGet(item, \"id\")\r\n                    ? customContent.customBreadCrumbsName\r\n                      ? customContent.customBreadCrumbsName({ data: item })\r\n                      : item.name\r\n                    : metadata.newItemText,\r\n                  href: `${metadata.formPath}/${lodashGet(params, metadata.paramsProp)}`\r\n                }\r\n              ]}\r\n            />\r\n          )}\r\n          <MasterDataForm\r\n            model={metadata}\r\n            fields={form}\r\n            data={item}\r\n            query={query}\r\n            options={options}\r\n            loading={loading}\r\n            errors={errors}\r\n            customContent={customContent}\r\n            customActions={customActions}\r\n          />\r\n        </React.Fragment>\r\n      );\r\n    }\r\n  )\r\n);\r\n\r\nconst withMasterDataFormPage = ({\r\n  metadata,\r\n  form,\r\n  links,\r\n  query = {},\r\n  options = {},\r\n  customContent = {},\r\n  customActions\r\n}) => (\r\n    <MasterDataFormPage\r\n      metadata={metadata}\r\n      form={form}\r\n      links={links}\r\n      query={query}\r\n      options={options}\r\n      customContent={customContent}\r\n      customActions={customActions}\r\n    />\r\n  );\r\n\r\nexport default withMasterDataFormPage;\r\n","import React from \"react\";\r\nimport { Card, CardActionArea, CardContent, Typography, Icon } from \"@material-ui/core\";\r\nimport { Link, withStyles, lodashIsNil } from \"../../utils\";\r\n\r\nconst styles = theme => ({\r\n  card: {\r\n    height: \"100%\",\r\n    width: \"100%\",\r\n    textDecoration: \"none\",\r\n    boxShadow: \"none\",\r\n    background: \"none\"\r\n  },\r\n  title: {\r\n    display: \"flex\",\r\n    alignItems: \"center\"\r\n  },\r\n  area: {\r\n    height: \"100%\",\r\n    width: \"100%\",\r\n    position: \"relative\",\r\n    paddingLeft: theme.spacing(3),\r\n    display: \"flex\",\r\n    justifyContent: \"left\"\r\n  },\r\n  kpi: {\r\n    fontSize: \"1.5rem\",\r\n    position: \"absolute\",\r\n    right: 30,\r\n    bottom: 10,\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      position: \"static\",\r\n      flexDirection: \"row\",\r\n      fontSize: \"1rem\",\r\n      \"& > span:first-of-type\": {\r\n        order: 1,\r\n        marginLeft: theme.spacing(1)\r\n      }\r\n    }\r\n  },\r\n  icon: {\r\n    height: 50,\r\n    width: 50,\r\n    fontSize: 50,\r\n    color: theme.palette.type === \"dark\"? theme.palette.common.white : theme.palette.primary.main\r\n  }\r\n});\r\n\r\nconst MasterDataCard = ({ classes, name, icon, svgIcon, description, href, kpi }) => {\r\n  const linkProps = {};\r\n  if (href) {\r\n    linkProps.component = Link;\r\n    linkProps.to = href;\r\n  }\r\n  return (\r\n    <Card className={classes.card} {...linkProps}>\r\n      <CardActionArea className={classes.area}>\r\n        {icon && icon.type === \"svg\" && <img className={classes.icon} alt=\"icon\" src={icon.src} />}\r\n        {icon && !icon.type && <Icon className={classes.icon}>{icon}</Icon>}\r\n        {svgIcon}\r\n        <CardContent>\r\n          <Typography className={classes.title} variant=\"h5\">\r\n            {name}\r\n          </Typography>\r\n          <Typography component=\"p\">{description}</Typography>\r\n          {!lodashIsNil(kpi) && <div className={classes.kpi}>{kpi}</div>}\r\n        </CardContent>\r\n      </CardActionArea>\r\n    </Card>\r\n  );\r\n};\r\nexport default withStyles(styles, { withTheme: true })(MasterDataCard);\r\n","import React, { useState } from \"react\";\r\nimport {\r\n  ExpansionPanel,\r\n  ExpansionPanelSummary,\r\n  ExpansionPanelDetails,\r\n  Grid,\r\n  Icon,\r\n  Typography\r\n} from \"@material-ui/core\";\r\nimport {\r\n  classNames,\r\n  withStyles,\r\n  lodashMap,\r\n  lodashFilter,\r\n  getPermissions,\r\n  useAuth\r\n} from \"../../utils\";\r\nimport MasterDataCard from \"../master-data-card\";\r\n\r\nconst styles = theme => ({\r\n  panel: {},\r\n  header: {\r\n    backgroundColor: theme.palette.primary.main,\r\n    \"&>div\": {\r\n      alignItems: \"center\"\r\n    }\r\n  },\r\n  gridItem: {\r\n    outline: \"solid lightgrey 1px\",\r\n    outlineOffset: \"-4px\"\r\n  },\r\n  disabled: {\r\n    pointerEvents: \"none\",\r\n    background: \"lightgrey\"\r\n  },\r\n  icon: {\r\n    marginRight: theme.spacing(1),\r\n    color: \"white\"\r\n  }\r\n});\r\n\r\nconst AdministrationPage = withStyles(styles, { withTheme: true })(\r\n  ({ classes, actions }) => {\r\n    const { permissions } = useAuth();\r\n    const [expanded, setExpanded] = useState(0);\r\n    const handleExpand = ({ index }) => () => {\r\n      if (expanded === index) {\r\n        setExpanded();\r\n      } else {\r\n        setExpanded(index);\r\n      }\r\n    };\r\n    return (\r\n      <React.Fragment>\r\n        {lodashMap(\r\n          lodashFilter(\r\n            actions,\r\n            group =>\r\n              !group.permissions ||\r\n              getPermissions({ privileges: group.permissions, permissions })\r\n          ),\r\n          ({ name, icon, svgIcon, actions }, index) => (\r\n            <ExpansionPanel\r\n              key={name}\r\n              className={classes.panel}\r\n              expanded={expanded === index}\r\n              onChange={handleExpand({ index })}\r\n            >\r\n              <ExpansionPanelSummary\r\n                className={classes.header}\r\n                expandIcon={\r\n                  <Icon style={{ color: \"white\" }}>expand_more_icon</Icon>\r\n                }\r\n              >\r\n                {!svgIcon && icon && (\r\n                  <Icon className={classes.icon}>{icon}</Icon>\r\n                )}\r\n                {svgIcon}\r\n                <Typography variant=\"h5\" style={{ color: \"white\" }}>\r\n                  {name}\r\n                </Typography>\r\n              </ExpansionPanelSummary>\r\n              <ExpansionPanelDetails>\r\n                <Grid container spacing={1}>\r\n                  {lodashMap(\r\n                    lodashFilter(\r\n                      actions,\r\n                      action =>\r\n                        !action.permissions ||\r\n                        getPermissions({\r\n                          privileges: action.permissions,\r\n                          permissions\r\n                        })\r\n                    ),\r\n                    ({ name, description, href, disabled }) => (\r\n                      <Grid\r\n                        item\r\n                        xs={12}\r\n                        sm={6}\r\n                        lg={4}\r\n                        key={name}\r\n                        className={classNames(classes.gridItem, {\r\n                          [classes.disabled]: disabled\r\n                        })}\r\n                      >\r\n                        <MasterDataCard\r\n                          name={name}\r\n                          description={description}\r\n                          href={href}\r\n                        />\r\n                      </Grid>\r\n                    )\r\n                  )}\r\n                </Grid>\r\n              </ExpansionPanelDetails>\r\n            </ExpansionPanel>\r\n          )\r\n        )}\r\n      </React.Fragment>\r\n    );\r\n  }\r\n);\r\n\r\nconst withAdministrationPage = ({ actions }) => (\r\n  <AdministrationPage actions={actions} />\r\n);\r\n\r\nexport default withAdministrationPage;\r\n","export const form = [\r\n  [\r\n    [\r\n      {\r\n        text: \"Turno\",\r\n        identity: \"name\",\r\n        autoFocus: true,\r\n        required: true,\r\n        type: \"string\"\r\n      },\r\n      {\r\n        text: \"Descrição\",\r\n        identity: \"description\",\r\n        type: \"string\"\r\n      }\r\n    ],\r\n    [\r\n      {\r\n        text: \"Hora Inicio\",\r\n        identity: \"startTime\",\r\n        required: true,\r\n        type: \"time\"\r\n      },\r\n      {\r\n        text: \"Hora Fim\",\r\n        identity: \"endTime\",\r\n        required: true,\r\n        type: \"time\"\r\n      }\r\n    ]\r\n  ],\r\n  [\r\n    {\r\n      text: \"Seg\",\r\n      identity: \"monday\",\r\n      type: \"boolean\"\r\n    },\r\n    {\r\n      text: \"Ter\",\r\n      identity: \"tuesday\",\r\n      type: \"boolean\"\r\n    },\r\n    {\r\n      text: \"Qua\",\r\n      identity: \"wednesday\",\r\n      type: \"boolean\"\r\n    },\r\n    {\r\n      text: \"Qui\",\r\n      identity: \"thursday\",\r\n      type: \"boolean\"\r\n    },\r\n    {\r\n      text: \"Sex\",\r\n      identity: \"friday\",\r\n      type: \"boolean\"\r\n    },\r\n    {\r\n      text: \"Sab\",\r\n      identity: \"saturday\",\r\n      type: \"boolean\"\r\n    },\r\n    {\r\n      text: \"Dom\",\r\n      identity: \"sunday\",\r\n      type: \"boolean\"\r\n    }\r\n  ]\r\n];\r\n\r\nexport const metadata = {\r\n  name: \"turns\",\r\n  paramsProp: \"turnId\",\r\n  newItemText: \"Novo Turno\"\r\n};\r\n\r\nexport default { form, metadata };\r\n","import React from \"react\";\r\nimport {\r\n  ExpansionPanel,\r\n  ExpansionPanelDetails,\r\n  ExpansionPanelSummary,\r\n  Typography,\r\n  Tooltip,\r\n  Icon\r\n} from \"@material-ui/core\";\r\nimport { withStyles } from \"../../utils\";\r\nimport Button from \"../buttons\";\r\n\r\nconst styles = theme => ({\r\n  panel: {\r\n    margin: 0\r\n  },\r\n  header: {\r\n    backgroundColor: theme.palette.primary.header\r\n  },\r\n  details: {\r\n    padding: theme.spacing(2)\r\n  }\r\n});\r\n\r\nconst NewTurnPanel = ({ classes, expanded, handleExpand, handleSubmit, FormRef, setFormRef }) => {\r\n  const handleEditTurn = e => {\r\n    e.stopPropagation();\r\n    handleSubmit();\r\n  };\r\n  const isExpanded = expanded === \"new\";\r\n  return (\r\n    <ExpansionPanel\r\n      className={classes.panel}\r\n      expanded={isExpanded}\r\n      onChange={handleExpand({ id: \"new\" })}\r\n    >\r\n      <ExpansionPanelSummary\r\n        className={classes.header}\r\n        expandIcon={\r\n          <React.Fragment>\r\n            <Tooltip title=\"Criar novo turno para o local\">\r\n              <Icon>add_icon</Icon>\r\n            </Tooltip>\r\n            {!isExpanded && <Typography>Criar novo turno para o local:</Typography>}\r\n          </React.Fragment>\r\n        }\r\n      >\r\n        {isExpanded && <Button text=\"Gravar Turno\" variants=\"header\" onClick={handleEditTurn} />}\r\n      </ExpansionPanelSummary>\r\n      <ExpansionPanelDetails className={classes.details} ref={setFormRef({ id: \"new\" })}>\r\n        {!FormRef.current && <Typography>Placeholder</Typography>}\r\n      </ExpansionPanelDetails>\r\n    </ExpansionPanel>\r\n  );\r\n};\r\n\r\nexport default withStyles(styles, { withTheme: true })(NewTurnPanel);\r\n","import React from \"react\";\r\nimport moment from \"moment\";\r\nimport {\r\n  ExpansionPanel,\r\n  ExpansionPanelDetails,\r\n  ExpansionPanelSummary,\r\n  Typography,\r\n  Icon\r\n} from \"@material-ui/core\";\r\nimport { withStyles, lodashGet } from \"../../utils\";\r\nimport Button from \"../buttons\";\r\n\r\nconst styles = theme => ({\r\n  panel: {\r\n    margin: 0\r\n  },\r\n  header: {\r\n    backgroundColor: theme.palette.primary.header,\r\n    \"&>div\": {\r\n      alignItems: \"center\"\r\n    }\r\n  },\r\n  details: {\r\n    padding: theme.spacing(2)\r\n  }\r\n});\r\n\r\nconst TurnPanel = ({\r\n  classes,\r\n  turn,\r\n  expanded,\r\n  handleExpand,\r\n  handleSubmit,\r\n  handleDelete,\r\n  FormRef,\r\n  setFormRef,\r\n  options = {}\r\n}) => {\r\n  const handleEditTurn = e => {\r\n    e.stopPropagation();\r\n    handleSubmit({ turn });\r\n  };\r\n  const handleDeleteTurn = e => {\r\n    e.stopPropagation();\r\n    handleDelete({ turn });\r\n  };\r\n  const isExpanded = expanded === turn.id;\r\n  return (\r\n    <ExpansionPanel\r\n      className={classes.panel}\r\n      expanded={isExpanded}\r\n      onChange={handleExpand({ ...turn, id: turn.id })}\r\n    >\r\n      <ExpansionPanelSummary className={classes.header} expandIcon={<Icon>expand_more_icon</Icon>}>\r\n        <Typography>\r\n          {lodashGet(turn, \"name\")} ({moment(lodashGet(turn, \"startTime\")).format(\"HH:mm\")}-\r\n          {moment(lodashGet(turn, \"endTime\")).format(\"HH:mm\")}{\" \"}\r\n          {lodashGet(turn, \"monday\") ? \"Seg\" : \"\"} {lodashGet(turn, \"tuesday\") ? \"Ter\" : \"\"}{\" \"}\r\n          {lodashGet(turn, \"wednesday\") ? \"Qua\" : \"\"} {lodashGet(turn, \"thursday\") ? \"Qui\" : \"\"}{\" \"}\r\n          {lodashGet(turn, \"friday\") ? \"Sex\" : \"\"} {lodashGet(turn, \"saturday\") ? \"Sab\" : \"\"}{\" \"}\r\n          {lodashGet(turn, \"sunday\") ? \"Dom\" : \"\"})\r\n        </Typography>\r\n        {isExpanded && (\r\n          <React.Fragment>\r\n            {!options.readOnly && (\r\n              <Button text=\"Gravar Turno\" variants=\"header\" onClick={handleEditTurn} />\r\n            )}\r\n            {!options.readOnly && (\r\n              <Button text=\"Remover\" variants=\"delete header\" onClick={handleDeleteTurn} />\r\n            )}\r\n          </React.Fragment>\r\n        )}\r\n      </ExpansionPanelSummary>\r\n      <ExpansionPanelDetails className={classes.details} ref={setFormRef({ id: turn.id })}>\r\n        {!FormRef.current && <Typography>Placeholder</Typography>}\r\n      </ExpansionPanelDetails>\r\n    </ExpansionPanel>\r\n  );\r\n};\r\n\r\nexport default withStyles(styles, { withTheme: true })(TurnPanel);\r\n","import React from \"react\";\r\nimport { Portal, Grid } from \"@material-ui/core\";\r\nimport { withStyles } from \"../../utils\";\r\nimport FieldsRow from \"../master-data-form/FieldsRow\";\r\n\r\nconst styles = theme => ({\r\n  container: {\r\n    flexWrap: \"nowrap\",\r\n    \"& .form-container\": {\r\n      margin: 0,\r\n      width: \"100%\",\r\n      \"&>div\": {\r\n        padding: 0\r\n      }\r\n    },\r\n    \"& .form-wrapper>div\": {\r\n      overflowY: \"hidden\"\r\n    }\r\n  }\r\n});\r\n\r\nconst TurnForm = ({\r\n  classes,\r\n  fields,\r\n  formItem,\r\n  formErrors,\r\n  handleChange,\r\n  FormRef,\r\n  options = {}\r\n}) => (\r\n  <Portal container={FormRef.current}>\r\n    <Grid container direction=\"column\" spacing={2} className={classes.container}>\r\n      <Grid item>\r\n        <FieldsRow\r\n          fields={fields}\r\n          formItem={formItem}\r\n          formErrors={formErrors}\r\n          handleChange={handleChange}\r\n          options={options}\r\n        />\r\n      </Grid>\r\n    </Grid>\r\n  </Portal>\r\n);\r\n\r\nexport default withStyles(styles, { withTheme: true })(TurnForm);\r\n","import React, { useRef, useContext, useState, useEffect } from \"react\";\r\nimport moment from \"moment\";\r\nimport { Grid } from \"@material-ui/core\";\r\nimport ApiContext from \"../../api\";\r\nimport {\r\n  withStyles,\r\n  lodashGet,\r\n  lodashForEach,\r\n  lodashMap,\r\n  lodashFilter,\r\n  lodashReduce,\r\n  getPermissions,\r\n  validateForm,\r\n  useFindService,\r\n  useAuth\r\n} from \"../../utils\";\r\nimport { form as fields } from \"./model\";\r\nimport NewTurnPanel from \"./NewTurn\";\r\nimport TurnPanel from \"./TurnPanel\";\r\nimport Form from \"./Form\";\r\n\r\nconst styles = theme => ({});\r\n\r\nconst PlantTurnsTable = ({ classes, plant, handleChange: propsHandleChange, options = {} }) => {\r\n  const { permissions } = useAuth();\r\n  const client = useContext(ApiContext);\r\n  const [formItem, setFormItem] = useState({});\r\n  const [formErrors, setFormErrors] = useState({});\r\n  const handleChange = ({ target }) =>\r\n    setFormItem(prev => ({ ...prev, [target.name]: target.value }));\r\n  const query = {\r\n    plantId: plant.id\r\n  };\r\n  const { list, reload, setQuery } = useFindService({\r\n    model: \"turns\",\r\n    query: {\r\n      ...query,\r\n      $populateAll: true\r\n    }\r\n  });\r\n  const stringQuery = JSON.stringify(query);\r\n  useEffect(() => {\r\n    setQuery(prev => ({ ...prev, ...JSON.parse(stringQuery) }));\r\n    setExpanded();\r\n  }, [stringQuery, setQuery]);\r\n  const FormRef = useRef(null);\r\n  const refsMap = {};\r\n  const setFormRef = ({ id }) => ref => (refsMap[id] = ref);\r\n  const [expanded, setExpanded] = useState();\r\n  const handleExpand = ({ id, ...rest }) => () => {\r\n    FormRef.current = refsMap[id];\r\n    resetForm();\r\n    if (expanded === id) {\r\n      setExpanded();\r\n      FormRef.current = null;\r\n    } else {\r\n      setExpanded(id);\r\n      setFormItem({ id, ...rest });\r\n    }\r\n  };\r\n  const resetForm = () => {\r\n    setFormErrors({});\r\n    setFormItem({});\r\n  };\r\n  const resetList = () => {\r\n    reload();\r\n  };\r\n  const handleSubmit = async ({ turn } = {}) => {\r\n    setFormErrors({});\r\n    let continueOperation = true;\r\n    if (\r\n      !validateForm({\r\n        fields,\r\n        formItem,\r\n        setFormErrors\r\n      })\r\n    ) {\r\n      continueOperation = false;\r\n    }\r\n    const newTurn = {\r\n      ...query,\r\n      ...turn,\r\n      ...formItem,\r\n      id: lodashGet(turn, \"id\")\r\n    };\r\n    if (\r\n      !newTurn.monday &&\r\n      !newTurn.tuesday &&\r\n      !newTurn.wednesday &&\r\n      !newTurn.thursday &&\r\n      !newTurn.friday &&\r\n      !newTurn.saturday &&\r\n      !newTurn.sunday\r\n    ) {\r\n      continueOperation = false;\r\n      setFormErrors(prev => ({ ...prev, name: \"Selecione pelo menos um dia\" }));\r\n    }\r\n    // if (moment(newTurn.endTime).diff(moment(newTurn.startTime), \"minutes\") <= 0) {\r\n    //   continueOperation = false;\r\n    //   setFormErrors(prev => ({ ...prev, endTime: \"Horário agendado não válido\" }));\r\n    // }\r\n    lodashForEach(list, turn => {\r\n      if (`${turn.id}` === `${newTurn.id}`) {\r\n        return;\r\n      }\r\n      const turnStartT = moment(turn.startTime).set({\r\n        year: 2019,\r\n        month: 0,\r\n        date: 1\r\n      });\r\n      const turnEndT = moment(turn.endTime).set({\r\n        year: 2019,\r\n        month: 0,\r\n        date: 1\r\n      });\r\n      if (turnStartT.isSameOrAfter(turnEndT, \"minute\")) {\r\n        turnStartT.subtract(1, \"days\");\r\n      }\r\n      const newTurnStartT = moment(newTurn.startTime).set({\r\n        year: 2019,\r\n        month: 0,\r\n        date: 1\r\n      });\r\n      const newTurnEndT = moment(newTurn.endTime).set({\r\n        year: 2019,\r\n        month: 0,\r\n        date: 1\r\n      });\r\n      if (newTurnStartT.isSameOrAfter(newTurnEndT, \"minute\")) {\r\n        newTurnStartT.subtract(1, \"days\");\r\n      }\r\n      if (\r\n        ((!!turn.monday && !!newTurn.monday) ||\r\n          (!!turn.tuesday && !!newTurn.tuesday) ||\r\n          (!!turn.wednesday && !!newTurn.wednesday) ||\r\n          (!!turn.thursday && !!newTurn.thursday) ||\r\n          (!!turn.friday && !!newTurn.friday) ||\r\n          (!!turn.saturday && !!newTurn.saturday) ||\r\n          (!!turn.sunday && !!newTurn.sunday)) &&\r\n        (newTurnStartT.isBetween(turnStartT, turnEndT, \"minute\") ||\r\n          newTurnEndT.isBetween(turnStartT, turnEndT, \"minute\"))\r\n      ) {\r\n        continueOperation = false;\r\n        setFormErrors(prev => ({\r\n          ...prev,\r\n          startTime: \"O horário marcado se sobrepõe a outro turno\"\r\n        }));\r\n      }\r\n    });\r\n    if (!continueOperation) {\r\n      return;\r\n    }\r\n    if(!newTurn.id){\r\n      newTurn.startTime = moment(newTurn.startTime).subtract(1, \"hours\").toDate()\r\n      newTurn.endTime = moment(newTurn.endTime).subtract(1, \"hours\").toDate()\r\n    }\r\n    await client.service(\"plants\").patch(plant.id, {\r\n      turns: [newTurn]\r\n    });\r\n    resetList();\r\n    resetForm();\r\n    setExpanded();\r\n  };\r\n  const handleDelete = async ({ turn }) => {\r\n    if (!window.confirm(\"Você quer apagar o item?\")) {\r\n      return;\r\n    }\r\n    await client.service(\"turns\").remove(turn.id);\r\n    resetList();\r\n  };\r\n  useEffect(() => {\r\n    const hoursPerWeek =\r\n      Math.round(\r\n        (10 *\r\n          lodashReduce(\r\n            list,\r\n            (hours, turn) => {\r\n              const days = lodashFilter(\r\n                [\"monday\", \"tuesday\", \"wednesday\", \"thursday\", \"friday\", \"saturday\", \"sunday\"],\r\n                day => !!turn[day]\r\n              ).length;\r\n              let diff = moment(turn.endTime).diff(turn.startTime, \"minutes\");\r\n              if (diff < 0) {\r\n                diff = 24 * 60 + diff;\r\n              }\r\n              return hours + days * diff;\r\n            },\r\n            0\r\n          )) /\r\n          60\r\n      ) / 10;\r\n    if (hoursPerWeek) {\r\n      client.service(\"plants\").patch(plant.id, {\r\n        hoursPerWeek\r\n      });\r\n      propsHandleChange({\r\n        target: {\r\n          name: \"hoursPerWeek\",\r\n          value: hoursPerWeek\r\n        }\r\n      });\r\n    }\r\n    propsHandleChange({\r\n      target: {\r\n        name: \"turns\",\r\n        value: list\r\n      },\r\n      field: {\r\n        type: \"table\"\r\n      }\r\n    });\r\n  }, [client, plant.id, list, propsHandleChange]);\r\n  const hasWriteAccess = getPermissions({ privileges: options.writePermissions, permissions });\r\n  return (\r\n    <React.Fragment>\r\n      <Grid item>\r\n        {lodashMap(list, (turn, index) => (\r\n          <TurnPanel\r\n            key={index}\r\n            // TODO semantic names instead of \"data\"\r\n            turn={turn}\r\n            expanded={expanded}\r\n            handleExpand={handleExpand}\r\n            handleSubmit={handleSubmit}\r\n            handleDelete={handleDelete}\r\n            FormRef={FormRef}\r\n            setFormRef={setFormRef}\r\n            options={{\r\n              readOnly: !hasWriteAccess\r\n            }}\r\n          />\r\n        ))}\r\n      </Grid>\r\n      {hasWriteAccess && (\r\n        <Grid item>\r\n          <NewTurnPanel\r\n            expanded={expanded}\r\n            handleExpand={handleExpand}\r\n            handleSubmit={handleSubmit}\r\n            FormRef={FormRef}\r\n            setFormRef={setFormRef}\r\n          />\r\n        </Grid>\r\n      )}\r\n      {FormRef.current && (\r\n        <Form\r\n          fields={fields}\r\n          formItem={formItem}\r\n          formErrors={formErrors}\r\n          handleChange={handleChange}\r\n          FormRef={FormRef}\r\n          options={{\r\n            readOnly: !hasWriteAccess\r\n          }}\r\n        />\r\n      )}\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default withStyles(styles, { withTheme: true })(PlantTurnsTable);\r\n","export const form = [\r\n  [\r\n    [\r\n      {\r\n        text: \"Descrição\",\r\n        identity: \"name\",\r\n        autoFocus: true,\r\n        required: true,\r\n        type: \"string\"\r\n      },\r\n      {\r\n        text: \"Data Inicio\",\r\n        identity: \"startDate\",\r\n        required: true,\r\n        type: \"datetime\"\r\n      },\r\n      {\r\n        text: \"Data Fim\",\r\n        identity: \"endDate\",\r\n        required: true,\r\n        type: \"datetime\"\r\n      }\r\n    ],\r\n    [\r\n      {\r\n        text: \"Não Trabalhado\",\r\n        identity: \"noWorkDay\",\r\n        type: \"boolean\",\r\n        defaultValue: true\r\n      },\r\n      {\r\n        text: \"Data Recorrente\",\r\n        identity: \"recurring\",\r\n        type: \"boolean\"\r\n      }\r\n    ]\r\n  ]\r\n];\r\n\r\nexport const metadata = {\r\n  name: \"holidays\",\r\n  paramsProp: \"holidayId\",\r\n  newItemText: \"Novo Dia Não Trabalhado\"\r\n};\r\n\r\nexport default { form, metadata };\r\n","import React from \"react\";\r\nimport {\r\n  ExpansionPanel,\r\n  ExpansionPanelDetails,\r\n  ExpansionPanelSummary,\r\n  Typography,\r\n  Tooltip,\r\n  Icon\r\n} from \"@material-ui/core\";\r\nimport { withStyles } from \"../../utils\";\r\nimport Button from \"../buttons\";\r\n\r\nconst styles = theme => ({\r\n  panel: {\r\n    margin: 0\r\n  },\r\n  header: {\r\n    backgroundColor: theme.palette.primary.header\r\n  },\r\n  details: {\r\n    padding: theme.spacing(2)\r\n  }\r\n});\r\n\r\nconst NewHolidayPanel = ({\r\n  classes,\r\n  expanded,\r\n  handleExpand,\r\n  handleSubmit,\r\n  FormRef,\r\n  setFormRef\r\n}) => {\r\n  const handleEditTurn = e => {\r\n    e.stopPropagation();\r\n    handleSubmit();\r\n  };\r\n  const isExpanded = expanded === \"new\";\r\n  return (\r\n    <ExpansionPanel\r\n      className={classes.panel}\r\n      expanded={isExpanded}\r\n      onChange={handleExpand({ id: \"new\" })}\r\n    >\r\n      <ExpansionPanelSummary\r\n        className={classes.header}\r\n        expandIcon={\r\n          <React.Fragment>\r\n            <Tooltip title=\"Criar novo feriado para o local\">\r\n              <Icon>add_icon</Icon>\r\n            </Tooltip>\r\n            {!isExpanded && <Typography>Criar novo feriado para o local:</Typography>}\r\n          </React.Fragment>\r\n        }\r\n      >\r\n        {isExpanded && <Button text=\"Gravar Feriado\" variants=\"header\" onClick={handleEditTurn} />}\r\n      </ExpansionPanelSummary>\r\n      <ExpansionPanelDetails className={classes.details} ref={setFormRef({ id: \"new\" })}>\r\n        {!FormRef.current && <Typography>Placeholder</Typography>}\r\n      </ExpansionPanelDetails>\r\n    </ExpansionPanel>\r\n  );\r\n};\r\n\r\nexport default withStyles(styles, { withTheme: true })(NewHolidayPanel);\r\n","import React from \"react\";\r\nimport moment from \"moment\";\r\nimport {\r\n  ExpansionPanel,\r\n  ExpansionPanelDetails,\r\n  ExpansionPanelSummary,\r\n  Typography,\r\n  Icon\r\n} from \"@material-ui/core\";\r\nimport { withStyles, lodashGet } from \"../../utils\";\r\nimport Button from \"../buttons\";\r\n\r\nconst styles = theme => ({\r\n  panel: {\r\n    margin: 0\r\n  },\r\n  header: {\r\n    backgroundColor: theme.palette.primary.header,\r\n    \"&>div\": {\r\n      alignItems: \"center\"\r\n    }\r\n  },\r\n  details: {\r\n    padding: theme.spacing(2)\r\n  }\r\n});\r\n\r\nconst HolidayPanel = ({\r\n  classes,\r\n  holiday,\r\n  expanded,\r\n  handleExpand,\r\n  handleSubmit,\r\n  handleDelete,\r\n  FormRef,\r\n  setFormRef,\r\n  options = {}\r\n}) => {\r\n  const handleEditTurn = e => {\r\n    e.stopPropagation();\r\n    handleSubmit({ holiday });\r\n  };\r\n  const handleDeleteTurn = e => {\r\n    e.stopPropagation();\r\n    handleDelete({ holiday });\r\n  };\r\n  const isExpanded = expanded === holiday.id;\r\n  const startDate = moment(lodashGet(holiday, \"startDate\"));\r\n  const endDate = moment(lodashGet(holiday, \"endDate\"));\r\n  return (\r\n    <ExpansionPanel\r\n      className={classes.panel}\r\n      expanded={isExpanded}\r\n      onChange={handleExpand({ ...holiday, id: holiday.id })}\r\n    >\r\n      <ExpansionPanelSummary className={classes.header} expandIcon={<Icon>expand_more_icon</Icon>}>\r\n        <Typography>\r\n          {lodashGet(holiday, \"name\")} ({startDate.format(\"DD/MM/YYYY\")}\r\n          {!startDate.isSame(endDate, \"day\")\r\n            ? `-\r\n          ${endDate.format(\"DD/MM/YYYY\")}`\r\n            : \"\"}{\" \"}\r\n          {lodashGet(holiday, \"noWorkDay\") ? \"Não Trabalhado\" : \"\"}{\" \"}\r\n          {lodashGet(holiday, \"recurring\") ? \"Recorrente\" : \"\"})\r\n        </Typography>\r\n        {isExpanded && (\r\n          <React.Fragment>\r\n            {!options.readOnly && (\r\n              <Button text=\"Gravar Feriado\" variants=\"header\" onClick={handleEditTurn} />\r\n            )}\r\n            {!options.readOnly && !lodashGet(holiday, \"isSystemHoliday\") && (\r\n              <Button text=\"Remover\" variants=\"delete header\" onClick={handleDeleteTurn} />\r\n            )}\r\n          </React.Fragment>\r\n        )}\r\n      </ExpansionPanelSummary>\r\n      <ExpansionPanelDetails className={classes.details} ref={setFormRef({ id: holiday.id })}>\r\n        {!FormRef.current && <Typography>Placeholder</Typography>}\r\n      </ExpansionPanelDetails>\r\n    </ExpansionPanel>\r\n  );\r\n};\r\n\r\nexport default withStyles(styles, { withTheme: true })(HolidayPanel);\r\n","import React from \"react\";\r\nimport { Portal, Grid } from \"@material-ui/core\";\r\nimport { withStyles } from \"../../utils\";\r\nimport FieldsRow from \"../master-data-form/FieldsRow\";\r\n\r\nconst styles = theme => ({\r\n  container: {\r\n    flexWrap: \"nowrap\",\r\n    \"& .form-container\": {\r\n      margin: 0,\r\n      width: \"100%\",\r\n      \"&>div\": {\r\n        padding: 0\r\n      }\r\n    },\r\n    \"& .form-wrapper>div\": {\r\n      overflowY: \"hidden\"\r\n    }\r\n  }\r\n});\r\n\r\nconst HolidayForm = ({\r\n  classes,\r\n  fields,\r\n  formItem,\r\n  formErrors,\r\n  handleChange,\r\n  FormRef,\r\n  options = {}\r\n}) => (\r\n  <Portal container={FormRef.current}>\r\n    <Grid container direction=\"column\" spacing={2} className={classes.container}>\r\n      <Grid item>\r\n        <FieldsRow\r\n          fields={fields}\r\n          formItem={formItem}\r\n          formErrors={formErrors}\r\n          handleChange={handleChange}\r\n          options={options}\r\n        />\r\n      </Grid>\r\n    </Grid>\r\n  </Portal>\r\n);\r\n\r\nexport default withStyles(styles, { withTheme: true })(HolidayForm);\r\n","import React, { useRef, useContext, useState, useEffect } from \"react\";\r\nimport moment from \"moment\";\r\nimport { Grid } from \"@material-ui/core\";\r\nimport ApiContext from \"../../api\";\r\nimport {\r\n  withStyles,\r\n  lodashGet,\r\n  lodashMap,\r\n  lodashFilter,\r\n  getPermissions,\r\n  validateForm,\r\n  useFindService,\r\n  useAuth\r\n} from \"../../utils\";\r\nimport { form as fields } from \"./model\";\r\n// TODO same name!!\r\nimport NewHolidayPanel from \"./NewHoliday\";\r\nimport HolidayPanel from \"./HolidayPanel\";\r\nimport Form from \"./Form\";\r\n\r\nconst styles = theme => ({});\r\n\r\nconst PlantHolidaysTable = ({ classes, plant, options = {} }) => {\r\n  const { permissions } = useAuth();\r\n  const client = useContext(ApiContext);\r\n  const [formItem, setFormItem] = useState({});\r\n  const [formErrors, setFormErrors] = useState({});\r\n  const handleChange = ({ target }) =>\r\n    setFormItem(prev => ({ ...prev, [target.name]: target.value }));\r\n  const query = {\r\n    plantId: plant.id\r\n  };\r\n  const { list, reload, setQuery } = useFindService({\r\n    model: \"holidays\",\r\n    query: {\r\n      ...query,\r\n      $populateAll: true\r\n    }\r\n  });\r\n  const stringQuery = JSON.stringify(query);\r\n  useEffect(() => {\r\n    setQuery(prev => ({ ...prev, ...JSON.parse(stringQuery) }));\r\n    setExpanded();\r\n  }, [stringQuery, setQuery]);\r\n  const FormRef = useRef(null);\r\n  const refsMap = {};\r\n  const setFormRef = ({ id }) => ref => (refsMap[id] = ref);\r\n  const [expanded, setExpanded] = useState();\r\n  const handleExpand = ({ id, ...rest }) => () => {\r\n    FormRef.current = refsMap[id];\r\n    resetForm();\r\n    if (expanded === id) {\r\n      setExpanded();\r\n      FormRef.current = null;\r\n    } else {\r\n      setExpanded(id);\r\n      setFormItem({ id, ...rest });\r\n    }\r\n  };\r\n  const resetForm = () => {\r\n    setFormErrors({});\r\n    setFormItem({});\r\n  };\r\n  const resetList = () => {\r\n    reload();\r\n  };\r\n  const handleSubmit = async ({ holiday } = {}) => {\r\n    setFormErrors({});\r\n    let continueOperation = true;\r\n    if (\r\n      !validateForm({\r\n        fields,\r\n        formItem,\r\n        setFormErrors\r\n      })\r\n    ) {\r\n      continueOperation = false;\r\n    }\r\n    const newHoliday = {\r\n      ...query,\r\n      ...holiday,\r\n      ...formItem,\r\n      id: lodashGet(holiday, \"id\")\r\n    };\r\n    if (!continueOperation) {\r\n      return;\r\n    }\r\n    await client.service(\"plants\").patch(plant.id, {\r\n      holidays: [newHoliday]\r\n    });\r\n    resetList();\r\n    resetForm();\r\n    setExpanded();\r\n  };\r\n  const handleDelete = async ({ holiday }) => {\r\n    if (!window.confirm(\"Você quer apagar o item?\")) {\r\n      return;\r\n    }\r\n    await client.service(\"holidays\").remove(holiday.id);\r\n    resetList();\r\n  };\r\n  const hasWriteAccess = getPermissions({ privileges: options.writePermissions, permissions });\r\n  return (\r\n    <React.Fragment>\r\n      <Grid item>\r\n        {lodashMap(\r\n          lodashFilter(list, day => moment(day.startDate).year() === moment().year()).sort((a, b) =>\r\n            moment(a.startDate).diff(moment(b.startDate), \"minutes\")\r\n          ),\r\n          (holiday, index) => (\r\n            <HolidayPanel\r\n              key={index}\r\n              // TODO semantic names instead of \"data\"\r\n              holiday={holiday}\r\n              expanded={expanded}\r\n              handleExpand={handleExpand}\r\n              handleSubmit={handleSubmit}\r\n              handleDelete={handleDelete}\r\n              FormRef={FormRef}\r\n              setFormRef={setFormRef}\r\n              options={{\r\n                readOnly: !hasWriteAccess\r\n              }}\r\n            />\r\n          )\r\n        )}\r\n      </Grid>\r\n      {hasWriteAccess && (\r\n        <Grid item>\r\n          <NewHolidayPanel\r\n            expanded={expanded}\r\n            handleExpand={handleExpand}\r\n            handleSubmit={handleSubmit}\r\n            FormRef={FormRef}\r\n            setFormRef={setFormRef}\r\n          />\r\n        </Grid>\r\n      )}\r\n      {FormRef.current && (\r\n        <Form\r\n          fields={fields}\r\n          formItem={formItem}\r\n          formErrors={formErrors}\r\n          handleChange={handleChange}\r\n          FormRef={FormRef}\r\n          options={{\r\n            readOnly: !hasWriteAccess\r\n          }}\r\n        />\r\n      )}\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default withStyles(styles, { withTheme: true })(PlantHolidaysTable);\r\n","import React from \"react\";\r\nimport { withStyles, lodashGet, useFindService } from \"../../../utils\";\r\n\r\nconst styles = theme => ({\r\n  deviceURL: {\r\n    textDecoration: \"underline\",\r\n    cursor: \"pointer\"\r\n  }\r\n});\r\n\r\nconst SensorURL = withStyles(styles, { withTheme: true })(({ classes, data = {} }) => {\r\n  const { list } = useFindService({\r\n    model: \"sensors\",\r\n    query: { machineId: data.id }\r\n  });\r\n  const sensor = lodashGet(list, \"0\") || {};\r\n  const machineName = `${data.identity} - ${data.name}`;\r\n  const machineURL = `http://${sensor.ip}:3030/?name=${window.escape(machineName)}`;\r\n  return (\r\n    <span\r\n      className={classes.deviceURL}\r\n      onClick={() =>\r\n        window.open(\r\n          machineURL,\r\n          machineName,\r\n          \"width=650,height=350,toolbar=no,menubar=no,scrollbars=yes,resizable=yes,location=no,directories=no,status=no\"\r\n        )\r\n      }\r\n    >\r\n      {sensor.identity ? `${sensor.identity} - ` : \"\"}\r\n      {sensor.name || \"\"}\r\n    </span>\r\n  );\r\n});\r\n\r\nexport default SensorURL;\r\n","import React from \"react\";\r\nimport { Typography } from \"@material-ui/core\";\r\nimport { withStyles, useSensorAllURL } from \"../../../utils\";\r\n\r\nconst styles = theme => ({\r\n  deviceURL: {\r\n    color: `${theme.palette.common.white} !important`,\r\n    textDecoration: \"underline !important\",\r\n    cursor: \"pointer\"\r\n  }\r\n});\r\n\r\nconst SensorAllURL = withStyles(styles, { withTheme: true })(({ classes }) => {\r\n  const { sensorsURL } = useSensorAllURL();\r\n  if (!sensorsURL) {\r\n    return <Typography variant=\"body1\">Sensor</Typography>;\r\n  }\r\n  return (\r\n    <a className={classes.deviceURL} href={sensorsURL} rel=\"noopener noreferrer\" target=\"_blank\">\r\n      <Typography variant=\"body1\">Sensor</Typography>\r\n    </a>\r\n  );\r\n});\r\n\r\nexport default SensorAllURL;\r\n","import React, { useContext } from \"react\";\r\nimport ApiContext from \"../../../api\";\r\nimport { lodashGet, useAuth } from \"../../../utils\";\r\nimport machinesIcon from \"../../../icons/injector.svg\";\r\nimport SensorURL from \"./SensorURL\";\r\nimport SensorAllURL from \"./SensorAllURL\"; \r\n\r\nexport const list = [\r\n  {\r\n    text: \"Cod Máquina\",\r\n    identity: \"identity\",\r\n    filter: {\r\n      type: \"string\"\r\n    }\r\n  },\r\n  {\r\n    text: \"Nome\",\r\n    identity: \"name\",\r\n    filter: {\r\n      type: \"string\"\r\n    }\r\n  },\r\n  {\r\n    text: \"Tipo\",\r\n    identity: \"machine_type.name\",\r\n    model: {\r\n      service: \"machine_types\",\r\n      identity: \"machineTypeId\"\r\n    }\r\n  },\r\n  {\r\n    text: \"Modelo\",\r\n    identity: \"model\",\r\n    hidden: true,\r\n    filter: {\r\n      type: \"string\"\r\n    }\r\n  },\r\n  {\r\n    text: \"Local\",\r\n    identity: \"plant.name\",\r\n    model: {\r\n      service: \"plants\",\r\n      identity: \"plantId\"\r\n    }\r\n  },\r\n  {\r\n    text: \"Sensor\",\r\n    identity: \"sensor\",\r\n    customContent: { dontFilter: true },\r\n    customText: () => <SensorAllURL />,\r\n    customData: ({ ...props }) => <SensorURL {...props} />\r\n  },\r\n  {\r\n    text: \"Status\",\r\n    identity: \"machine_status.name\",\r\n    customContent: { dontFilterWhenChild: true },\r\n    model: {\r\n      service: \"machine_statuses\",\r\n      identity: \"machineStatusId\"\r\n    }\r\n  }\r\n];\r\n\r\nexport const form = [\r\n  [\r\n    {\r\n      text: \"Foto\",\r\n      identity: \"image\",\r\n      type: \"image\"\r\n    }\r\n  ],\r\n  [\r\n    {\r\n      text: \"Cod Barra\",\r\n      identity: \"barcode\",\r\n      type: \"string\"\r\n    },\r\n    {\r\n      text: \"Cod Máquina\",\r\n      identity: \"identity\",\r\n      max: 10,\r\n      autoFocus: true,\r\n      required: true,\r\n      type: \"string\"\r\n    },\r\n    {\r\n      text: \"Status\",\r\n      identity: \"machineStatusId\",\r\n      required: true,\r\n      model: \"machine_statuses\",\r\n      defaultValue: {\r\n        config: \"machine.status.init\"\r\n      }\r\n    },\r\n    {\r\n      text: \"Local\",\r\n      identity: \"plantId\",\r\n      required: true,\r\n      model: {\r\n        service: \"plants\",\r\n        useCustomQuery: () => {\r\n          const client = useContext(ApiContext);\r\n          return {\r\n            plantStatusId: lodashGet(\r\n              client.get(\"config.plant.status.active\"),\r\n              \"value\"\r\n            )\r\n          };\r\n        }\r\n      }\r\n    }\r\n  ],\r\n  [\r\n    {\r\n      text: \"Nome\",\r\n      identity: \"name\",\r\n      required: true,\r\n      type: \"string\"\r\n    },\r\n    [\r\n      {\r\n        text: \"Ciclo Médio\",\r\n        identity: \"idealCycle\",\r\n        type: \"decimal\",\r\n        readOnly: {\r\n          useCustomIf: ({}) => {\r\n            const { session } = useAuth();\r\n            const level = lodashGet(session, \"company.level\");\r\n            return level === \"N1\";\r\n          }\r\n        }\r\n      },\r\n      {\r\n        text: \"UM\",\r\n        identity: \"idealCycleUM\",\r\n        variants: \"short\",\r\n        model: {\r\n          service: \"measurement_units\",\r\n          query: {\r\n            type: \"time\"\r\n          }\r\n        },\r\n        required: \"idealCycle\"\r\n      }\r\n    ],\r\n    {\r\n      text: \"Tipo\",\r\n      identity: \"machineTypeId\",\r\n      model: \"machine_types\"\r\n    },\r\n    {\r\n      text: \"Tipo de Bico\",\r\n      identity: \"nozzleType\",\r\n      model: \"nozzle_types\"\r\n    }\r\n  ],\r\n  [\r\n    [\r\n      {\r\n        text: \"Fabricante\",\r\n        identity: \"maker\",\r\n        type: \"string\"\r\n      },\r\n      {\r\n        text: \"Ano Fabricação\",\r\n        identity: \"manufactureYear\",\r\n        type: \"year\"\r\n      }\r\n    ],\r\n    [\r\n      {\r\n        text: \"Modelo\",\r\n        identity: \"model\",\r\n        type: \"string\"\r\n      },\r\n      {\r\n        text: \"Num Serie\",\r\n        identity: \"serialNr\",\r\n        type: \"string\"\r\n      },\r\n      {\r\n        text: \"Fim Garantia\",\r\n        identity: \"endGuarantee\",\r\n        type: \"date\"\r\n      }\r\n    ]\r\n  ],\r\n  [\r\n    [\r\n      {\r\n        text: \"Dist Colunas Comprimento\",\r\n        identity: \"distanceColumnsLength\",\r\n        populate: [\"distanceColumnsWidth\"],\r\n        type: \"decimal\"\r\n      },\r\n      {\r\n        text: \"X\"\r\n      }\r\n    ],\r\n    [\r\n      {\r\n        text: \"Largura\",\r\n        identity: \"distanceColumnsWidth\",\r\n        type: \"decimal\"\r\n      },\r\n      {\r\n        text: \"UM\",\r\n        identity: \"distanceColumnsUM\",\r\n        variants: \"short\",\r\n        populate: [\"distanceColumnsLengthUM\", \"distanceColumnsWidthUM\"],\r\n        required: [[\"distanceColumnsLength\", \"distanceColumnsWidth\"]],\r\n        model: {\r\n          service: \"measurement_units\",\r\n          query: {\r\n            type: \"distance\"\r\n          }\r\n        }\r\n      }\r\n    ],\r\n    [\r\n      {\r\n        text: \"Dim Placa Comprimento\",\r\n        identity: \"plateSizeLength\",\r\n        populate: [\"plateSizeWidth\"],\r\n        type: \"decimal\"\r\n      },\r\n      {\r\n        text: \"X\"\r\n      }\r\n    ],\r\n    [\r\n      {\r\n        text: \"Largura\",\r\n        identity: \"plateSizeWidth\",\r\n        type: \"decimal\"\r\n      },\r\n      {\r\n        text: \"UM\",\r\n        identity: \"plateSizeUM\",\r\n        variants: \"short\",\r\n        populate: [\"plateSizeLengthUM\", \"plateSizeWidthUM\"],\r\n        required: [[\"plateSizeLength\", \"plateSizeWidth\"]],\r\n        model: {\r\n          service: \"measurement_units\",\r\n          query: {\r\n            type: \"distance\"\r\n          }\r\n        }\r\n      }\r\n    ]\r\n  ],\r\n  [\r\n    [\r\n      {\r\n        text: \"Força de Fechamento\",\r\n        identity: \"lockingForce\",\r\n        type: \"decimal\"\r\n      },\r\n      {\r\n        text: \"UM\",\r\n        identity: \"lockingForceUM\",\r\n        variants: \"short\",\r\n        model: {\r\n          service: \"measurement_units\",\r\n          query: {\r\n            type: \"force\"\r\n          }\r\n        },\r\n        required: \"lockingForce\"\r\n      }\r\n    ],\r\n    [\r\n      {\r\n        text: \"Curso Abertura\",\r\n        identity: \"openingStroke\",\r\n        type: \"decimal\"\r\n      },\r\n      {\r\n        text: \"UM\",\r\n        identity: \"openingStrokeUM\",\r\n        variants: \"short\",\r\n        model: {\r\n          service: \"measurement_units\",\r\n          query: {\r\n            type: \"distance\"\r\n          }\r\n        },\r\n        required: \"openingStroke\"\r\n      }\r\n    ],\r\n    [\r\n      {\r\n        text: \"Diâmetro Anel Central\",\r\n        identity: \"centralRingDiameter\",\r\n        type: \"decimal\"\r\n      },\r\n      {\r\n        text: \"UM\",\r\n        identity: \"centralRingDiameterUM\",\r\n        variants: \"short\",\r\n        model: {\r\n          service: \"measurement_units\",\r\n          query: {\r\n            type: \"distance\"\r\n          }\r\n        },\r\n        required: \"centralRingDiameter\"\r\n      }\r\n    ],\r\n    [\r\n      {\r\n        text: \"Diâmetro Rosca de Injeção\",\r\n        identity: \"injectionThreadDiameter\",\r\n        type: \"decimal\"\r\n      },\r\n      {\r\n        text: \"UM\",\r\n        identity: \"injectionThreadDiameterUM\",\r\n        variants: \"short\",\r\n        model: {\r\n          service: \"measurement_units\",\r\n          query: {\r\n            type: \"distance\"\r\n          }\r\n        },\r\n        required: \"injectionThreadDiameter\"\r\n      }\r\n    ]\r\n  ],\r\n  [\r\n    {\r\n      text: \"Altura Mínima Molde\",\r\n      identity: \"minMoldHeight\",\r\n      type: \"decimal\"\r\n    },\r\n    [\r\n      {\r\n        text: \"Altura Máxima Molde\",\r\n        identity: \"maxMoldHeight\",\r\n        type: \"decimal\"\r\n      },\r\n      {\r\n        text: \"UM\",\r\n        identity: \"moldHeightUM\",\r\n        variants: \"short\",\r\n        populate: [\"minMoldHeightUM\", \"maxMoldHeightUM\"],\r\n        required: [[\"minMoldHeight\", \"maxMoldHeight\"]],\r\n        model: {\r\n          service: \"measurement_units\",\r\n          query: {\r\n            type: \"distance\"\r\n          }\r\n        }\r\n      }\r\n    ],\r\n    [\r\n      {\r\n        text: \"Peso Máximo Molde\",\r\n        identity: \"maxMoldWeight\",\r\n        type: \"decimal\"\r\n      },\r\n      {\r\n        text: \"UM\",\r\n        identity: \"maxMoldWeightUM\",\r\n        variants: \"short\",\r\n        model: {\r\n          service: \"measurement_units\",\r\n          query: {\r\n            type: \"mass\"\r\n          }\r\n        },\r\n        required: \"maxMoldWeight\"\r\n      }\r\n    ]\r\n  ]\r\n];\r\n\r\nexport const links = [\r\n  {\r\n    text: \"Cadastros\",\r\n    href: \"/master-data\"\r\n  },\r\n  {\r\n    text: \"Máquinas\",\r\n    href: \"/master-data/machines\"\r\n  }\r\n];\r\n\r\nexport const metadata = {\r\n  name: \"machines\",\r\n  icon: { type: \"svg\", src: machinesIcon },\r\n  listPath: \"/master-data/machines\",\r\n  formPath: \"/master-data/machines\",\r\n  paramsProp: \"machineId\",\r\n  newItemText: \"Nova Máquina\"\r\n};\r\n\r\nexport default {\r\n  metadata,\r\n  list,\r\n  form,\r\n  links,\r\n  options: {\r\n    readPermissions: [\"readMasterData\"],\r\n    writePermissions: [\"writeMasterData\"]\r\n  },\r\n  customContent: {\r\n    customBreadCrumbsName: ({ data = {} }) =>\r\n      `${data.identity ? `${data.identity} - ` : \"\"}${data.name}`\r\n  },\r\n  query: {\r\n    $sort: { identity: 1 }\r\n  }\r\n};\r\n","import { lodashGet } from \"../../../utils\";\r\nimport moldsIcon from \"../../../icons/mold.svg\";\r\n\r\nexport const list = [\r\n  {\r\n    text: \"Cod Molde\",\r\n    identity: \"identity\",\r\n    filter: {\r\n      type: \"string\"\r\n    }\r\n  },\r\n  {\r\n    text: \"Nome\",\r\n    identity: \"name\",\r\n    filter: {\r\n      type: \"string\"\r\n    }\r\n  },\r\n  {\r\n    text: \"Cavidades\",\r\n    identity: \"cavities\",\r\n    filter: {\r\n      type: \"string\"\r\n    }\r\n  },\r\n  {\r\n    text: \"Ciclo Médio\",\r\n    identity: \"idealCycle\",\r\n    customContent: { dontFilter: true },\r\n    customData: ({ data: mold = {} }) =>\r\n      `${mold.idealCycle || \"\"} ${\r\n        mold.idealCycle ? lodashGet(mold, \"ideal_cycle_measurement_unit.name\") || \"\" : \"\"\r\n      }`\r\n  },\r\n  {\r\n    text: \"Status\",\r\n    identity: \"mold_status.name\",\r\n    model: {\r\n      service: \"mold_statuses\",\r\n      identity: \"moldStatusId\"\r\n    }\r\n  }\r\n];\r\n\r\nexport const form = [\r\n  [\r\n    {\r\n      text: \"Foto\",\r\n      identity: \"image\",\r\n      type: \"image\"\r\n    }\r\n  ],\r\n  [\r\n    {\r\n      text: \"Cod Barra\",\r\n      identity: \"barcode\",\r\n      type: \"string\"\r\n    },\r\n    {\r\n      text: \"Cod Molde\",\r\n      identity: \"identity\",\r\n      max: 10,\r\n      autoFocus: true,\r\n      required: true,\r\n      type: \"string\"\r\n    },\r\n    {\r\n      text: \"Status\",\r\n      identity: \"moldStatusId\",\r\n      required: true,\r\n      model: \"mold_statuses\",\r\n      defaultValue: {\r\n        config: \"mold.status.init\"\r\n      }\r\n    }\r\n  ],\r\n  [\r\n    {\r\n      text: \"Nome\",\r\n      identity: \"name\",\r\n      required: true,\r\n      type: \"string\"\r\n    },\r\n    {\r\n      text: \"Cavidades\",\r\n      identity: \"cavities\",\r\n      required: true,\r\n      type: \"integer\"\r\n    },\r\n    [\r\n      {\r\n        text: \"Ciclo Médio\",\r\n        identity: \"idealCycle\",\r\n        type: \"decimal\"\r\n      },\r\n      {\r\n        text: \"UM\",\r\n        identity: \"idealCycleUM\",\r\n        variants: \"short\",\r\n        model: {\r\n          service: \"measurement_units\",\r\n          query: {\r\n            type: \"time\"\r\n          }\r\n        },\r\n        required: \"idealCycle\"\r\n      }\r\n    ]\r\n  ],\r\n  [\r\n    [\r\n      {\r\n        text: \"Fabricante\",\r\n        identity: \"maker\",\r\n        type: \"string\"\r\n      },\r\n      {\r\n        text: \"Ano Fabricação\",\r\n        identity: \"manufactureYear\",\r\n        type: \"year\"\r\n      }\r\n    ],\r\n    [\r\n      {\r\n        text: \"Num Serie\",\r\n        identity: \"serialNr\",\r\n        type: \"string\"\r\n      },\r\n      {\r\n        text: \"Fim Garantia\",\r\n        identity: \"endGuarantee\",\r\n        type: \"date\"\r\n      }\r\n    ]\r\n  ],\r\n  [\r\n    {\r\n      text: \"Tipo de Bico\",\r\n      identity: \"nozzleType\",\r\n      model: \"nozzle_types\"\r\n    },\r\n    {\r\n      text: \"Comprimento\",\r\n      identity: \"length\",\r\n      type: \"decimal\"\r\n    },\r\n    {\r\n      text: \"Largura\",\r\n      identity: \"width\",\r\n      type: \"decimal\"\r\n    },\r\n    [\r\n      {\r\n        text: \"Altura\",\r\n        identity: \"height\",\r\n        type: \"decimal\"\r\n      },\r\n      {\r\n        text: \"UM\",\r\n        identity: \"UM\",\r\n        variants: \"short\",\r\n        populate: [\"lengthUM\", \"widthUM\", \"heightUM\"],\r\n        required: [[\"length\", \"width\", \"height\"]],\r\n        model: {\r\n          service: \"measurement_units\",\r\n          query: {\r\n            type: \"distance\"\r\n          }\r\n        },\r\n        defaultValue: {\r\n          config: \"mold.size.um\"\r\n        }\r\n      }\r\n    ],\r\n    [\r\n      {\r\n        text: \"Diâmetro Anel Central\",\r\n        identity: \"centralRingDiameter\",\r\n        type: \"decimal\"\r\n      },\r\n      {\r\n        text: \"UM\",\r\n        identity: \"centralRingDiameterUM\",\r\n        variants: \"short\",\r\n        model: {\r\n          service: \"measurement_units\",\r\n          query: {\r\n            type: \"distance\"\r\n          }\r\n        },\r\n        required: \"centralRingDiameter\"\r\n      }\r\n    ],\r\n    [\r\n      {\r\n        text: \"Peso do Molde\",\r\n        identity: \"weight\",\r\n        type: \"decimal\"\r\n      },\r\n      {\r\n        text: \"UM\",\r\n        identity: \"weightUM\",\r\n        variants: \"short\",\r\n        model: {\r\n          service: \"measurement_units\",\r\n          query: {\r\n            type: \"mass\"\r\n          }\r\n        },\r\n        required: \"weight\",\r\n        defaultValue: {\r\n          config: \"mold.weight.um\"\r\n        }\r\n      }\r\n    ]\r\n  ]\r\n];\r\n\r\nexport const links = [\r\n  {\r\n    text: \"Cadastros\",\r\n    href: \"/master-data\"\r\n  },\r\n  {\r\n    text: \"Moldes\",\r\n    href: \"/master-data/molds\"\r\n  }\r\n];\r\n\r\nexport const metadata = {\r\n  name: \"molds\",\r\n  icon: { type: \"svg\", src: moldsIcon },\r\n  listPath: \"/master-data/molds\",\r\n  formPath: \"/master-data/molds\",\r\n  paramsProp: \"moldId\",\r\n  newItemText: \"Novo Molde\"\r\n};\r\n\r\nexport default {\r\n  metadata,\r\n  list,\r\n  form,\r\n  links,\r\n  options: {\r\n    // TODO permission for OP on model too, and for subtables\r\n    readPermissions: [\"readMasterData\"],\r\n    writePermissions: [\"writeMasterData\"]\r\n  },\r\n  customContent: {\r\n    customBreadCrumbsName: ({ data = {} }) =>\r\n      `${data.identity ? `${data.identity} - ` : \"\"}${data.name}`\r\n  },\r\n  query: {\r\n    $sort: { identity: 1 }\r\n  }\r\n};\r\n","import { lodashGet } from \"../../../utils\";\r\n\r\nexport const list = [\r\n  {\r\n    text: \"Cod Produto\",\r\n    identity: \"identity\",\r\n    filter: {\r\n      type: \"string\"\r\n    }\r\n  },\r\n  {\r\n    text: \"Nome\",\r\n    identity: \"name\",\r\n    filter: {\r\n      type: \"string\"\r\n    }\r\n  },\r\n  {\r\n    text: \"UM do Produto\",\r\n    identity: \"measurement_unit.name\",\r\n    model: {\r\n      service: \"measurement_units\",\r\n      identity: \"UM\",\r\n      query: {\r\n        type: \"quantity\"\r\n      }\r\n    }\r\n  },\r\n  {\r\n    text: \"Cor\",\r\n    identity: \"color\",\r\n    filter: {\r\n      type: \"string\"\r\n    }\r\n  },\r\n  {\r\n    text: \"Peso\",\r\n    identity: \"weight\",\r\n    customContent: { dontFilter: true },\r\n    customData: ({ data: product = {} }) =>\r\n      `${product.weight || \"\"} ${\r\n        product.weight ? lodashGet(product, \"weight_measurement_unit.name\") || \"\" : \"\"\r\n      }`\r\n  },\r\n  {\r\n    text: \"Status\",\r\n    identity: \"product_status.name\",\r\n    customContent: { dontFilterWhenChild: true },\r\n    model: {\r\n      service: \"product_statuses\",\r\n      identity: \"productStatusId\"\r\n    }\r\n  }\r\n];\r\n\r\nexport const form = [\r\n  {\r\n    text: \"Foto\",\r\n    identity: \"image\",\r\n    type: \"image\"\r\n  },\r\n  [\r\n    {\r\n      text: \"Cod Produto\",\r\n      identity: \"identity\",\r\n      max: 10,\r\n      autoFocus: true,\r\n      required: true,\r\n      type: \"string\"\r\n    },\r\n    {\r\n      text: \"Status\",\r\n      identity: \"productStatusId\",\r\n      required: true,\r\n      model: \"product_statuses\",\r\n      defaultValue: {\r\n        config: \"product.status.init\"\r\n      }\r\n    }\r\n  ],\r\n  [\r\n    {\r\n      text: \"Nome\",\r\n      identity: \"name\",\r\n      required: true,\r\n      type: \"string\"\r\n    },\r\n    {\r\n      text: \"Descrição\",\r\n      identity: \"description\",\r\n      type: \"string\"\r\n    },\r\n    {\r\n      text: \"UM do Produto\",\r\n      identity: \"UM\",\r\n      model: {\r\n        service: \"measurement_units\",\r\n        query: {\r\n          type: \"quantity\"\r\n        }\r\n      }\r\n    }\r\n  ],\r\n  [\r\n    [\r\n      {\r\n        text: \"Peso do Produto\",\r\n        identity: \"weight\",\r\n        type: \"decimal\"\r\n      },\r\n      {\r\n        text: \"UM\",\r\n        identity: \"weightUM\",\r\n        variants: \"short\",\r\n        model: {\r\n          service: \"measurement_units\",\r\n          query: {\r\n            type: \"mass\"\r\n          }\r\n        },\r\n        required: \"weight\",\r\n        defaultValue: {\r\n          config: \"product.weight.um\"\r\n        }\r\n      }\r\n    ],\r\n    {\r\n      text: \"Cor\",\r\n      identity: \"color\",\r\n      type: \"string\"\r\n    }\r\n    // {\r\n    //   text: \"SetUp Produto (min)\",\r\n    //   identity: \"setupMinutes\",\r\n    //   type: \"integer\"\r\n    // }\r\n  ],\r\n  [\r\n    {\r\n      text: \"Versão Válida\",\r\n      identity: \"version\",\r\n      type: \"string\"\r\n    },\r\n    {\r\n      text: \"Desenho\",\r\n      identity: \"design\",\r\n      type: \"string\"\r\n    }\r\n  ]\r\n];\r\n\r\nexport const links = [\r\n  {\r\n    text: \"Cadastros\",\r\n    href: \"/master-data\"\r\n  },\r\n  {\r\n    text: \"Produtos\",\r\n    href: \"/master-data/products\"\r\n  }\r\n];\r\n\r\nexport const metadata = {\r\n  name: \"products\",\r\n  icon: \"style\",\r\n  listPath: \"/master-data/products\",\r\n  formPath: \"/master-data/products\",\r\n  paramsProp: \"productId\",\r\n  newItemText: \"Novo Produto\"\r\n};\r\n\r\nexport default {\r\n  metadata,\r\n  list,\r\n  form,\r\n  links,\r\n  options: {\r\n    readPermissions: [\"readMasterData\"],\r\n    writePermissions: [\"writeMasterData\"]\r\n  },\r\n  customContent: {\r\n    customBreadCrumbsName: ({ data = {} }) =>\r\n      `${data.identity ? `${data.identity} - ` : \"\"}${data.name}`\r\n  },\r\n  query: {\r\n    $sort: { identity: 1 }\r\n  }\r\n};\r\n","import { lodashGet, lodashMap, useFindService } from \"../../../utils\";\r\n\r\nexport const list = [\r\n  {\r\n    text: \"Cod Sensor\",\r\n    identity: \"identity\",\r\n    filter: {\r\n      type: \"string\"\r\n    }\r\n  },\r\n  {\r\n    text: \"Descrição\",\r\n    identity: \"name\",\r\n    filter: {\r\n      type: \"string\"\r\n    }\r\n  },\r\n  {\r\n    text: \"Máquina\",\r\n    hasIdentity: true,\r\n    identity: \"machine\",\r\n    model: {\r\n      service: \"machines\",\r\n      identity: \"machineId\",\r\n      customName: ({ data = {} }) =>\r\n        `${data.identity ? `${data.identity} - ` : \"\"}${data.name || \"\"}`\r\n    },\r\n    customData: ({ data: { machine } = {} }) =>\r\n      `${lodashGet(machine, \"identity\") ? `${lodashGet(machine, \"identity\")} - ` : \"\"}${lodashGet(\r\n        machine,\r\n        \"name\"\r\n      ) || \"\"}`\r\n  },\r\n  {\r\n    text: \"Status\",\r\n    identity: \"sensor_status.name\",\r\n    model: {\r\n      service: \"sensor_statuses\",\r\n      identity: \"sensorStatusId\"\r\n    }\r\n  }\r\n];\r\n\r\nexport const form = [\r\n  [\r\n    {\r\n      text: \"Cod Barra\",\r\n      identity: \"barcode\",\r\n      variants: \"display\",\r\n      readOnly: true,\r\n      type: \"string\"\r\n    },\r\n    {\r\n      text: \"Cod Sensor\",\r\n      identity: \"identity\",\r\n      max: 10,\r\n      variants: \"display\",\r\n      readOnly: true,\r\n      type: \"string\"\r\n    }\r\n  ],\r\n  [\r\n    {\r\n      text: \"Status\",\r\n      identity: \"sensorStatusId\",\r\n      required: true,\r\n      model: \"sensor_statuses\",\r\n      defaultValue: {\r\n        config: \"sensor.status.init\"\r\n      }\r\n    },\r\n    {\r\n      text: \"Descrição\",\r\n      identity: \"name\",\r\n      autoFocus: true,\r\n      type: \"string\"\r\n    },\r\n    {\r\n      text: \"Máquina\",\r\n      icon: \"build\",\r\n      identity: \"machineId\",\r\n      model: {\r\n        service: \"machines\",\r\n        hasIdentity: true,\r\n        useCustomQuery: ({ data = {} }) => {\r\n          const { list } = useFindService({\r\n            model: \"sensors\",\r\n            query: {\r\n              machineId: { $ne: null }\r\n            }\r\n          });\r\n          if (list.length) {\r\n            return {\r\n              id: { $nin: lodashMap(list, ({ machineId }) => machineId) }\r\n            };\r\n          }\r\n          return {};\r\n        }\r\n      }\r\n    }\r\n  ],\r\n  [\r\n    {\r\n      text: \"MAC\",\r\n      identity: \"mac\",\r\n      variants: \"display\",\r\n      readOnly: true,\r\n      type: \"string\"\r\n    },\r\n    {\r\n      text: \"IP\",\r\n      identity: \"ip\",\r\n      variants: \"display\",\r\n      readOnly: true,\r\n      type: \"string\"\r\n    }\r\n  ]\r\n];\r\n\r\nexport const links = [\r\n  {\r\n    text: \"Cadastros\",\r\n    href: \"/master-data\"\r\n  },\r\n  {\r\n    text: \"Sensores\",\r\n    href: \"/master-data/sensors\"\r\n  }\r\n];\r\n\r\nexport const metadata = {\r\n  name: \"sensors\",\r\n  icon: \"memory\",\r\n  listPath: \"/master-data/sensors\",\r\n  formPath: \"/master-data/sensors\",\r\n  paramsProp: \"sensorId\",\r\n  newItemText: \"Novo Sensor\"\r\n};\r\n\r\nexport default {\r\n  metadata,\r\n  list,\r\n  form,\r\n  links,\r\n  options: {\r\n    dontCreate: true,\r\n    dontDelete: true,\r\n    readPermissions: [\"readMasterData\"],\r\n    writePermissions: [\"writeMasterData\"]\r\n  },\r\n  customContent: {\r\n    customBreadCrumbsName: ({ data = {} }) =>\r\n      `${data.identity ? `${data.identity} - ` : \"\"}${data.name}`\r\n  },\r\n  query: {\r\n    $sort: { identity: 1 }\r\n  }\r\n};\r\n","import { useContext } from \"react\";\r\nimport ApiContext from \"../../../api\";\r\nimport { lodashGet, lodashMap, useGetService } from \"../../../utils\";\r\n\r\nconst customName = ({ data = {} }) =>\r\n  `${data.identity ? `${data.identity} - ` : \"\"}${data.name || \"\"}`;\r\n\r\nconst customData = ({ identity }) => ({ data = {} }) =>\r\n  `${\r\n    lodashGet(data, `${identity}.identity`) ? `${lodashGet(data, `${identity}.identity`)} - ` : \"\"\r\n  }${lodashGet(data, `${identity}.name`) || \"\"}`;\r\n\r\nexport const list = [\r\n  {\r\n    text: \"Máquina\",\r\n    hasIdentity: true,\r\n    identity: \"machine\",\r\n    customData: customData({ identity: \"machine\" }),\r\n    model: {\r\n      service: \"machines\",\r\n      identity: \"machineId\",\r\n      customName\r\n    }\r\n  },\r\n  {\r\n    text: \"Molde\",\r\n    hasIdentity: true,\r\n    identity: \"mold\",\r\n    customData: customData({ identity: \"mold\" }),\r\n    model: {\r\n      service: \"molds\",\r\n      identity: \"moldId\",\r\n      customName\r\n    }\r\n  },\r\n  {\r\n    text: \"Produto\",\r\n    hasIdentity: true,\r\n    identity: \"product\",\r\n    customData: customData({ identity: \"product\" }),\r\n    model: {\r\n      service: \"products\",\r\n      identity: \"productId\",\r\n      customName\r\n    }\r\n  },\r\n  {\r\n    text: \"Ciclo Ideal\",\r\n    identity: \"idealCycle\",\r\n    customContent: { dontFilter: true },\r\n    customData: ({ data: mold = {} }) =>\r\n      `${mold.idealCycle || \"\"} ${\r\n        mold.idealCycle ? lodashGet(mold, \"ideal_cycle_measurement_unit.name\") || \"\" : \"\"\r\n      }`\r\n  }\r\n];\r\n\r\nexport const form = [\r\n  [\r\n    {\r\n      text: \"Máquina\",\r\n      identity: \"machineId\",\r\n      variants: \"fullWidth\",\r\n      required: true,\r\n      model: {\r\n        service: \"machines\",\r\n        hasIdentity: true,\r\n        useCustomQuery: () => {\r\n          const client = useContext(ApiContext);\r\n          return {\r\n            machineStatusId: lodashGet(client.get(\"config.machine.status.active\"), \"value\")\r\n          };\r\n        }\r\n      }\r\n    }\r\n  ],\r\n  [\r\n    {\r\n      text: \"Molde\",\r\n      identity: \"moldId\",\r\n      variants: \"fullWidth\",\r\n      required: true,\r\n      model: {\r\n        service: \"molds\",\r\n        hasIdentity: true,\r\n        useCustomQuery: () => {\r\n          const client = useContext(ApiContext);\r\n          return {\r\n            moldStatusId: lodashGet(client.get(\"config.mold.status.active\"), \"value\")\r\n          };\r\n        }\r\n      },\r\n      handleChange: ({ data = {}, handleChange, item: productionOrder = {} }) => {\r\n        const moldId = lodashGet(data, \"target.value\");\r\n        if (!moldId) {\r\n          handleChange({\r\n            target: {\r\n              name: \"productId\",\r\n              value: null\r\n            }\r\n          });\r\n        }\r\n      }\r\n    }\r\n  ],\r\n  [\r\n    {\r\n      text: \"Produto\",\r\n      identity: \"productId\",\r\n      variants: \"fullWidth\",\r\n      readOnly: {\r\n        until: \"moldId\"\r\n      },\r\n      required: true,\r\n      model: {\r\n        service: \"products\",\r\n        hasIdentity: true,\r\n        // TODO same implementation for PRODUCTION ORDER fields\r\n        useCustomQuery: ({ data = {} }) => {\r\n          const client = useContext(ApiContext);\r\n          const query = {\r\n            productStatusId: lodashGet(client.get(\"config.product.status.active\"), \"value\")\r\n          };\r\n          const { item: mold } = useGetService({\r\n            model: \"molds\",\r\n            id: data.moldId\r\n          });\r\n          if (lodashGet(mold, \"id\")) {\r\n            return {\r\n              ...query,\r\n              id: {\r\n                $in: lodashMap(mold.products, product => product.id)\r\n              }\r\n            };\r\n          }\r\n          return query;\r\n        }\r\n      }\r\n    }\r\n  ],\r\n  [\r\n    {\r\n      text: \"Ciclo Ideal\",\r\n      identity: \"idealCycle\",\r\n      required: true,\r\n      // TODO add MIN MAX values\r\n      type: \"decimal\",\r\n      handleChange: ({ data = {}, handleChange }) => {\r\n        const calculateCycle = ({ value, factor }) =>\r\n          Math.round(parseFloat(value, \"10\") * factor * 100) / 100;\r\n        const value = lodashGet(data, \"target.value\");\r\n        if (value) {\r\n          handleChange({\r\n            target: {\r\n              name: \"minCycle\",\r\n              value: calculateCycle({ value, factor: 0.9 })\r\n            }\r\n          });\r\n          handleChange({\r\n            target: {\r\n              name: \"maxCycle\",\r\n              value: calculateCycle({ value, factor: 1.1 })\r\n            }\r\n          });\r\n        }\r\n      }\r\n    },\r\n    {\r\n      text: \"Ciclo Min\",\r\n      identity: \"minCycle\",\r\n      type: \"decimal\"\r\n    },\r\n    [\r\n      {\r\n        text: \"Ciclo Max\",\r\n        identity: \"maxCycle\",\r\n        type: \"decimal\"\r\n      },\r\n      {\r\n        text: \"UM\",\r\n        identity: \"UM\",\r\n        variants: \"short\",\r\n        required: [[\"idealCycle\", \"minCycle\", \"maxCycle\"]],\r\n        populate: [\"idealCycleUM\", \"minCycleUM\", \"maxCycleUM\"],\r\n        model: {\r\n          service: \"measurement_units\",\r\n          query: {\r\n            type: \"time\"\r\n          }\r\n        }\r\n      }\r\n    ]\r\n  ],\r\n  [\r\n    {\r\n      text: \"Ciclo de Alerta\",\r\n      identity: \"warningCycle\",\r\n      type: \"decimal\"\r\n    },\r\n    {\r\n      text: \"Montagem (min)\",\r\n      identity: \"setupInMinutes\",\r\n      required: true,\r\n      type: \"integer\"\r\n    },\r\n    {\r\n      text: \"SetUp Injeção (min)\",\r\n      identity: \"setupInjectionMinutes\",\r\n      type: \"integer\"\r\n    },\r\n    {\r\n      text: \"SetUp Automação (min)\",\r\n      identity: \"setupAutoMinutes\",\r\n      type: \"integer\"\r\n    },\r\n    {\r\n      text: \"Desmontagem (min)\",\r\n      identity: \"setupOutMinutes\",\r\n      required: true,\r\n      type: \"integer\"\r\n    }\r\n  ],\r\n  [\r\n    {\r\n      text: \"UM\",\r\n      identity: \"idealCycleUM\",\r\n      variants: \"short\",\r\n      show: { useCustomIf: () => false },\r\n      model: {\r\n        service: \"measurement_units\",\r\n        query: {\r\n          type: \"time\"\r\n        }\r\n      }\r\n    },\r\n    {\r\n      text: \"UM\",\r\n      identity: \"minCycleUM\",\r\n      variants: \"short\",\r\n      show: { useCustomIf: () => false },\r\n      model: {\r\n        service: \"measurement_units\",\r\n        query: {\r\n          type: \"time\"\r\n        }\r\n      }\r\n    },\r\n    {\r\n      text: \"UM\",\r\n      identity: \"maxCycleUM\",\r\n      variants: \"short\",\r\n      show: { useCustomIf: () => false },\r\n      model: {\r\n        service: \"measurement_units\",\r\n        query: {\r\n          type: \"time\"\r\n        }\r\n      }\r\n    }\r\n  ]\r\n];\r\n\r\nexport const links = [\r\n  {\r\n    text: \"Cadastros\",\r\n    href: \"/master-data\"\r\n  },\r\n  {\r\n    text: \"Tempos de Configuração\",\r\n    href: \"/master-data/setups\"\r\n  }\r\n];\r\n\r\nexport const metadata = {\r\n  name: \"machine_mold_products\",\r\n  listPath: \"/master-data/setups\",\r\n  formPath: \"/master-data/setups\",\r\n  paramsProp: \"setupId\",\r\n  newItemText: \"Novo Tempo de Configuração\"\r\n};\r\n\r\nconst customSetupName = ({ data = {} }) =>\r\n  `${customName({ data: data.machine })} / ${customName({\r\n    data: data.mold\r\n  })} / ${customName({ data: data.product })}`;\r\n\r\nexport default {\r\n  metadata,\r\n  list,\r\n  form,\r\n  links,\r\n  query: {\r\n    $populateAll: true,\r\n    $sort: { machineId: 1 }\r\n  },\r\n  options: {\r\n    readPermissions: [\"readMasterData\"],\r\n    writePermissions: [\"writeMasterData\"]\r\n  },\r\n  customContent: {\r\n    customBreadCrumbsName: ({ data = {} }) => `Setup ${data.id}`,\r\n    customTreeName: customSetupName,\r\n    customError: ({ errors = {} }) => {\r\n      if (errors.message === \"Validation error\") {\r\n        return \"Uma configuração de tempos com esta máquina / molde / produto já existe.\";\r\n      }\r\n      return errors;\r\n    }\r\n  }\r\n};\r\n","import eMachinesModel from \"./machines/model\";\r\nimport eMoldsModel from \"./molds/model\";\r\nimport eProductsModel from \"./products/model\";\r\nimport eSensorsModel from \"./sensors/model\";\r\nimport eSetupsModel from \"./setups/model\";\r\n\r\nexport const MachinesModel = eMachinesModel;\r\nexport const MoldsModel = eMoldsModel;\r\nexport const ProductsModel = eProductsModel;\r\nexport const SensorsModel = eSensorsModel;\r\nexport const SetupsModel = eSetupsModel;","export const form = [\r\n  [\r\n    {\r\n      text: \"Cavidades (PC ou KIT)\",\r\n      identity: \"cavities\",\r\n      autoFocus: true,\r\n      required: true,\r\n      type: \"integer\"\r\n    }\r\n  ]\r\n];\r\n\r\nexport default { form };\r\n","import React from \"react\";\r\nimport {\r\n  ExpansionPanel,\r\n  ExpansionPanelDetails,\r\n  ExpansionPanelSummary,\r\n  Typography,\r\n  Tooltip,\r\n  Icon\r\n} from \"@material-ui/core\";\r\nimport { withStyles } from \"../../utils\";\r\nimport Button from \"../buttons\";\r\n\r\nconst styles = theme => ({\r\n  panel: {\r\n    margin: 0\r\n  },\r\n  header: {\r\n    backgroundColor: theme.palette.primary.header\r\n  },\r\n  details: {\r\n    padding: theme.spacing(2)\r\n  }\r\n});\r\n\r\nconst NewProductPanel = ({\r\n  classes,\r\n  expanded,\r\n  handleExpand,\r\n  handleSubmit,\r\n  FormRef,\r\n  setFormRef\r\n}) => {\r\n  const handleEditProduct = e => {\r\n    e.stopPropagation();\r\n    handleSubmit();\r\n  };\r\n  const isExpanded = expanded === \"new\";\r\n  return (\r\n    <ExpansionPanel\r\n      className={classes.panel}\r\n      expanded={isExpanded}\r\n      onChange={handleExpand({ id: \"new\", productId: \"new\" })}\r\n    >\r\n      <ExpansionPanelSummary\r\n        className={classes.header}\r\n        expandIcon={\r\n          <React.Fragment>\r\n            <Tooltip title=\"Criar novo produto para o molde\">\r\n              <Icon>add_icon</Icon>\r\n            </Tooltip>\r\n            {!isExpanded && <Typography>Criar novo produto para o molde:</Typography>}\r\n          </React.Fragment>\r\n        }\r\n      >\r\n        {isExpanded && (\r\n          <Button text=\"Gravar Produto\" variants=\"header\" onClick={handleEditProduct} />\r\n        )}\r\n      </ExpansionPanelSummary>\r\n      <ExpansionPanelDetails className={classes.details} ref={setFormRef({ id: \"new\" })}>\r\n        {!FormRef.current && <Typography>Placeholder</Typography>}\r\n      </ExpansionPanelDetails>\r\n    </ExpansionPanel>\r\n  );\r\n};\r\n\r\nexport default withStyles(styles, { withTheme: true })(NewProductPanel);\r\n","import React from \"react\";\r\nimport {\r\n  Grid,\r\n  ExpansionPanel,\r\n  ExpansionPanelDetails,\r\n  ExpansionPanelSummary,\r\n  Typography,\r\n  Tooltip,\r\n  Icon\r\n} from \"@material-ui/core\";\r\nimport { withStyles, lodashGet, lodashFilter } from \"../../utils\";\r\nimport { ProductsModel } from \"../../pages/master-data/models\";\r\nimport Button from \"../buttons\";\r\nimport MasterDataList from \"../master-data-list\";\r\n\r\nconst styles = theme => ({\r\n  panel: {\r\n    margin: 0\r\n  },\r\n  header: {\r\n    backgroundColor: theme.palette.primary.header\r\n  },\r\n  details: {\r\n    padding: theme.spacing(2)\r\n  },\r\n  fullWidth: {\r\n    width: \"100%\",\r\n    overflowX: \"auto\"\r\n  }\r\n});\r\n\r\nconst AddProductPanel = ({\r\n  classes,\r\n  query = {},\r\n  expanded,\r\n  handleExpand,\r\n  handleSubmit,\r\n  FormRef,\r\n  setFormRef\r\n}) => {\r\n  const handleAddProduct = ({ data }) => e => {\r\n    e.preventDefault();\r\n    handleSubmit({ product: data });\r\n  };\r\n  return (\r\n    <ExpansionPanel\r\n      className={classes.panel}\r\n      expanded={expanded === \"list\"}\r\n      onChange={handleExpand({ id: \"list\" })}\r\n    >\r\n      <ExpansionPanelSummary\r\n        className={classes.header}\r\n        expandIcon={\r\n          <React.Fragment>\r\n            <Tooltip title=\"Adicionar produto para o molde\">\r\n              <Icon>add_icon</Icon>\r\n            </Tooltip>\r\n            {expanded !== \"list\" && <Typography>Adicionar produto para o molde:</Typography>}\r\n          </React.Fragment>\r\n        }\r\n      />\r\n      <ExpansionPanelDetails className={classes.details}>\r\n        <Grid container direction=\"column\" spacing={2}>\r\n          <Grid item ref={setFormRef({ id: \"list\" })}>\r\n            {!FormRef.current && <Typography>Placeholder</Typography>}\r\n          </Grid>\r\n          <Grid item className={classes.fullWidth}>\r\n            <MasterDataList\r\n              model={ProductsModel.metadata}\r\n              fields={lodashFilter(ProductsModel.list, field => {\r\n                if (lodashGet(field, \"customContent.dontFilterWhenChild\")) {\r\n                  field.customContent = {\r\n                    ...(field.customContent || {}),\r\n                    dontFilter: true\r\n                  };\r\n                }\r\n                return !field.hidden;\r\n              })}\r\n              query={{ ...query, $sort: { identity: 1 } }}\r\n              options={{\r\n                dontEdit: true,\r\n                dontDelete: true,\r\n                dontCreate: true\r\n              }}\r\n              customActions={({ isList, data }) =>\r\n                isList && (\r\n                  <Button\r\n                    text=\"Adicionar\"\r\n                    icon=\"add_icon\"\r\n                    type=\"icon\"\r\n                    onClick={handleAddProduct({ data })}\r\n                  />\r\n                )\r\n              }\r\n            />\r\n          </Grid>\r\n        </Grid>\r\n      </ExpansionPanelDetails>\r\n    </ExpansionPanel>\r\n  );\r\n};\r\n\r\nexport default withStyles(styles, { withTheme: true })(AddProductPanel);\r\n","import React from \"react\";\r\nimport {\r\n  ExpansionPanel,\r\n  ExpansionPanelDetails,\r\n  ExpansionPanelSummary,\r\n  Typography,\r\n  Icon\r\n} from \"@material-ui/core\";\r\nimport { Link, withStyles, lodashGet } from \"../../utils\";\r\nimport { MoldsModel } from \"../../pages/master-data/models\";\r\nimport Button from \"../buttons\";\r\n\r\nconst styles = theme => ({\r\n  panel: {\r\n    margin: 0\r\n  },\r\n  header: {\r\n    backgroundColor: theme.palette.primary.header,\r\n    \"&>div\": {\r\n      alignItems: \"center\"\r\n    }\r\n  },\r\n  details: {\r\n    padding: theme.spacing(2)\r\n  }\r\n});\r\n\r\nconst ProductPanel = ({\r\n  classes,\r\n  data,\r\n  expanded,\r\n  handleExpand,\r\n  handleSubmit,\r\n  handleDelete,\r\n  FormRef,\r\n  setFormRef,\r\n  options = {}\r\n}) => {\r\n  const handleEditProduct = ({ data }) => e => {\r\n    e.stopPropagation();\r\n    handleSubmit({ product: data.product });\r\n  };\r\n  const handleDeleteProduct = ({ data }) => e => {\r\n    e.stopPropagation();\r\n    handleDelete({ product: data.product });\r\n  };\r\n  const isExpanded = expanded === data.productId;\r\n  return (\r\n    <ExpansionPanel\r\n      className={classes.panel}\r\n      expanded={isExpanded}\r\n      onChange={handleExpand({ ...data, id: data.productId })}\r\n    >\r\n      <ExpansionPanelSummary className={classes.header} expandIcon={<Icon>expand_more_icon</Icon>}>\r\n        <Typography>\r\n          {lodashGet(data, \"product.identity\")} - {lodashGet(data, \"product.name\")} ({data.cavities}{\" \"}\r\n          Cavidades)\r\n        </Typography>\r\n        {isExpanded && (\r\n          <React.Fragment>\r\n            {!options.readOnly && (\r\n              <Button\r\n                text=\"Gravar Produto\"\r\n                variants=\"header\"\r\n                onClick={handleEditProduct({ data })}\r\n              />\r\n            )}\r\n            {!options.readOnly && (\r\n              <Button\r\n                text=\"Remover do Molde\"\r\n                variants=\"delete header\"\r\n                onClick={handleDeleteProduct({ data })}\r\n              />\r\n            )}\r\n            <Button\r\n              text=\"Setups\"\r\n              variants=\"submit header\"\r\n              component={Link}\r\n              to={`${lodashGet(MoldsModel, \"metadata.formPath\")}/${data.moldId}/products/${\r\n                data.productId\r\n              }`}\r\n            />\r\n          </React.Fragment>\r\n        )}\r\n      </ExpansionPanelSummary>\r\n      <ExpansionPanelDetails className={classes.details} ref={setFormRef({ id: data.productId })}>\r\n        {!FormRef.current && <Typography>Placeholder</Typography>}\r\n      </ExpansionPanelDetails>\r\n    </ExpansionPanel>\r\n  );\r\n};\r\n\r\nexport default withStyles(styles, { withTheme: true })(ProductPanel);\r\n","import React from \"react\";\r\nimport { Portal, Grid } from \"@material-ui/core\";\r\nimport { withStyles, lodashGet, useGetService } from \"../../utils\";\r\nimport { ProductsModel } from \"../../pages/master-data/models\";\r\nimport MasterDataForm from \"../master-data-form\";\r\nimport FieldsRow from \"../master-data-form/FieldsRow\";\r\n\r\nconst styles = theme => ({\r\n  container: {\r\n    flexWrap: \"nowrap\",\r\n    \"& .form-container\": {\r\n      margin: 0,\r\n      width: \"100%\",\r\n      \"&>div\": {\r\n        padding: 0\r\n      }\r\n    },\r\n    \"& .form-wrapper>div\": {\r\n      overflowY: \"hidden\"\r\n    }\r\n  }\r\n});\r\n\r\nconst ProductForm = ({\r\n  classes,\r\n  fields,\r\n  mold,\r\n  formItem,\r\n  formErrors,\r\n  handleChange,\r\n  afterChange,\r\n  FormRef,\r\n  options = {}\r\n}) => {\r\n  const { item: productItem, loading: productLoading, errors: productErrors } = useGetService({\r\n    model: lodashGet(ProductsModel, \"metadata.name\"),\r\n    id: formItem.productId\r\n  });\r\n  return (\r\n    <Portal container={FormRef.current}>\r\n      <Grid container direction=\"column\" spacing={2} className={classes.container}>\r\n        <Grid item>\r\n          <FieldsRow\r\n            fields={fields}\r\n            formItem={formItem}\r\n            formErrors={formErrors}\r\n            handleChange={handleChange}\r\n            options={options}\r\n          />\r\n        </Grid>\r\n        {formItem.productId && (\r\n          <Grid item>\r\n            <MasterDataForm\r\n              model={ProductsModel.metadata}\r\n              fields={ProductsModel.form}\r\n              data={productItem}\r\n              formErrors={formErrors}\r\n              loading={productLoading}\r\n              errors={productErrors}\r\n              hooks={{\r\n                afterChange\r\n              }}\r\n              options={{\r\n                ...ProductsModel.options,\r\n                noRedirect: true,\r\n                dontSave: true,\r\n                dontCreate: true,\r\n                dontDelete: true,\r\n                dontShowTree: true\r\n              }}\r\n            />\r\n          </Grid>\r\n        )}\r\n      </Grid>\r\n    </Portal>\r\n  );\r\n};\r\n\r\nexport default withStyles(styles, { withTheme: true })(ProductForm);\r\n","import React, { useRef, useContext, useState, useEffect } from \"react\";\r\nimport { Grid } from \"@material-ui/core\";\r\nimport ApiContext from \"../../api\";\r\nimport {\r\n  withStyles,\r\n  lodashGet,\r\n  lodashMap,\r\n  lodashForEach,\r\n  lodashSplit,\r\n  lodashFind,\r\n  lodashFlattenDeep,\r\n  getPermissions,\r\n  validateForm,\r\n  useFindService,\r\n  useAuth\r\n} from \"../../utils\";\r\nimport { ProductsModel } from \"../../pages/master-data/models\";\r\nimport { form as fields } from \"./model\";\r\nimport NewProductPanel from \"./NewProduct\";\r\nimport AddProductPanel from \"./AddProduct\";\r\nimport ProductPanel from \"./ProductPanel\";\r\nimport Form from \"./Form\";\r\n\r\nconst styles = theme => ({});\r\n\r\nconst MoldProductsTable = ({ classes, mold, reloadTree, options = {} }) => {\r\n  const { permissions } = useAuth();\r\n  const client = useContext(ApiContext);\r\n  const [formItem, setFormItem] = useState({\r\n    cavities: mold.cavities\r\n  });\r\n  const [formErrors, setFormErrors] = useState({});\r\n  const handleChange = ({ target }) =>\r\n    setFormItem(prev => ({ ...prev, [target.name]: target.value }));\r\n  const query = {\r\n    moldId: mold.id\r\n  };\r\n  const { list, reload, setQuery } = useFindService({\r\n    model: \"mold_products\",\r\n    query: {\r\n      ...query,\r\n      $populateAll: true\r\n    }\r\n  });\r\n  const stringQuery = JSON.stringify(query);\r\n  useEffect(() => {\r\n    setQuery(prev => ({ ...prev, ...JSON.parse(stringQuery) }));\r\n    setExpanded();\r\n  }, [stringQuery, setQuery]);\r\n  const addProductQuery = {\r\n    productStatusId: lodashGet(client.get(\"config.product.status.active\"), \"value\"),\r\n    id: {\r\n      $nin: lodashMap(list, product => product.productId)\r\n    }\r\n  };\r\n  const FormRef = useRef(null);\r\n  const refsMap = {};\r\n  const setFormRef = ({ id }) => ref => (refsMap[id] = ref);\r\n  const [expanded, setExpanded] = useState();\r\n  const handleExpand = ({ id, ...rest }) => () => {\r\n    FormRef.current = refsMap[id];\r\n    resetForm();\r\n    if (expanded === id) {\r\n      setExpanded();\r\n      FormRef.current = null;\r\n    } else {\r\n      setExpanded(id);\r\n      setFormItem({ cavities: mold.cavities, id, ...rest });\r\n    }\r\n  };\r\n  const resetForm = () => {\r\n    setFormErrors({});\r\n    setFormItem({ cavities: mold.cavities });\r\n  };\r\n  const resetList = () => {\r\n    reloadTree();\r\n    reload();\r\n  };\r\n  const afterChange = async ({ data }) => handleChange({ target: data });\r\n  const handleSubmit = async ({ product } = {}) => {\r\n    setFormErrors({});\r\n    let continueOperation = true;\r\n    if (\r\n      !validateForm({\r\n        fields,\r\n        formItem,\r\n        setFormErrors\r\n      })\r\n    ) {\r\n      continueOperation = false;\r\n    }\r\n    const intCavities = parseInt(formItem.cavities, \"10\");\r\n    if (intCavities <= 0) {\r\n      setFormErrors(prev => ({ ...prev, cavities: true }));\r\n      continueOperation = false;\r\n    }\r\n    if (intCavities > mold.cavities) {\r\n      setFormErrors(prev => ({\r\n        ...prev,\r\n        cavities: \"Cavidades do molde excedidas.\"\r\n      }));\r\n      continueOperation = false;\r\n    }\r\n    const newProduct = {\r\n      ...query,\r\n      ...product,\r\n      ...formItem,\r\n      id: lodashGet(product, \"id\"),\r\n      productId: lodashGet(product, \"id\")\r\n    };\r\n    if (\r\n      !validateForm({\r\n        fields: ProductsModel.form,\r\n        formItem: newProduct,\r\n        setFormErrors\r\n      })\r\n    ) {\r\n      continueOperation = false;\r\n    }\r\n    if (!continueOperation) {\r\n      return;\r\n    }\r\n    try {\r\n      await client.service(\"molds\").patch(mold.id, {\r\n        products: [newProduct]\r\n      });\r\n      resetList();\r\n      resetForm();\r\n      setExpanded();\r\n    } catch (error) {\r\n      lodashForEach(error.errors, ({ path, validatorKey }) => {\r\n        const fieldIdentity = lodashSplit(path, \"_\")[0];\r\n        const fieldError = lodashFind(lodashFlattenDeep(ProductsModel.form), {\r\n          identity: fieldIdentity\r\n        });\r\n        if (validatorKey === \"not_unique\" && fieldError) {\r\n          setFormErrors(prev => ({\r\n            ...prev,\r\n            identity: `Já existe um registro com esse ${fieldError.text}`\r\n          }));\r\n        }\r\n      });\r\n    }\r\n  };\r\n  const handleDelete = async ({ product }) => {\r\n    if (!window.confirm(\"Você quer apagar o item?\")) {\r\n      return;\r\n    }\r\n    await client.service(\"mold_products\").remove(null, {\r\n      query: {\r\n        ...query,\r\n        productId: product.id\r\n      }\r\n    });\r\n    resetList();\r\n  };\r\n  const hasWriteAccess = getPermissions({ privileges: options.writePermissions, permissions });\r\n  return (\r\n    <React.Fragment>\r\n      <Grid item>\r\n        {lodashMap(list, (moldProduct, index) => (\r\n          <ProductPanel\r\n            key={index}\r\n            data={moldProduct}\r\n            expanded={expanded}\r\n            handleExpand={handleExpand}\r\n            handleSubmit={handleSubmit}\r\n            handleDelete={handleDelete}\r\n            FormRef={FormRef}\r\n            setFormRef={setFormRef}\r\n            options={{\r\n              readOnly: !hasWriteAccess\r\n            }}\r\n          />\r\n        ))}\r\n      </Grid>\r\n      {hasWriteAccess && (\r\n        <Grid item>\r\n          <NewProductPanel\r\n            expanded={expanded}\r\n            handleExpand={handleExpand}\r\n            handleSubmit={handleSubmit}\r\n            FormRef={FormRef}\r\n            setFormRef={setFormRef}\r\n          />\r\n          <AddProductPanel\r\n            query={addProductQuery}\r\n            expanded={expanded}\r\n            setExpanded={setExpanded}\r\n            handleExpand={handleExpand}\r\n            handleSubmit={handleSubmit}\r\n            FormRef={FormRef}\r\n            setFormRef={setFormRef}\r\n          />\r\n        </Grid>\r\n      )}\r\n      {FormRef.current && (\r\n        <Form\r\n          fields={fields}\r\n          mold={mold}\r\n          formItem={formItem}\r\n          formErrors={formErrors}\r\n          handleChange={handleChange}\r\n          afterChange={afterChange}\r\n          FormRef={FormRef}\r\n          options={{\r\n            readOnly: !hasWriteAccess\r\n          }}\r\n        />\r\n      )}\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default withStyles(styles, { withTheme: true })(MoldProductsTable);\r\n","export const form = [\r\n  [\r\n    {\r\n      text: \"Ciclo Ideal\",\r\n      identity: \"idealCycle\",\r\n      autoFocus: true,\r\n      required: true,\r\n      type: \"decimal\"\r\n    },\r\n    {\r\n      text: \"Ciclo Min\",\r\n      identity: \"minCycle\",\r\n      type: \"decimal\"\r\n    },\r\n    [\r\n      {\r\n        text: \"Ciclo Max\",\r\n        identity: \"maxCycle\",\r\n        type: \"decimal\"\r\n      },\r\n      {\r\n        text: \"UM\",\r\n        identity: \"UM\",\r\n        variants: \"short\",\r\n        required: [[\"idealCycle\", \"minCycle\", \"maxCycle\"]],\r\n        populate: [\"idealCycleUM\", \"minCycleUM\", \"maxCycleUM\"],\r\n        model: {\r\n          service: \"measurement_units\",\r\n          query: {\r\n            type: \"time\"\r\n          }\r\n        }\r\n      }\r\n    ]\r\n  ],\r\n  [\r\n    {\r\n      text: \"Ciclo de Alerta\",\r\n      identity: \"warningCycle\",\r\n      type: \"decimal\"\r\n    },\r\n    {\r\n      text: \"Montagem (min)\",\r\n      identity: \"setupInMinutes\",\r\n      required: true,\r\n      type: \"integer\"\r\n    },\r\n    {\r\n      text: \"SetUp Injeção (min)\",\r\n      identity: \"setupInjectionMinutes\",\r\n      type: \"integer\"\r\n    },\r\n    {\r\n      text: \"SetUp Automação (min)\",\r\n      identity: \"setupAutoMinutes\",\r\n      type: \"integer\"\r\n    },\r\n    {\r\n      text: \"Desmontagem (min)\",\r\n      identity: \"setupOutMinutes\",\r\n      required: true,\r\n      type: \"integer\"\r\n    }\r\n  ]\r\n];\r\n\r\nexport default { form };\r\n","import React from \"react\";\r\nimport {\r\n  ExpansionPanel,\r\n  ExpansionPanelDetails,\r\n  ExpansionPanelSummary,\r\n  Grid,\r\n  Typography,\r\n  Tooltip,\r\n  Icon\r\n} from \"@material-ui/core\";\r\nimport { withStyles, lodashGet, lodashFilter } from \"../../utils\";\r\nimport { MachinesModel } from \"../../pages/master-data/models\";\r\nimport Button from \"../buttons\";\r\nimport MasterDataList from \"../master-data-list\";\r\n\r\nconst styles = theme => ({\r\n  panel: {\r\n    margin: 0\r\n  },\r\n  header: {\r\n    backgroundColor: theme.palette.primary.header\r\n  },\r\n  details: {\r\n    padding: theme.spacing(2)\r\n  },\r\n  fullWidth: {\r\n    width: \"100%\",\r\n    overflowX: \"auto\"\r\n  }\r\n});\r\n\r\nconst AddMachine = ({\r\n  classes,\r\n  query = {},\r\n  expanded,\r\n  handleExpand,\r\n  handleSubmit,\r\n  FormRef,\r\n  setFormRef\r\n}) => {\r\n  const handleAddMachine = ({ data }) => e => {\r\n    e.preventDefault();\r\n    handleSubmit({ machine: data });\r\n  };\r\n  return (\r\n    <ExpansionPanel\r\n      className={classes.panel}\r\n      expanded={expanded === \"list\"}\r\n      onChange={handleExpand({ id: \"list\" })}\r\n    >\r\n      <ExpansionPanelSummary\r\n        className={classes.header}\r\n        expandIcon={\r\n          <React.Fragment>\r\n            <Tooltip title=\"Adicionar máquina setup\">\r\n              <Icon>add_icon</Icon>\r\n            </Tooltip>\r\n            {expanded !== \"list\" && <Typography>Adicionar máquina setup:</Typography>}\r\n          </React.Fragment>\r\n        }\r\n      />\r\n      <ExpansionPanelDetails className={classes.details}>\r\n        <Grid container direction=\"column\" spacing={2}>\r\n          <Grid item ref={setFormRef({ id: \"list\" })}>\r\n            {!FormRef.current && <Typography>Placeholder</Typography>}\r\n          </Grid>\r\n          <Grid item className={classes.fullWidth}>\r\n            <MasterDataList\r\n              model={MachinesModel.metadata}\r\n              fields={lodashFilter(MachinesModel.list, field => {\r\n                if (lodashGet(field, \"customContent.dontFilterWhenChild\")) {\r\n                  field.customContent = {\r\n                    ...(field.customContent || {}),\r\n                    dontFilter: true\r\n                  };\r\n                }\r\n                return !field.hidden;\r\n              })}\r\n              query={{ ...query, $sort: { identity: 1 } }}\r\n              options={{\r\n                dontEdit: true,\r\n                dontDelete: true,\r\n                dontCreate: true\r\n              }}\r\n              customActions={({ isList, data }) =>\r\n                isList && (\r\n                  <Button\r\n                    text=\"Adicionar\"\r\n                    icon=\"add_icon\"\r\n                    type=\"icon\"\r\n                    onClick={handleAddMachine({ data })}\r\n                  />\r\n                )\r\n              }\r\n            />\r\n          </Grid>\r\n        </Grid>\r\n      </ExpansionPanelDetails>\r\n    </ExpansionPanel>\r\n  );\r\n};\r\n\r\nexport default withStyles(styles, { withTheme: true })(AddMachine);\r\n","import React from \"react\";\r\nimport {\r\n  ExpansionPanel,\r\n  ExpansionPanelDetails,\r\n  ExpansionPanelSummary,\r\n  Typography,\r\n  Icon\r\n} from \"@material-ui/core\";\r\nimport { withStyles, lodashGet } from \"../../utils\";\r\nimport Button from \"../buttons\";\r\n\r\nconst styles = theme => ({\r\n  panel: {\r\n    margin: 0\r\n  },\r\n  header: {\r\n    backgroundColor: theme.palette.primary.header,\r\n    \"&>div\": {\r\n      alignItems: \"center\"\r\n    }\r\n  },\r\n  details: {\r\n    padding: theme.spacing(2)\r\n  }\r\n});\r\n\r\nconst MachinePanel = ({\r\n  classes,\r\n  data,\r\n  expanded,\r\n  handleExpand,\r\n  handleSubmit,\r\n  handleDelete,\r\n  FormRef,\r\n  setFormRef,\r\n  options = {}\r\n}) => {\r\n  const handleEditMachine = ({ data }) => e => {\r\n    e.stopPropagation();\r\n    handleSubmit({ machine: data.machine });\r\n  };\r\n  const handleDeleteMachine = ({ data }) => e => {\r\n    e.stopPropagation();\r\n    handleDelete({ machine: data.machine });\r\n  };\r\n  const isExpanded = expanded === data.machineId;\r\n  return (\r\n    <ExpansionPanel\r\n      className={classes.panel}\r\n      expanded={isExpanded}\r\n      onChange={handleExpand({ ...data, id: data.machineId })}\r\n    >\r\n      <ExpansionPanelSummary className={classes.header} expandIcon={<Icon>expand_more_icon</Icon>}>\r\n        <Typography>\r\n          {lodashGet(data, \"machine.identity\")} - {lodashGet(data, \"machine.name\")}\r\n        </Typography>\r\n        {isExpanded && (\r\n          <React.Fragment>\r\n            {!options.readOnly && (\r\n              <Button\r\n                text=\"Gravar SetUps\"\r\n                variants=\"header\"\r\n                onClick={handleEditMachine({ data })}\r\n              />\r\n            )}\r\n            {!options.readOnly && (\r\n              <Button\r\n                text=\"Deletar\"\r\n                variants=\"delete header\"\r\n                onClick={handleDeleteMachine({ data })}\r\n              />\r\n            )}\r\n          </React.Fragment>\r\n        )}\r\n      </ExpansionPanelSummary>\r\n      <ExpansionPanelDetails className={classes.details} ref={setFormRef({ id: data.machineId })}>\r\n        {!FormRef.current && <Typography>Placeholder</Typography>}\r\n      </ExpansionPanelDetails>\r\n    </ExpansionPanel>\r\n  );\r\n};\r\n\r\nexport default withStyles(styles, { withTheme: true })(MachinePanel);\r\n","import React from \"react\";\r\nimport { Portal, Grid } from \"@material-ui/core\";\r\nimport { withStyles } from \"../../utils\";\r\nimport FieldsRow from \"../master-data-form/FieldsRow\";\r\n\r\nconst styles = theme => ({});\r\n\r\nconst MachineMoldProductForm = ({\r\n  classes,\r\n  fields,\r\n  formItem,\r\n  formErrors,\r\n  handleChange,\r\n  FormRef,\r\n  options = {}\r\n}) => (\r\n  <Portal container={FormRef.current}>\r\n    <Grid item container spacing={2}>\r\n      <FieldsRow\r\n        fields={fields}\r\n        formItem={formItem}\r\n        formErrors={formErrors}\r\n        handleChange={handleChange}\r\n        options={options}\r\n      />\r\n    </Grid>\r\n  </Portal>\r\n);\r\n\r\nexport default withStyles(styles, { withTheme: true })(MachineMoldProductForm);\r\n","import React, { useRef, useContext, useState, useEffect } from \"react\";\r\nimport { Grid } from \"@material-ui/core\";\r\nimport ApiContext from \"../../api\";\r\nimport {\r\n  withStyles,\r\n  lodashGet,\r\n  lodashMap,\r\n  getPermissions,\r\n  validateForm,\r\n  useFindService,\r\n  useAuth\r\n} from \"../../utils\";\r\nimport { form as fields } from \"./model\";\r\nimport AddMachinePanel from \"./AddMachine\";\r\nimport MachinePanel from \"./MachinePanel\";\r\nimport Form from \"./Form\";\r\n\r\nconst styles = theme => ({});\r\n\r\nconst MachineMoldProductsTable = ({ classes, mold, product, options }) => {\r\n  const { permissions } = useAuth();\r\n  const client = useContext(ApiContext);\r\n  const [formItem, setFormItem] = useState({});\r\n  const [formErrors, setFormErrors] = useState({});\r\n  const handleChange = ({ target }) =>\r\n    setFormItem(prev => ({ ...prev, [target.name]: target.value }));\r\n  const query = {\r\n    productId: product.id,\r\n    moldId: null\r\n  };\r\n  if (mold) {\r\n    query.moldId = mold.id;\r\n  }\r\n  const { list, reload, setQuery } = useFindService({\r\n    model: \"machine_mold_products\",\r\n    query: {\r\n      ...query,\r\n      $populateAll: true\r\n    }\r\n  });\r\n  const stringQuery = JSON.stringify(query);\r\n  useEffect(() => {\r\n    // console.log(\"!! effect Machine Mold Product setQuery\");\r\n    setQuery(prev => ({ ...prev, ...JSON.parse(stringQuery) }));\r\n    setExpanded();\r\n  }, [setQuery, stringQuery]);\r\n  const addMachineQuery = {\r\n    machineStatusId: lodashGet(client.get(\"config.machine.status.active\"), \"value\"),\r\n    id: {\r\n      $nin: lodashMap(list, machine => parseInt(machine.machineId, \"10\"))\r\n    }\r\n  };\r\n  const FormRef = useRef(null);\r\n  const refsMap = {};\r\n  const setFormRef = ({ id }) => ref => (refsMap[id] = ref);\r\n  const [expanded, setExpanded] = useState();\r\n  const handleExpand = ({ id, ...rest }) => () => {\r\n    FormRef.current = refsMap[id];\r\n    resetForm();\r\n    if (expanded === id) {\r\n      setExpanded();\r\n      FormRef.current = null;\r\n    } else {\r\n      setExpanded(id);\r\n      setFormItem({ id, ...rest });\r\n    }\r\n  };\r\n  const resetForm = () => {\r\n    setFormErrors({});\r\n    setFormItem({});\r\n  };\r\n  const resetList = () => {\r\n    reload();\r\n  };\r\n  const handleSubmit = async ({ machine }) => {\r\n    setFormErrors({});\r\n    if (\r\n      !validateForm({\r\n        fields,\r\n        formItem,\r\n        setFormErrors\r\n      })\r\n    ) {\r\n      return;\r\n    }\r\n    await client.service(\"machines\").patch(machine.id, {\r\n      products: [\r\n        {\r\n          ...formItem,\r\n          ...query,\r\n          machineId: machine.id\r\n        }\r\n      ]\r\n    });\r\n    resetList();\r\n  };\r\n  const handleDelete = async ({ machine }) => {\r\n    if (!window.confirm(\"Você quer apagar o item?\")) {\r\n      return;\r\n    }\r\n    await client.service(\"machine_mold_products\").remove(null, {\r\n      query: {\r\n        ...query,\r\n        machineId: machine.id\r\n      }\r\n    });\r\n    resetList();\r\n  };\r\n  useEffect(() => {\r\n    // console.log(\"!! effect calc cycle\");\r\n    const calculateCycle = ({ value, factor }) =>\r\n      Math.round(parseFloat(value, \"10\") * factor * 100) / 100;\r\n    if (formItem.idealCycle) {\r\n      setFormItem(prev => ({\r\n        ...prev,\r\n        minCycle: calculateCycle({ value: prev.idealCycle, factor: 0.9 }),\r\n        maxCycle: calculateCycle({ value: prev.idealCycle, factor: 1.1 })\r\n      }));\r\n    }\r\n  }, [formItem.idealCycle]);\r\n  const hasWriteAccess = getPermissions({ privileges: options.writePermissions, permissions });\r\n  // console.log(\">>> render MachineMoldProductTable\", list);\r\n  return (\r\n    <React.Fragment>\r\n      <Grid item>\r\n        {lodashMap(list, (machineMoldProduct, index) => (\r\n          <MachinePanel\r\n            key={index}\r\n            data={machineMoldProduct}\r\n            expanded={expanded}\r\n            handleExpand={handleExpand}\r\n            handleSubmit={handleSubmit}\r\n            handleDelete={handleDelete}\r\n            FormRef={FormRef}\r\n            setFormRef={setFormRef}\r\n            options={{\r\n              readOnly: !hasWriteAccess\r\n            }}\r\n          />\r\n        ))}\r\n      </Grid>\r\n      {hasWriteAccess && (\r\n        <Grid item>\r\n          <AddMachinePanel\r\n            query={addMachineQuery}\r\n            expanded={expanded}\r\n            handleExpand={handleExpand}\r\n            handleSubmit={handleSubmit}\r\n            FormRef={FormRef}\r\n            setFormRef={setFormRef}\r\n          />\r\n        </Grid>\r\n      )}\r\n      {FormRef.current && (\r\n        <Form\r\n          fields={fields}\r\n          formItem={formItem}\r\n          formErrors={formErrors}\r\n          handleChange={handleChange}\r\n          FormRef={FormRef}\r\n          options={{\r\n            readOnly: !hasWriteAccess\r\n          }}\r\n        />\r\n      )}\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default withStyles(styles, { withTheme: true })(MachineMoldProductsTable);\r\n","export const form = [\r\n  [\r\n    {\r\n      text: \"Nome\",\r\n      identity: \"name\",\r\n      type: \"string\",\r\n      required: true\r\n    },\r\n    {\r\n      text: \"Descrição\",\r\n      identity: \"content\",\r\n      type: \"content\",\r\n      required: true\r\n    }\r\n  ]\r\n];\r\n\r\nexport const metadata = {\r\n  name: \"wiki_sections\",\r\n  paramsProp: \"wikiSectionId\",\r\n  newItemText: \"Nova Seção\"\r\n};\r\n\r\nexport default {\r\n  form,\r\n  metadata\r\n};\r\n","import React from \"react\";\r\nimport { Grid } from \"@material-ui/core\";\r\nimport { withStyles, lodashForEach, lodashFlattenDeep } from \"../../utils\";\r\nimport FieldsRow from \"../master-data-form/FieldsRow\";\r\nimport WikiPagesModel from \"./model\";\r\n\r\nconst styles = theme => ({\r\n  container: {\r\n    flexWrap: \"nowrap\",\r\n    \"& .form-container\": {\r\n      margin: 0,\r\n      width: \"100%\",\r\n      \"&>div\": {\r\n        padding: 0\r\n      }\r\n    },\r\n    \"& .form-wrapper>div\": {\r\n      overflowY: \"hidden\"\r\n    }\r\n  }\r\n});\r\n\r\nconst WikiSectionForm = ({ classes, formItem, formErrors, handleChange, options = {} }) => {\r\n  const fields = lodashFlattenDeep(WikiPagesModel.form);\r\n  if (options.readOnly) {\r\n    lodashForEach(fields, field => (field.variants = \"wiki\"));\r\n  } else {\r\n    lodashForEach(fields, field => (field.variants = \"\"));\r\n  }\r\n  return (\r\n    <Grid container direction=\"column\" spacing={2} className={classes.container}>\r\n      <Grid item>\r\n        <FieldsRow\r\n          fields={options.readOnly ? WikiPagesModel.form[0].slice(1) : WikiPagesModel.form}\r\n          formItem={formItem}\r\n          formErrors={formErrors}\r\n          handleChange={handleChange}\r\n          options={options}\r\n        />\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n};\r\n\r\nexport default withStyles(styles, { withTheme: true })(WikiSectionForm);\r\n","import React, { useState } from \"react\";\r\nimport {\r\n  ExpansionPanel,\r\n  ExpansionPanelDetails,\r\n  ExpansionPanelSummary,\r\n  Typography,\r\n  Tooltip,\r\n  Icon\r\n} from \"@material-ui/core\";\r\nimport { withStyles, lodashIsNil, lodashToUpper } from \"../../utils\";\r\nimport Button from \"../buttons\";\r\nimport Loader from \"../loader\";\r\nimport Form from \"./Form\";\r\n\r\nconst styles = theme => ({\r\n  panel: {\r\n    margin: 0\r\n  },\r\n  header: {\r\n    backgroundColor: theme.palette.primary.header\r\n  },\r\n  details: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    flexWrap: \"nowrap\",\r\n    padding: theme.spacing(2)\r\n  }\r\n});\r\n\r\nconst NewWikiSection = ({\r\n  classes,\r\n  loading,\r\n  expanded,\r\n  handleExpand,\r\n  handleSubmit,\r\n  options = {}\r\n}) => {\r\n  const [formItem, setFormItem] = useState({});\r\n  const [formErrors, setFormErrors] = useState({});\r\n  const resetForm = () => {\r\n    setFormErrors({});\r\n    setFormItem({});\r\n    handleExpand({ id: \"new\" });\r\n  };\r\n  const handleChange = ({ target }) =>\r\n    setFormItem(prev => {\r\n      return {\r\n        ...prev,\r\n        [target.name]: !lodashIsNil(target.value)\r\n          ? lodashToUpper(target.value)\r\n          : target.value || null\r\n      };\r\n    });\r\n  const handleEditWikiSection = e => {\r\n    e.stopPropagation();\r\n    handleSubmit({ wikiSection: formItem, setFormErrors, resetForm });\r\n  };\r\n  const isExpanded = expanded[\"new\"];\r\n  return (\r\n    <React.Fragment>\r\n      <ExpansionPanel\r\n        className={classes.panel}\r\n        expanded={isExpanded}\r\n        onChange={handleExpand({ id: \"new\" })}\r\n      >\r\n        <ExpansionPanelSummary\r\n          className={classes.header}\r\n          expandIcon={\r\n            <React.Fragment>\r\n              <Tooltip title=\"Criar nova Seção\">\r\n                <Icon>add_icon</Icon>\r\n              </Tooltip>\r\n              {!isExpanded && <Typography>Criar nova Seção:</Typography>}\r\n            </React.Fragment>\r\n          }\r\n        >\r\n          {isExpanded && (\r\n            <Button text=\"Gravar Seção\" variants=\"header\" onClick={handleEditWikiSection} />\r\n          )}\r\n        </ExpansionPanelSummary>\r\n        <ExpansionPanelDetails className={classes.details}>\r\n          {loading[\"new\"] && <Loader />}\r\n          <Form\r\n            formItem={formItem}\r\n            formErrors={formErrors}\r\n            handleChange={handleChange}\r\n            options={options}\r\n          />\r\n        </ExpansionPanelDetails>\r\n      </ExpansionPanel>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default withStyles(styles, { withTheme: true })(NewWikiSection);\r\n","import React, { useState } from \"react\";\r\nimport {\r\n  ExpansionPanel,\r\n  ExpansionPanelDetails,\r\n  ExpansionPanelSummary,\r\n  Typography,\r\n  Icon\r\n} from \"@material-ui/core\";\r\nimport { withStyles, lodashGet, lodashIsNil, lodashToUpper } from \"../../utils\";\r\nimport Button from \"../buttons\";\r\nimport Loader from \"../loader\";\r\nimport Form from \"./Form\";\r\n\r\nconst styles = theme => ({\r\n  panel: {\r\n    margin: 0\r\n  },\r\n  header: {\r\n    backgroundColor: theme.palette.primary.header,\r\n    \"&>div\": {\r\n      alignItems: \"center\"\r\n    }\r\n  },\r\n  details: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    flexWrap: \"nowrap\",\r\n    padding: theme.spacing(2)\r\n  }\r\n});\r\n\r\nconst WikiSectionPanel = ({\r\n  classes,\r\n  wikiSection,\r\n  loading,\r\n  expanded,\r\n  handleExpand,\r\n  handleSubmit,\r\n  handleDelete,\r\n  options = {}\r\n}) => {\r\n  const [formItem, setFormItem] = useState({ ...wikiSection });\r\n  const [formErrors, setFormErrors] = useState({});\r\n  const resetForm = () => {\r\n    setFormErrors({});\r\n  };\r\n  const handleChange = ({ target }) =>\r\n    setFormItem(prev => {\r\n      return {\r\n        ...prev,\r\n        [target.name]: !lodashIsNil(target.value)\r\n          ? lodashToUpper(target.value)\r\n          : target.value || null\r\n      };\r\n    });\r\n  const handleEditWikiSection = e => {\r\n    e.stopPropagation();\r\n    handleSubmit({ wikiSection: formItem, setFormErrors, resetForm });\r\n  };\r\n  const handleDeleteWikiSection = e => {\r\n    e.stopPropagation();\r\n    handleDelete({ wikiSection });\r\n  };\r\n  const isExpanded = expanded[wikiSection.id];\r\n  return (\r\n    <ExpansionPanel\r\n      className={classes.panel}\r\n      expanded={isExpanded}\r\n      onChange={handleExpand({ id: wikiSection.id })}\r\n    >\r\n      <ExpansionPanelSummary className={classes.header} expandIcon={<Icon>expand_more_icon</Icon>}>\r\n        <Typography>{lodashGet(wikiSection, \"name\")}</Typography>\r\n        {isExpanded && (\r\n          <React.Fragment>\r\n            {!options.readOnly && (\r\n              <Button text=\"Gravar Seção\" variants=\"header\" onClick={handleEditWikiSection} />\r\n            )}\r\n            {!options.readOnly && (\r\n              <Button\r\n                text=\"Remover da Página\"\r\n                variants=\"delete header\"\r\n                onClick={handleDeleteWikiSection}\r\n              />\r\n            )}\r\n          </React.Fragment>\r\n        )}\r\n      </ExpansionPanelSummary>\r\n      <ExpansionPanelDetails className={classes.details}>\r\n        {loading[wikiSection.id] && <Loader />}\r\n        <Form\r\n          formItem={formItem}\r\n          formErrors={formErrors}\r\n          handleChange={handleChange}\r\n          options={options}\r\n        />\r\n      </ExpansionPanelDetails>\r\n    </ExpansionPanel>\r\n  );\r\n};\r\n\r\nexport default withStyles(styles, { withTheme: true })(WikiSectionPanel);\r\n","import React, { useContext, useState, useEffect } from \"react\";\r\nimport { Grid } from \"@material-ui/core\";\r\nimport ApiContext from \"../../api\";\r\nimport {\r\n  withStyles,\r\n  lodashGet,\r\n  lodashMap,\r\n  getPermissions,\r\n  validateForm,\r\n  useFindService,\r\n  useAuth\r\n} from \"../../utils\";\r\nimport { form as fields } from \"./model\";\r\nimport NewWikiSection from \"./NewWikiSection\";\r\nimport WikiSectionPanel from \"./WikiSectionPanel\";\r\n\r\nconst styles = theme => ({});\r\n\r\nconst WikiPageWikiSectionsTable = ({ classes, wikiPage, options = {} }) => {\r\n  const { permissions } = useAuth();\r\n  const client = useContext(ApiContext);\r\n  const query = {\r\n    wikiPageId: wikiPage.id\r\n  };\r\n  const { list, reload, setQuery } = useFindService({\r\n    model: \"wiki_sections\",\r\n    query: {\r\n      ...query,\r\n      $populateAll: true\r\n    }\r\n  });\r\n  const stringQuery = JSON.stringify(query);\r\n  useEffect(() => {\r\n    setQuery(prev => ({ ...prev, ...JSON.parse(stringQuery) }));\r\n  }, [stringQuery, setQuery]);\r\n  const [expanded, setExpanded] = useState({});\r\n  const [loading, setLoading] = useState({});\r\n  const handleExpand = ({ id }) => () => setExpanded(prev => ({ ...prev, [id]: !prev[id] }));\r\n  const resetList = () => {\r\n    reload();\r\n  };\r\n  const handleSubmit = async ({\r\n    wikiSection,\r\n    setFormErrors = () => {},\r\n    resetForm = () => {}\r\n    // TODO add validation default json to all functions?\r\n  } = {}) => {\r\n    setLoading(prev => ({ ...prev, [wikiSection.id || \"new\"]: true }));\r\n    setFormErrors({});\r\n    let continueOperation = true;\r\n    const newWikiSection = {\r\n      ...query,\r\n      ...wikiSection,\r\n      id: lodashGet(wikiSection, \"id\")\r\n    };\r\n    if (\r\n      !validateForm({\r\n        fields,\r\n        formItem: newWikiSection,\r\n        setFormErrors\r\n      })\r\n    ) {\r\n      continueOperation = false;\r\n    }\r\n    if (!continueOperation) {\r\n      setLoading(prev => ({ ...prev, [wikiSection.id || \"new\"]: false }));\r\n      return;\r\n    }\r\n    await client.service(\"wiki_pages\").patch(wikiPage.id, {\r\n      wiki_sections: [newWikiSection]\r\n    });\r\n    resetList();\r\n    resetForm();\r\n    setLoading(prev => ({ ...prev, [wikiSection.id || \"new\"]: false }));\r\n  };\r\n  const handleDelete = async ({ wikiSection }) => {\r\n    if (!window.confirm(\"Você quer apagar o item?\")) {\r\n      return;\r\n    }\r\n    await client.service(\"wiki_sections\").remove(null, {\r\n      query: {\r\n        ...query,\r\n        id: wikiSection.id\r\n      }\r\n    });\r\n    resetList();\r\n  };\r\n  const hasWriteAccess = getPermissions({ privileges: options.writePermissions, permissions });\r\n  return (\r\n    <React.Fragment>\r\n      <Grid item>\r\n        {lodashMap(list, (wikiSection, index) => (\r\n          <WikiSectionPanel\r\n            key={index}\r\n            wikiSection={wikiSection}\r\n            loading={loading}\r\n            expanded={expanded}\r\n            handleExpand={handleExpand}\r\n            handleSubmit={handleSubmit}\r\n            handleDelete={handleDelete}\r\n            options={{\r\n              readOnly: !hasWriteAccess || options.readOnly\r\n            }}\r\n          />\r\n        ))}\r\n      </Grid>\r\n      {hasWriteAccess && !options.readOnly && (\r\n        <Grid item>\r\n          <NewWikiSection\r\n            loading={loading}\r\n            expanded={expanded}\r\n            handleExpand={handleExpand}\r\n            handleSubmit={handleSubmit}\r\n            options={{\r\n              readOnly: !hasWriteAccess || options.readOnly\r\n            }}\r\n          />\r\n        </Grid>\r\n      )}\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default withStyles(styles, { withTheme: true })(WikiPageWikiSectionsTable);\r\n","import React from 'react';\r\nimport {\r\n  withStyles,\r\n  lodashGet,\r\n  lodashIsNil\r\n} from '../../../utils';\r\nimport { Typography, Avatar, ListItem, ListItemText, ListItemAvatar, Icon } from '@material-ui/core';\r\nimport PersonIcon from '@material-ui/icons/Person'\r\nimport moment from 'moment';\r\nimport classnames from 'classnames';\r\n\r\n\r\nconst styles = theme => ({\r\n  date: {\r\n    fontSize: \"0.8em\",\r\n    color: \"grey\"\r\n  },\r\n  response: {\r\n    textAlign: \"end\"\r\n    // maxWidth: 300\r\n  },\r\n  colored: {\r\n    backgroundColor: \"rgba(0, 0, 0, .14)\",\r\n    padding: 15,\r\n    borderRadius: \"6px\"\r\n  },\r\n  listTextWrap: {\r\n    wordWrap: 'break-word'\r\n  },\r\n  viewed: {\r\n    fontSize: \"14px\",\r\n    marginBottom: \"-2px\",\r\n    marginLeft: \"5px\"\r\n  }\r\n})\r\n\r\nconst Messages = ({ classes, session, message }) => {\r\n\r\n  const userId = lodashGet(session, \"userId\");\r\n  const tab = <span style={{ minWidth: \"33%\" }} />;\r\n  const user = lodashGet(message, \"user.name\");\r\n\r\n  return (\r\n    <React.Fragment>\r\n      {/* <Separator date={message.createdAt} /> */}\r\n      {userId !== message.userId && (\r\n        <ListItem>\r\n          <ListItemAvatar>\r\n            <Avatar\r\n              style={{\r\n                backgroundColor: \"#424242\",\r\n                height: 40,\r\n                width: 40,\r\n                padding: 4\r\n              }}\r\n              alt=\"Admin MP\"\r\n              src={message.user.companyId === null ? \"https://www.monitorprod.com.br/static/media/logo.10c8593f.svg\" : null}\r\n            >\r\n              {message.user.companyId === null ? null : <PersonIcon color='secondary' />}\r\n            </Avatar>\r\n          </ListItemAvatar>\r\n          <ListItemText\r\n            className={classes.listTextWrap}\r\n            primary={\r\n              <Typography component=\"span\" variant=\"body2\" color=\"textPrimary\">\r\n                {message.text}\r\n              </Typography>\r\n            }\r\n            secondary={\r\n              <Typography className={classes.date}>\r\n                {`${user} - ${moment(message.createdAt).format(\"DD/MM/YYYY HH:mm\")}`}<Icon className={classes.viewed}>{lodashIsNil(message, \"viewedAt\") ? \"done\" : \"done_all\" }</Icon>\r\n              </Typography>\r\n            }\r\n          />\r\n          {tab}\r\n        </ListItem>\r\n      )}\r\n      {userId === message.userId && (\r\n        <ListItem className={classes.response}>\r\n          {tab}\r\n          <ListItemText\r\n            className={classnames(classes.colored, classes.listTextWrap)}\r\n            primary={\r\n              <Typography component=\"span\" variant=\"body2\" color=\"textPrimary\">\r\n                {message.text}\r\n              </Typography>\r\n            }\r\n            secondary={\r\n              <Typography className={classes.date}>\r\n                {`${user} - ${moment(message.createdAt).format(\"DD/MM/YYYY HH:mm\")}`}<Icon className={classes.viewed}>{message.viewedAt === null ? \"done\" : \"done_all\" }</Icon>\r\n              </Typography>\r\n            }\r\n          />\r\n        </ListItem>\r\n      )}\r\n    </React.Fragment>\r\n  )\r\n\r\n}\r\n\r\nexport default withStyles(styles, { withTheme: true })(Messages);","import {React} from 'react';\r\nimport { Dropbox } from 'dropbox';\r\n\r\nconst dbx = new Dropbox({\r\n    accessToken: \"9OIaDmlW_AAAAAAAAAAAZ5y1VH8VNnTZDTZfAlbAD0mi0UgcueJQQR16PWtmt1S7\",//TODO: hide this token\r\n    fetch\r\n});\r\n\r\nexport default dbx;","import React, { useContext, useState , useEffect} from \"react\";\r\nimport { AppBar, Toolbar, InputBase, Divider, IconButton, Icon,TextField } from \"@material-ui/core\";\r\nimport {withStyles} from '../../utils';\r\nimport dbx from './dropbox';\r\n\r\nconst styles = theme => ({\r\n  root: {\r\n    padding: \"2px 4px\",\r\n    display: \"flex\",\r\n    alignItems: \"center\"\r\n  },\r\n  input: {\r\n    color: theme.palette.common.white,\r\n    //backgroundColor: \"#ffffff78\",\r\n    borderRadius: \"6px\",\r\n    marginLeft: theme.spacing(1),\r\n    padding: \"4px 10px\",\r\n    flex: 1\r\n  },\r\n  appBar: {\r\n    top: \"auto\",\r\n    bottom: 0,\r\n    backgroundColor: \"#424242\",\r\n    zIndex: \"auto\"\r\n  },\r\n  iconButton: {\r\n    padding: 10\r\n  },\r\n  divider: {\r\n    backgroundColor: '#ffffff1f',\r\n    height: 28,\r\n    margin: 4\r\n  }\r\n});\r\n\r\nconst Input = ({ formItem, handleChange, handleSubmit, ticketClosed, setFormErrors, resetForm, data, classes ,ticket}) => {\r\n  const [file, setFile] = useState();\r\n  const [uploadResponse, setUploadResponse] = useState('cloud_upload');\r\n  const UPLOAD_FILE_SIZE_LIMIT = 150 * 1024 * 1024;\r\n\r\n  const saveFile = evt => {\r\n    setFile(evt.target.files[0]);\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (file !== undefined){\r\n      setUploadResponse('loop');\r\n      if (file.size < UPLOAD_FILE_SIZE_LIMIT) { // File is smaller than 150 Mb - use filesUpload API\r\n        dbx.filesUpload({path: '/support/' + ticket.id + '/' + file.name, contents: file})\r\n          .then(function(response) {\r\n            setUploadResponse('done');\r\n          })\r\n          .catch(function(error) {\r\n            setUploadResponse('error');\r\n          });\r\n      } else { // File is bigger than 150 Mb - use filesUploadSession* API\r\n        const maxBlob = 8 * 1000 * 1000; // 8Mb - Dropbox JavaScript API suggested max file / chunk size\r\n\r\n        var workItems = [];     \r\n      \r\n        var offset = 0;\r\n\r\n        while (offset < file.size) {\r\n          var chunkSize = Math.min(maxBlob, file.size - offset);\r\n          workItems.push(file.slice(offset, offset + chunkSize));\r\n          offset += chunkSize;\r\n        } \r\n          \r\n        const task = workItems.reduce((acc, blob, idx, items) => {\r\n          if (idx === 0) {\r\n            // Starting multipart upload of file\r\n            return acc.then(function() {\r\n              return dbx.filesUploadSessionStart({ close: false, contents: blob})\r\n                        .then(response => response.session_id)\r\n            });          \r\n          } else if (idx < items.length-1) {  \r\n            // Append part to the upload session\r\n            return acc.then(function(sessionId) {\r\n            var cursor = { session_id: sessionId, offset: idx * maxBlob };\r\n            return dbx.filesUploadSessionAppendV2({ cursor: cursor, close: false, contents: blob }).then(() => sessionId); \r\n            });\r\n          } else {\r\n            // Last chunk of data, close session\r\n            return acc.then(function(sessionId) {\r\n              var cursor = { session_id: sessionId, offset: file.size - blob.size };\r\n              var commit = { path: '/' + file.name, mode: 'add', autorename: true, mute: false };              \r\n              return dbx.filesUploadSessionFinish({ cursor: cursor, commit: commit, contents: blob });           \r\n            });\r\n          }          \r\n        }, Promise.resolve());\r\n        \r\n        task.then(function(result) {\r\n          var results = document.getElementById('results');\r\n          results.appendChild(document.createTextNode('File uploaded!'));\r\n        }).catch(function(error) {\r\n          console.error(error);\r\n        });\r\n      }\r\n    }\r\n  },[file])\r\n\r\n  return (\r\n    <AppBar position=\"static\" className={classes.appBar}>\r\n      <Toolbar>\r\n      <input\r\n          id=\"files\"\r\n          name=\"files\"\r\n          type=\"file\"\r\n          size=\"1\"\r\n          onChange={saveFile}\r\n          style={{ display: 'none' }}\r\n        ></input>        \r\n        <IconButton className={classes.iconButton} aria-label=\"menu\"  onClick={() => document.getElementById(\"files\").click()}>\r\n          <Icon style={{ color: \"white\" }}>attach_file</Icon>\r\n        </IconButton>\r\n          <Icon>{uploadResponse}</Icon>\r\n        <InputBase\r\n          className={classes.input}\r\n          placeholder=\"Nova Mensagem\"\r\n          inputProps={{ \"aria-label\": \"Nova Mensagem\" }}\r\n          value={formItem.text}\r\n          readOnly={data.ticketStatusId === ticketClosed ? true : false}\r\n          onChange={handleChange}\r\n          onKeyPress={event => {\r\n            if (event.which === 13) {\r\n              handleSubmit({ message: formItem, setFormErrors, resetForm });\r\n            }\r\n          }}\r\n        />\r\n        <Divider className={classes.divider} orientation=\"vertical\" />\r\n        <IconButton\r\n          style={{ color: \"#ffb300\" }}\r\n          className={classes.iconButton}\r\n          aria-label=\"Enviar\"\r\n          onClick={() => handleSubmit({ message: formItem, setFormErrors, resetForm })}\r\n        >\r\n          <Icon>send</Icon>\r\n        </IconButton>\r\n      </Toolbar>\r\n    </AppBar>\r\n  );\r\n};\r\n\r\nexport default withStyles(styles, { withTheme: true })(Input);","import React, { useState, useContext, useEffect, useRef } from 'react';\r\nimport {\r\n  lodashMap,\r\n  lodashGet,\r\n  useFindService,\r\n  validateForm,\r\n  withStyles,\r\n  withRouter\r\n} from '../../utils';\r\nimport { Typography, AppBar, Toolbar, List } from '@material-ui/core';\r\nimport Message from './message';\r\nimport ApiContext from '../../api';\r\nimport Input from './Input';\r\n\r\nconst styles = theme => ({\r\n  appbarRoot: {\r\n    zIndex: \"auto\"\r\n  },\r\n  root: {\r\n    width: \"inherit\",\r\n    overflowX: \"auto\",\r\n    paddingBottom: 0,\r\n    paddingTop: 0,\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    flex: 1,\r\n    height: 'calc(100vh - 177px)',\r\n  },\r\n  question: {},\r\n  response: {\r\n    textAlign: \"end\"\r\n  },\r\n  inline: {\r\n    display: \"inline\"\r\n  },\r\n  subheader: {\r\n    backgroundColor: \"#ffb300\",\r\n    color: \"#424242\",\r\n    top: \"10px\",\r\n    left: \"50%\",\r\n    transform: \"translateX(-50%)\",\r\n    width: \"150px\",\r\n    borderRadius: \"50px\",\r\n    height: \"30px\",\r\n    lineHeight: \"30px\",\r\n    textAlign: \"center\"\r\n  },\r\n  urgent: {\r\n    color: 'red'\r\n  }\r\n})\r\n\r\nconst ChatSupport = ({ classes, ticket, session, data, match: { params } }) => {\r\n  // Get API\r\n  const client = useContext(ApiContext);\r\n  // Ticket ID is closed\r\n  const ticketClosed = lodashGet(client.get(\"config.ticket.status.closed\"), \"value\");\r\n  // Ticket Status\r\n  const status = lodashGet(ticket, \"ticket_status.name\");\r\n\r\n  // Chat Scroll Reference\r\n  const scrollRef = useRef(null);\r\n\r\n  // Track Forms\r\n  const [loading, setLoading] = useState({});\r\n  const [connected, setConnected] = useState(null);\r\n  const [formItem, setFormItem] = useState({text: \"\"});\r\n  const [formErrors, setFormErrors] = useState({});\r\n  const [listMessages, setListMessages] = useState([]);\r\n  const resetForm = () => {\r\n    setFormErrors({});\r\n    setFormItem({\r\n      text: \"\"\r\n    });\r\n  };\r\n\r\n  client.socket.on('connect', () => setConnected(true) );\r\n\r\n  useEffect(() => {\r\n    const newMessage = message => {\r\n      console.log(message); //verificar se é o mesmo id\r\n      setListMessages(prev => ([ ...prev, prev[listMessages.length + 1] = message ]))\r\n    }\r\n    client.service(\"ticket_messages\").on(\"created\", newMessage);\r\n//    client.service(\"ticket_messages\").on(\"patched\", () => {});\r\n\r\n  }, [connected]);\r\n\r\n  // Instantiating ticket messages\r\n  const query = {\r\n    ticketId: ticket.id\r\n  }\r\n  const { list, reload: reloadMessages, setQuery: setQueryMessages, loading: loadingMessages } = useFindService({\r\n    model: \"ticket_messages\",\r\n    query: {\r\n      $markAsViewed: {\r\n        viewedAt: null\r\n      },\r\n    }\r\n  })\r\n\r\n  useEffect(() => {\r\n    console.log('nova mensagem não lida');\r\n\t\tsetListMessages(list)\r\n\t}, [list])\r\n\r\n  const stringQuery = JSON.stringify(query);\r\n  useEffect(() => {\r\n    setQueryMessages(prev => ({ ...prev, ...JSON.parse(stringQuery) }));\r\n  }, [stringQuery, setQueryMessages]);\r\n  const resetList = () => {\r\n    reloadMessages();\r\n  };\r\n  // When clicking the button will be saved to the bank\r\n  const handleSubmit = async ({\r\n    message,\r\n    setFormErrors = () => { },\r\n    resetForm = () => { formErrors() }\r\n  } = {}) => {\r\n    setLoading(prev => ({ ...prev, [message.id || \"new\"]: true }))\r\n    setFormErrors({});\r\n    let continueOperation = true;\r\n    let newMessage = {\r\n      ...query,\r\n      ...formItem,\r\n      userId: lodashGet(session, \"userId\")\r\n    };\r\n    if (\r\n      !validateForm({\r\n        formItem: newMessage,\r\n        setFormErrors\r\n      })\r\n    ) {\r\n      continueOperation = false;\r\n    }\r\n    if (!continueOperation) {\r\n      setLoading(prev => ({ ...prev, [message.id || \"new\"]: false }));\r\n      return;\r\n    }\r\n    await client.service(\"ticket_messages\").create(newMessage);\r\n    //resetList();\r\n    resetForm();\r\n    setLoading(prev => ({ ...prev, [message.id || \"new\"]: false }))\r\n  }\r\n  // Getting the state of the current input\r\n  const handleChange = event => {\r\n    setFormItem({\r\n      text: event.target.value\r\n    })\r\n  }\r\n\r\n  // Each time you update the message list the scroll function is activated\r\n  useEffect(() => {\r\n    if (listMessages.length > 0 && !loadingMessages) {\r\n      scrollRef.current.scrollTo(0, 10000);\r\n    }\r\n  }, [listMessages, loadingMessages])\r\n\r\n  return (\r\n    <div>\r\n      <AppBar position=\"static\" className={classes.appbarRoot}  color=\"secondary\">\r\n        <Toolbar variant=\"dense\">\r\n          <Typography variant=\"h6\" color=\"inherit\" style={{textTransform: 'capitalize'}}>\r\n            {ticket.id}: {ticket.title != undefined && ticket.title.toLowerCase()}\r\n          </Typography>\r\n        </Toolbar>\r\n      </AppBar>\r\n        <List ref={scrollRef} className={classes.root}>\r\n            {listMessages.length !== 0 && !loadingMessages && lodashMap(listMessages.sort((a,b) => a.id - b.id), message => (\r\n              <Message key={message.id} session={session} ticket={ticket} message={message} />\r\n            ))}\r\n        </List>\r\n      <Input\r\n        ticket={ticket}\r\n        formItem={formItem}\r\n        handleChange={handleChange}\r\n        handleSubmit={handleSubmit}\r\n        ticketClosed={ticketClosed}\r\n        setFormErrors={setFormErrors}\r\n        resetForm={resetForm}\r\n        data={data}\r\n      />\r\n    </div>\r\n  )\r\n\r\n}\r\n\r\nexport default withRouter(withStyles(styles, { withTheme: true })(ChatSupport));","import eShell from \"./layout/Shell\";\r\nimport eClientRoute from \"./routes/ClientRoute\";\r\nimport eAdminRoute from \"./routes/AdminRoute\";\r\nimport eSessionRoute from \"./routes/SessionRoute\";\r\nimport eWithMasterDataListPage from \"./pages/withMasterDataList\";\r\nimport eWithMasterDataFormPage from \"./pages/withMasterDataForm\";\r\nimport eWithAdministrationPage from \"./pages/withAdministrationPage\";\r\nimport eMasterDataCard from \"./master-data-card\";\r\nimport eMasterDataForm from \"./master-data-form\";\r\nimport ePlantTurnsTable from \"./plant-turns-table\";\r\nimport ePlantHolidaysTable from \"./plant-holidays-table\";\r\nimport eMoldProductsTable from \"./mold-products-table\";\r\nimport eMachineMoldProductsTable from \"./machine-mold-products-table\";\r\nimport eWikiPageWikiSectionsTable from \"./wiki-page-wiki-sections-table\";\r\nimport eBreadCrumbs from \"./breadcrumbs\";\r\nimport eFormInput from \"./master-data-form/FormInput\";\r\nimport eFieldsRow from \"./master-data-form/FieldsRow\";\r\nimport eTree from \"./master-data-form/Tree\";\r\nimport eLoader from \"./loader\";\r\nimport eErrors from \"./errors\";\r\nimport eNotFound from \"./not-found\";\r\nimport eButton from \"./buttons\";\r\nimport eChatSupport from './chat-support';\r\n\r\nexport const Shell = eShell;\r\nexport const ClientRoute = eClientRoute;\r\nexport const AdminRoute = eAdminRoute;\r\nexport const SessionRoute = eSessionRoute;\r\nexport const withMasterDataListPage = eWithMasterDataListPage;\r\nexport const withMasterDataFormPage = eWithMasterDataFormPage;\r\nexport const withAdministrationPage = eWithAdministrationPage;\r\nexport const MasterDataCard = eMasterDataCard;\r\nexport const MasterDataForm = eMasterDataForm;\r\nexport const PlantTurnsTable = ePlantTurnsTable;\r\nexport const PlantHolidaysTable = ePlantHolidaysTable;\r\nexport const MoldProductsTable = eMoldProductsTable;\r\nexport const MachineMoldProductsTable = eMachineMoldProductsTable;\r\nexport const WikiPageWikiSectionsTable = eWikiPageWikiSectionsTable;\r\nexport const FormInput = eFormInput;\r\nexport const FieldsRow = eFieldsRow;\r\nexport const Tree = eTree;\r\nexport const BreadCrumbs = eBreadCrumbs;\r\nexport const Loader = eLoader;\r\nexport const Errors = eErrors;\r\nexport const NotFound = eNotFound;\r\nexport const Button = eButton;\r\nexport const ChatSupport = eChatSupport;\r\n","import React, { useContext, useState, useEffect } from \"react\";\r\nimport {\r\n  Grid,\r\n  Avatar,\r\n  Icon,\r\n  Paper,\r\n  TextField,\r\n  Typography,\r\n  SnackbarContent\r\n} from \"@material-ui/core\";\r\nimport ApiContext from \"../../api\";\r\nimport {\r\n  withRouter,\r\n  withStyles,\r\n  lodashGet,\r\n  getPermissions,\r\n  mapPermissions,\r\n  login,\r\n  logout,\r\n  useAuth\r\n} from \"../../utils\";\r\nimport { Loader, Errors, Button } from \"../../components\";\r\n\r\nconst styles = theme => ({\r\n  wrapper: {\r\n    width: 400,\r\n    marginTop: theme.spacing(10),\r\n    padding: `${theme.spacing(2)}px ${theme.spacing(3)}px ${theme.spacing(3)}px`\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main\r\n  },\r\n  textField: {\r\n    margin: 0,\r\n    minWidth: 250,\r\n    //backgroundColor: theme.palette.common.white\r\n  },\r\n  footer: {\r\n    width: 400,\r\n    justifyContent: \"space-around\",\r\n    marginTop: theme.spacing(2),\r\n    \"& p\": {\r\n      cursor: \"pointer\",\r\n      color: theme.palette.primary.header\r\n    }\r\n  },\r\n  success: {\r\n    margin: `0 auto ${theme.spacing(1)}px`,\r\n    backgroundColor: theme.palette.secondary.main,\r\n    whiteSpace: \"pre-wrap\",\r\n    \"&>div\": {\r\n      padding: 0\r\n    }\r\n  }\r\n});\r\n\r\nconst SYS_ADMIN_HOME = \"/sysadmin/companies\";\r\nconst CLIENT_HOME = \"/\";\r\nconst CLIENT_PRODUCTION_HOME = \"/dashboard/production\";\r\nconst CLIENT_MASTER_DATA_HOME = \"/master-data\";\r\nconst CLIENT_ADMINISTRATION_HOME = \"/administration\";\r\n\r\nconst goToHome = ({ history, permissions }) => {\r\n  if (\r\n    getPermissions({\r\n      privileges: [\"readProductionOrders\", \"readProductionOrderReports\"],\r\n      permissions\r\n    })\r\n  ) {\r\n    return history.push(CLIENT_PRODUCTION_HOME);\r\n  } else if (\r\n    getPermissions({\r\n      privileges: [\"readMasterData\", \"writeMasterData\"],\r\n      permissions\r\n    })\r\n  ) {\r\n    return history.push(CLIENT_MASTER_DATA_HOME);\r\n  } else if (\r\n    getPermissions({\r\n      privileges: [\"crudAdminData\", \"crudUserData\"],\r\n      permissions\r\n    })\r\n  ) {\r\n    return history.push(CLIENT_ADMINISTRATION_HOME);\r\n  } else {\r\n    return history.push(CLIENT_HOME);\r\n  }\r\n};\r\n\r\nconst LoginPage = ({ history, match: { params }, classes }) => {\r\n  const { session, loading: authLoading, permissions } = useAuth();\r\n  const client = useContext(ApiContext);\r\n  const [loginForm, setLoginForm] = useState({\r\n    companyUUID: params.companyUUID\r\n  });\r\n  const [loading, setLoading] = useState();\r\n  const [errors, setErrors] = useState();\r\n  const [send, setSend] = useState();\r\n  const emailInputProps = {\r\n    autoComplete: \"email\",\r\n    autoFocus: true\r\n  };\r\n  const passwordInputProps = {\r\n    autoComplete: \"password\"\r\n  };\r\n  const handleChange = ({ target }) => {\r\n    setSend(false);\r\n    setLoginForm(prev => ({ ...prev, [target.name]: target.value }));\r\n  };\r\n  const handleLogout = async () => await logout({ client });\r\n  const handleLogin = async e => {\r\n    e.preventDefault();\r\n    // TODO verify all buttons for multiple clicks?\r\n    if (loading) {\r\n      return;\r\n    }\r\n    setLoading(true);\r\n    setErrors();\r\n    try {\r\n      // console.log(\"login\", loginForm);\r\n      const payload = await login({ client, ...loginForm });\r\n      if (params.companyUUID === \"admin\" && payload.isAdmin) {\r\n        history.push(SYS_ADMIN_HOME);\r\n      } else if (params.companyUUID !== \"admin\" && !payload.isAdmin) {\r\n        goToHome({ history, permissions: mapPermissions({ payload }) });\r\n      } else {\r\n        throw new Error();\r\n      }\r\n    } catch (error) {\r\n      await handleLogout();\r\n      setErrors(\"As credenciais de usuário especificadas estão incorretas\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n  const handleChangePassword = async e => {\r\n    if (loading) {\r\n      return;\r\n    }\r\n    setLoading(true);\r\n    setErrors();\r\n    try {\r\n      const payload = await login({ client, ...loginForm });\r\n      if (params.companyUUID !== \"admin\" && !payload.isAdmin) {\r\n        history.push(\"/administration/reset-password\");\r\n      } else {\r\n        throw new Error();\r\n      }\r\n    } catch (error) {\r\n      await handleLogout();\r\n      setErrors(\"As credenciais de usuário especificadas estão incorretas\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n  const handleResetPassword = async e => {\r\n    if (loading) {\r\n      return;\r\n    }\r\n    setLoading(true);\r\n    setErrors();\r\n    try {\r\n      if (loginForm.email) {\r\n        await client\r\n          .service(\"users\")\r\n          .patch(null, {}, { query: { email: loginForm.email, $forgotPassword: true } });\r\n        setSend(true);\r\n      } else {\r\n        throw new Error();\r\n      }\r\n    } catch (error) {\r\n      setErrors(\"Conta de usuário não encontrada\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n  const stringSession = JSON.stringify(session || {});\r\n  const stringPermissions = JSON.stringify(permissions);\r\n  useEffect(() => {\r\n    // console.log(\"!!efffect Login\", stringSession);\r\n    const parsedSession = JSON.parse(stringSession);\r\n    const handleLogout = async () => await logout({ client });\r\n    if (!authLoading) {\r\n      if (params.companyUUID === \"admin\" && lodashGet(parsedSession, \"isAdmin\")) {\r\n        history.push(SYS_ADMIN_HOME);\r\n      } else if (\r\n        params.companyUUID !== \"admin\" &&\r\n        lodashGet(parsedSession, \"userId\") &&\r\n        !lodashGet(parsedSession, \"isAdmin\")\r\n      ) {\r\n        goToHome({ history, permissions: JSON.parse(stringPermissions) });\r\n      } else {\r\n        handleLogout();\r\n      }\r\n    }\r\n    // TODO history useCallback\r\n  }, [client, stringSession, authLoading, history, params.companyUUID, stringPermissions]);\r\n  // console.log(\">>> render Login\", session, authLoading, loginForm);\r\n  return (\r\n    <Grid container direction=\"column\" alignItems=\"center\">\r\n      <Paper className={classes.wrapper}>\r\n        <form>\r\n          <Grid container direction=\"column\" spacing={3}>\r\n            {loading && <Loader />}\r\n            {errors && <Errors errors={errors} />}\r\n            {send && <SnackbarContent className={classes.success} message=\"Email enviado\" />}\r\n            <Grid item container direction=\"column\" alignItems=\"center\" spacing={0}>\r\n              <Avatar className={classes.avatar}>\r\n                <Icon>lock_outlined</Icon>\r\n              </Avatar>\r\n              <Typography variant=\"h6\">Iniciar Sessão</Typography>\r\n            </Grid>\r\n            <Grid item>\r\n              <TextField\r\n                fullWidth\r\n                required\r\n                type=\"text\"\r\n                name=\"email\"\r\n                label=\"Email\"\r\n                inputProps={emailInputProps}\r\n                className={classes.textField}\r\n                value={loginForm.email || \"\"}\r\n                onChange={handleChange}\r\n                margin=\"normal\"\r\n              />\r\n            </Grid>\r\n            <Grid item>\r\n              <TextField\r\n                fullWidth\r\n                required\r\n                type=\"password\"\r\n                name=\"password\"\r\n                label=\"Senha\"\r\n                inputProps={passwordInputProps}\r\n                className={classes.textField}\r\n                value={loginForm.password || \"\"}\r\n                onChange={handleChange}\r\n                margin=\"normal\"\r\n              />\r\n            </Grid>\r\n            <Grid item>\r\n              <Button\r\n                text=\"Entrar\"\r\n                color=\"secondary\"\r\n                type=\"submit\"\r\n                fullWidth\r\n                variants=\"submit\"\r\n                onClick={handleLogin}\r\n              />\r\n            </Grid>\r\n          </Grid>\r\n        </form>\r\n      </Paper>\r\n      {params.companyUUID !== \"admin\" && (\r\n        <Grid className={classes.footer} container alignItems=\"center\" spacing={0}>\r\n          <Grid item onClick={handleResetPassword}>\r\n            <Typography variant=\"body1\">Esqueceu a senha</Typography>\r\n          </Grid>\r\n          <Grid item onClick={handleChangePassword}>\r\n            <Typography variant=\"body1\">Mudar senha</Typography>\r\n          </Grid>\r\n        </Grid>\r\n      )}\r\n    </Grid>\r\n  );\r\n};\r\n\r\nexport default withRouter(withStyles(styles, { withTheme: true })(LoginPage));\r\n","export const tree = [\r\n  {\r\n    text: \"Nome\",\r\n    identity: \"name\",\r\n    type: \"string\"\r\n  }\r\n];\r\n\r\nexport const form = [\r\n  [\r\n    {\r\n      text: \"Nome\",\r\n      identity: \"name\",\r\n      type: \"string\",\r\n      required: true\r\n    },\r\n    {\r\n      text: \"Descrição\",\r\n      identity: \"content\",\r\n      type: \"content\"\r\n    }\r\n  ]\r\n];\r\n\r\nexport const links = [\r\n  {\r\n    text: \"Cadastro\",\r\n    href: \"/sysadmin\"\r\n  },\r\n  {\r\n    text: \"Wiki\",\r\n    href: \"/help/home\"\r\n  }\r\n];\r\n\r\nexport const metadata = {\r\n  name: \"wiki_pages\",\r\n  paramsProp: \"wikiPageId\",\r\n  listPath: \"/help/home\",\r\n  formPath: \"/help\",\r\n  newItemText: \"Novo\"\r\n};\r\n\r\nexport default {\r\n  tree,\r\n  form,\r\n  links,\r\n  metadata,\r\n  query: { wikiPageId: null },\r\n  options: {\r\n    dontUseBreadcrumbs: true,\r\n    dontUseEnter: true\r\n  }\r\n};\r\n","import React, { useState, useCallback } from \"react\";\r\nimport { Grid } from \"@material-ui/core\";\r\nimport { withStyles } from \"../../utils\";\r\nimport { MasterDataForm, Tree } from \"../../components\";\r\nimport WikiPagesModel from \"./model\";\r\n\r\nconst styles = theme => ({\r\n  item: {\r\n    paddingLeft: ({ deep = 0 }) => `${theme.spacing(2 * (deep + 2))}px`\r\n  }\r\n});\r\n\r\nconst TreeItem = withStyles(styles, { withTheme: true })(\r\n  ({ data, deep = 0, classes, isAdminApp }) => {\r\n    const [reloadTree, setReloadTree] = useState();\r\n    const reloadTreeHook = useCallback(() => {\r\n      const asyncReloadTreeHook = async () => setReloadTree(Date.now());\r\n      asyncReloadTreeHook();\r\n    }, []);\r\n    return (\r\n      <Grid>\r\n        <Tree\r\n          model={{ ...WikiPagesModel.metadata }}\r\n          reload={reloadTree}\r\n          reloadTree={reloadTreeHook}\r\n          query={{ wikiPageId: data.id }}\r\n          deep={deep + 1}\r\n          options={{\r\n            dontShowNotFound: !isAdminApp\r\n          }}\r\n          customContent={{\r\n            afterTree: ({ reloadTree }) =>\r\n              isAdminApp && (\r\n                <Grid item className={classes.item}>\r\n                  <MasterDataForm\r\n                    model={WikiPagesModel.metadata}\r\n                    fields={WikiPagesModel.tree}\r\n                    data={{\r\n                      wikiPageId: data.id\r\n                    }}\r\n                    hooks={{\r\n                      afterSubmit: reloadTree\r\n                    }}\r\n                    options={{\r\n                      ...WikiPagesModel.options,\r\n                      dontSave: true,\r\n                      dontCreate: true,\r\n                      dontDelete: true,\r\n                      dontShowTree: true,\r\n                      saveOnEnter: true\r\n                    }}\r\n                  />\r\n                </Grid>\r\n              ),\r\n            afterTreeItem: ({ data, reloadTree }) =>\r\n              data.id && (\r\n                <TreeItem\r\n                  data={data}\r\n                  reload={reloadTree}\r\n                  reloadTree={reloadTreeHook}\r\n                  deep={deep + 1}\r\n                  isAdminApp={isAdminApp}\r\n                />\r\n              )\r\n          }}\r\n        />\r\n      </Grid>\r\n    );\r\n  }\r\n);\r\n\r\nexport default TreeItem;\r\n","export const contact = [\r\n  {\r\n    variants: 'inputBootstrap', fields: [\r\n      [\r\n        {\r\n          text: \"Seu nome\",\r\n          identity: \"name\",\r\n          type: \"string\",\r\n          required: true,\r\n          variants: 'inputBootstrap'\r\n        },\r\n        {\r\n          text: \"Seu e-mail\",\r\n          identity: \"email\",\r\n          type: \"string\",\r\n          required: true,\r\n          variants: 'inputBootstrap'\r\n        },\r\n        {\r\n          text: 'Seu telefone',\r\n          identity: \"phone\",\r\n          type: \"string\",\r\n          required: true,\r\n          variants: 'inputBootstrap'\r\n        }\r\n      ],\r\n      [\r\n        {\r\n          text: 'Sua mensagem',\r\n          identity: \"message\",\r\n          type: \"longtext\",\r\n          required: true,\r\n          variants: 'inputBootstrap'\r\n        }\r\n      ]\r\n    ]\r\n  }\r\n]\r\n\r\nexport const links = [\r\n  {\r\n    text: \"Wiki\",\r\n    href: \"/help/home\"\r\n  }\r\n];\r\n\r\nexport const metadata = {\r\n  name: \"site_contacts\",\r\n  formPath: \"/help/home\",\r\n  newItemText: \"Novo\"\r\n};\r\n\r\nexport default {\r\n  contact,\r\n  links,\r\n  metadata,\r\n};\r\n","import React from \"react\";\r\n\r\nimport { Grid } from '@material-ui/core'\r\nimport Logo from \"../../landing/logo-dark.png\";\r\nimport { withStyles, withRouter } from \"../../../utils\";\r\nimport { MasterDataForm, Button } from '../../../components';\r\nimport HomeModel from './model'\r\n\r\nconst styles = () => ({\r\n  container: {\r\n    textAlign: \"center\"\r\n  },\r\n  hrStyle: {\r\n    width: \"200px\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n    textAlign: \"center\"\r\n  },\r\n  buttonForm: {\r\n    border: 'none',\r\n    backgroundColor: '#f5b61d',\r\n    padding: '10px 20px',\r\n    fontSize: '18px',\r\n    width: '250px',\r\n    color: 'white',\r\n    transition: '1s',\r\n    '&:hover': {\r\n      backgroundColor: '#e2a30a',\r\n      transition: '1s'\r\n    }\r\n  }\r\n})\r\n\r\nconst Home = ({ classes, reloadHome }) => {\r\n\r\n  return (\r\n    <Grid container className={classes.container}>\r\n      <Grid item>\r\n        <h1>Bem-vindo ao Wiki</h1>\r\n        <img src={Logo} alt=\"\" />\r\n        <hr className={classes.hrStyle} />\r\n        <h3>Contate-nos</h3>\r\n        <MasterDataForm\r\n          model={HomeModel.metadata}\r\n          fields={HomeModel.contact}\r\n          options={{\r\n            dontSave: true,\r\n            dontCreate: true,\r\n            dontDelete: true,\r\n            dontShowTree: true,\r\n            dontRedirect: true,\r\n          }}\r\n          hooks={{\r\n            afterDelete: reloadHome\r\n          }}\r\n          customContent={{\r\n            afterForm: ({ handleSubmit }) =>\r\n              <Button className={classes.buttonForm} text='Enviar' onClick={handleSubmit} />\r\n          }}\r\n        />\r\n      </Grid>\r\n    </Grid>\r\n  )\r\n}\r\n\r\nexport default withRouter(withStyles(styles, { withTheme: true })(Home));","import React from \"react\";\r\nimport { Grid } from \"@material-ui/core\";\r\nimport { withStyles, lodashForEach, lodashFlattenDeep, useAuth } from \"../../utils\";\r\nimport {\r\n  withMasterDataFormPage,\r\n  WikiPageWikiSectionsTable,\r\n  MasterDataForm\r\n} from \"../../components\";\r\nimport WikiPagesModel from \"./model\";\r\nimport TreeItem from \"./TreeItem\";\r\nimport Home from './home';\r\n\r\nconst styles = theme => ({\r\n  item: {\r\n    paddingLeft: `${theme.spacing(2)}px`\r\n  }\r\n});\r\n\r\nconst WikiPage = ({ classes }) => {\r\n  const { session } = useAuth();\r\n  const isAdminApp = session && session.isAdmin;\r\n  const fields = lodashFlattenDeep(WikiPagesModel.form);\r\n  if (!isAdminApp) {\r\n    lodashForEach(fields, field => (field.variants = \"wiki\"));\r\n  } else {\r\n    lodashForEach(fields, field => (field.variants = \"\"));\r\n  }\r\n  return withMasterDataFormPage({\r\n    ...WikiPagesModel,\r\n    options: {\r\n      ...WikiPagesModel.options,\r\n      readOnly: !isAdminApp,\r\n      dontSave: !isAdminApp,\r\n      dontDelete: !isAdminApp,\r\n      dontCreate: !isAdminApp\r\n    },\r\n    customContent: {\r\n      afterForm: ({ data }) =>\r\n        data.id && (\r\n          <React.Fragment>\r\n            <WikiPageWikiSectionsTable\r\n              options={{\r\n                readOnly: !isAdminApp\r\n              }}\r\n              wikiPage={data}\r\n            />\r\n          </React.Fragment>\r\n        ),\r\n      afterTreeItem: ({ data, reloadTree }) =>\r\n        data.id && <TreeItem data={data} reloadTree={reloadTree} isAdminApp={isAdminApp} />,\r\n      afterTree: ({ reloadTree }) =>\r\n        isAdminApp && (\r\n          <Grid item className={classes.item}>\r\n            <MasterDataForm\r\n              model={WikiPagesModel.metadata}\r\n              fields={WikiPagesModel.tree}\r\n              hooks={{\r\n                afterSubmit: reloadTree\r\n              }}\r\n              options={{\r\n                ...WikiPagesModel.options,\r\n                dontSave: true,\r\n                dontCreate: true,\r\n                dontDelete: true,\r\n                dontShowTree: true,\r\n                saveOnEnter: true\r\n              }}\r\n            />\r\n          </Grid>\r\n        ),\r\n      replaceNewItem: () =>\r\n        <Home />\r\n    }\r\n  });\r\n};\r\n\r\nexport default withStyles(styles, { withTheme: true })(WikiPage);\r\n","import React from 'react';\r\nimport moment from 'moment';\r\nimport { lodashGet, useAuth } from '../../../utils';\r\nimport { Typography } from '@material-ui/core';\r\n\r\nconst customTree = ({ data = {} }) => {\r\n\r\n  const status = {\r\n    \"ABERTO\": {\r\n      style: {\r\n        fontSize: '14px',\r\n        width: '90px',\r\n        borderRadius: '20px',\r\n        backgroundColor: 'rgb(129, 215, 66)',\r\n        color: 'white',\r\n        textAlign: 'center'\r\n      }\r\n    },\r\n    \"FECHADO\": {\r\n      style: {\r\n        fontSize: '14px',\r\n        width: '90px',\r\n        borderRadius: '20px',\r\n        backgroundColor: 'rgb(51, 51, 51)',\r\n        color: 'white',\r\n        textAlign: 'center'\r\n      }\r\n    },\r\n    \"URGENTE\": {\r\n      style: {\r\n        fontSize: '14px',\r\n        width: '90px',\r\n        borderRadius: '20px',\r\n        backgroundColor: 'red',\r\n        color: 'white',\r\n        textAlign: 'center'\r\n      }\r\n    }\r\n  }\r\n\r\n  const style = lodashGet(status[data.ticket_status.name], 'style')\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Typography variant=\"body1\">{data.title}</Typography>\r\n      <Typography variant=\"subtitle2\">\r\n        {moment(data.createdAt).format('DD/MMM/YYYY HH:mm')}\r\n      </Typography>\r\n        <div style={{ ...style }}>\r\n          {data.ticket_status.name}\r\n        </div>\r\n    </React.Fragment>\r\n  )\r\n}\r\nexport const form = [\r\n  [\r\n    {\r\n      text: 'Titulo',\r\n      identity: 'title',\r\n      type: 'string',\r\n      required: true,\r\n      customTree,\r\n    }\r\n  ],\r\n  [\r\n    {\r\n      text: 'Criado em',\r\n      identity: 'createdAt',\r\n      type: 'datetime',\r\n      readOnly: true\r\n    },\r\n    {\r\n      text: \"Status\",\r\n      identity: \"ticketStatusId\",\r\n      required: true,\r\n      model: \"ticket_statuses\",\r\n      defaultValue: {\r\n        config: \"ticket.status.init\"\r\n      },\r\n      readOnly: {\r\n        useCustomIf: ({ }) => {\r\n          const { session } = useAuth();\r\n          const isAdmin = lodashGet(session, 'isAdmin')\r\n          return !isAdmin;\r\n        }\r\n      }\r\n    }\r\n  ]\r\n]\r\n\r\nexport const links = [\r\n  {\r\n    text: \"Tickets\",\r\n    href: \"/support\"\r\n  }\r\n]\r\n\r\nexport const metadata = {\r\n  name: \"tickets\",\r\n  paramsProp: \"ticketId\",\r\n  listPath: \"/support\",\r\n  formPath: \"/support\",\r\n  newItemText: \"Novo\"\r\n}\r\n\r\nexport default {\r\n  form,\r\n  links,\r\n  metadata,\r\n  query: {\r\n    $sort: { title: 1 },\r\n    $populateAll: true\r\n  },\r\n  customContent: {\r\n    customTree: customTree\r\n  }\r\n}","import React, { useEffect, useContext } from \"react\";\r\nimport { Grid } from \"@material-ui/core\";\r\nimport {\r\n  withStyles,\r\n  useAuth,\r\n  useGetService,\r\n  useFindService,\r\n  lodashGet,\r\n  lodashDebounce,\r\n} from \"../../utils\";\r\nimport {\r\n  MasterDataForm,\r\n  ChatSupport,\r\n} from \"../../components\";\r\nimport TicketModel from \"./tickets/model\";\r\n\r\nimport ApiContext from \"../../api\";\r\nimport TicketList from '../../components/layout/TicketsList';\r\n\r\nconst styles = theme => ({\r\n  logo: {\r\n    width: 250,\r\n  },\r\n  headerLogo: {\r\n    textAlign: \"center\"\r\n  },\r\n  tree: {\r\n    height: '100%',\r\n    width: \"25%\",\r\n    overflowY: \"auto\",\r\n    overflowX: \"hidden\"\r\n  },\r\n  wrapper: {\r\n    borderLeft: 'solid 2px #00000075',\r\n    //backgroundColor: 'pink',\r\n    flex: 1,\r\n    overflowX: \"auto\",\r\n    display: 'flex',\r\n    flexDirection:'column',\r\n  },\r\n  container: {\r\n    margin: '-24px',\r\n    width: 'calc(100% + 48px)',\r\n    height: 'calc(100% + 48px)',\r\n    overflow: 'overlay',    \r\n    //backgroundColor: 'purple',\r\n  },\r\n  containerButton: {\r\n    //backgroundColor: 'red',\r\n    padding: '6px 16px',\r\n    minHeight: 44,\r\n    marginBottom: theme.spacing(2)\r\n  }\r\n});\r\n\r\nconst Support = ({ classes, match: { params } }) => {\r\n\r\n  const client = useContext(ApiContext);\r\n\r\n  const { session } = useAuth();\r\n  const isAdminApp = lodashGet(session, \"isAdmin\");\r\n\r\n  const {\r\n    item: ticketItem,\r\n    loading: ticketLoading,\r\n    errors: ticketErrors,\r\n    reload\r\n  } = useGetService({\r\n    model: \"tickets\",\r\n    id: params.ticketId\r\n  })\r\n\r\n  const { list: listTicket, reload: reloadTicket } = useFindService({\r\n    model: \"tickets\",\r\n    query: {\r\n      $populateAll: true,\r\n      $sort: {\r\n        createdAt: -1\r\n      }\r\n    }\r\n  });\r\n\r\n  useEffect(() => {\r\n    const onNewEvent = lodashDebounce(() => reload(), 300);\r\n    const onPatched = data => {\r\n      if (`${data.id}` === `${params.ticketId}`) {\r\n        onNewEvent();\r\n      }\r\n    };\r\n    client.service(\"tickets\").on(\"patched\", onPatched);\r\n    return () =>\r\n      client.service(\"tickets\").removeListener(\"patched\", onPatched);\r\n  }, [client, params.ticketId, reload]);\r\n\r\n  return (\r\n    <Grid container  className={classes.container}>\r\n        <TicketList isAdminApp={isAdminApp} />\r\n      <Grid item className={classes.wrapper}>\r\n        {ticketItem && \r\n          <ChatSupport id='chat' ticket={ticketItem} session={session} data={ticketItem}/>\r\n        }\r\n        {!ticketItem &&  !isAdminApp &&\r\n        <div style={{margin: '24px'}}>\r\n          <MasterDataForm\r\n            model={TicketModel.metadata}\r\n            fields={TicketModel.form}\r\n            data={ticketItem}\r\n            formErrors={ticketErrors}\r\n            loading={ticketLoading}\r\n            options={{\r\n              dontDelete: true,\r\n              dontCreate: true,\r\n              chatSupport: true,\r\n              isAdmin: isAdminApp,\r\n              dontShowTree: true,\r\n              dontUseEnter: true\r\n            }}\r\n            hooks={{\r\n              \"afterSubmit\": [\r\n                (() => {\r\n                  reload()\r\n                  reloadTicket()\r\n                })\r\n              ]\r\n            }}\r\n          />\r\n          </div>\r\n      }\r\n      </Grid>\r\n    </Grid>\r\n  )\r\n}\r\n\r\nexport default withStyles(styles, { withTheme: true })(Support);","import React, { useContext, useState } from \"react\";\r\n// import { Grid } from \"@material-ui/core\";\r\nimport ApiContext from \"../../api\";\r\nimport { withStyles } from \"../../utils\";\r\n// import logo from \"./monitorprod.png\";\r\n// eslint-disable-next-line no-unused-vars\r\nimport LandingCSS from \"./home.css\";\r\n// eslint-disable-next-line no-unused-vars\r\nimport BootstrapCSS from \"./bootstrap.min.css\";\r\n// eslint-disable-next-line no-unused-vars\r\nimport AllCSS from \"./all.min.css\";\r\n// eslint-disable-next-line no-unused-vars\r\nimport AgencyCSS from \"./agency.min.css\";\r\nimport introIMG from \"./intro.jpg\";\r\nimport about1IMG from \"./about1.jpg\";\r\nimport about2IMG from \"./about2.jpg\";\r\nimport about3IMG from \"./about3.jpg\";\r\nimport about4IMG from \"./about4.jpg\";\r\nimport logoPNG from \"./logo.png\";\r\nimport logoDarkPNG from \"./logo-dark.png\";\r\nimport favicon32 from \"./favicon-32x32.png\";\r\nimport favicon16 from \"./favicon-16x16.png\";\r\nimport BackgroundShowcase1 from \"./bg-showcase-1.png\";\r\nimport BackgroundShowcase2 from \"./bg-showcase-2.png\";\r\nimport BackgroundShowcase3 from \"./bg-showcase-3.png\";\r\n\r\nconst styles = theme => ({\r\n  grid: {\r\n    height: \"100%\"\r\n  }\r\n});\r\n\r\nconst LandingPage = ({ classes, title }) => {\r\n  const client = useContext(ApiContext);\r\n  const [contact, setContact] = useState({\r\n    name: \"\",\r\n    email: \"\",\r\n    phone: \"\",\r\n    message: \"\"\r\n  });\r\n  const [success, setSuccess] = useState();\r\n  const [error, setError] = useState();\r\n  const handleChange = ({ target }) => {\r\n    setContact(prev => ({ ...prev, [target.name]: target.value }));\r\n    setSuccess(false);\r\n  };\r\n  const handleSubmit = async () => {\r\n    if (!contact.name || !contact.email || !contact.phone || !contact.message) {\r\n      return setError(true);\r\n    }\r\n    setError(false);\r\n    await client.service(\"site_contacts\").create(contact);\r\n    setSuccess(true);\r\n    setContact({\r\n      name: \"\",\r\n      email: \"\",\r\n      phone: \"\",\r\n      message: \"\"\r\n    });\r\n  };\r\n  return (\r\n    // <Grid container direction=\"column\" justify=\"center\" alignItems=\"center\" className={classes.grid}>\r\n    //   {/* <Typography variant=\"h1\">{title}</Typography> */}\r\n    //   <img alt=\"logo\" src={logo} style={{ width: \"100%\" }} />\r\n    // </Grid>\r\n    <div lang=\"pt-br\" style={{ margin: \"-24px\" }}>\r\n      <div>\r\n        <meta charSet=\"utf-8\" />\r\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1, shrink-to-fit=no\" />\r\n        <meta name=\"description\" content=\"\" />\r\n        <meta name=\"author\" content=\"\" />\r\n        <link rel=\"icon\" type=\"image/png\" sizes=\"32x32\" href={favicon32} />\r\n        <link rel=\"icon\" type=\"image/png\" sizes=\"16x16\" href={favicon16} />\r\n        <title>MonitorProd</title>\r\n        <link\r\n          href=\"https://fonts.googleapis.com/css?family=Montserrat:400,700\"\r\n          rel=\"stylesheet\"\r\n          type=\"text/css\"\r\n        />\r\n        <link\r\n          href=\"https://fonts.googleapis.com/css?family=Kaushan+Script\"\r\n          rel=\"stylesheet\"\r\n          type=\"text/css\"\r\n        />\r\n        <link\r\n          href=\"https://fonts.googleapis.com/css?family=Droid+Serif:400,700,400italic,700italic\"\r\n          rel=\"stylesheet\"\r\n          type=\"text/css\"\r\n        />\r\n        <link\r\n          href=\"https://fonts.googleapis.com/css?family=Roboto+Slab:400,100,300,700\"\r\n          rel=\"stylesheet\"\r\n          type=\"text/css\"\r\n        />\r\n        <link href=\"https://fonts.googleapis.com/css?family=Ubuntu\" rel=\"stylesheet\" />\r\n      </div>\r\n      <div id=\"page-top\" className=\"vsc-initialized\">\r\n        <nav className=\"navbar navbar-expand-lg navbar-dark fixed-top\" id=\"mainNav\">\r\n          <div className=\"container\">\r\n            <a className=\"navbar-brand js-scroll-trigger\" href=\"#page-top\">\r\n              <img width=\"182\" className=\"img-fluid d-block mx-auto\" src={logoPNG} alt=\"\" />\r\n            </a>\r\n            <button\r\n              className=\"navbar-toggler navbar-toggler-right\"\r\n              type=\"button\"\r\n              data-toggle=\"collapse\"\r\n              data-target=\"#navbarResponsive\"\r\n              aria-controls=\"navbarResponsive\"\r\n              aria-expanded=\"false\"\r\n              aria-label=\"Toggle navigation\"\r\n            >\r\n              Menu\r\n              <i className=\"fas fa-bars\" />\r\n            </button>\r\n            <div className=\"collapse navbar-collapse\" id=\"navbarResponsive\">\r\n              <ul className=\"navbar-nav text-uppercase ml-auto\">\r\n                <li className=\"nav-item\">\r\n                  <a className=\"nav-link js-scroll-trigger\" href=\"#services\">\r\n                    MonitorProd\r\n                  </a>\r\n                </li>\r\n                <li className=\"nav-item\">\r\n                  <a className=\"nav-link js-scroll-trigger\" href=\"#tecnologias\">\r\n                    Tecnologias\r\n                  </a>\r\n                </li>\r\n                <li className=\"nav-item\">\r\n                  <a className=\"nav-link js-scroll-trigger\" href=\"#about\">\r\n                    Sistema\r\n                  </a>\r\n                </li>\r\n                <li className=\"nav-item\">\r\n                  <a className=\"nav-link js-scroll-trigger\" href=\"#contact\">\r\n                    Contato\r\n                  </a>\r\n                </li>\r\n              </ul>\r\n            </div>\r\n          </div>\r\n        </nav>\r\n        <header className=\"masthead\">\r\n          <div className=\"container\">\r\n            <div className=\"intro-text\">\r\n              <div className=\"intro-lead-in\">Monitoramento de Produção</div>\r\n              <div className=\"intro-heading text-uppercase\" style={{ color: \"#e4b535\" }}>\r\n                MAIOR DESEMPENHO\r\n                <br />E PRODUTIVIDADE\r\n              </div>\r\n              <a className=\"btn btn-primary btn-xl text-uppercase js-scroll-trigger\" href=\"#about\">\r\n                Como funciona\r\n              </a>\r\n            </div>\r\n          </div>\r\n        </header>\r\n        <section>\r\n          <div className=\"container\">\r\n            <div className=\"row text-center\" style={{ paddingTop: \"15px\" }}>\r\n              <div className=\"col-md-4\">\r\n                <span className=\"fa-stack fa-4x\">\r\n                  <i className=\"fas fa-circle fa-stack-2x text-primary\" />\r\n                  <i className=\"fas fa-sitemap fa-stack-1x fa-inverse\" />\r\n                </span>\r\n                <h4 className=\"service-heading\">Conexão Inteligente</h4>\r\n                <p className=\"text-muted\">\r\n                  <br />\r\n                  Acesso á qualquer hora, de qualquer lugar, via desktop, tablet ou mobile, sem\r\n                  operador de máquina e compatibilidade em multiplataformas.\r\n                </p>\r\n              </div>\r\n              <div className=\"col-md-4\">\r\n                <span className=\"fa-stack fa-4x\">\r\n                  <i className=\"fas fa-circle fa-stack-2x text-primary\" />\r\n                  <i className=\"fas fa-laptop fa-stack-1x fa-inverse\" />\r\n                </span>\r\n                <h4 className=\"service-heading\">\r\n                  Monitoramento em\r\n                  <br />\r\n                  Tempo Real\r\n                </h4>\r\n                <p className=\"text-muted\">\r\n                  Linha de produção acessível 24/7 com dados em nuvem. Melhor tomada de decisão para\r\n                  investimentos futuros.\r\n                </p>\r\n              </div>\r\n              <div className=\"col-md-4\">\r\n                <span className=\"fa-stack fa-4x\">\r\n                  <i className=\"fas fa-circle fa-stack-2x text-primary\" />\r\n                  <i className=\"fas fa-tachometer-alt fa-stack-1x fa-inverse\" />\r\n                </span>\r\n                <h4 className=\"service-heading\">Melhor Custo-benefício</h4>\r\n                <p className=\"text-muted\">\r\n                  <br />\r\n                  Desenvolvido para a indústria de plástico, fácil operação e instalação via wifi,\r\n                  com custo mais barato que uma hora-máquina.\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </section>\r\n        <section id=\"services\" className=\"page-section clearfix\">\r\n          <div className=\"container\">\r\n            <div className=\"intro\">\r\n              <img className=\"intro-img img-fluid mb-3 mb-lg-0 rounded\" src={introIMG} alt=\"\" />\r\n              <div className=\"intro-text left-0 text-center bg-faded p-5 rounded\">\r\n                <h2 className=\"section-heading mb-4\">\r\n                  <span className=\"section-heading-lower\">Quem Somos</span>\r\n                </h2>\r\n                <p className=\"mb-3\">\r\n                  A monitorProd é uma empresa inovadora na área da tecnologia e adepta do conceito\r\n                  IoT. Com foco no desenvolvimento de sistemas compostos por hardware + software que\r\n                  monitoram a produção de peças plásticas injetadas, sua equipe é formada por\r\n                  profissionais da área de moldes, injeção e de TI.\r\n                </p>\r\n                <div className=\"intro-button mx-auto\">\r\n                  <a className=\"btn btn-primary btn-xl js-scroll-trigger\" href=\"#contact\">\r\n                    Entre em Contato\r\n                  </a>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </section>\r\n        <section className=\"showcase\" id=\"tecnologias\">\r\n          <div className=\"container-fluid p-0\">\r\n            <div className=\"row\">\r\n              <div className=\"col-lg-12 text-center\">\r\n                <h2 className=\"section-heading text-uppercase\">Tecnologias</h2>\r\n              </div>\r\n            </div>\r\n            <div className=\"row no-gutters\">\r\n              <div\r\n                className=\"col-lg-6 order-lg-2 text-white showcase-img\"\r\n                style={{\r\n                  backgroundImage:\r\n\t\t\t\t\t\t\t\t\t`url('${BackgroundShowcase1}')`\r\n                }}\r\n              />\r\n              <div className=\"col-lg-6 order-lg-1 my-auto showcase-text\">\r\n                <h2>Internet of Things</h2>\r\n                <p className=\"lead mb-0\">\r\n                  Com a internet das coisas, os sistemas ciber-físicos comunicam e cooperam entre si\r\n                  e com os humanos em tempo real, e através da computação em nuvem, ambos os\r\n                  serviços internos e intra-organizacionais são oferecidos e utilizados pelos\r\n                  participantes da cadeia de valor.\r\n                </p>\r\n              </div>\r\n            </div>\r\n            <div className=\"row no-gutters\">\r\n              <div\r\n                className=\"col-lg-6 text-white showcase-img\"\r\n                style={{\r\n                  backgroundImage:\r\n\t\t\t\t\t\t\t\t\t`url('${BackgroundShowcase2}')`\r\n                }}\r\n              />\r\n              <div className=\"col-lg-6 my-auto showcase-text\">\r\n                <h2>Industria 4.0</h2>\r\n                <p className=\"lead mb-0\">\r\n                  A Indústria 4.0 facilita a visão e execução de \"Fábricas Inteligentes\" com as suas\r\n                  estruturas modulares, os sistemas ciber-físicos monitoram os processos físicos,\r\n                  criam uma cópia virtual do mundo físico e tomam decisões descentralizadas.\r\n                </p>\r\n              </div>\r\n            </div>\r\n            <div className=\"row no-gutters\">\r\n              <div\r\n                className=\"col-lg-6 order-lg-2 text-white showcase-img\"\r\n                style={{\r\n                  backgroundImage:\r\n                    `url('${BackgroundShowcase3}')`\r\n                }}\r\n              />\r\n              <div className=\"col-lg-6 order-lg-1 my-auto showcase-text\">\r\n                <h2>Progressive Web Apps</h2>\r\n                <p className=\"lead mb-0\">\r\n                  MonitorProd pode ser utilizado em computadores, tablets e celulares e usa\r\n                  tecnologia PWA (Progressive Web Apps) o que facilita sua utilização em diversos\r\n                  dispositivos e sistemas operacionais como Windows, macOS, Linux, Android e iOS.\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </section>\r\n        <section id=\"about\" style={{ backgroundColor: \"#e9ecef\" }}>\r\n          <div className=\"container\">\r\n            <div className=\"row\">\r\n              <div className=\"col-lg-12 text-center\" style={{ paddingTop: \"1rem\" }}>\r\n                <h2 className=\"section-heading text-uppercase\">O Sistema</h2>\r\n                <p className=\"lead mb-0\">\r\n                  Ideal para empresas que querem aderir a Indústria 4.0,\r\n                  <br />o sistema desenvolvido pela monitorProd monitora em tempo real os ciclos e\r\n                  as máquinas que estão paradas.\r\n                </p>\r\n              </div>\r\n            </div>\r\n            <div className=\"row\">\r\n              <div className=\"col-lg-12\">\r\n                <ul className=\"timeline\">\r\n                  <li>\r\n                    <div className=\"timeline-image\">\r\n                      <img className=\"rounded-circle img-fluid\" src={about1IMG} alt=\"\" />\r\n                    </div>\r\n                    <div className=\"timeline-panel\">\r\n                      <div className=\"timeline-body\">\r\n                        <p className=\"lead mb-0\">\r\n                          Para isso, conta com um hardware que fica instalado fisicamente na máquina\r\n                          injetora.\r\n                        </p>\r\n                      </div>\r\n                    </div>\r\n                  </li>\r\n                  <li className=\"timeline-inverted\">\r\n                    <div className=\"timeline-image\">\r\n                      <img className=\"rounded-circle img-fluid\" src={about2IMG} alt=\"\" />\r\n                    </div>\r\n                    <div className=\"timeline-panel\">\r\n                      <div className=\"timeline-body\">\r\n                        <p className=\"lead mb-0\">\r\n                          A cada ciclo, é realizada a captação de um sinal. A diferença entre duas leituras fecha o tempo de um ciclo.\r\n                        </p>\r\n                      </div>\r\n                    </div>\r\n                  </li>\r\n                  <li>\r\n                    <div className=\"timeline-image\">\r\n                      <img className=\"rounded-circle img-fluid\" src={about3IMG} alt=\"\" />\r\n                    </div>\r\n                    <div className=\"timeline-panel\">\r\n                      <div className=\"timeline-body\">\r\n                        <p className=\"lead mb-0\">\r\n                          Basicamente, num intervalo de 15 minutos, o hardware transfere dados para\r\n                          o servidor em nuvem.\r\n                        </p>\r\n                      </div>\r\n                    </div>\r\n                  </li>\r\n                  <li className=\"timeline-inverted\">\r\n                    <div className=\"timeline-image\">\r\n                      <img className=\"rounded-circle img-fluid\" src={about4IMG} alt=\"\" />\r\n                    </div>\r\n                    <div className=\"timeline-panel\">\r\n                      <div className=\"timeline-body\">\r\n                        <p className=\"lead mb-0\">\r\n                          Com isso, são gerados cálculos de produtividade, comparando o ciclo real\r\n                          com o ciclo programado.\r\n                        </p>\r\n                      </div>\r\n                    </div>\r\n                  </li>\r\n                  <li className=\"timeline-inverted\">\r\n                    <div className=\"timeline-image\">\r\n                      <h4>\r\n                        Venha inovar\r\n                        <br />\r\n                        com a\r\n                        <br />\r\n                        monitorProd\r\n                      </h4>\r\n                    </div>\r\n                    <div className=\"timeline-panel timeline-panel__last\">\r\n                      <div className=\"timeline-body\">\r\n                        <p\r\n                          className=\"text-muted\"\r\n                          style={{\r\n                            fontSize: \"1.5rem\",\r\n                            lineHeight: \"2rem\",\r\n                            color: \"#000000 !important\"\r\n                          }}\r\n                        >\r\n                          Venha inovar com a <b>monitorProd</b>\r\n                        </p>\r\n                      </div>\r\n                    </div>\r\n                  </li>\r\n                </ul>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </section>\r\n        <section id=\"contact\">\r\n          <div className=\"container\">\r\n            <div className=\"row\">\r\n              <div className=\"col-lg-12 text-center\" style={{ paddingTop: \"1rem\" }}>\r\n                <h2 className=\"section-heading text-uppercase\" style={{ color: \"#fff\" }}>Entre em Contato</h2>\r\n                <h5 className=\"section-subheading text-muted\" style={{ color: \"#fff\" }}>Saiba mais sobre nossos serviços</h5>\r\n              </div>\r\n            </div>\r\n            <div className=\"row\">\r\n              <div className=\"col-lg-12\" style={{ paddingTop: \"1rem\", paddingBottom: \"1rem\"}}>\r\n                <form id=\"contactForm\" name=\"sentMessage\" noValidate=\"novalidate\">\r\n                  <div className=\"row\">\r\n                    <div className=\"col-md-6\">\r\n                      <div className=\"form-group\">\r\n                        <input\r\n                          className=\"form-control\"\r\n                          id=\"name\"\r\n                          name=\"name\"\r\n                          type=\"text\"\r\n                          placeholder=\"Seu nome *\"\r\n                          required=\"required\"\r\n                          data-validation-required-message=\"Por favor insira seu nome.\"\r\n                          value={contact.name}\r\n                          onChange={handleChange}\r\n                        />\r\n                        <p className=\"help-block text-danger\" />\r\n                      </div>\r\n                      <div className=\"form-group\">\r\n                        <input\r\n                          className=\"form-control\"\r\n                          id=\"email\"\r\n                          name=\"email\"\r\n                          type=\"email\"\r\n                          placeholder=\"Seu e-mail *\"\r\n                          required=\"required\"\r\n                          data-validation-required-message=\"Por favor insira seu e-mail.\"\r\n                          value={contact.email}\r\n                          onChange={handleChange}\r\n                        />\r\n                        <p className=\"help-block text-danger\" />\r\n                      </div>\r\n                      <div className=\"form-group\">\r\n                        <input\r\n                          className=\"form-control\"\r\n                          id=\"phone\"\r\n                          name=\"phone\"\r\n                          type=\"tel\"\r\n                          placeholder=\"Seu telefone *\"\r\n                          required=\"required\"\r\n                          data-validation-required-message=\"Por favor insira um telefone para contato.\"\r\n                          value={contact.phone}\r\n                          onChange={handleChange}\r\n                        />\r\n                        <p className=\"help-block text-danger\" />\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"col-md-6\">\r\n                      <div className=\"form-group\">\r\n                        <textarea\r\n                          className=\"form-control\"\r\n                          id=\"message\"\r\n                          name=\"message\"\r\n                          placeholder=\"Sua mensagem *\"\r\n                          required=\"required\"\r\n                          data-validation-required-message=\"Por favor insira uma mensagem.\"\r\n                          value={contact.message}\r\n                          onChange={handleChange}\r\n                        />\r\n                        <p className=\"help-block text-danger\" />\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"clearfix\" />\r\n                    <div className=\"col-lg-12 text-center\">\r\n                      <div id=\"success\">\r\n                        {success && (\r\n                          <div className=\"alert alert-success\">\r\n                            <button\r\n                              type=\"button\"\r\n                              className=\"close\"\r\n                              data-dismiss=\"alert\"\r\n                              aria-hidden=\"true\"\r\n                            >\r\n                              &times;\r\n                            </button>\r\n                            <strong>Mensagem enviado.</strong>\r\n                          </div>\r\n                        )}\r\n                        {error && (\r\n                          <div className=\"alert alert-danger\">\r\n                            <button\r\n                              type=\"button\"\r\n                              className=\"close\"\r\n                              data-dismiss=\"alert\"\r\n                              aria-hidden=\"true\"\r\n                            >\r\n                              &times;\r\n                            </button>\r\n                            <strong>Todos os campos são de preenchimento obrigatório.</strong>\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                      <button\r\n                        id=\"sendMessageButton\"\r\n                        className=\"btn btn-primary btn-xl text-uppercase\"\r\n                        type=\"button\"\r\n                        onClick={handleSubmit}\r\n                      >\r\n                        Enviar Mensagem\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                </form>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </section>\r\n        <section>\r\n          <div className=\"container\">\r\n            <div className=\"row justify-content-center\">\r\n              <div className=\"col-lg-8 text-center\">\r\n                <h2 className=\"mt-0\">\r\n                  <img src={logoDarkPNG} style={{ paddingTop: \"100px\" }} alt=\"\" />\r\n                </h2>\r\n                <hr className=\"divider my-4\" />\r\n                <a\r\n                  href=\"https://www.google.com/maps/place/Rua+Valenza,+154,+Colombo+-+PR\"\r\n                  className=\"text-muted mb-5\"\r\n                  style={{ color: \"#000 !important\" }}\r\n                >\r\n                  Rua Valenza, 154 - Alphavile Empresarial <br /> Colombo/PR - CEP 83413-576\r\n                </a>\r\n              </div>\r\n            </div>\r\n            <div className=\"row\">\r\n              <div className=\"col-lg-4 ml-auto text-center\">\r\n                <i\r\n                  className=\"fas fa-phone fa-3x mb-3 text-muted\"\r\n                  style={{ color: \"#000 !important\" }}\r\n                />\r\n                <a className=\"d-block\" href=\"tel:+5541991076618\">\r\n                  +55 41 9 9107-6618\r\n                </a>\r\n                <a className=\"d-block\" href=\"tel:+554131136618\">\r\n                  +55 41 3113-6618\r\n                </a>\r\n              </div>\r\n              <div className=\"col-lg-4 mr-auto text-center\">\r\n                <i\r\n                  className=\"fas fa-envelope fa-3x mb-3 text-muted\"\r\n                  style={{ color: \"#000 !important\" }}\r\n                />\r\n                <a\r\n                  className=\"d-block\"\r\n                  href=\"mailto:contato@monitorprod.com.br\"\r\n                  style={{ color: \"#000 !important\" }}\r\n                >\r\n                  contato@monitorprod.com.br\r\n                </a>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <footer>\r\n            <div className=\"container\">\r\n              <div className=\"row\">\r\n                <div className=\"col-md-4\">\r\n                  <span className=\"copyright\">Copyright © monitorProd 2019</span>\r\n                </div>\r\n                <div className=\"col-md-4\">\r\n                  <ul className=\"list-inline social-buttons\">\r\n                    <li className=\"list-inline-item\">\r\n                      {/* eslint-disable-next-line react/jsx-no-target-blank */}\r\n                      <a href=\"https://www.facebook.com/monitorProd/\" target=\"_blank\">\r\n                        <i className=\"fab fa-facebook-f\" />\r\n                      </a>\r\n                    </li>\r\n                    <li className=\"list-inline-item\">\r\n                      {/* eslint-disable-next-line react/jsx-no-target-blank */}\r\n                      <a href=\"https://www.linkedin.com/company/monitorprod\" target=\"_blank\">\r\n                        <i className=\"fab fa-linkedin-in\" />\r\n                      </a>\r\n                    </li>\r\n                  </ul>\r\n                </div>\r\n                <div className=\"col-md-4\">\r\n                  {/* eslint-disable-next-line react/jsx-no-target-blank */}\r\n                  <span>\r\n                    Desenvolvido por {/* eslint-disable-next-line react/jsx-no-target-blank */}\r\n                    <a href=\"http://pierbotteroweb.me\" target=\"_blank\">\r\n                      Pier Bottero Web\r\n                    </a>\r\n                  </span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </footer>\r\n          <script src=\"https://pierbotteroweb.bitbucket.io/monitorProd/vendor/jquery/jquery.min.js\" />\r\n          <script src=\"https://pierbotteroweb.bitbucket.io/monitorProd/vendor/bootstrap/js/bootstrap.bundle.min.js\" />\r\n          <script src=\"https://pierbotteroweb.bitbucket.io/monitorProd/vendor/jquery-easing/jquery.easing.min.js\" />\r\n          <script src=\"https://pierbotteroweb.bitbucket.io/monitorProd/js/jqBootstrapValidation.js\" />\r\n          <script src=\"https://pierbotteroweb.bitbucket.io/monitorProd/js/agency.min.js\" />\r\n        </section>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default withStyles(styles, { withTheme: true })(LandingPage);\r\n","import React from \"react\";\r\nimport { Grid, Typography } from \"@material-ui/core\";\r\nimport { withStyles } from \"../../utils\";\r\n\r\nconst styles = theme => ({\r\n  grid: {\r\n    height: \"100%\"\r\n  }\r\n});\r\n\r\nconst UnderConstructionPage = ({ classes }) => (\r\n  <Grid container direction=\"column\" justify=\"center\" alignItems=\"center\" className={classes.grid}>\r\n    <Typography variant=\"h2\">Em Construção</Typography>\r\n  </Grid>\r\n);\r\n\r\nexport default withStyles(styles, { withTheme: true })(UnderConstructionPage);\r\n","import React from \"react\";\r\nimport { SvgIcon } from \"@material-ui/core\";\r\n\r\nexport const MoldIcon = props => {\r\n  return (\r\n    <SvgIcon {...props} viewBox=\"0 0 192 192\">\r\n      <path\r\n        // id=\"Mi\"\r\n        d=\"M98 172.32H32.5l-.53-.02-.52-.03-.52-.05-.52-.07-.5-.1-.5-.1-.5-.13-.48-.15-.48-.17-.46-.2-.46-.2-.45-.22-.44-.24-.42-.25-.42-.27-.4-.3-.4-.3-.38-.32-.37-.32-.36-.35-.34-.35-.33-.37-.3-.38-.3-.4-.3-.4-.27-.42-.25-.43-.24-.44-.22-.44-.2-.46-.18-.47-.17-.47-.15-.5-.14-.5-.1-.5-.1-.5-.07-.5-.06-.52-.03-.53-.01-.53.01-126.94.03-.54.06-.54.07-.53.1-.53.12-.52.13-.5.16-.5.18-.5.2-.5.2-.47.23-.46.25-.46.26-.44.28-.43.3-.43.3-.4.33-.4.34-.38.35-.37.37-.36.4-.34.4-.33.4-.3.42-.3.43-.28.45-.27.45-.24.46-.23.48-.22.48-.2.5-.17.5-.16.5-.14.52-.1.52-.1.54-.08.53-.05.55-.03.55-.02h65v29.36L68 62.8v66.97l30 13.76v28.8zm16-152.64l45.8.02.54.03.53.05.52.08.52.1.5.12.5.13.5.15.48.18.48.2.47.2.45.23.45.24.43.26.43.27.4.3.4.3.4.32.38.34.36.35.35.36.33.38.32.38.3.4.3.4.28.42.5.88.22.46.2.47.2.47.17.5.15.5.14.5.1.5.1.5.07.53.06.53.03.53.01.54-.04 127.42-.06.53-.07.52-.1.52-.1.5-.14.5-.15.5-.17.5-.2.48-.2.47-.23.45-.24.45-.26.44-.28.43-.3.4-.3.4-.32.4-.34.38-.35.37-.36.35-.38.33-.4.33-.4.3-.42.3-.43.28-.43.26-.45.24-.46.23-.47.2-.48.2-.48.17-.5.16-.5.13-.5.12-.52.1-.53.08-.53.05-.53.03-.55.02H114v-38.26l-29.45-13.2V71.72L114 58.5V19.68z\"\r\n      />\r\n    </SvgIcon>\r\n  );\r\n};\r\n\r\nexport const InjectorIcon = props => {\r\n  return (\r\n    <SvgIcon {...props} viewBox=\"0 0 192 192\">\r\n      <path\r\n        id=\"Ii\"\r\n        d=\"m171.11 112.22l0.2 0.02 0.2 0.03 0.2 0.04 0.19 0.04 0.2 0.06 0.19 0.05 0.18 0.07 0.18 0.07 0.18 0.08 0.18 0.09 0.17 0.09 0.16 0.1 0.17 0.11 0.15 0.11 0.16 0.11 0.15 0.13 0.14 0.12 0.14 0.14 0.13 0.14 0.13 0.14 0.12 0.15 0.12 0.15 0.11 0.16 0.11 0.16 0.1 0.17 0.09 0.17 0.08 0.18 0.08 0.17 0.08 0.19 0.06 0.18 0.06 0.19 0.05 0.19 0.05 0.2 0.03 0.19 0.03 0.2 0.02 0.21 0.01 0.2 0.01 0.21v27.99l-0.01 0.62-0.04 0.61-0.06 0.61-0.09 0.6-0.11 0.58-0.13 0.59-0.15 0.57-0.18 0.56-0.19 0.55-0.22 0.55-0.24 0.53-0.25 0.52-0.28 0.51-0.3 0.5-0.31 0.48-0.33 0.48-0.35 0.45-0.37 0.45-0.38 0.43-0.4 0.41-0.42 0.4-0.43 0.38-0.44 0.37-0.46 0.35-0.47 0.33-0.48 0.32-0.5 0.29-0.51 0.28-0.52 0.26-0.54 0.23-0.54 0.22-0.55 0.2-0.57 0.17-0.57 0.16-0.58 0.13-0.59 0.11-0.6 0.08-0.6 0.06-0.61 0.04-0.62 0.01h-17.15l-16.15-17.48h-62.68l-16.9 17.48h-16.27l-0.63-0.01-0.62-0.04-0.62-0.06-0.61-0.09-0.6-0.11-0.6-0.13-0.58-0.16-0.58-0.18-0.56-0.2-0.55-0.22-0.55-0.24-0.53-0.27-0.52-0.28-0.51-0.3-0.49-0.32-0.49-0.34-0.46-0.36-0.46-0.37-0.43-0.39-0.43-0.41-0.41-0.42-0.39-0.44-0.37-0.45-0.36-0.47-0.34-0.48-0.32-0.5-0.3-0.51-0.28-0.52-0.26-0.53-0.25-0.54-0.22-0.56-0.2-0.56-0.18-0.58-0.15-0.58-0.14-0.59-0.11-0.61-0.09-0.61-0.06-0.61-0.04-0.63-0.01-0.63v-27.85l0.01-0.2 0.01-0.2 0.02-0.2 0.02-0.19 0.04-0.19 0.04-0.19 0.05-0.18 0.06-0.19 0.06-0.18 0.07-0.17 0.08-0.17 0.08-0.17 0.09-0.17 0.1-0.16 0.1-0.15 0.11-0.16 0.11-0.15 0.12-0.14 0.12-0.14 0.13-0.13 0.14-0.13 0.13-0.13 0.15-0.11 0.15-0.12 0.15-0.1 0.16-0.11 0.16-0.09 0.16-0.09 0.17-0.08 0.17-0.08 0.18-0.07 0.18-0.07 0.18-0.05 0.18-0.05 0.19-0.04 0.19-0.04 0.2-0.03 0.19-0.02 0.2-0.01h0.2 149.57 0.21l0.2 0.01zm-27.42-56.25l-8.69-17.39h23.42l-8.06 17.39h25.27v32.02h-97.96v12.15h-61.39v-52.39l0.01-0.66 0.04-0.65 0.07-0.65 0.09-0.63 0.12-0.63 0.13-0.62 0.17-0.61 0.18-0.6 0.21-0.59 0.24-0.57 0.25-0.57 0.27-0.56 0.3-0.54 0.31-0.53 0.34-0.52 0.35-0.5 0.37-0.49 0.39-0.47 0.41-0.46 0.43-0.44 0.44-0.42 0.45-0.41 0.48-0.39 0.49-0.37 0.5-0.36 0.51-0.33 0.53-0.32 0.55-0.29 0.55-0.28 0.57-0.25 0.58-0.23 0.59-0.21 0.6-0.19 0.61-0.16 0.61-0.14 0.63-0.11 0.64-0.09 0.64-0.07 0.65-0.04 0.66-0.01h45.43v24.18h66.02zm-115.44 32.02h11.99v-44.15h-11.99v44.15zm23.98 0h12v-44.15h-12v44.15z\"\r\n      />\r\n    </SvgIcon>\r\n  );\r\n};\r\n\r\nexport const InjectorFrontIcon = props => {\r\n  return (\r\n    <SvgIcon {...props} viewBox=\"0 0 192 192\">\r\n      <path\r\n        id=\"IFi\"\r\n        d=\"m160.75 19.83l0.51 0.05 0.51 0.08 0.51 0.09 0.49 0.11 0.49 0.13 0.48 0.15 0.47 0.17 0.47 0.19 0.45 0.2 0.45 0.22 0.43 0.23 0.43 0.26 0.41 0.26 0.4 0.29 0.39 0.3 0.38 0.31 0.37 0.33 0.35 0.34 0.34 0.35 0.33 0.37 0.31 0.38 0.3 0.39 0.29 0.4 0.26 0.41 0.26 0.43 0.23 0.43 0.22 0.45 0.2 0.45 0.19 0.47 0.17 0.47 0.15 0.48 0.13 0.49 0.11 0.49 0.09 0.51 0.08 0.51 0.05 0.51 0.03 0.52 0.01 0.53v126.44l-0.01 0.52-0.03 0.52-0.05 0.51-0.08 0.5-0.09 0.5-0.11 0.48-0.13 0.49-0.14 0.47-0.17 0.47-0.18 0.45-0.2 0.45-0.22 0.44-0.23 0.43-0.25 0.42-0.27 0.41-0.28 0.4-0.29 0.38-0.31 0.37-0.32 0.37-0.34 0.35-0.35 0.33-0.36 0.32-0.37 0.31-0.39 0.3-0.39 0.28-0.41 0.26-0.42 0.25-0.43 0.23-0.44 0.22-0.45 0.2-0.46 0.18-0.46 0.17-0.48 0.15-0.48 0.13-0.49 0.11-0.49 0.09-0.51 0.07-0.51 0.05-0.51 0.03-0.52 0.01h-21.59l-15.43-11.71h-55.95l-15.67 11.71h-18.47l-0.52-0.01-0.51-0.03-0.51-0.05-0.5-0.07-0.5-0.09-0.49-0.11-0.48-0.13-0.47-0.15-0.47-0.17-0.46-0.18-0.45-0.2-0.44-0.22-0.42-0.23-0.42-0.25-0.41-0.26-0.4-0.28-0.38-0.3-0.38-0.31-0.36-0.32-0.35-0.33-0.34-0.35-0.32-0.37-0.31-0.37-0.29-0.38-0.28-0.4-0.26-0.41-0.25-0.42-0.24-0.43-0.21-0.44-0.2-0.45-0.19-0.45-0.16-0.47-0.15-0.47-0.13-0.49-0.11-0.48-0.09-0.5-0.07-0.5-0.05-0.51-0.04-0.52-0.01-0.52v-126.61l0.01-0.52 0.04-0.51 0.05-0.51 0.07-0.51 0.09-0.49 0.11-0.49 0.13-0.48 0.15-0.48 0.16-0.46 0.19-0.46 0.2-0.45 0.21-0.44 0.24-0.43 0.25-0.42 0.26-0.41 0.28-0.39 0.29-0.39 0.31-0.37 0.32-0.36 0.34-0.35 0.35-0.34 0.36-0.32 0.38-0.31 0.38-0.29 0.4-0.28 0.41-0.27 0.42-0.25 0.42-0.23 0.44-0.22 0.45-0.2 0.46-0.18 0.47-0.17 0.47-0.14 0.48-0.13 0.49-0.11 0.5-0.09 0.5-0.08 0.51-0.05 0.51-0.03 0.52-0.01h126.94l0.53 0.01 0.52 0.03zm-14.64 94.15l-1.24 0.47-1.15 0.64-1.04 0.79-0.93 0.92-0.78 1.04-0.64 1.15-0.47 1.24-0.3 1.32-0.1 1.38 0.1 1.38 0.3 1.32 0.47 1.24 0.64 1.14 0.78 1.05 0.93 0.92 1.04 0.79 1.15 0.63 1.24 0.48 1.31 0.29 1.38 0.1 1.38-0.1 1.32-0.29 1.24-0.48 1.15-0.63 1.04-0.79 0.93-0.92 0.78-1.05 0.64-1.14 0.47-1.24 0.3-1.32 0.1-1.38-0.1-1.38-0.3-1.32-0.47-1.24-0.64-1.15-0.78-1.04-0.93-0.92-1.04-0.79-1.15-0.64-1.24-0.47-1.32-0.29-1.38-0.11-1.38 0.11-1.31 0.29zm-105.64 0l-1.24 0.47-1.15 0.64-1.04 0.79-0.92 0.92-0.79 1.04-0.63 1.15-0.48 1.24-0.29 1.32-0.1 1.38 0.1 1.38 0.29 1.32 0.48 1.24 0.63 1.14 0.79 1.05 0.92 0.92 1.04 0.79 1.15 0.63 1.24 0.48 1.32 0.29 1.38 0.1 1.38-0.1 1.32-0.29 1.24-0.48 1.15-0.63 1.04-0.79 0.92-0.92 0.79-1.05 0.64-1.14 0.47-1.24 0.29-1.32 0.1-1.38-0.1-1.38-0.29-1.32-0.47-1.24-0.64-1.15-0.79-1.04-0.92-0.92-1.04-0.79-1.15-0.64-1.24-0.47-1.32-0.29-1.38-0.11-1.38 0.11-1.32 0.29zm36.25-60.25l9.19 22-0.97 0.51-1.08 0.64-1.03 0.7-0.99 0.75-0.95 0.81-0.9 0.85-0.85 0.9-0.81 0.95-0.75 0.99-0.7 1.03-0.64 1.08-0.58 1.11-0.52 1.14-0.46 1.18-0.4 1.2-0.33 1.24-0.25 1.26-0.19 1.29-0.12 1.31-0.03 1.33 0.03 1.33 0.12 1.31 0.19 1.29 0.25 1.26 0.33 1.24 0.4 1.2 0.46 1.18 0.52 1.14 0.58 1.11 0.64 1.08 0.7 1.03 0.75 0.99 0.81 0.95 0.85 0.9 0.9 0.85 0.95 0.81 0.99 0.75 1.03 0.7 1.08 0.64 1.11 0.58 1.14 0.52 1.18 0.46 1.2 0.4 1.24 0.33 1.26 0.25 1.29 0.19 1.31 0.12 1.33 0.03 1.33-0.03 1.31-0.12 1.29-0.19 1.26-0.25 1.24-0.33 1.2-0.4 1.18-0.46 1.14-0.52 1.11-0.58 1.08-0.64 1.03-0.7 0.99-0.75 0.95-0.81 0.9-0.85 0.85-0.9 0.81-0.95 0.75-0.99 0.7-1.03 0.64-1.08 0.58-1.11 0.52-1.14 0.46-1.18 0.4-1.2 0.33-1.24 0.25-1.26 0.19-1.29 0.12-1.31 0.03-1.33-0.03-1.33-0.12-1.31-0.19-1.29-0.25-1.26-0.33-1.24-0.4-1.2-0.46-1.18-0.52-1.14-0.58-1.11-0.64-1.08-0.7-1.03-0.75-0.99-0.81-0.95-0.85-0.9-0.9-0.85-0.95-0.81-0.99-0.75-1.03-0.7-1.08-0.64-0.97-0.51 9.19-22v-8.37h-38.56v8.37zm-36.25-21.61l-1.24 0.47-1.15 0.64-1.04 0.79-0.92 0.92-0.79 1.04-0.63 1.15-0.48 1.24-0.29 1.32-0.1 1.38 0.1 1.38 0.29 1.31 0.48 1.24 0.63 1.15 0.79 1.05 0.92 0.92 1.04 0.78 1.15 0.64 1.24 0.47 1.32 0.3 1.38 0.1 1.38-0.1 1.32-0.3 1.24-0.47 1.15-0.64 1.04-0.78 0.92-0.92 0.79-1.05 0.64-1.15 0.47-1.24 0.29-1.31 0.1-1.38-0.1-1.38-0.29-1.32-0.47-1.24-0.64-1.15-0.79-1.04-0.92-0.92-1.04-0.79-1.15-0.64-1.24-0.47-1.32-0.3-1.38-0.1-1.38 0.1-1.32 0.3zm105.64 0l-1.24 0.47-1.15 0.64-1.04 0.79-0.93 0.92-0.78 1.04-0.64 1.15-0.47 1.24-0.3 1.32-0.1 1.38 0.1 1.38 0.3 1.31 0.47 1.24 0.64 1.15 0.78 1.05 0.93 0.92 1.04 0.78 1.15 0.64 1.24 0.47 1.31 0.3 1.38 0.1 1.38-0.1 1.32-0.3 1.24-0.47 1.15-0.64 1.04-0.78 0.93-0.92 0.78-1.05 0.64-1.15 0.47-1.24 0.3-1.31 0.1-1.38-0.1-1.38-0.3-1.32-0.47-1.24-0.64-1.15-0.78-1.04-0.93-0.92-1.04-0.79-1.15-0.64-1.24-0.47-1.32-0.3-1.37-0.1-1.39 0.1-1.31 0.3z\"\r\n      />\r\n    </SvgIcon>\r\n  );\r\n};\r\n\r\nexport const MachineIcon = props => {\r\n  return (\r\n    <SvgIcon {...props} viewBox=\"0 0 24 24\">\r\n      <path\r\n        id=\"mI\"\r\n        d=\"m3.7773 4c-0.98489 0-1.7773 0.79245-1.7773 1.7773v12.445c0 0.98489 0.79245 1.7773 1.7773 1.7773h1.2227l2-2h10l2 2h1.2227c0.98489 0 1.7773-0.79246 1.7773-1.7773v-12.445c0-0.98489-0.79246-1.7773-1.7773-1.7773h-16.445zm0.22266 2h7v3h3 1 1l-1-2v-1h4v1l-1 2h1 1v2h-3-1-3-1-1v3h-7v-8z\"\r\n      />\r\n    </SvgIcon>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { Grid } from \"@material-ui/core\";\r\nimport {\r\n  classNames,\r\n  withStyles,\r\n  lodashGet,\r\n  lodashMap,\r\n  useAuth\r\n} from \"../../utils\";\r\nimport { MasterDataCard } from \"../../components\";\r\n// import machinesIcon from \"../../icons/injector.svg\";\r\n// import moldsIcon from \"../../icons/mold.svg\";\r\nimport { MachineIcon , MoldIcon} from \"../../utils/svgIcons\";\r\n\r\n\r\nconst styles = theme => ({\r\n  disabled: {\r\n    pointerEvents: \"none\",\r\n    background: \"lightgrey\"\r\n  },\r\n  icon:{\r\n    color: theme.palette.type === \"dark\"? theme.palette.common.white : theme.palette.primary.main,\r\n    fontSize: 50\r\n  }\r\n});\r\n\r\n\r\nconst actions = ({ level,classes }) => [\r\n  {\r\n    name: \"Máquinas\",\r\n    // icon: { type: \"svg\", src: machinesIcon },\r\n    svgIcon: <MachineIcon className={classes.icon} />,// style={{ fontSize: 50, color: \"#424242\" }} />,\r\n    href: \"/master-data/machines\"\r\n  },\r\n  {\r\n    name: \"Moldes\",\r\n    svgIcon: <MoldIcon className={classes.icon}/>,\r\n    href: \"/master-data/molds\"\r\n  },\r\n  {\r\n    name: \"Produtos\",\r\n    icon: \"style\",\r\n    href: \"/master-data/products\",\r\n    disabled: level !== \"N1\"\r\n  },\r\n  {\r\n    name: \"Sensores\",\r\n    icon: \"memory\",\r\n    href: \"/master-data/sensors\"\r\n  },\r\n  {\r\n    name: \"Tempos de Configuração\",\r\n    icon: \"access_time\",\r\n    href: \"/master-data/setups\",\r\n    disabled: level !== \"N1\"\r\n  }\r\n];\r\n\r\nconst MasterDataPage = ({ classes }) => {\r\n  const { session } = useAuth();\r\n  const level = lodashGet(session, \"company.level\");\r\n  return (\r\n    <Grid container spacing={1}>\r\n      {lodashMap(\r\n        actions({ level, classes }),\r\n        ({ name, icon, svgIcon, description, href, disabled }) => (\r\n          <Grid\r\n            item\r\n            xs={12}\r\n            sm={6}\r\n            lg={4}\r\n            key={name}\r\n            className={classNames({ [classes.disabled]: disabled })}\r\n          >\r\n            <MasterDataCard\r\n              name={name}\r\n              description={description}\r\n              icon={icon}\r\n              svgIcon={svgIcon}\r\n              href={href}\r\n            />\r\n          </Grid>\r\n        )\r\n      )}\r\n    </Grid>\r\n  );\r\n};\r\n\r\nexport default withStyles(styles, { withTheme: true })(MasterDataPage);\r\n","import React from \"react\";\r\nimport { Typography, Grid, Icon, Avatar } from \"@material-ui/core\";\r\nimport {\r\n  Link,\r\n  withRouter,\r\n  withStyles,\r\n  classNames,\r\n  lodashGet,\r\n  lodashMap,\r\n  useGetService\r\n} from \"../../../utils\";\r\nimport { NotFound } from \"../../../components\";\r\n\r\nconst styles = theme => ({\r\n  card: {\r\n    color: theme.palette.common.black,\r\n    display: \"flex\",\r\n    padding: `${theme.spacing(1)}px ${theme.spacing(2)}px`\r\n  },\r\n  link: {\r\n    paddingLeft: `${theme.spacing(1)}px`,\r\n    textDecoration: \"none\"\r\n  },\r\n  selected: {\r\n    backgroundColor: theme.palette.primary.header\r\n    // TODO selected item with color\r\n    // color: theme.palette.primary.main\r\n  },\r\n  avatar: {\r\n    marginRight: theme.spacing(1),\r\n    color: theme.palette.primary.main\r\n  },\r\n  item: {\r\n    flexWrap: \"nowrap\"\r\n  }\r\n});\r\n\r\nconst MoldProductsList = ({ match: { params }, classes, model, mold }) => {\r\n  const { item, loading } = useGetService({\r\n    model: model.name,\r\n    id: mold.id\r\n  });\r\n  const empty = !loading && !lodashGet(item, \"products.length\");\r\n  return (\r\n    <React.Fragment>\r\n      {empty && <NotFound />}\r\n      {lodashMap(item.products, product => (\r\n        <Grid\r\n          item\r\n          xs={12}\r\n          key={product.id}\r\n          className={classNames(classes.link, {\r\n            [classes.selected]:\r\n              parseInt(params.moldId, \"10\") === mold.id &&\r\n              parseInt(params.productId, \"10\") === product.id\r\n          })}\r\n          component={Link}\r\n          to={`${model.formPath}/${mold.id}/products/${product.id}`}\r\n        >\r\n          <div className={classes.card}>\r\n            <Grid container alignItems=\"center\" className={classes.item}>\r\n              {product.image && (\r\n                <Avatar alt={product.name} src={product.image} className={classes.avatar} />\r\n              )}\r\n              {!product.image && model.icon && <Icon className={classes.avatar}>{model.icon}</Icon>}\r\n              <Typography variant=\"body1\">\r\n                {product.identity ? `${product.identity} - ` : \"\"} {product.name}\r\n              </Typography>\r\n            </Grid>\r\n          </div>\r\n        </Grid>\r\n      ))}\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default withRouter(withStyles(styles, { withTheme: true })(MoldProductsList));\r\n","import React from \"react\";\r\nimport { withStyles, lodashGet, useAuth } from \"../../../utils\";\r\nimport { withMasterDataFormPage, MoldProductsTable } from \"../../../components\";\r\nimport MoldProductsList from \"./MoldProductsList\";\r\nimport MoldsModel from \"./model\";\r\n\r\nconst styles = theme => ({});\r\n\r\nconst MasterDataMoldsFormPage = ({ classes }) => {\r\n  const { session } = useAuth();\r\n  const level = lodashGet(session, \"company.level\");\r\n  return withMasterDataFormPage({\r\n    ...MoldsModel,\r\n    customContent: {\r\n      afterForm: ({ data, reloadTree }) =>\r\n        data.id &&\r\n        level === \"N1\" && (\r\n          <MoldProductsTable\r\n            options={MoldsModel.options}\r\n            mold={data}\r\n            reloadTree={reloadTree}\r\n          />\r\n        ),\r\n      afterTreeItem: ({ data }) =>\r\n        data.id &&\r\n        level === \"N1\" && (\r\n          <MoldProductsList\r\n            model={{ ...MoldsModel.metadata, icon: \"style\" }}\r\n            mold={data}\r\n          />\r\n        )\r\n    }\r\n  });\r\n};\r\n\r\nexport default withStyles(styles, { withTheme: true })(MasterDataMoldsFormPage);\r\n","import React, { useContext } from \"react\";\r\nimport ApiContext from \"../../../api\";\r\nimport {\r\n  withRouter,\r\n  withStyles,\r\n  lodashGet,\r\n  useGetService\r\n} from \"../../../utils\";\r\nimport {\r\n  MasterDataForm,\r\n  MachineMoldProductsTable,\r\n  BreadCrumbs\r\n} from \"../../../components\";\r\nimport ProductsModel from \"../products/model\";\r\nimport MoldProductsList from \"./MoldProductsList\";\r\nimport MoldsModel from \"./model\";\r\n\r\nconst styles = theme => ({});\r\n\r\nconst MasterDataMoldsFormPage = ({ match: { params }, classes }) => {\r\n  const client = useContext(ApiContext);\r\n  const { item: mold, reload } = useGetService({\r\n    model: lodashGet(MoldsModel, \"metadata.name\"),\r\n    id: lodashGet(params, lodashGet(MoldsModel, \"metadata.paramsProp\"))\r\n  });\r\n  const { item: product, loading, errors } = useGetService({\r\n    model: lodashGet(ProductsModel, \"metadata.name\"),\r\n    id: lodashGet(params, lodashGet(ProductsModel, \"metadata.paramsProp\"))\r\n  });\r\n  const afterSubmit = async ({ data: product }) => {\r\n    await client.service(\"molds\").patch(mold.id, {\r\n      products: [{ ...product, cavities: mold.cavities }]\r\n    });\r\n    reload();\r\n  };\r\n  return (\r\n    <React.Fragment>\r\n      <BreadCrumbs\r\n        links={[\r\n          ...MoldsModel.links,\r\n          {\r\n            text: lodashGet(mold, \"id\")\r\n              ? mold.name\r\n              : lodashGet(MoldsModel, \"metadata.newItemText\"),\r\n            href: `${lodashGet(MoldsModel, \"metadata.formPath\")}/${lodashGet(\r\n              params,\r\n              lodashGet(MoldsModel, \"metadata.paramsProp\")\r\n            )}`\r\n          },\r\n          {\r\n            text: lodashGet(product, \"id\")\r\n              ? product.name\r\n              : lodashGet(ProductsModel, \"metadata.newItemText\"),\r\n            href: `${lodashGet(MoldsModel, \"metadata.formPath\")}/${lodashGet(\r\n              params,\r\n              lodashGet(MoldsModel, \"metadata.paramsProp\")\r\n            )}/products/${lodashGet(\r\n              params,\r\n              lodashGet(ProductsModel, \"metadata.paramsProp\")\r\n            )}`\r\n          }\r\n        ]}\r\n      />\r\n      <MasterDataForm\r\n        model={{\r\n          ...ProductsModel.metadata,\r\n          formPath: `${lodashGet(MoldsModel, \"metadata.formPath\")}/${lodashGet(\r\n            params,\r\n            lodashGet(MoldsModel, \"metadata.paramsProp\")\r\n          )}/products`\r\n        }}\r\n        treeModel={MoldsModel.metadata}\r\n        fields={ProductsModel.form}\r\n        data={product}\r\n        query={MoldsModel.query}\r\n        loading={loading}\r\n        errors={errors}\r\n        hooks={{\r\n          afterSubmit\r\n        }}\r\n        options={{\r\n          ...ProductsModel.options,\r\n          dontRedirect: true,\r\n          // TODO make create new work\r\n          dontCreate: true,\r\n          dontDelete: true\r\n        }}\r\n        customContent={{\r\n          afterForm: ({ data }) =>\r\n            data.id && (\r\n              <MachineMoldProductsTable\r\n                options={ProductsModel.options}\r\n                mold={mold}\r\n                product={data}\r\n              />\r\n            ),\r\n          afterTreeItem: ({ data }) =>\r\n            data.id && (\r\n              <MoldProductsList\r\n                model={{ ...MoldsModel.metadata, icon: \"style\" }}\r\n                mold={data}\r\n              />\r\n            )\r\n        }}\r\n      />\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default withRouter(\r\n  withStyles(styles, { withTheme: true })(MasterDataMoldsFormPage)\r\n);\r\n","import React from \"react\";\r\nimport { Switch } from \"../../utils\";\r\nimport { ClientRoute, withMasterDataListPage, withMasterDataFormPage } from \"../../components\";\r\nimport MasterDataPage from \"./\";\r\nimport UnderConstructionPage from \"../under-construction\";\r\nimport MasterDataMoldsFormPage from \"./molds/Form\";\r\nimport MasterDataMoldProductsFormPage from \"./molds/MoldProductForm\";\r\nimport { MachinesModel, MoldsModel, ProductsModel, SensorsModel, SetupsModel } from \"./models\";\r\n\r\nconst MasterDataRoutes = () => (\r\n  <React.Fragment>\r\n    <Switch>\r\n      <ClientRoute\r\n        exact\r\n        path=\"/master-data\"\r\n        permissions={[\"readMasterData\", \"writeMasterData\"]}\r\n        component={MasterDataPage}\r\n      />\r\n      <ClientRoute\r\n        exact\r\n        path=\"/master-data/machines\"\r\n        permissions={[\"readMasterData\", \"writeMasterData\"]}\r\n        component={() => withMasterDataListPage(MachinesModel)}\r\n      />\r\n      <ClientRoute\r\n        exact\r\n        path=\"/master-data/machines/:machineId\"\r\n        permissions={[\"readMasterData\", \"writeMasterData\"]}\r\n        component={() => withMasterDataFormPage(MachinesModel)}\r\n      />\r\n      <ClientRoute\r\n        exact\r\n        path=\"/master-data/molds\"\r\n        permissions={[\"readMasterData\", \"writeMasterData\"]}\r\n        component={() => withMasterDataListPage(MoldsModel)}\r\n      />\r\n      <ClientRoute\r\n        exact\r\n        path=\"/master-data/molds/:moldId\"\r\n        permissions={[\"readMasterData\", \"writeMasterData\"]}\r\n        component={MasterDataMoldsFormPage}\r\n      />\r\n      <ClientRoute\r\n        exact\r\n        path=\"/master-data/molds/:moldId/products/:productId\"\r\n        permissions={[\"readMasterData\", \"writeMasterData\"]}\r\n        component={MasterDataMoldProductsFormPage}\r\n      />\r\n      <ClientRoute\r\n        exact\r\n        path=\"/master-data/products\"\r\n        permissions={[\"readMasterData\", \"writeMasterData\"]}\r\n        component={() => withMasterDataListPage(ProductsModel)}\r\n      />\r\n      <ClientRoute\r\n        exact\r\n        path=\"/master-data/products/:productId\"\r\n        permissions={[\"readMasterData\", \"writeMasterData\"]}\r\n        component={() => withMasterDataFormPage(ProductsModel)}\r\n      />\r\n      <ClientRoute\r\n        exact\r\n        path=\"/master-data/sensors\"\r\n        permissions={[\"readMasterData\", \"writeMasterData\"]}\r\n        component={() => withMasterDataListPage(SensorsModel)}\r\n      />\r\n      <ClientRoute\r\n        exact\r\n        path=\"/master-data/sensors/:sensorId\"\r\n        permissions={[\"readMasterData\", \"writeMasterData\"]}\r\n        component={() => withMasterDataFormPage(SensorsModel)}\r\n      />\r\n      <ClientRoute\r\n        exact\r\n        path=\"/master-data/setups\"\r\n        permissions={[\"readMasterData\", \"writeMasterData\"]}\r\n        component={() => withMasterDataListPage(SetupsModel)}\r\n      />\r\n      <ClientRoute\r\n        exact\r\n        path=\"/master-data/setups/:setupId\"\r\n        permissions={[\"readMasterData\", \"writeMasterData\"]}\r\n        component={() => withMasterDataFormPage(SetupsModel)}\r\n      />\r\n      <ClientRoute default component={UnderConstructionPage} />\r\n    </Switch>\r\n  </React.Fragment>\r\n);\r\n\r\nexport default MasterDataRoutes;\r\n","import React from \"react\";\r\nimport { withAdministrationPage } from \"../../components\";\r\nimport { MachineIcon } from \"../../utils/svgIcons\";\r\nimport { useAuth, lodashGet } from \"../../utils\";\r\n\r\nconst actions = ({ level }) => [\r\n  {\r\n    name: \"Sistema\",\r\n    icon: \"domain\",\r\n    actions: [\r\n      {\r\n        name: \"Grupos de Atributos\",\r\n        href: \"/administration/attributes\",\r\n        permissions: [\"crudAdminData\"]\r\n      },\r\n      {\r\n        name: \"Tipos de Ordem de Produção\",\r\n        href: \"/administration/production-order-types\",\r\n        permissions: [\"crudAdminData\"],\r\n        disabled: level !== \"N1\"\r\n      },\r\n      {\r\n        name: \"Eventos de Ordem de Produção\",\r\n        href: \"/administration/production-order-event-types\",\r\n        permissions: [\"crudAdminData\"]\r\n      },\r\n      {\r\n        name: \"Motivos de Refugo\",\r\n        href: \"/administration/waste-justifications\",\r\n        permissions: [\"crudAdminData\"],\r\n        disabled: level !== \"N1\"\r\n      },\r\n      {\r\n        name: \"Locais\",\r\n        href: \"/administration/plants\",\r\n        permissions: [\"crudAdminData\"]\r\n      },\r\n      {\r\n        name: \"Usuários\",\r\n        href: \"/administration/users\",\r\n        permissions: [\"crudUserData\"]\r\n      }\r\n    ],\r\n    permissions: [\"crudAdminData\", \"crudUserData\"]\r\n  },\r\n  {\r\n    name: \"Máquinas\",\r\n    svgIcon: (\r\n      <MachineIcon\r\n        style={{ fontSize: 24, color: \"white\", marginRight: \"8px\" }}\r\n      />\r\n    ),\r\n    actions: [\r\n      {\r\n        name: \"Tipos de Máquinas\",\r\n        href: \"/administration/machine-types\",\r\n        permissions: [\"crudAdminData\"]\r\n      },\r\n      {\r\n        name: \"Tipos de Bico\",\r\n        href: \"/administration/nozzle-types\",\r\n        permissions: [\"crudAdminData\"]\r\n      }\r\n    ],\r\n    permissions: [\"crudAdminData\"]\r\n  },\r\n  // {\r\n  //   name: \"Domínios de Moldes\",\r\n  //   icon: \"broken_image\",\r\n  //   actions: []\r\n  // },\r\n  {\r\n    name: \"Produtos\",\r\n    icon: \"style\",\r\n    actions: [\r\n      {\r\n        name: \"Tipos de Produtos\",\r\n        href: \"/administration/product-mat-types\",\r\n        permissions: [\"crudAdminData\"]\r\n      }\r\n    ],\r\n    permissions: [\"crudAdminData\"],\r\n    disabled: level !== \"N1\"\r\n  }\r\n  // {\r\n  //   name: \"Domínios de Sensores\",\r\n  //   icon: \"memory\",\r\n  //   actions: []\r\n  // }\r\n];\r\n\r\nconst AdministrationPage = () => {\r\n  const { session } = useAuth();\r\n  const level = lodashGet(session, \"company.level\");\r\n  return withAdministrationPage({ actions: actions({ level }) });\r\n};\r\n\r\nexport default AdministrationPage;\r\n","import React, { useContext, useState } from \"react\";\r\nimport {\r\n  Grid,\r\n  Avatar,\r\n  Icon,\r\n  Paper,\r\n  TextField,\r\n  Typography,\r\n  SnackbarContent\r\n} from \"@material-ui/core\";\r\nimport ApiContext from \"../../api\";\r\nimport { withRouter, withStyles, useAuth } from \"../../utils\";\r\nimport { Loader, Errors, Button } from \"../../components\";\r\n\r\nconst styles = theme => ({\r\n  wrapper: {\r\n    width: 400,\r\n    marginTop: theme.spacing(10),\r\n    padding: `${theme.spacing(2)}px ${theme.spacing(3)}px ${theme.spacing(3)}px`\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main\r\n  },\r\n  textField: {\r\n    margin: 0,\r\n    minWidth: 250,\r\n    backgroundColor: theme.palette.common.white\r\n  },\r\n  success: {\r\n    margin: `0 auto ${theme.spacing(1)}px`,\r\n    backgroundColor: theme.palette.secondary.main,\r\n    whiteSpace: \"pre-wrap\",\r\n    \"&>div\": {\r\n      padding: 0\r\n    }\r\n  }\r\n});\r\n\r\nconst LoginPage = ({ history, match: { params }, classes }) => {\r\n  const { session } = useAuth();\r\n  const client = useContext(ApiContext);\r\n  const [loginForm, setLoginForm] = useState({\r\n    companyUUID: params.companyUUID\r\n  });\r\n  const [loading, setLoading] = useState();\r\n  const [errors, setErrors] = useState();\r\n  const [success, setSuccess] = useState();\r\n  const passwordInputProps = {\r\n    autoFocus: true\r\n  };\r\n  const handleChange = ({ target }) => {\r\n    setLoginForm(prev => ({ ...prev, [target.name]: target.value }));\r\n  };\r\n  const handleChangePassword = async e => {\r\n    e.preventDefault();\r\n    if (loading) {\r\n      return;\r\n    }\r\n    setLoading(true);\r\n    setErrors();\r\n    try {\r\n      if (\r\n        session.userId &&\r\n        loginForm.newPassword &&\r\n        loginForm.confirmPassword &&\r\n        loginForm.newPassword === loginForm.confirmPassword\r\n      ) {\r\n        await client.service(\"users\").patch(session.userId, { password: loginForm.newPassword });\r\n        setLoginForm({\r\n          companyUUID: params.companyUUID\r\n        });\r\n        setSuccess(true);\r\n      } else {\r\n        throw new Error();\r\n      }\r\n    } catch (error) {\r\n      setErrors(\"A senha deve ser confirmada\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n  return (\r\n    <Grid container direction=\"column\" alignItems=\"center\">\r\n      <Paper className={classes.wrapper}>\r\n        <form>\r\n          <Grid container direction=\"column\" spacing={10}>\r\n            {loading && <Loader />}\r\n            {errors && <Errors errors={errors} />}\r\n            {success && <SnackbarContent className={classes.success} message=\"Senha alterada\" />}\r\n            <Grid item container direction=\"column\" alignItems=\"center\" spacing={0}>\r\n              <Avatar className={classes.avatar}>\r\n                <Icon>lock_outlined</Icon>\r\n              </Avatar>\r\n              <Typography variant=\"h6\">Redefinição de Senha</Typography>\r\n            </Grid>\r\n            <Grid item>\r\n              <TextField\r\n                fullWidth\r\n                required\r\n                type=\"password\"\r\n                name=\"newPassword\"\r\n                label=\"Nova Senha\"\r\n                inputProps={passwordInputProps}\r\n                className={classes.textField}\r\n                value={loginForm.newPassword || \"\"}\r\n                onChange={handleChange}\r\n                margin=\"normal\"\r\n              />\r\n            </Grid>\r\n            <Grid item>\r\n              <TextField\r\n                fullWidth\r\n                required\r\n                type=\"password\"\r\n                name=\"confirmPassword\"\r\n                label=\"Confirmar Senha\"\r\n                className={classes.textField}\r\n                value={loginForm.confirmPassword || \"\"}\r\n                onChange={handleChange}\r\n                margin=\"normal\"\r\n              />\r\n            </Grid>\r\n            <Grid item>\r\n              <Button\r\n                text=\"Mudar senha\"\r\n                type=\"submit\"\r\n                fullWidth\r\n                variants=\"submit\"\r\n                onClick={handleChangePassword}\r\n              />\r\n            </Grid>\r\n          </Grid>\r\n        </form>\r\n      </Paper>\r\n    </Grid>\r\n  );\r\n};\r\n\r\nexport default withRouter(withStyles(styles, { withTheme: true })(LoginPage));\r\n","import { lodashGet, useAuth } from \"../../../utils\";\r\n\r\nexport const list = [\r\n  {\r\n    text: \"Nome\",\r\n    identity: \"name\",\r\n    filter: {\r\n      type: \"string\"\r\n    }\r\n  },\r\n  {\r\n    text: \"Descrição\",\r\n    identity: \"description\",\r\n    filter: {\r\n      type: \"string\"\r\n    }\r\n  },\r\n  {\r\n    text: \"Status\",\r\n    identity: \"plant_status.name\",\r\n    customContent: { dontFilterWhenChild: true },\r\n    model: {\r\n      service: \"plant_statuses\",\r\n      identity: \"plantStatusId\"\r\n    }\r\n  }\r\n];\r\n\r\nexport const form = [\r\n  [\r\n    [\r\n      {\r\n        text: \"Nome\",\r\n        identity: \"name\",\r\n        autoFocus: true,\r\n        required: true,\r\n        type: \"string\"\r\n      },\r\n      {\r\n        text: \"Descrição\",\r\n        identity: \"description\",\r\n        type: \"string\"\r\n      },\r\n      {\r\n        text: \"Status\",\r\n        identity: \"plantStatusId\",\r\n        required: true,\r\n        model: \"plant_statuses\",\r\n        defaultValue: {\r\n          config: \"plant.status.init\"\r\n        }\r\n      }\r\n    ],\r\n    [\r\n      {\r\n        text: \"Horas Trabalhadas/Semana\",\r\n        identity: \"hoursPerWeek\",\r\n        type: \"decimal\",\r\n        readOnly: {\r\n          ifThis: \"turns.length\"\r\n        }\r\n      },\r\n      {\r\n        text: \"Tempo para notificação (min)\",\r\n        identity: \"notificationTimeMIN\",\r\n        type: \"decimal\",\r\n        defaultValue: 5,\r\n        minValue: 1,\r\n        maxValue: 15,\r\n        handleChange: ({ data = {}, handleChange }) => {\r\n          const value = lodashGet(data, 'target.value');\r\n          if (value < 1) {\r\n            setTimeout(() => {\r\n              handleChange({\r\n                target: {\r\n                  name: 'notificationTimeMIN',\r\n                  value: 1\r\n                }\r\n              })\r\n            }, 0)\r\n          }\r\n          if (value > 15) {\r\n            setTimeout(() => {\r\n              handleChange({\r\n                target: {\r\n                  name: 'notificationTimeMIN',\r\n                  value: 15\r\n                }\r\n              })\r\n            }, 0)\r\n          }\r\n        }\r\n      }\r\n    ]\r\n  ],\r\n  [\r\n    [\r\n      {\r\n        text: \"Apontar Qualidade\",\r\n        identity: \"qualityTrackType\",\r\n        required: true,\r\n        enum: [\"Q Refugo\", \"Q Confirmada\"],\r\n        readOnly: {\r\n          useCustomIf: ({ }) => {\r\n            const { session } = useAuth();\r\n            const level = lodashGet(session, \"company.level\");\r\n            return level !== \"N1\";\r\n          }\r\n        }\r\n      },\r\n      {\r\n        text: \"Frequencia\",\r\n        identity: \"qualityTrackFrequency\",\r\n        required: true,\r\n        // enum: [\"Horario\", \"Turno\", \"Diario\", \"Encerramento\"]\r\n        enum: [\"Turno\", \"Diario\", \"Encerramento\"],\r\n        readOnly: {\r\n          useCustomIf: ({ }) => {\r\n            const { session } = useAuth();\r\n            const level = lodashGet(session, \"company.level\");\r\n            return level !== \"N1\";\r\n          }\r\n        }\r\n      }\r\n    ],\r\n    [\r\n      {\r\n        text: \"Motivo Refugo\",\r\n        identity: \"wasteJustification\",\r\n        type: \"boolean\",\r\n        readOnly: {\r\n          useCustomIf: ({ }) => {\r\n            const { session } = useAuth();\r\n            const level = lodashGet(session, \"company.level\");\r\n            return level !== \"N1\";\r\n          }\r\n        }\r\n      },\r\n      {\r\n        text: \"Refugo Automatico SETUP/PARADA PROG\",\r\n        identity: \"wasteAutoTrack\",\r\n        type: \"boolean\",\r\n        readOnly: {\r\n          useCustomIf: ({ }) => {\r\n            const { session } = useAuth();\r\n            const level = lodashGet(session, \"company.level\");\r\n            return level !== \"N1\";\r\n          }\r\n        }\r\n      },\r\n      {\r\n        text: \"Notas para OP\",\r\n        identity: \"PONotes\",\r\n        type: \"boolean\",\r\n        readOnly: {\r\n          useCustomIf: ({ }) => {\r\n            const { session } = useAuth();\r\n            const level = lodashGet(session, \"company.level\");\r\n            return level !== \"N1\";\r\n          }\r\n        }\r\n      }\r\n    ]\r\n  ]\r\n];\r\n\r\nexport const links = [\r\n  {\r\n    text: \"Administração\",\r\n    href: \"/administration\"\r\n  },\r\n  {\r\n    text: \"Locais\",\r\n    href: \"/administration/plants\"\r\n  }\r\n];\r\n\r\nexport const metadata = {\r\n  name: \"plants\",\r\n  listPath: \"/administration/plants\",\r\n  formPath: \"/administration/plants\",\r\n  paramsProp: \"plantId\",\r\n  newItemText: \"Novo Local\"\r\n};\r\n\r\nexport default {\r\n  metadata,\r\n  list,\r\n  form,\r\n  links,\r\n  options: {\r\n    dontCopy: true\r\n  }\r\n};\r\n","import React from \"react\";\r\nimport { withStyles } from \"../../../utils\";\r\nimport { withMasterDataFormPage, PlantTurnsTable, PlantHolidaysTable } from \"../../../components\";\r\nimport PlatnsModel from \"./model\";\r\n\r\nconst styles = theme => ({});\r\n\r\nconst AdminPlantFormPage = ({ classes }) =>\r\n  withMasterDataFormPage({\r\n    ...PlatnsModel,\r\n    customContent: {\r\n      afterForm: ({ data, handleChange }) =>\r\n        data.id && (\r\n          <React.Fragment>\r\n            <PlantTurnsTable\r\n              options={PlatnsModel.options}\r\n              plant={data}\r\n              handleChange={handleChange}\r\n            />\r\n            <PlantHolidaysTable options={PlatnsModel.options} plant={data} />\r\n          </React.Fragment>\r\n        )\r\n    }\r\n  });\r\n\r\nexport default withStyles(styles, { withTheme: true })(AdminPlantFormPage);\r\n","export const list = [\r\n  {\r\n    text: \"Nome\",\r\n    identity: \"name\",\r\n    filter: {\r\n      type: \"string\"\r\n    }\r\n  },\r\n  {\r\n    text: \"Descrição\",\r\n    identity: \"description\",\r\n    filter: {\r\n      type: \"string\"\r\n    }\r\n  }\r\n];\r\n\r\nexport const form = [\r\n  [\r\n    {\r\n      text: \"Nome\",\r\n      identity: \"name\",\r\n      autoFocus: true,\r\n      required: true,\r\n      type: \"string\"\r\n    },\r\n    {\r\n      text: \"Descrição\",\r\n      identity: \"description\",\r\n      type: \"string\"\r\n    }\r\n  ]\r\n];\r\n\r\nexport const links = [\r\n  {\r\n    text: \"Administração\",\r\n    href: \"/administration\"\r\n  },\r\n  {\r\n    text: \"Grupos de Atributos\",\r\n    href: \"/administration/attributes\"\r\n  }\r\n];\r\n\r\nexport const metadata = {\r\n  name: \"attribute_groups\",\r\n  listPath: \"/administration/attributes\",\r\n  formPath: \"/administration/attributes\",\r\n  paramsProp: \"attributeId\",\r\n  newItemText: \"Novo Grupo de Atributos\"\r\n};\r\n\r\nexport default { metadata, list, form, links };\r\n","export const list = [\r\n  {\r\n    text: \"Nome\",\r\n    identity: \"name\",\r\n    filter: {\r\n      type: \"string\"\r\n    }\r\n  },\r\n  {\r\n    text: \"Descrição\",\r\n    identity: \"description\",\r\n    filter: {\r\n      type: \"string\"\r\n    }\r\n  }\r\n];\r\n\r\nexport const form = [\r\n  [\r\n    {\r\n      text: \"Nome\",\r\n      identity: \"name\",\r\n      autoFocus: true,\r\n      required: true,\r\n      type: \"string\"\r\n    },\r\n    {\r\n      text: \"Descrição\",\r\n      identity: \"description\",\r\n      type: \"string\"\r\n    },\r\n    {\r\n      text: \"Tipo Em Produção\",\r\n      identity: \"isInProduction\",\r\n      type: \"boolean\"\r\n    }\r\n  ]\r\n];\r\n\r\nexport const links = [\r\n  {\r\n    text: \"Administração\",\r\n    href: \"/administration\"\r\n  },\r\n  {\r\n    text: \"Tipos de Ordem de Produção\",\r\n    href: \"/administration/production-order-types\"\r\n  }\r\n];\r\n\r\nexport const metadata = {\r\n  name: \"production_order_types\",\r\n  listPath: \"/administration/production-order-types\",\r\n  formPath: \"/administration/production-order-types\",\r\n  paramsProp: \"productionOrderTypeId\",\r\n  newItemText: \"Novo Tipo de Ordem de Produção\"\r\n};\r\n\r\nexport default { metadata, list, form, links };\r\n","import React from \"react\";\r\nimport { withStyles, getColor } from \"../../../utils\";\r\n\r\nconst styles = theme => ({\r\n  color: {\r\n    marginLeft: 20,\r\n    height: 30,\r\n    width: 30,\r\n    borderRadius: \"50%\"\r\n  }\r\n});\r\n\r\nconst Color = withStyles(styles, { withTheme: true })(({ classes, data = {} }) => (\r\n  <div\r\n    className={classes.color}\r\n    style={{\r\n      background: getColor({\r\n        data,\r\n        path: \"production_order_action_type.color\"\r\n      })\r\n    }}\r\n  />\r\n));\r\n\r\nexport default Color;\r\n","import React from \"react\";\r\nimport { lodashGet } from \"../../../utils\";\r\nimport Color from \"./Color\";\r\n\r\nexport const list = [\r\n  {\r\n    text: \"Nome\",\r\n    identity: \"name\",\r\n    filter: {\r\n      type: \"string\"\r\n    }\r\n  },\r\n  {\r\n    text: \"Descrição\",\r\n    identity: \"description\",\r\n    filter: {\r\n      type: \"string\"\r\n    }\r\n  },\r\n  {\r\n    text: \"Cor\",\r\n    identity: \"color\",\r\n    customData: ({ ...props }) => <Color {...props} />\r\n  },\r\n  {\r\n    text: \"Tipo de Evento\",\r\n    identity: \"production_order_action_type.name\",\r\n    model: {\r\n      service: \"production_order_action_types\",\r\n      identity: \"productionOrderActionTypeId\"\r\n    }\r\n  }\r\n];\r\n\r\nexport const form = [\r\n  [\r\n    {\r\n      text: \"Nome\",\r\n      identity: \"name\",\r\n      autoFocus: true,\r\n      required: true,\r\n      type: \"string\"\r\n    },\r\n    {\r\n      text: \"Descrição\",\r\n      identity: \"description\",\r\n      type: \"string\"\r\n    }\r\n  ],\r\n  [\r\n    {\r\n      text: \"Ícone\",\r\n      identity: \"icon\",\r\n      type: \"icon\"\r\n    },\r\n    {\r\n      text: \"Tipo de Evento\",\r\n      identity: \"productionOrderActionTypeId\",\r\n      model: {\r\n        service: \"production_order_action_types\",\r\n        query: { isSystemEvent: null }\r\n      }\r\n    }\r\n  ]\r\n];\r\n\r\nexport const links = [\r\n  {\r\n    text: \"Administração\",\r\n    href: \"/administration\"\r\n  },\r\n  {\r\n    text: \"Eventos de Ordem de Produção\",\r\n    href: \"/administration/production-order-event-types\"\r\n  }\r\n];\r\n\r\nexport const metadata = {\r\n  name: \"production_order_event_types\",\r\n  listPath: \"/administration/production-order-event-types\",\r\n  formPath: \"/administration/production-order-event-types\",\r\n  paramsProp: \"productionOrderEventTypeId\",\r\n  newItemText: \"Novo Evento de Ordem de Produção\"\r\n};\r\n\r\nexport default {\r\n  metadata,\r\n  list,\r\n  form,\r\n  links,\r\n  customContent: {\r\n    dontEdit: ({ data }) => !lodashGet(data, \"isSystemEvent\"),\r\n    dontDelete: ({ data }) => !lodashGet(data, \"isSystemEvent\")\r\n  }\r\n};\r\n","export const list = [\r\n  {\r\n    text: \"Nome\",\r\n    identity: \"name\",\r\n    filter: {\r\n      type: \"string\"\r\n    }\r\n  },\r\n  {\r\n    text: \"Descrição\",\r\n    identity: \"description\",\r\n    filter: {\r\n      type: \"string\"\r\n    }\r\n  }\r\n];\r\n\r\nexport const form = [\r\n  [\r\n    {\r\n      text: \"Nome\",\r\n      identity: \"name\",\r\n      autoFocus: true,\r\n      required: true,\r\n      type: \"string\"\r\n    },\r\n    {\r\n      text: \"Descrição\",\r\n      identity: \"description\",\r\n      type: \"string\"\r\n    }\r\n  ]\r\n];\r\n\r\nexport const links = [\r\n  {\r\n    text: \"Administração\",\r\n    href: \"/administration\"\r\n  },\r\n  {\r\n    text: \"Tipos de Máquinas\",\r\n    href: \"/administration/machine-types\"\r\n  }\r\n];\r\n\r\nexport const metadata = {\r\n  name: \"machine_types\",\r\n  listPath: \"/administration/machine-types\",\r\n  formPath: \"/administration/machine-types\",\r\n  paramsProp: \"machineTypeId\",\r\n  newItemText: \"Novo Tipo de Máquina\"\r\n};\r\n\r\nexport default { metadata, list, form, links };\r\n","export const list = [\r\n  {\r\n    text: \"Nome\",\r\n    identity: \"name\",\r\n    filter: {\r\n      type: \"string\"\r\n    }\r\n  },\r\n  {\r\n    text: \"Descrição\",\r\n    identity: \"description\",\r\n    filter: {\r\n      type: \"string\"\r\n    }\r\n  }\r\n];\r\n\r\nexport const form = [\r\n  [\r\n    {\r\n      text: \"Nome\",\r\n      identity: \"name\",\r\n      autoFocus: true,\r\n      required: true,\r\n      type: \"string\"\r\n    },\r\n    {\r\n      text: \"Descrição\",\r\n      identity: \"description\",\r\n      type: \"string\"\r\n    }\r\n  ]\r\n];\r\n\r\nexport const links = [\r\n  {\r\n    text: \"Administração\",\r\n    href: \"/administration\"\r\n  },\r\n  {\r\n    text: \"Tipos de Bico\",\r\n    href: \"/administration/nozzle-types\"\r\n  }\r\n];\r\n\r\nexport const metadata = {\r\n  name: \"nozzle_types\",\r\n  listPath: \"/administration/nozzle-types\",\r\n  formPath: \"/administration/nozzle-types\",\r\n  paramsProp: \"nozzleTypeId\",\r\n  newItemText: \"Novo Tipo de Bico\"\r\n};\r\n\r\nexport default { metadata, list, form, links };\r\n","export const list = [\r\n  {\r\n    text: \"Nome\",\r\n    identity: \"name\",\r\n    filter: {\r\n      type: \"string\"\r\n    }\r\n  },\r\n  {\r\n    text: \"Descrição\",\r\n    identity: \"description\",\r\n    filter: {\r\n      type: \"string\"\r\n    }\r\n  }\r\n];\r\n\r\nexport const form = [\r\n  [\r\n    {\r\n      text: \"Nome\",\r\n      identity: \"name\",\r\n      autoFocus: true,\r\n      required: true,\r\n      type: \"string\"\r\n    },\r\n    {\r\n      text: \"Descrição\",\r\n      identity: \"description\",\r\n      type: \"string\"\r\n    }\r\n  ]\r\n];\r\n\r\nexport const links = [\r\n  {\r\n    text: \"Administração\",\r\n    href: \"/administration\"\r\n  },\r\n  {\r\n    text: \"Tipos de Produtos\",\r\n    href: \"/administration/product-mat-types\"\r\n  }\r\n];\r\n\r\nexport const metadata = {\r\n  name: \"product_mat_types\",\r\n  listPath: \"/administration/product-mat-types\",\r\n  formPath: \"/administration/product-mat-types\",\r\n  paramsProp: \"productMatTypeId\",\r\n  newItemText: \"Novo Tipo de Produto\"\r\n};\r\n\r\nexport default { metadata, list, form, links };\r\n","import React, { useContext, useState } from \"react\";\r\nimport { Icon } from \"@material-ui/core\";\r\nimport ApiContext from \"../../../api\";\r\nimport { withStyles } from \"../../../utils\";\r\nimport Button from \"../../../components/buttons\";\r\nimport Loader from \"../../../components/loader\";\r\nimport Errors from \"../../../components/errors\";\r\n\r\nconst styles = theme => ({\r\n  actions: {\r\n    position: \"relative\",\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\"\r\n  },\r\n  loader: {\r\n    height: \"100%\",\r\n    width: \"100%\",\r\n    background: \"rgba(255,255,255,.5)\",\r\n    zIndex: 1,\r\n    position: \"absolute\",\r\n    right: 0,\r\n    top: 0,\r\n    padding: \"0 8px\",\r\n    \"&>div\": {\r\n      position: \"relative\",\r\n      top: 25\r\n    }\r\n  },\r\n  icon: {\r\n    fontSize: 30,\r\n    color: theme.palette.primary.main\r\n  }\r\n});\r\n\r\nconst SendEmailAction = withStyles(styles, { withTheme: true })(({ classes, data = {}, field }) => {\r\n  const client = useContext(ApiContext);\r\n  const [loading, setLoading] = useState();\r\n  const [errors, setErrors] = useState();\r\n  const [send, setSend] = useState();\r\n  const handleSendEmail = async () => {\r\n    setLoading(true);\r\n    setErrors();\r\n    try {\r\n      await client.service(\"users\").patch(data.id, {}, { query: { $sendEmail: true } });\r\n      setSend(true);\r\n    } catch (error) {\r\n      setErrors(error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n  return (\r\n    !!data.id && (\r\n      <div className={classes.actions}>\r\n        {loading && (\r\n          <div className={classes.loader}>\r\n            <Loader />\r\n          </div>\r\n        )}\r\n        <Button text=\"(Re) Iniciar Senha\" icon=\"mail\" onClick={handleSendEmail} />\r\n        {send && <Icon className={classes.icon}>done</Icon>}\r\n        {errors && <Errors errors={errors} />}\r\n      </div>\r\n    )\r\n  );\r\n});\r\n\r\nexport default SendEmailAction;\r\n","import React, { useContext, useState } from \"react\";\r\nimport { Icon } from \"@material-ui/core\";\r\nimport ApiContext from \"../../../api\";\r\nimport { withStyles } from \"../../../utils\";\r\nimport Button from \"../../../components/buttons\";\r\nimport Loader from \"../../../components/loader\";\r\nimport Errors from \"../../../components/errors\";\r\n\r\nconst styles = theme => ({\r\n  actions: {\r\n    position: \"relative\",\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\"\r\n  },\r\n  loader: {\r\n    height: \"100%\",\r\n    width: \"100%\",\r\n    background: \"rgba(255,255,255,.5)\",\r\n    zIndex: 1,\r\n    position: \"absolute\",\r\n    right: 0,\r\n    top: 0,\r\n    padding: \"0 8px\",\r\n    \"&>div\": {\r\n      position: \"relative\",\r\n      top: 25\r\n    }\r\n  },\r\n  icon: {\r\n    fontSize: 30,\r\n    color: theme.palette.primary.main\r\n  }\r\n});\r\n\r\nconst SendReportAction = withStyles(styles, { withTheme: true })(({ classes, data = {}, type }) => {\r\n  const client = useContext(ApiContext);\r\n  const [loading, setLoading] = useState();\r\n  const [errors, setErrors] = useState();\r\n  const [send, setSend] = useState();\r\n  const handleSendEmail = async () => {\r\n    setLoading(true);\r\n    setErrors();\r\n    try {\r\n      await client.service(\"users\").patch(data.id, {}, { query: { $sendReport: type } });\r\n      setSend(true);\r\n    } catch (error) {\r\n      setErrors(error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n  return (\r\n    !!data.id && (\r\n      <div className={classes.actions}>\r\n        {loading && (\r\n          <div className={classes.loader}>\r\n            <Loader />\r\n          </div>\r\n        )}\r\n        <Button text=\"Enviar Relatório\" icon=\"mail\" onClick={handleSendEmail} />\r\n        {send && <Icon className={classes.icon}>done</Icon>}\r\n        {errors && <Errors errors={errors} />}\r\n      </div>\r\n    )\r\n  );\r\n});\r\n\r\nexport default SendReportAction;\r\n","import React from \"react\";\r\nimport { Icon, Tooltip, Typography } from \"@material-ui/core\";\r\nimport { withStyles } from \"../../../utils\";\r\n\r\nconst styles = theme => ({\r\n  tooltip: {\r\n    position: \"absolute\",\r\n    right: -10\r\n  },\r\n  icon: {\r\n    color: theme.palette.primary.header\r\n  },\r\n  label: {\r\n    color: theme.palette.common.white\r\n  }\r\n});\r\n\r\nconst RoleHelp = withStyles(styles, { withTheme: true })(\r\n  ({ classes, option = {}, data = {}, field }) => {\r\n    return (\r\n      <Tooltip\r\n        className={classes.tooltip}\r\n        placement=\"right\"\r\n        title={\r\n          <React.Fragment>\r\n            {option.writeMasterData && (\r\n              <Typography className={classes.label} variant=\"body1\">\r\n                - Criar/Modificar Cadastros\r\n              </Typography>\r\n            )}\r\n            {option.readMasterData && (\r\n              <Typography className={classes.label} variant=\"body1\">\r\n                - Visualizar Cadastros\r\n              </Typography>\r\n            )}\r\n            {option.crudAdminData && (\r\n              <Typography className={classes.label} variant=\"body1\">\r\n                - Acesso a Dados Administração\r\n              </Typography>\r\n            )}\r\n            {option.crudUserData && (\r\n              <Typography className={classes.label} variant=\"body1\">\r\n                - Cadastro Usuario/Perfil\r\n              </Typography>\r\n            )}\r\n            {option.writeActiveProductionOrders && (\r\n              <Typography className={classes.label} variant=\"body1\">\r\n                - Criar Ordens Produção\r\n              </Typography>\r\n            )}\r\n            {option.writeScheduledStopProductionOrders && (\r\n              <Typography className={classes.label} variant=\"body1\">\r\n                - Criar Ordens Não Produção\r\n              </Typography>\r\n            )}\r\n            {option.openProductionOrders && (\r\n              <Typography className={classes.label} variant=\"body1\">\r\n                - Liberar Ordens (sequenciaador)\r\n              </Typography>\r\n            )}\r\n            {option.writeProductionOrderEvents && (\r\n              <Typography className={classes.label} variant=\"body1\">\r\n                - Apontar Eventos Ordem\r\n              </Typography>\r\n            )}\r\n            {option.editProductionOrderEvents && (\r\n              <Typography className={classes.label} variant=\"body1\">\r\n                - Modificar Eventos Ordem\r\n              </Typography>\r\n            )}\r\n            {option.readProductionOrders && (\r\n              <Typography className={classes.label} variant=\"body1\">\r\n                - Visualizar Ordens\r\n              </Typography>\r\n            )}\r\n            {option.readProductionOrderReports && (\r\n              <Typography className={classes.label} variant=\"body1\">\r\n                - Visualizar Relatorios\r\n              </Typography>\r\n            )}\r\n            {option.readPendingWaste && (\r\n              <Typography className={classes.label} variant=\"body1\">\r\n                - Visualizar Refugo\r\n              </Typography>\r\n            )}\r\n            {option.writePendingWaste && (\r\n              <Typography className={classes.label} variant=\"body1\">\r\n                - Apontar Refugo\r\n              </Typography>\r\n            )}\r\n            {option.editPendingWaste && (\r\n              <Typography className={classes.label} variant=\"body1\">\r\n                - Modificar Refugo\r\n              </Typography>\r\n            )}\r\n          </React.Fragment>\r\n        }\r\n      >\r\n        <Icon className={classes.icon}>help</Icon>\r\n      </Tooltip>\r\n    );\r\n  }\r\n);\r\n\r\nexport default RoleHelp;\r\n","import React from \"react\";\r\nimport moment from \"moment\";\r\nimport { lodashGet, lodashMap } from \"../../../utils\";\r\nimport SendEmailAction from \"./SendEmailAction\";\r\nimport SendReportAction from \"./SendReportAction\";\r\nimport RoleHelp from \"./RoleHelp\";\r\n\r\nexport const list = [\r\n  {\r\n    text: \"Nome\",\r\n    identity: \"name\",\r\n    filter: {\r\n      type: \"string\"\r\n    }\r\n  },\r\n  {\r\n    text: \"Email\",\r\n    identity: \"email\",\r\n    filter: {\r\n      type: \"string\"\r\n    }\r\n  },\r\n  {\r\n    text: \"Perfis\",\r\n    identity: \"roles\",\r\n    customContent: { dontFilter: true },\r\n    customData: ({ data = {} }) => lodashMap(data.roles, r => r.name).join(\", \")\r\n  },\r\n  {\r\n    text: \"Status\",\r\n    identity: \"user_status.name\",\r\n    model: {\r\n      service: \"user_statuses\",\r\n      identity: \"userStatusId\"\r\n    }\r\n  }\r\n];\r\n\r\nexport const form = [\r\n  [\r\n    {\r\n      text: \"Nome\",\r\n      identity: \"name\",\r\n      autoFocus: true,\r\n      required: true,\r\n      type: \"string\"\r\n    },\r\n    {\r\n      text: \"Status\",\r\n      identity: \"userStatusId\",\r\n      required: true,\r\n      model: \"user_statuses\",\r\n      defaultValue: {\r\n        config: \"user.status.init\"\r\n      }\r\n    },\r\n    {\r\n      text: \"Data Inclusão\",\r\n      identity: \"creationDate\",\r\n      readOnly: true,\r\n      show: {\r\n        ifThis: \"id\"\r\n      },\r\n      type: \"string\",\r\n      defaultValue: {\r\n        customValue: async ({ data = {}, field, handleChange }) => {\r\n          const date = moment(lodashGet(data, \"createdAt\")).format(\r\n            \"DD/MM/YYYY HH:mm\"\r\n          );\r\n          handleChange({\r\n            target: { name: field.identity, value: date }\r\n          });\r\n        }\r\n      }\r\n    }\r\n  ],\r\n  [\r\n    {\r\n      text: \"Email\",\r\n      identity: \"email\",\r\n      required: true,\r\n      type: \"email\",\r\n      customData: ({ ...props }) => <SendEmailAction {...props} />\r\n    }\r\n  ],\r\n  [\r\n    {\r\n      text: \"Fone\",\r\n      identity: \"phone\",\r\n      type: \"string\"\r\n    }\r\n  ],\r\n  [\r\n    {\r\n      text: \"Enviar Relatório de Produção Diario\",\r\n      identity: \"sendDailyReport\",\r\n      type: \"boolean\",\r\n      customData: ({ ...props }) => (\r\n        <SendReportAction type=\"sendDailyReport\" {...props} />\r\n      )\r\n    }\r\n  ],\r\n  [\r\n    {\r\n      text: \"Enviar Relatório de Produção Semanal\",\r\n      identity: \"sendWeeklyReport\",\r\n      type: \"boolean\",\r\n      customData: ({ ...props }) => (\r\n        <SendReportAction type=\"sendWeeklyReport\" {...props} />\r\n      )\r\n    }\r\n  ],\r\n  [\r\n    {\r\n      text: \"Perfil Usuario\",\r\n      identity: \"roles\",\r\n      model: {\r\n        service: \"roles\",\r\n        query: {\r\n          name: { $nin: [\"sysadmin\"] }\r\n        }\r\n      },\r\n      type: \"checklist\",\r\n      handleValidate: ({ data = {} }) => {\r\n        const value = lodashGet(data, \"target.value\");\r\n        if (!value || !value.length) {\r\n          return \"Selecione pelo menos 1 perfil\";\r\n        }\r\n        return true;\r\n      },\r\n      customContent: {\r\n        customOptionContent: ({ ...props }) => <RoleHelp {...props} />\r\n      }\r\n    },\r\n    {\r\n      identity: \"roles:delete\",\r\n      show: false,\r\n      type: \"checklist\"\r\n    }\r\n  ]\r\n];\r\n\r\nexport const links = [\r\n  { text: \"Administração\", href: \"/administration\" },\r\n  {\r\n    text: \"Usuários\",\r\n    href: \"/administration/users\"\r\n  }\r\n];\r\n\r\nexport const metadata = {\r\n  name: \"users\",\r\n  listPath: \"/administration/users\",\r\n  formPath: \"/administration/users\",\r\n  paramsProp: \"userId\",\r\n  newItemText: \"Novo Usuário\"\r\n};\r\n\r\nexport default {\r\n  metadata,\r\n  list,\r\n  form,\r\n  links,\r\n  query: {\r\n    $sort: { name: 1 }\r\n  }\r\n};\r\n","import eAttributesModel from \"./attributes/model\";\r\nimport eProductionOrderTypesModel from \"./production-order-types/model\";\r\nimport eProductionOrderEventTypesModel from \"./production-order-event-types/model\";\r\nimport eMachineTypesModel from \"./machine-types/model\";\r\nimport eNozzleTypesModel from \"./nozzle-types/model\";\r\nimport ePlantsModel from \"./plants/model\";\r\nimport eProductMatTypesModel from \"./product-mat-types/model\";\r\nimport eUsersModel from \"./users/model\";\r\nimport eWasteJustificationsModel from \"./waste-justifications/model\";\r\n\r\nexport const AttributesModel = eAttributesModel;\r\nexport const ProductionOrderTypesModel = eProductionOrderTypesModel;\r\nexport const ProductionOrderEventTypesModel = eProductionOrderEventTypesModel;\r\nexport const MachineTypesModel = eMachineTypesModel;\r\nexport const NozzleTypesModel = eNozzleTypesModel;\r\nexport const PlantsModel = ePlantsModel;\r\nexport const ProductMatTypesModel = eProductMatTypesModel;\r\nexport const UsersModel = eUsersModel;\r\nexport const WasteJustificationsModel = eWasteJustificationsModel;\r\n","export const list = [\r\n  {\r\n    text: \"Nome\",\r\n    identity: \"name\",\r\n    filter: {\r\n      type: \"string\"\r\n    }\r\n  },\r\n  {\r\n    text: \"Descrição\",\r\n    identity: \"description\",\r\n    filter: {\r\n      type: \"string\"\r\n    }\r\n  }\r\n];\r\n\r\nexport const form = [\r\n  [\r\n    {\r\n      text: \"Nome\",\r\n      identity: \"name\",\r\n      autoFocus: true,\r\n      required: true,\r\n      type: \"string\"\r\n    },\r\n    {\r\n      text: \"Descrição\",\r\n      identity: \"description\",\r\n      type: \"string\"\r\n    }\r\n  ]\r\n];\r\n\r\nexport const links = [\r\n  {\r\n    text: \"Administração\",\r\n    href: \"/administration\"\r\n  },\r\n  {\r\n    text: \"Motivos de Refugo\",\r\n    href: \"/administration/waste-justifications\"\r\n  }\r\n];\r\n\r\nexport const metadata = {\r\n  name: \"waste_justifications\",\r\n  listPath: \"/administration/waste-justifications\",\r\n  formPath: \"/administration/waste-justifications\",\r\n  paramsProp: \"wasteJustificationId\",\r\n  newItemText: \"Novo Motivo de Refugo\"\r\n};\r\n\r\nexport default { metadata, list, form, links };\r\n","import React from \"react\";\r\nimport { Switch } from \"../../utils\";\r\nimport { ClientRoute, withMasterDataListPage, withMasterDataFormPage } from \"../../components\";\r\nimport AdministrationPage from \"./\";\r\nimport ResetPasswordPage from \"../reset-password\";\r\nimport UnderConstructionPage from \"../under-construction\";\r\nimport AdminPlantFormPage from \"./plants/Form\";\r\nimport {\r\n  AttributesModel,\r\n  ProductionOrderTypesModel,\r\n  ProductionOrderEventTypesModel,\r\n  MachineTypesModel,\r\n  NozzleTypesModel,\r\n  PlantsModel,\r\n  ProductMatTypesModel,\r\n  UsersModel,\r\n  WasteJustificationsModel\r\n} from \"./models\";\r\n\r\nconst AdministrationRoutes = () => (\r\n  <React.Fragment>\r\n    <Switch>\r\n      <ClientRoute exact path=\"/administration/reset-password\" component={ResetPasswordPage} />\r\n      <ClientRoute\r\n        exact\r\n        path=\"/administration\"\r\n        permissions={[\"crudAdminData\", \"crudUserData\"]}\r\n        component={AdministrationPage}\r\n      />\r\n      <ClientRoute\r\n        exact\r\n        path=\"/administration/attributes\"\r\n        permissions={[\"crudAdminData\"]}\r\n        component={() => withMasterDataListPage(AttributesModel)}\r\n      />\r\n      <ClientRoute\r\n        exact\r\n        path=\"/administration/attributes/:attributeId\"\r\n        permissions={[\"crudAdminData\"]}\r\n        component={() => withMasterDataFormPage(AttributesModel)}\r\n      />\r\n      <ClientRoute\r\n        exact\r\n        path=\"/administration/production-order-types\"\r\n        permissions={[\"crudAdminData\"]}\r\n        component={() => withMasterDataListPage(ProductionOrderTypesModel)}\r\n      />\r\n      <ClientRoute\r\n        exact\r\n        path=\"/administration/production-order-types/:productionOrderTypeId\"\r\n        permissions={[\"crudAdminData\"]}\r\n        component={() => withMasterDataFormPage(ProductionOrderTypesModel)}\r\n      />\r\n      <ClientRoute\r\n        exact\r\n        path=\"/administration/production-order-event-types\"\r\n        permissions={[\"crudAdminData\"]}\r\n        component={() => withMasterDataListPage(ProductionOrderEventTypesModel)}\r\n      />\r\n      <ClientRoute\r\n        exact\r\n        path=\"/administration/production-order-event-types/:productionOrderEventTypeId\"\r\n        permissions={[\"crudAdminData\"]}\r\n        component={() => withMasterDataFormPage(ProductionOrderEventTypesModel)}\r\n      />\r\n      <ClientRoute\r\n        exact\r\n        path=\"/administration/plants\"\r\n        permissions={[\"crudAdminData\"]}\r\n        component={() => withMasterDataListPage(PlantsModel)}\r\n      />\r\n      <ClientRoute\r\n        exact\r\n        path=\"/administration/plants/:plantId\"\r\n        permissions={[\"crudAdminData\"]}\r\n        component={AdminPlantFormPage}\r\n      />\r\n      <ClientRoute\r\n        exact\r\n        path=\"/administration/machine-types\"\r\n        permissions={[\"crudAdminData\"]}\r\n        component={() => withMasterDataListPage(MachineTypesModel)}\r\n      />\r\n      <ClientRoute\r\n        exact\r\n        path=\"/administration/machine-types/:machineTypeId\"\r\n        permissions={[\"crudAdminData\"]}\r\n        component={() => withMasterDataFormPage(MachineTypesModel)}\r\n      />\r\n      <ClientRoute\r\n        exact\r\n        path=\"/administration/nozzle-types\"\r\n        permissions={[\"crudAdminData\"]}\r\n        component={() => withMasterDataListPage(NozzleTypesModel)}\r\n      />\r\n      <ClientRoute\r\n        exact\r\n        path=\"/administration/nozzle-types/:nozzleTypeId\"\r\n        permissions={[\"crudAdminData\"]}\r\n        component={() => withMasterDataFormPage(NozzleTypesModel)}\r\n      />\r\n      <ClientRoute\r\n        exact\r\n        path=\"/administration/product-mat-types\"\r\n        permissions={[\"crudAdminData\"]}\r\n        component={() => withMasterDataListPage(ProductMatTypesModel)}\r\n      />\r\n      <ClientRoute\r\n        exact\r\n        path=\"/administration/product-mat-types/:productMatTypeId\"\r\n        permissions={[\"crudAdminData\"]}\r\n        component={() => withMasterDataFormPage(ProductMatTypesModel)}\r\n      />\r\n      <ClientRoute\r\n        exact\r\n        path=\"/administration/users\"\r\n        permissions={[\"crudUserData\"]}\r\n        component={() => withMasterDataListPage(UsersModel)}\r\n      />\r\n      <ClientRoute\r\n        exact\r\n        path=\"/administration/users/:userId\"\r\n        permissions={[\"crudUserData\"]}\r\n        component={() => withMasterDataFormPage(UsersModel)}\r\n      />\r\n      <ClientRoute\r\n        exact\r\n        path=\"/administration/waste-justifications\"\r\n        permissions={[\"crudAdminData\"]}\r\n        component={() => withMasterDataListPage(WasteJustificationsModel)}\r\n      />\r\n      <ClientRoute\r\n        exact\r\n        path=\"/administration/waste-justifications/:wasteJustificationId\"\r\n        permissions={[\"crudAdminData\"]}\r\n        component={() => withMasterDataFormPage(WasteJustificationsModel)}\r\n      />\r\n      <ClientRoute default component={UnderConstructionPage} />\r\n    </Switch>\r\n  </React.Fragment>\r\n);\r\n\r\nexport default AdministrationRoutes;\r\n","import React, { useContext, useState, useEffect } from \"react\";\r\nimport { Icon, Button, Menu, MenuItem, Typography } from \"@material-ui/core\";\r\nimport ApiContext from \"../../api\";\r\nimport { withStyles, lodashGet, lodashMap, lodashFilter, useFindService } from \"../../utils\";\r\n\r\nconst styles = theme => ({\r\n  menu: {\r\n    height: 300\r\n  },\r\n  icon: {\r\n    //color: theme.palette.common.white\r\n  },\r\n  filter: {\r\n    //backgroundColor: \"rgba(255, 255, 255, .15)\",\r\n    // color: theme.palette.common.black,\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    margin: theme.spacing(1),\r\n    borderRadius: 50,\r\n    [theme.breakpoints.down(\"xs\")]: {\r\n      margin: 3,\r\n      padding: 2\r\n    }\r\n  }\r\n});\r\n\r\nconst PlantFilter = ({ classes, setQuery = () => {}, setFindQuery = () => {}, timeCarousel }) => {\r\n  const client = useContext(ApiContext);\r\n  const [text, setText] = useState(\"TODAS\");\r\n  const [selected, setSelected] = useState({});\r\n  const [firstUpdate, setFirstUpdate] = useState(true);\r\n  const { list, loading } = useFindService({\r\n    model: \"plants\",\r\n    query: {\r\n      $sort: { name: 1 },\r\n      plantStatusId: lodashGet(client.get(\"config.plant.status.active\"), \"value\")\r\n    },\r\n    timeCarousel\r\n  });\r\n  const [anchor, setAnchor] = useState(null);\r\n  const handleClick = e => setAnchor(e.currentTarget);\r\n  const handleClose = () => setAnchor(null);\r\n  const handleSelect = ({ id, name }) => () => {\r\n    setSelected(prev => {\r\n      if (prev[id]) {\r\n        delete prev[id];\r\n      } else {\r\n        prev[id] = true;\r\n      }\r\n      return prev;\r\n    });\r\n    handleClose();\r\n  };\r\n  const clearSelection = () => {\r\n    setSelected({});\r\n    handleClose();\r\n  };\r\n  const selectedString = JSON.stringify(selected);\r\n  useEffect(() => {\r\n    const parsedSelected = JSON.parse(selectedString);\r\n    if (loading) {\r\n      return;\r\n    }\r\n    if (firstUpdate) {\r\n      return setFirstUpdate(false);\r\n    }\r\n    const values = Object.keys(parsedSelected);\r\n    if (values.length) {\r\n      setText(\r\n        lodashMap(lodashFilter(list, item => parsedSelected[item.id]), item => item.name).join(\", \")\r\n      );\r\n      setFindQuery(prev => ({\r\n        ...prev,\r\n        plantId: {\r\n          $in: values\r\n        }\r\n      }));\r\n      setQuery({\r\n        plantId: {\r\n          $in: values\r\n        }\r\n      });\r\n    } else {\r\n      setText(\"TODAS\");\r\n      setFindQuery(prev => {\r\n        delete prev.plantId;\r\n        return { ...prev };\r\n      });\r\n      setQuery({});\r\n    }\r\n    // TODO add companyUUID to localStorage items\r\n    localStorage.setItem(\"plant-filters\", JSON.stringify(parsedSelected));\r\n  }, [selectedString, loading, firstUpdate, list, setFindQuery, setQuery]);\r\n  const copyFilter = localStorage.getItem(\"plant-filters\");\r\n  useEffect(() => {\r\n    if (copyFilter) {\r\n      setSelected(JSON.parse(copyFilter));\r\n    }\r\n  }, [copyFilter]);\r\n  return (\r\n    <React.Fragment>\r\n      <Button\r\n        variant='outlined'\r\n        color='primary'\r\n        className={classes.filter}\r\n        aria-owns={anchor ? `plant-filter` : undefined}\r\n        aria-haspopup=\"true\"\r\n        onClick={handleClick}\r\n      >\r\n        <Typography variant=\"body1\">{text}</Typography>\r\n      </Button>\r\n      {\r\n        <Menu\r\n          className={classes.menu}\r\n          id={`plant-filter`}\r\n          anchorEl={anchor}\r\n          open={!!anchor}\r\n          onClose={handleClose}\r\n        >\r\n          <MenuItem onClick={clearSelection}>TODAS</MenuItem>\r\n          {lodashMap(list, item => (\r\n            <MenuItem key={item.id} onClick={handleSelect({ ...item })}>\r\n              {selected[item.id] && <Icon color='primary'>done</Icon>}\r\n              {item.name}\r\n            </MenuItem>\r\n          ))}\r\n        </Menu>\r\n      }\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default React.memo(withStyles(styles, { withTheme: true })(PlantFilter));\r\n","import React, { useContext, useState, useEffect } from \"react\";\r\nimport moment from \"moment\";\r\nimport {\r\n  Grid,\r\n  Icon,\r\n  Toolbar,\r\n  Hidden\r\n} from \"@material-ui/core\";\r\nimport ApiContext from \"../../api\";\r\nimport {\r\n  MasterDataCard,\r\n  Button,\r\n  Loader\r\n} from \"../../components\";\r\nimport {\r\n  // Link,\r\n  classNames,\r\n  withStyles,\r\n  lodashGet,\r\n  useSensorAllURL,\r\n  getColor,\r\n  getEventType,\r\n  getDateJSON,\r\n  getPermissions,\r\n  useAuth,\r\n  Link\r\n} from \"../../utils\";\r\n// import IndicatorsReport from \"./IndicatorsReport\";\r\nimport PlantFilter from \"./PlantFilter\";\r\n\r\nconst actions = [\r\n  {\r\n    name: \"Produção Ativa\",\r\n    icon: \"view_agenda\",\r\n    href: \"/dashboard/production\",\r\n    permissions: [\"readProductionOrders\"]\r\n  },\r\n  {\r\n    name: \"Apontamento Refugo\",\r\n    icon: \"vertical_split\",\r\n    href: \"/dashboard/production-waste\",\r\n    permissions: [\"readProductionOrders\"]\r\n  },\r\n  {\r\n    name: \"Histórico de Produção\",\r\n    icon: \"view_day\",\r\n    href: \"/dashboard/production-history\",\r\n    permissions: [\"readProductionOrderReports\"]\r\n  },\r\n  {\r\n    name: \"Relatório de Produção\",\r\n    icon: \"table_chart\",\r\n    href: \"/dashboard/production-report\",\r\n    permissions: [\"readProductionOrderReports\"]\r\n  },\r\n  {\r\n    name: \"Tempo Real\",\r\n    icon: \"av_timer\",\r\n    permissions: [\"readProductionOrders\", \"readProductionOrderReports\"]\r\n  }\r\n];\r\n\r\nconst styles = theme => ({\r\n  icon: {\r\n    marginLeft: theme.spacing(1)\r\n  },\r\n  kpiLabel: {\r\n    fontSize: \".75rem\"\r\n  },\r\n  toolbar: {\r\n    zIndex: 10,\r\n    width: `calc(100% + ${theme.spacing(6)}px)`,\r\n    margin: -theme.spacing(3),\r\n    marginBottom: theme.spacing(2),\r\n    [theme.breakpoints.down(\"xs\")]: {\r\n      margin: -theme.spacing(1),\r\n      width: `calc(100% + ${theme.spacing(2)}px)`\r\n    },\r\n    //color: theme.palette.common.white,\r\n    backgroundColor: theme.palette.secondary.main\r\n  },\r\n  export: {\r\n    minWidth: \"auto\",\r\n    color: theme.palette.primary.main\r\n  },\r\n  disabled: {\r\n    pointerEvents: \"none\",\r\n    background: \"lightgrey\"\r\n  }\r\n});\r\n\r\nconst DashboardPage = ({ classes }) => {\r\n  const { session, permissions } = useAuth();\r\n  const level = lodashGet(session, \"company.level\");\r\n  const client = useContext(ApiContext);\r\n  const noJustifiedEventType = getEventType({ client, type: \"noJustified\" });\r\n  const [inactiveMachines, setInactiveMachines] = useState(0);\r\n  const [pendingWaste, setPendingWaste] = useState(0);\r\n  const [plantIdQuery, setPlantIdQuery] = useState({});\r\n  const [inactiveMachinesLoading, setInactiveMachinesLoading] = useState();\r\n  const [pendingWasteLoading, setPendingWasteLoading] = useState();\r\n  const stringQuery = JSON.stringify(plantIdQuery);\r\n  // TODO usedebounce for EVERYTHNG!\r\n  useEffect(() => {\r\n    // console.log(\"!!effect getReportLabelsData Inactive\");\r\n    const getReportLabelsData = async () => {\r\n      setInactiveMachinesLoading(true);\r\n      const ReportLabelsData = await client.service(\"machines\").find({\r\n        query: {\r\n          ...JSON.parse(stringQuery),\r\n          $reportLabels: {\r\n            type: \"inactiveMachines\",\r\n            sd: moment()\r\n              .subtract(1, \"days\")\r\n              .startOf(\"day\")\r\n              .add(6, \"hours\"),\r\n            ed: moment()\r\n              .subtract(1, \"days\")\r\n              .endOf(\"day\")\r\n              .add(6, \"hours\")\r\n          },\r\n          machineStatusId: lodashGet(client.get(\"config.machine.status.active\"), \"value\")\r\n        }\r\n      });\r\n      setInactiveMachines(ReportLabelsData.inactiveMachines);\r\n      setInactiveMachinesLoading(false);\r\n    };\r\n    getReportLabelsData();\r\n  }, [client, stringQuery]);\r\n  useEffect(() => {\r\n    // console.log(\"!!effect getReportLabelsData Waste\");\r\n    const getReportLabelsData = async () => {\r\n      setPendingWasteLoading(true);\r\n      const ReportLabelsData = await client.service(\"machines\").find({\r\n        query: {\r\n          ...JSON.parse(stringQuery),\r\n          $reportLabels: {\r\n            type: \"pendingWaste\",\r\n            sd: getDateJSON({\r\n              date: moment()\r\n                .subtract(7, \"days\")\r\n                .startOf(\"day\")\r\n                .add(6, \"hours\")\r\n            }),\r\n            ed: getDateJSON({\r\n              date: moment()\r\n                .subtract(1, \"days\")\r\n                .endOf(\"day\")\r\n                .add(6, \"hours\")\r\n            })\r\n          },\r\n          machineStatusId: lodashGet(client.get(\"config.machine.status.active\"), \"value\")\r\n        }\r\n      });\r\n      setPendingWaste(ReportLabelsData.pendingWaste);\r\n      setPendingWasteLoading(false);\r\n    };\r\n    getReportLabelsData();\r\n  }, [client, stringQuery]);\r\n  const noJustifiedColor = getColor({\r\n    data: client.get(`actionType.${noJustifiedEventType}`),\r\n    path: \"color\"\r\n  });\r\n  const getLinkLabel = ({ index }) => (\r\n    <React.Fragment>\r\n      <span>{lodashGet(actions, `${index}.name`)}</span>\r\n      <Icon className={classes.icon}>arrow_forward_ios</Icon>\r\n    </React.Fragment>\r\n  );\r\n  const { sensorsURL } = useSensorAllURL();\r\n  const hasProductionAccess = getPermissions({\r\n    privileges: [\r\n      \"readProductionOrders\",\r\n      \"writeActiveProductionOrders\",\r\n      \"writeScheduledStopProductionOrders\",\r\n      \"writeProductionOrderEvents\"\r\n    ],\r\n    permissions\r\n  });\r\n  const hasReportsAccess = getPermissions({\r\n    privileges: [\"readProductionOrderReports\"],\r\n    permissions\r\n  });\r\n  const hasWasteAccess = getPermissions({\r\n    privileges: [\"readPendingWaste\", \"writePendingWaste\", \"editPendingWaste\"],\r\n    permissions\r\n  });\r\n  return (\r\n    <div className={classes.container}>\r\n      <Toolbar className={classes.toolbar}>\r\n        <div style={{ flex: 1 }} />\r\n        <Hidden smDown>\r\n          <Button\r\n            className={classes.export}\r\n            component={Link}\r\n            to={\"/reports/carousel\"}\r\n            text=\"Tela Cheia\"\r\n            icon=\"view_carousel\"\r\n            variant=\"toolbar\"\r\n            color='primary'\r\n          />\r\n        </Hidden>\r\n        <PlantFilter setQuery={setPlantIdQuery} />\r\n      </Toolbar>\r\n      <Grid container spacing={2}>\r\n        <Grid item container spacing={2} className={classes.kpi}>\r\n          {hasProductionAccess && (\r\n            <Grid item xs={12} sm={6}>\r\n              <MasterDataCard\r\n                name={getLinkLabel({ index: 0 })}\r\n                description={lodashGet(actions, \"0.description\")}\r\n                icon={lodashGet(actions, \"0.icon\")}\r\n                href={lodashGet(actions, \"0.href\")}\r\n                kpi={\r\n                  <React.Fragment>\r\n                    {inactiveMachinesLoading && <Loader />}\r\n                    {!inactiveMachinesLoading && (\r\n                      <span style={{ color: noJustifiedColor }}>{inactiveMachines}</span>\r\n                    )}\r\n                    <span className={classes.kpiLabel} style={{ color: noJustifiedColor }}>\r\n                      Máquinas paradas\r\n                    </span>\r\n                  </React.Fragment>\r\n                }\r\n              />\r\n            </Grid>\r\n          )}\r\n          {hasWasteAccess && (\r\n            <Grid\r\n              item\r\n              xs={12}\r\n              sm={6}\r\n              className={classNames({ [classes.disabled]: level !== \"N1\" })}\r\n            >\r\n              <MasterDataCard\r\n                name={getLinkLabel({ index: 1 })}\r\n                description={lodashGet(actions, \"1.description\")}\r\n                icon={lodashGet(actions, \"1.icon\")}\r\n                href={lodashGet(actions, \"1.href\")}\r\n                kpi={\r\n                  level === \"N1\" && (\r\n                    <React.Fragment>\r\n                      {pendingWasteLoading && <Loader />}\r\n                      {!pendingWasteLoading && (\r\n                        <span style={{ color: noJustifiedColor }}>{pendingWaste}</span>\r\n                      )}\r\n                      <span className={classes.kpiLabel} style={{ color: noJustifiedColor }}>\r\n                        Apontamentos pendentes (7d)\r\n                      </span>\r\n                    </React.Fragment>\r\n                  )\r\n                }\r\n              />\r\n            </Grid>\r\n          )}\r\n          {hasReportsAccess && (\r\n            <Grid item xs={12} sm={6}>\r\n              <MasterDataCard\r\n                name={getLinkLabel({ index: 2 })}\r\n                description={lodashGet(actions, \"2.description\")}\r\n                icon={lodashGet(actions, \"2.icon\")}\r\n                href={lodashGet(actions, \"2.href\")}\r\n              />\r\n            </Grid>\r\n          )}\r\n          {/* {hasReportsAccess && (\r\n            <Grid item xs={12} sm={6}>\r\n              <MasterDataCard\r\n                name={getLinkLabel({ index: 3 })}\r\n                description={lodashGet(actions, \"3.description\")}\r\n                icon={lodashGet(actions, \"3.icon\")}\r\n                href={lodashGet(actions, \"3.href\")}\r\n              />\r\n            </Grid>\r\n          )} */}\r\n          {(hasProductionAccess || hasReportsAccess) && sensorsURL && (\r\n            <Grid item xs={12} sm={6}>\r\n              <a href={sensorsURL} rel=\"noopener noreferrer\" target=\"_blank\">\r\n                <MasterDataCard\r\n                  name={getLinkLabel({ index: 4 })}\r\n                  description={lodashGet(actions, \"4.description\")}\r\n                  icon={lodashGet(actions, \"4.icon\")}\r\n                />\r\n              </a>\r\n            </Grid>\r\n          )}\r\n        </Grid>\r\n        {/* {hasReportsAccess && (\r\n          <Grid item container spacing={2}>\r\n            <IndicatorsReport plantIdQuery={plantIdQuery} />\r\n          </Grid>\r\n        )} */}\r\n      </Grid>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default withStyles(styles, { withTheme: true })(DashboardPage);\r\n","import React from \"react\";\r\nimport Chartist from \"chartist\";\r\nimport ChartistGraph from \"react-chartist\";\r\nimport { withStyles } from \"../../utils\";\r\nimport \"./target-line-plugin\";\r\n\r\nconst styles = theme => ({});\r\n\r\nconst GaugeChart = ({ classes, theme, value }) => {\r\n  const chartistGaugeData = [\r\n    { value: 50, offset: 50, bgColor: \"#FDBFC3\" },\r\n    { value: 30, offset: 80, bgColor: \"#FFFFBF\" },\r\n    { value: 20, offset: 100, bgColor: \"#DEEEE3\" }\r\n  ];\r\n  const chartistGaugeOptions = {\r\n    height: 300,\r\n    startAngle: 270,\r\n    total: 200,\r\n    showLabel: false,\r\n    plugins: [\r\n      Chartist.plugins.targetLine({\r\n        value,\r\n        color: \"#000\"\r\n        // color: lodashGet(lodashFind(chartistGaugeData, data => 37.8 <= data.offset), \"bgColor\"),\r\n      })\r\n    ]\r\n  };\r\n  const fillPieColor = {\r\n    draw: context => {\r\n      if (context.series) {\r\n        context.element.attr({\r\n          style: `fill: ${context.series.bgColor};`\r\n        });\r\n      }\r\n    }\r\n  };\r\n  return (\r\n    <ChartistGraph\r\n      type=\"Pie\"\r\n      data={{\r\n        series: chartistGaugeData\r\n      }}\r\n      options={chartistGaugeOptions}\r\n      listener={fillPieColor}\r\n      style={{ padding: theme.spacing(2), marginTop: 50 }}\r\n    />\r\n  );\r\n};\r\n\r\nexport default withStyles(styles, { withTheme: true })(GaugeChart);\r\n","import React from \"react\";\r\nimport ChartistGraph from \"react-chartist\";\r\nimport { Paper } from \"@material-ui/core\";\r\nimport { withStyles, lodashGet } from \"../../utils\";\r\nimport { lodashMap } from \"../../utils/lodash\";\r\n\r\nconst styles = theme => ({\r\n  legend: {\r\n    fontSize: \"small\",\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      fontSize: \"xx-small\"\r\n    },\r\n    flexWrap: \"wrap\",\r\n    display: \"flex\",\r\n    margin: `0 ${theme.spacing9}px`,\r\n    boxShadow: \"none\",\r\n    background: \"none\"\r\n  },\r\n  titleLegend: {\r\n    margin: theme.spacing(1),\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      margin: theme.spacing(1 / 2)\r\n    },\r\n    display: \"flex\",\r\n    width: \"fit-content\",\r\n    alignItems: \"center\"\r\n  },\r\n  iconLegend: {\r\n    borderRadius: \"50%\",\r\n    height: 10,\r\n    width: 10,\r\n    margin: 5\r\n  }\r\n});\r\n\r\nconst PieChart = ({ classes, theme, options = {}, data }) => {\r\n  const chartistOptions = {\r\n    chartPadding: 30,\r\n    labelOffset: 70,\r\n    height: 300,\r\n    showLabel: false,\r\n    labelDirection: \"explode\",\r\n    labelInterpolationFnc: value => `${value}%`,\r\n    ...options\r\n  };\r\n  const fillSectorColor = {\r\n    draw: context => {\r\n      if (context.series || context.type === \"label\") {\r\n        const nodes = Array.prototype.slice.call(\r\n          lodashGet(context, \"element._node.parentElement.children\") || []\r\n        );\r\n        const index = nodes.indexOf(lodashGet(context, \"element._node\"));\r\n        context.element.attr({\r\n          style: `fill: ${lodashGet(context, \"series.bgColor\") ||\r\n            lodashGet(data, `series.${index}.bgColor`)}`\r\n        });\r\n      }\r\n    }\r\n  };\r\n  return (\r\n    <React.Fragment>\r\n      <ChartistGraph\r\n        type=\"Pie\"\r\n        data={data}\r\n        options={chartistOptions}\r\n        listener={fillSectorColor}\r\n        style={{ padding: theme.spacing(2) }}\r\n      />\r\n      <Paper className={classes.legend}>\r\n        {lodashMap(data.labelsNames, (legend, index) => (\r\n          <div key={index} className={classes.titleLegend}>\r\n            <i\r\n              className={classes.iconLegend}\r\n              style={{\r\n                background: lodashGet(data, `series.${index}.bgColor`)\r\n              }}\r\n            />{\" \"}\r\n            {legend}\r\n          </div>\r\n        ))}\r\n      </Paper>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default withStyles(styles, { withTheme: true })(PieChart);\r\n","import React, { useContext, useState, useEffect } from \"react\";\r\nimport moment from \"moment\";\r\nimport Chartist from \"chartist\";\r\nimport ChartistGraph from \"react-chartist\";\r\nimport \"chartist-plugin-tooltips\";\r\nimport \"./chartist-plugin-tooltip.css\";\r\nimport \"chartist/dist/chartist.css\";\r\nimport { Paper, Grid, Typography, Icon } from \"@material-ui/core\";\r\nimport ApiContext from \"../../api\";\r\nimport {\r\n  Link,\r\n  withStyles,\r\n  lodashGet,\r\n  lodashMap,\r\n  getEventType,\r\n  getColor,\r\n  NUMBER_FORMAT,\r\n} from \"../../utils\";\r\nimport { Loader } from \"../../components\";\r\nimport \"./reports.css\";\r\nimport GaugeChart from \"./GaugeChart\";\r\nimport PieChart from \"./PieChart\";\r\nimport useAuth from \"../../utils/useAuth\";\r\n\r\nconst styles = (theme) => ({\r\n  item: {\r\n    \"& canvas\": {\r\n      paddingLeft: theme.spacing(3),\r\n      [theme.breakpoints.up(\"sm\")]: {\r\n        height: \"280px !important\",\r\n      },\r\n    },\r\n  },\r\n  header: {\r\n    padding: theme.spacing(2),\r\n  },\r\n  title: {\r\n    color:\r\n      theme.palette.type === \"dark\"\r\n        ? theme.palette.common.white\r\n        : theme.palette.common.black,\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    fontSize: \"1.5rem\",\r\n    textDecoration: \"none\",\r\n  },\r\n  wrapper: {\r\n    display: \"flex\",\r\n    position: \"relative\",\r\n    paddingLeft: theme.spacing(3),\r\n    alignItems: \"center\",\r\n  },\r\n  linkIcon: {\r\n    marginLeft: theme.spacing(1),\r\n  },\r\n  icon: {\r\n    fontSize: 50,\r\n    color:\r\n      theme.palette.type === \"dark\"\r\n        ? theme.palette.common.white\r\n        : theme.palette.primary.main,\r\n  },\r\n  legend: {\r\n    flexWrap: \"wrap\",\r\n    display: \"flex\",\r\n    margin: `${theme.spacing(2)}px ${theme.spacing(2)}px 0`,\r\n    boxShadow: \"none\",\r\n    background: \"none\",\r\n    fontSize: \"small\",\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      fontSize: \"xx-small\",\r\n    },\r\n  },\r\n  titleLegend: {\r\n    display: \"flex\",\r\n    width: \"fit-content\",\r\n    alignItems: \"center\",\r\n    textTransform: \"uppercase\",\r\n    margin: theme.spacing(1),\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      margin: theme.spacing(1 / 2),\r\n    },\r\n  },\r\n  iconLegend: {\r\n    borderRadius: \"50%\",\r\n    height: 10,\r\n    width: 10,\r\n    margin: 5,\r\n  },\r\n  kpiLabel: {\r\n    fontSize: \".75rem\",\r\n  },\r\n  kpi: {\r\n    fontSize: \"1.5rem\",\r\n    position: \"absolute\",\r\n    right: 30,\r\n    bottom: 10,\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      position: \"static\",\r\n      flexDirection: \"row\",\r\n      fontSize: \"1rem\",\r\n      \"& > span:first-of-type\": {\r\n        order: 1,\r\n        marginLeft: theme.spacing(1),\r\n      },\r\n    },\r\n  },\r\n});\r\n\r\nconst IndicatorsReport = ({ classes, theme, plantIdQuery = {} }) => {\r\n  const { session } = useAuth();\r\n  const level = lodashGet(session, \"company.level\");\r\n  const client = useContext(ApiContext);\r\n  const [loading, setLoading] = useState();\r\n  const [weekLoading, setWeekLoading] = useState();\r\n  const stringQuery = JSON.stringify(plantIdQuery);\r\n  useEffect(() => {\r\n    // console.log(\"!!effect getReportIndicatorsData\");\r\n    const getYesterdaySummaryData = async () => {\r\n      setLoading(true);\r\n      const YesterdaySummaryData = await client.service(\"machines\").find({\r\n        query: {\r\n          ...JSON.parse(stringQuery),\r\n          $reportYesterdaySummary: {\r\n            sd: moment().subtract(1, \"days\").startOf(\"day\").add(6, \"hours\"),\r\n            ed: moment().subtract(1, \"days\").endOf(\"day\").add(6, \"hours\"),\r\n          },\r\n          machineStatusId: lodashGet(\r\n            client.get(\"config.machine.status.active\"),\r\n            \"value\"\r\n          ),\r\n        },\r\n      });\r\n      setOEEData(YesterdaySummaryData.graphOEE);\r\n      setInactivityData(YesterdaySummaryData.graphInactivity);\r\n      setStatsData(YesterdaySummaryData.graphStats);\r\n      setLoading(false);\r\n    };\r\n    getYesterdaySummaryData();\r\n  }, [client, stringQuery]);\r\n  useEffect(() => {\r\n    // console.log(\"!!effect getReportIndicatorsData\");\r\n    const getReportIndicatorsData = async () => {\r\n      setWeekLoading(true);\r\n      const ReportIndicatorsData = await client.service(\"machines\").find({\r\n        query: {\r\n          ...JSON.parse(stringQuery),\r\n          $reportIndicators: {\r\n            sd: moment().subtract(3, \"days\").startOf(\"day\").add(6, \"hours\"),\r\n            ed: moment().subtract(1, \"days\").endOf(\"day\").add(6, \"hours\"),\r\n            dates: [\r\n              {\r\n                sd: moment().subtract(7, \"days\").startOf(\"day\").add(6, \"hours\"),\r\n                ed: moment().subtract(7, \"days\").endOf(\"day\").add(6, \"hours\"),\r\n              },\r\n              {\r\n                sd: moment().subtract(6, \"days\").startOf(\"day\").add(6, \"hours\"),\r\n                ed: moment().subtract(6, \"days\").endOf(\"day\").add(6, \"hours\"),\r\n              },\r\n              {\r\n                sd: moment().subtract(5, \"days\").startOf(\"day\").add(6, \"hours\"),\r\n                ed: moment().subtract(5, \"days\").endOf(\"day\").add(6, \"hours\"),\r\n              },\r\n              {\r\n                sd: moment().subtract(4, \"days\").startOf(\"day\").add(6, \"hours\"),\r\n                ed: moment().subtract(4, \"days\").endOf(\"day\").add(6, \"hours\"),\r\n              },\r\n              {\r\n                sd: moment().subtract(3, \"days\").startOf(\"day\").add(6, \"hours\"),\r\n                ed: moment().subtract(3, \"days\").endOf(\"day\").add(6, \"hours\"),\r\n              },\r\n              {\r\n                sd: moment().subtract(2, \"days\").startOf(\"day\").add(6, \"hours\"),\r\n                ed: moment().subtract(2, \"days\").endOf(\"day\").add(6, \"hours\"),\r\n              },\r\n              {\r\n                sd: moment().subtract(1, \"days\").startOf(\"day\").add(6, \"hours\"),\r\n                ed: moment().subtract(1, \"days\").endOf(\"day\").add(6, \"hours\"),\r\n              },\r\n            ],\r\n          },\r\n          machineStatusId: lodashGet(\r\n            client.get(\"config.machine.status.active\"),\r\n            \"value\"\r\n          ),\r\n        },\r\n      });\r\n      const data = ReportIndicatorsData.graphIndicators;\r\n      data.series = data.series.slice(0, 3);\r\n      setWeekReportData(data);\r\n      setWeekLoading(false);\r\n    };\r\n    getReportIndicatorsData();\r\n  }, [client, stringQuery]);\r\n  //#region Chartist\r\n  const [oeeData, setOEEData] = useState();\r\n  const [weekReportData, setWeekReportData] = useState({});\r\n  const [inactivityData, setInactivityData] = useState({});\r\n  const [statsData, setStatsData] = useState({});\r\n  const weekReportOptions = {\r\n    height: 250,\r\n    axisX: {\r\n      showGrid: false,\r\n    },\r\n    axisY: {\r\n      offset: 20,\r\n      type: Chartist.FixedScaleAxis,\r\n      high: 110,\r\n      low: 0,\r\n      ticks: [0, 20, 40, 60, 80, 100],\r\n      labelInterpolationFnc: (value) => `${value}%`,\r\n    },\r\n    plugins: [\r\n      Chartist.plugins.tooltip({\r\n        appendToBody: true,\r\n        class: \"gauge-tooltip\",\r\n        tooltipFnc: (meta, value) =>\r\n          NUMBER_FORMAT(parseFloat(value).toFixed(2)),\r\n      }),\r\n    ],\r\n  };\r\n  const fillBarColor = {\r\n    draw: (context) => {\r\n      if (context.series) {\r\n        context.element.attr({\r\n          style: `stroke: ${context.series.bgColor}; stroke-width: ${\r\n            window.outerWidth <= theme.breakpoints.width(\"sm\") ? \"15px\" : \"30px\"\r\n          }`,\r\n        });\r\n      }\r\n    },\r\n  };\r\n  //#endregion\r\n  const noJustifiedEventType = getEventType({ client, type: \"noJustified\" });\r\n  const noJustifiedColor = getColor({\r\n    data: client.get(`actionType.${noJustifiedEventType}`),\r\n    path: \"color\",\r\n  });\r\n  const [startDate] = useState(\r\n    moment().subtract(7, \"day\").startOf(\"day\").add(6, \"hours\")\r\n  );\r\n  const [endDate] = useState(\r\n    moment().subtract(1, \"day\").endOf(\"day\").add(6, \"hours\")\r\n  );\r\n  return (\r\n    <React.Fragment>\r\n      <Grid\r\n        item\r\n        xs={12}\r\n        sm={6}\r\n        className={classes.item}\r\n        component={Link}\r\n        to={\"/reports/production-oee\"}\r\n      >\r\n        <div className={classes.wrapper}>\r\n          <Icon className={classes.icon}>donut_large</Icon>\r\n          <div className={classes.header}>\r\n            <Typography className={classes.title} variant=\"body1\">\r\n              <span>OEE (ontem)</span>\r\n              <Icon className={classes.linkIcon}>arrow_forward_ios</Icon>\r\n            </Typography>\r\n            {level !== \"N1\" && (\r\n              <div className={classes.kpi}>\r\n                <span\r\n                  className={classes.kpiLabel}\r\n                  style={{\r\n                    color: noJustifiedColor,\r\n                  }}\r\n                >\r\n                  Qualidade assumida 100%\r\n                </span>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n        {loading && <Loader />}\r\n        {!loading && <GaugeChart value={oeeData} />}\r\n      </Grid>\r\n      <Grid\r\n        item\r\n        xs={12}\r\n        sm={6}\r\n        className={classes.item}\r\n        component={Link}\r\n        to={`/reports/production-oee?sd=${startDate.toISOString()}&ed=${endDate.toISOString()}`}\r\n      >\r\n        <div className={classes.wrapper}>\r\n          <Icon className={classes.icon}>view_week</Icon>\r\n          <div className={classes.header}>\r\n            <Typography className={classes.title} variant=\"body1\">\r\n              <span>Indicadores (7 dias)</span>\r\n              <Icon className={classes.linkIcon}>arrow_forward_ios</Icon>\r\n            </Typography>\r\n          </div>\r\n        </div>\r\n        {weekLoading && <Loader />}\r\n        {!weekLoading && (\r\n          <React.Fragment>\r\n            <ChartistGraph\r\n              type=\"Bar\"\r\n              className=\"ct-indicators\"\r\n              data={weekReportData}\r\n              options={weekReportOptions}\r\n              listener={fillBarColor}\r\n              style={{ padding: theme.spacing(2) }}\r\n            />\r\n            <Paper className={classes.legend}>\r\n              {lodashMap(\r\n                [\"Disponibilidade\", \"Qualidade\", \"Performance\"],\r\n                (legend, index) => (\r\n                  <div key={index} className={classes.titleLegend}>\r\n                    <i\r\n                      className={classes.iconLegend}\r\n                      style={{\r\n                        background: lodashGet(\r\n                          weekReportData,\r\n                          `series.${index}.bgColor`\r\n                        ),\r\n                      }}\r\n                    />{\" \"}\r\n                    {legend}\r\n                  </div>\r\n                )\r\n              )}\r\n            </Paper>\r\n          </React.Fragment>\r\n        )}\r\n      </Grid>\r\n      <Grid item xs={12} sm={6} className={classes.item}>\r\n        <div className={classes.wrapper}>\r\n          <Icon className={classes.icon}>pie_chart</Icon>\r\n          <div className={classes.header}>\r\n            <Typography className={classes.title} variant=\"body1\">\r\n              Disponibilidade (ontem)\r\n            </Typography>\r\n            <div className={classes.kpi}>\r\n              {loading && <Loader />}\r\n              {!loading && (\r\n                <span\r\n                  style={{\r\n                    color: noJustifiedColor,\r\n                  }}\r\n                >\r\n                  {NUMBER_FORMAT(\r\n                    parseFloat(\r\n                      statsData.graphTotalNonPlannedStoppedTime\r\n                    ).toFixed(2)\r\n                  )}\r\n                </span>\r\n              )}\r\n              <span\r\n                className={classes.kpiLabel}\r\n                style={{\r\n                  color: noJustifiedColor,\r\n                }}\r\n              >\r\n                Horas paradas\r\n              </span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        {loading && <Loader />}\r\n        {!loading && <PieChart data={inactivityData} />}\r\n      </Grid>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default withStyles(styles, { withTheme: true })(IndicatorsReport);\r\n","import React, { useState } from \"react\";\r\nimport { Grid, Icon, Toolbar, Hidden } from \"@material-ui/core\";\r\nimport { MasterDataCard, Button } from \"../../components\";\r\nimport { Link, withStyles, lodashGet, getPermissions, useAuth } from \"../../utils\";\r\nimport IndicatorsReport from \"./IndicatorsReport\";\r\nimport PlantFilter from \"./PlantFilter\";\r\n\r\nconst actions = [\r\n  {\r\n    name: \"Produção Ativa\",\r\n    icon: \"view_agenda\",\r\n    href: \"/dashboard/production\",\r\n    permissions: [\"readProductionOrders\"]\r\n  },\r\n  {\r\n    name: \"Apontamento Refugo\",\r\n    icon: \"vertical_split\",\r\n    href: \"/dashboard/production-waste\",\r\n    permissions: [\"readProductionOrders\"]\r\n  },\r\n  {\r\n    name: \"Histórico de Produção\",\r\n    icon: \"view_day\",\r\n    href: \"/dashboard/production-history\",\r\n    permissions: [\"readProductionOrderReports\"]\r\n  },\r\n  {\r\n    name: \"Relatório de Produção\",\r\n    icon: \"table_chart\",\r\n    href: \"/reports/production-report\",\r\n    permissions: [\"readProductionOrderReports\"]\r\n  },\r\n  {\r\n    name: \"Tempo Real\",\r\n    icon: \"av_timer\",\r\n    permissions: [\"readProductionOrders\", \"readProductionOrderReports\"]\r\n  }\r\n];\r\n\r\nconst styles = theme => ({\r\n  icon: {\r\n    marginLeft: theme.spacing(1)\r\n  },\r\n  kpiLabel: {\r\n    fontSize: \".75rem\"\r\n  },\r\n  toolbar: {\r\n    zIndex: 10,\r\n    width: `calc(100% + ${theme.spacing(6)}px)`,\r\n    margin: -theme.spacing(3),\r\n    marginBottom: theme.spacing(2),\r\n    [theme.breakpoints.down(\"xs\")]: {\r\n      margin: -theme.spacing(1),\r\n      width: `calc(100% + ${theme.spacing(2)}px)`\r\n    },\r\n    //color: theme.palette.common.white,\r\n    backgroundColor: theme.palette.secondary.main\r\n  },\r\n  export: {\r\n    minWidth: \"auto\",\r\n    color: theme.palette.primary.main\r\n  },\r\n  disabled: {\r\n    pointerEvents: \"none\",\r\n    background: \"lightgrey\"\r\n  }\r\n});\r\n\r\nconst DashboardPage = ({ classes }) => {\r\n  const { permissions } = useAuth();\r\n  const [plantIdQuery, setPlantIdQuery] = useState({});\r\n  const getLinkLabel = ({ index }) => (\r\n    <React.Fragment>\r\n      <span>{lodashGet(actions, `${index}.name`)}</span>\r\n      <Icon className={classes.icon}>arrow_forward_ios</Icon>\r\n    </React.Fragment>\r\n  );\r\n  const hasReportsAccess = getPermissions({\r\n    privileges: [\"readProductionOrderReports\"],\r\n    permissions\r\n  });\r\n  return (\r\n    <div className={classes.container}>\r\n      <Toolbar className={classes.toolbar}>\r\n        <div style={{ flex: 1 }} />\r\n        <Hidden smDown>\r\n          <Button\r\n            className={classes.export}\r\n            component={Link}\r\n            to={\"/reports/carousel\"}\r\n            text=\"Tela Cheia\"\r\n            icon=\"view_carousel\"\r\n            variant=\"toolbar\"\r\n            color='primary'\r\n          />\r\n        </Hidden>\r\n        <PlantFilter setQuery={setPlantIdQuery} />\r\n      </Toolbar>\r\n      <Grid container spacing={2}>\r\n        <Grid item container spacing={2} className={classes.kpi}>\r\n          {hasReportsAccess && (\r\n            <Grid item xs={12} sm={6}>\r\n              <MasterDataCard\r\n                name={getLinkLabel({ index: 3 })}\r\n                description={lodashGet(actions, \"3.description\")}\r\n                icon={lodashGet(actions, \"3.icon\")}\r\n                href={lodashGet(actions, \"3.href\")}\r\n              />\r\n            </Grid>\r\n          )}\r\n        </Grid>\r\n        {hasReportsAccess && (\r\n          <Grid item container spacing={2}>\r\n            <IndicatorsReport plantIdQuery={plantIdQuery} />\r\n          </Grid>\r\n        )}\r\n      </Grid>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default withStyles(styles, { withTheme: true })(DashboardPage);\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Avatar, Typography } from \"@material-ui/core\";\r\nimport { withStyles, lodashGet, getColor, getLastReadingCycle } from \"../../../utils\";\r\n\r\nconst styles = theme => ({\r\n  container: {\r\n    width: 50,\r\n    height: 50,\r\n    marginRight: theme.spacing(2),\r\n    fontSize: \"1rem\"\r\n  },\r\n  currentCycle: {\r\n    display: \"inline-grid\",\r\n    lineHeight: \"unset\",\r\n    marginTop: \"2px\",\r\n    color: theme.palette.common.white\r\n  },\r\n  standardCycle: {\r\n    textAlign: \"center\",\r\n    color: theme.palette.common.white,\r\n    fontSize: \".65rem\",\r\n    borderTop: `solid 1px ${theme.palette.common.white}`\r\n  }\r\n});\r\nconst Status = ({ classes, productionOrder, noOPEventType, size }) => {\r\n  const [cycle, setCycleValue] = useState();\r\n  const [productionOrderEvent, setProductionOrderEvent] = useState();\r\n  // const [productionOrderLastReading, setProductionOrderLastReading] = useState();\r\n  const stringProductionOrder = JSON.stringify(productionOrder || {});\r\n  useEffect(() => {\r\n    // setProductionOrderLastReading(\r\n    //   lodashGet(productionOrder, \"lastReading.0\") || lodashGet(productionOrder, \"mostRecentEvent.0\")\r\n    // );\r\n    setProductionOrderEvent(lodashGet(JSON.parse(stringProductionOrder), \"mostRecentEvent.0\"));\r\n  }, [stringProductionOrder]);\r\n  useEffect(\r\n    () =>\r\n      setCycleValue(getLastReadingCycle({ data: JSON.parse(stringProductionOrder) }).toFixed(1)),\r\n    [stringProductionOrder]\r\n  );\r\n  // console.log(\"productionOrderEvent\", productionOrderEvent, productionOrderLastReading);\r\n  return (\r\n    <Avatar\r\n      className={classes.container}\r\n      style={{\r\n        width: `${size}px` || '',\r\n        height: `${size}px`|| '',\r\n        background:\r\n          getColor({\r\n            data: productionOrderEvent,\r\n            path: \"productionOrderEventType.production_order_action_type.color\"\r\n          }) ||\r\n          getColor({\r\n            data: noOPEventType,\r\n            path: \"production_order_action_type.color\"\r\n          })\r\n      }}\r\n    >\r\n      <div className={classes.currentCycle}>\r\n        {productionOrderEvent ? cycle : \"ND\"}\r\n        <Typography className={classes.standardCycle}>\r\n          {productionOrderEvent &&\r\n            (lodashGet(productionOrder, \"idealCycle\") ? (\r\n              <span>{lodashGet(productionOrder, \"idealCycle\")}</span>\r\n            ) : (\r\n              \"ND\"\r\n            ))}\r\n        </Typography>\r\n      </div>\r\n    </Avatar>\r\n  );\r\n};\r\n\r\nexport default withStyles(styles, { withTheme: true })(Status);\r\n","import React, { useContext, useState, useEffect, useCallback } from \"react\";\r\nimport { Grid, Card, CardContent, Typography } from \"@material-ui/core\";\r\nimport moment from \"moment\";\r\nimport NumberFormat from \"react-number-format\";\r\nimport ApiContext from \"../../../api\";\r\nimport {\r\n  Link,\r\n  withStyles,\r\n  lodashGet,\r\n  lodashForEach,\r\n  lodashDebounce,\r\n  getColor,\r\n  useAuth\r\n} from \"../../../utils\";\r\nimport Status from \"./Status\";\r\n\r\nconst styles = theme => ({\r\n  content: {\r\n    flexWrap: \"nowrap\"\r\n  },\r\n  link: {\r\n    textDecoration: \"none\"\r\n  },\r\n  card: {}\r\n});\r\n\r\n/** TODO Standard order of attrs! key / classname / rest? / events */\r\nconst ProductionOrderCard = ({\r\n  classes,\r\n  machine,\r\n  productionOrder: pProductionOrder,\r\n  lastEvent: pLastEvent,\r\n  setShowUndefinedAlert,\r\n  setShowStoppedAlert,\r\n  setShowNoActiveOPAlert,\r\n  setShowMaxProductionAlert\r\n}) => {\r\n  const { session } = useAuth();\r\n  const level = lodashGet(session, \"company.level\");\r\n  const client = useContext(ApiContext);\r\n  // const undefinedEventType = getEventType({ client, type: \"undefined\" });\r\n  const [productionOrder, setProductionOrder] = useState();\r\n  const [lastEvent, setLastEvent] = useState();\r\n  const [background, setBackgrund] = useState();\r\n  const noJustifiedColor = client.get(\r\n    `actionType.${lodashGet(\r\n      client.get(\"config.productionOrder.eventType.noJustified\"),\r\n      \"value\"\r\n    )}`\r\n  );\r\n  const confirmedProduction =\r\n    lodashGet(productionOrder, \"confirmedProduction\") ||\r\n    lodashGet(productionOrder, \"totalProduction\");\r\n  const missingProduction =\r\n    lodashGet(productionOrder, \"expectedProduction\") - confirmedProduction;\r\n  const findProductionOrders = useCallback(() => {\r\n    // console.log(\"!!!findProductionOrders\")\r\n    const asyncFindProductionOrders = async () => {\r\n      let productionOrders;\r\n      const { data: find } = await client.service(\"production_orders\").find({\r\n        query: {\r\n          machineId: machine.id,\r\n          $populateAll: true,\r\n          isActive: true,\r\n          $sort: {\r\n            actualStartDate: 1\r\n          },\r\n          $limit: 1\r\n        }\r\n      });\r\n      productionOrders = find;\r\n      if (productionOrders.length) {\r\n        setProductionOrder(productionOrders[0]);\r\n      } else {\r\n        setProductionOrder({\r\n          $withoutOP: true\r\n        });\r\n        const { data: sensors } = await client\r\n          .service(\"sensors\")\r\n          .find({ query: { machineId: machine.id } });\r\n        const { data: events } = await client\r\n          .service(\"production_order_events\")\r\n          .find({\r\n            query: {\r\n              mi: machine.id,\r\n              si: lodashGet(sensors, \"0.id\"),\r\n              $populateAll: true,\r\n              \"r.0\": { $exists: true },\r\n              sd: {\r\n                $gte: moment()\r\n                  .startOf(\"day\")\r\n                  .add(6, \"hours\")\r\n                  .toDate()\r\n              },\r\n              $sort: {\r\n                sd: -1\r\n              },\r\n              $limit: 1\r\n            }\r\n          });\r\n        setLastEvent(events);\r\n      }\r\n    };\r\n    asyncFindProductionOrders();\r\n  }, [client, machine.id]);\r\n  // useEffect(() => {\r\n  //   // console.log(\"!!effect Status OP Card findProductionOrders\");\r\n  //   findProductionOrders();\r\n  // }, [findProductionOrders]);\r\n  const stringPProductionOrder = JSON.stringify(pProductionOrder || {});\r\n  useEffect(() => {\r\n    const parsedPProductionOrder = JSON.parse(stringPProductionOrder);\r\n    setProductionOrder(parsedPProductionOrder);\r\n  }, [stringPProductionOrder]);\r\n  const stringPLastEvent = JSON.stringify(pLastEvent || {});\r\n  useEffect(() => {\r\n    const parsedPLastEvent = JSON.parse(stringPLastEvent);\r\n    setLastEvent(parsedPLastEvent);\r\n  }, [stringPLastEvent]);\r\n  const stringProductionOrder = JSON.stringify(productionOrder || {});\r\n  const stringLastEvent = JSON.stringify(lastEvent || {});\r\n  useEffect(() => {\r\n    // console.log(\"!!effect Status OP Card stringProductionOrder\");\r\n    const parsedProductionOrder = JSON.parse(stringProductionOrder);\r\n    const parsedLastEvent = JSON.parse(stringLastEvent);\r\n    const setStatusColor = ({ noJustified, noActiveOP, undefinedEV }) => {\r\n      let color = \"\";\r\n      if (undefinedEV) {\r\n        color = \"rgba(0, 0, 0, .14)\";\r\n      }\r\n      if (noActiveOP) {\r\n        color = \"#00BFFF\";\r\n      }\r\n      if (noJustified) {\r\n        color = getColor({ data: noJustifiedColor, path: \"color\" });\r\n      }\r\n      if (\r\n        level === \"N1\" &&\r\n        missingProduction <= 0 &&\r\n        lodashGet(parsedProductionOrder, \"production_order_type.isInProduction\")\r\n      ) {\r\n        setShowMaxProductionAlert(true);\r\n        if (!color) {\r\n          color = \"#ADFF2F\";\r\n        } else {\r\n          color = `linear-gradient(to right bottom, ${color} 50%, #ADFF2F 50%)`;\r\n        }\r\n      }\r\n      setBackgrund(color);\r\n    };\r\n    const findReadingAlert = async () => {\r\n      // console.log(\"!!! findReadingAlert\", lodashGet(parsedProductionOrder, \"uuid\"));\r\n      if (lodashGet(parsedProductionOrder, \"uuid\")) {\r\n        const productionOrderActionTypeId = lodashGet(\r\n          parsedProductionOrder,\r\n          \"mostRecentEvent.0.productionOrderEventType.productionOrderActionTypeId\"\r\n        );\r\n        const readings =\r\n          lodashGet(parsedProductionOrder, \"lastReading.0.r\") || [];\r\n        if (\r\n          !lodashGet(\r\n            parsedProductionOrder,\r\n            \"production_order_type.isInProduction\"\r\n          ) ||\r\n          !lodashGet(parsedProductionOrder, \"lastReading.length\") ||\r\n          !parseInt(lodashGet(readings, `${readings.length - 1}.t`), \"10\")\r\n        ) {\r\n          return setStatusColor({ noJustified: false });\r\n        }\r\n        let isProductionType = false;\r\n        lodashForEach(\r\n          [\r\n            client.get(\"config.productionOrder.eventType.active\"),\r\n            client.get(\"config.productionOrder.eventType.noJustified\"),\r\n            client.get(\"config.productionOrder.eventType.max\"),\r\n            client.get(\"config.productionOrder.eventType.min\")\r\n          ],\r\n          c => {\r\n            if (\r\n              `${lodashGet(c, \"value\")}` === `${productionOrderActionTypeId}`\r\n            ) {\r\n              isProductionType = true;\r\n            }\r\n          }\r\n        );\r\n        if (!isProductionType) {\r\n          if (\r\n            `${productionOrderActionTypeId}` ===\r\n            `${lodashGet(\r\n              client.get(\"config.productionOrder.eventType.undefined\"),\r\n              \"value\"\r\n            )}`\r\n          ) {\r\n            setShowUndefinedAlert(true);\r\n            return setStatusColor({ undefinedEV: true });\r\n          } else {\r\n            setShowStoppedAlert(true);\r\n            return setStatusColor({ noJustified: true });\r\n          }\r\n        } else {\r\n          return setStatusColor({ noJustified: false });\r\n        }\r\n      } else if (lodashGet(parsedProductionOrder, \"$withoutOP\")) {\r\n        if (lodashGet(parsedLastEvent, \"0.sd\")) {\r\n          setShowNoActiveOPAlert(true);\r\n          return setStatusColor({ noActiveOP: true });\r\n        } else {\r\n          return setStatusColor({ noJustified: false });\r\n        }\r\n      }\r\n    };\r\n    findReadingAlert();\r\n  }, [\r\n    client,\r\n    machine.id,\r\n    setShowNoActiveOPAlert,\r\n    setShowUndefinedAlert,\r\n    setShowStoppedAlert,\r\n    setShowMaxProductionAlert,\r\n    missingProduction,\r\n    noJustifiedColor,\r\n    stringProductionOrder,\r\n    stringLastEvent\r\n  ]);\r\n  const activeOrder = lodashGet(productionOrder, \"isActive\");\r\n  const inProductionOrder = lodashGet(\r\n    productionOrder,\r\n    \"production_order_type.isInProduction\"\r\n  );\r\n  useEffect(() => {\r\n    const reloadEvents = lodashDebounce(() => findProductionOrders(), 300);\r\n    const onEventCreated = async data => {\r\n      if (!data.poi) {\r\n        const { data: sensors } = await client\r\n          .service(\"sensors\")\r\n          .find({ query: { machineId: machine.id, id: data.si } });\r\n        if (sensors.length) {\r\n          reloadEvents();\r\n        }\r\n      }\r\n    };\r\n    const onProductionOrder = data => {\r\n      if (`${data.machineId}` === `${machine.id}`) {\r\n        reloadEvents();\r\n      }\r\n    };\r\n    client.service(\"production_orders\").on(\"patched\", onProductionOrder);\r\n    client.service(\"production_orders\").on(\"created\", onProductionOrder);\r\n    client.service(\"production_order_events\").on(\"created\", onEventCreated);\r\n    return () => {\r\n      client\r\n        .service(\"production_orders\")\r\n        .removeListener(\"patched\", onProductionOrder);\r\n      client\r\n        .service(\"production_orders\")\r\n        .removeListener(\"created\", onProductionOrder);\r\n      client\r\n        .service(\"production_order_events\")\r\n        .removeListener(\"created\", onEventCreated);\r\n    };\r\n  }, [client, machine.id, findProductionOrders]);\r\n  const endD =\r\n    lodashGet(productionOrder, \"mostRecentEvent.0.ed\") === -1\r\n      ? moment()\r\n      : lodashGet(productionOrder, \"mostRecentEvent.0.ed\");\r\n  return (\r\n    <Grid\r\n      item\r\n      xs={12}\r\n      md={6}\r\n      key={machine.id}\r\n      className={classes.link}\r\n      component={Link}\r\n      to={`/dashboard/production/${machine.id}/order/${\r\n        lodashGet(productionOrder, \"uuid\") ? productionOrder.id : \"new\"\r\n      }`}\r\n    >\r\n      <Card\r\n        className={classes.card}\r\n        style={{\r\n          background\r\n        }}\r\n      >\r\n        <CardContent>\r\n          <Grid\r\n            className={classes.content}\r\n            container\r\n            direction=\"row\"\r\n            alignItems=\"center\"\r\n            spacing={0}\r\n          >\r\n            <Grid item xs={4}>\r\n              <Typography component=\"h6\" variant=\"h6\" noWrap>\r\n                {machine.identity} - {machine.name}\r\n              </Typography>\r\n              <Typography color=\"textSecondary\" noWrap>\r\n                Molde: {lodashGet(productionOrder, \"mold.identity\")} -{\" \"}\r\n                {lodashGet(productionOrder, \"mold.name\")}\r\n              </Typography>\r\n              {level === \"N1\" && (\r\n                <Typography color=\"textSecondary\" noWrap>\r\n                  Produto: {lodashGet(productionOrder, \"product.identity\")} -{\" \"}\r\n                  {lodashGet(productionOrder, \"product.name\")}\r\n                </Typography>\r\n              )}\r\n            </Grid>\r\n            <Grid item style={{ minWidth: \"50px\" }}>\r\n              <Status\r\n                productionOrder={productionOrder}\r\n                noOPEventType={lodashGet(machine, \"noOPEventType\")}\r\n              />\r\n            </Grid>\r\n            <Grid item xs={3}>\r\n              <Typography variant=\"body2\" noWrap>\r\n                {!activeOrder && `${lodashGet(machine, \"noOPEventType.name\")}`}\r\n                {activeOrder &&\r\n                  `${lodashGet(\r\n                    productionOrder,\r\n                    \"mostRecentEvent.0.productionOrderEventType.name\"\r\n                  )}`}\r\n              </Typography>\r\n              <Typography color=\"textSecondary\" noWrap>\r\n                {`${moment(endD).format(\"DD/MM/YYYY\")}`}\r\n              </Typography>\r\n              <Typography color=\"textSecondary\" noWrap>\r\n                {`${moment(endD).format(\"HH:mm\")}`}\r\n              </Typography>\r\n            </Grid>\r\n            {level === \"N1\" && (\r\n              <Grid item xs={3}>\r\n                <Typography variant=\"body2\" noWrap>\r\n                  PROG: {(!activeOrder || !inProductionOrder) && \"NÃO DEFINIDO\"}\r\n                  <NumberFormat\r\n                    value={\r\n                      activeOrder &&\r\n                      `${lodashGet(productionOrder, \"expectedProduction\")}`\r\n                    }\r\n                    displayType={\"text\"}\r\n                    thousandSeparator={\".\"}\r\n                    decimalSeparator={\",\"}\r\n                  />\r\n                </Typography>\r\n                <Typography color=\"textSecondary\" noWrap>\r\n                  CONFIRM:{\" \"}\r\n                  <NumberFormat\r\n                    value={inProductionOrder ? confirmedProduction : \"\"}\r\n                    displayType={\"text\"}\r\n                    thousandSeparator={\".\"}\r\n                    decimalSeparator={\",\"}\r\n                  />\r\n                </Typography>\r\n                <Typography color=\"textSecondary\" noWrap>\r\n                  FALTA:{\" \"}\r\n                  <NumberFormat\r\n                    value={inProductionOrder ? missingProduction : \"\"}\r\n                    displayType={\"text\"}\r\n                    thousandSeparator={\".\"}\r\n                    decimalSeparator={\",\"}\r\n                  />\r\n                </Typography>\r\n              </Grid>\r\n            )}\r\n          </Grid>\r\n        </CardContent>\r\n      </Card>\r\n    </Grid>\r\n  );\r\n};\r\n\r\nexport default withStyles(styles, { withTheme: true })(ProductionOrderCard);\r\n","import React, { useContext, useState } from \"react\";\r\nimport { Grid, Typography, Toolbar } from \"@material-ui/core\";\r\nimport moment from \"moment\";\r\nimport ApiContext from \"../../../api\";\r\nimport {\r\n  withStyles,\r\n  lodashGet,\r\n  lodashMap,\r\n  useFindService,\r\n  getColor,\r\n  useAuth\r\n} from \"../../../utils\";\r\nimport { NotFound, Loader, Errors } from \"../../../components\";\r\nimport PlantFilter from \"../PlantFilter\";\r\nimport ProductionOrderCard from \"./ProductionOrderCard\";\r\n\r\nconst styles = theme => ({\r\n  alert: {\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    \"&>div\": {\r\n      width: 20,\r\n      height: 20,\r\n      marginRight: 10\r\n    }\r\n  },\r\n  scrollArea: {\r\n    height: \"100%\"\r\n  },\r\n  toolbar: {\r\n    zIndex: 10,\r\n    width: `calc(100% + ${theme.spacing(6)}px)`,\r\n    margin: -theme.spacing(3),\r\n    marginBottom: theme.spacing(2),\r\n    [theme.breakpoints.down(\"xs\")]: {\r\n      margin: -theme.spacing(1),\r\n      width: `calc(100% + ${theme.spacing(2)}px)`\r\n    },\r\n    color: theme.palette.common.white,\r\n    backgroundColor: theme.palette.secondary.main\r\n  }\r\n});\r\n\r\nconst ProductionPage = ({ classes, limit, offset }) => {\r\n  const { session } = useAuth();\r\n  const level = lodashGet(session, \"company.level\");\r\n  const client = useContext(ApiContext);\r\n  const [showUndefinedAlert, setShowUndefinedAlert] = useState();\r\n  const [showStoppedAlert, setShowStoppedAlert] = useState();\r\n  const [showNoActiveOPAlert, setShowNoActiveOPAlert] = useState();\r\n  const [showMaxProductionAlert, setShowMaxProductionAlert] = useState();\r\n  const { list, loading, errors, setQuery: setFindQuery } = useFindService({\r\n    model: \"machines\",\r\n    query: {\r\n      $productionOrders: {\r\n        sd: moment()\r\n          .startOf(\"day\")\r\n          .add(6, \"hours\")\r\n          .toDate()\r\n      },\r\n      machineStatusId: lodashGet(\r\n        client.get(\"config.machine.status.active\"),\r\n        \"value\"\r\n      ),\r\n      $sort: { identity: 1 },\r\n      $limit: limit,\r\n      $skip: offset\r\n    }\r\n  });\r\n  const empty = !loading && !errors && list.length === 0;\r\n  const noJustifiedColor = client.get(\r\n    `actionType.${lodashGet(\r\n      client.get(\"config.productionOrder.eventType.noJustified\"),\r\n      \"value\"\r\n    )}`\r\n  );\r\n  return (\r\n    <div className={classes.container}>\r\n      <Toolbar className={classes.toolbar}>\r\n        <div style={{ flex: 1 }} />\r\n        <PlantFilter setFindQuery={setFindQuery} />\r\n      </Toolbar>\r\n      <Grid container spacing={1}>\r\n        <Grid item xs={12}>\r\n          {loading && <Loader />}\r\n          {errors && <Errors errors={errors} />}\r\n          {empty && <NotFound />}\r\n          {showUndefinedAlert && (\r\n            <div className={classes.alert}>\r\n              <div\r\n                style={{\r\n                  background: \"rgba(0, 0, 0, .14)\"\r\n                }}\r\n              />\r\n              <Typography>\r\n                Máquinas sem comunicação com o leitor com ciclos no dia de hoje.\r\n              </Typography>\r\n            </div>\r\n          )}\r\n          {showStoppedAlert && (\r\n            <div className={classes.alert}>\r\n              <div\r\n                style={{\r\n                  background: getColor({\r\n                    data: noJustifiedColor,\r\n                    path: \"color\"\r\n                  })\r\n                }}\r\n              />\r\n              <Typography>\r\n                Máquinas paradas com ciclos no leitor no dia de hoje.\r\n              </Typography>\r\n            </div>\r\n          )}\r\n          {showNoActiveOPAlert && (\r\n            <div className={classes.alert}>\r\n              <div\r\n                style={{\r\n                  background: \"#00BFFF\"\r\n                }}\r\n              />\r\n              <Typography>\r\n                Máquinas sem OP ativa com ciclos no leitor no dia de hoje.\r\n              </Typography>\r\n            </div>\r\n          )}\r\n          {showMaxProductionAlert && level === \"N1\" && (\r\n            <div className={classes.alert}>\r\n              <div\r\n                style={{\r\n                  background: \"#ADFF2F\"\r\n                }}\r\n              />\r\n              <Typography>Produção esperada excedida.</Typography>\r\n            </div>\r\n          )}\r\n        </Grid>\r\n        {!empty &&\r\n          lodashMap(list, (machine, index) => (\r\n            <ProductionOrderCard\r\n              key={machine.id}\r\n              index={index}\r\n              machine={machine}\r\n              productionOrder={machine.productionOrder}\r\n              lastEvent={machine.events}\r\n              setShowUndefinedAlert={setShowUndefinedAlert}\r\n              setShowStoppedAlert={setShowStoppedAlert}\r\n              setShowNoActiveOPAlert={setShowNoActiveOPAlert}\r\n              setShowMaxProductionAlert={setShowMaxProductionAlert}\r\n            />\r\n          ))}\r\n      </Grid>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default withStyles(styles, { withTheme: true })(ProductionPage);\r\n","import { useContext } from \"react\";\r\nimport machinesIcon from \"../../../../icons/injector.svg\";\r\nimport moldsIcon from \"../../../../icons/mold.svg\";\r\nimport ApiContext from \"../../../../api\";\r\nimport {\r\n  lodashGet,\r\n  lodashMap,\r\n  lodashForEach,\r\n  useGetService\r\n} from \"../../../../utils\";\r\nimport useAuth from \"../../../../utils/useAuth\";\r\n\r\nexport const form = [\r\n  {\r\n    text: \"Tipo de Ordem\",\r\n    identity: \"productionOrderTypeId\",\r\n    required: true,\r\n    readOnly: {\r\n      ifThis: \"uuid\"\r\n    },\r\n    model: \"production_order_types\"\r\n  },\r\n  [\r\n    {\r\n      text: \"Status de Ordem\",\r\n      identity: \"productionOrderStatusId\",\r\n      readOnly: true,\r\n      model: \"production_order_statuses\",\r\n      defaultValue: {\r\n        config: \"productionOrder.status.init\"\r\n      }\r\n    },\r\n    {\r\n      text: \"Local\",\r\n      identity: \"plantId\",\r\n      readOnly: true,\r\n      model: \"plants\"\r\n    },\r\n    {\r\n      text: \"Quantidade Confirmada\",\r\n      identity: \"confirmedProduction\",\r\n      type: \"integer\",\r\n      readOnly: {\r\n        customIf: ({ data: productionOrder = {} }) =>\r\n          lodashGet(productionOrder, \"plant.qualityTrackFrequency\") !==\r\n            \"Encerramento\" ||\r\n          lodashGet(productionOrder, \"plant.qualityTrackType\") !==\r\n            \"Q Confirmada\"\r\n      },\r\n      show: {\r\n        // TODO add semantics to ALL data params\r\n        useCustomIf: ({ data: productionOrder = {} }) => {\r\n          return (\r\n            !!lodashGet(productionOrder, \"isClosed\") &&\r\n            !!lodashGet(productionOrder, \"production_order_type.isInProduction\")\r\n          );\r\n        }\r\n      },\r\n      handleValidate: ({ data = {}, item: productionOrder = {} }) => {\r\n        const value = parseInt(lodashGet(data, \"target.value\"), \"10\");\r\n        if (\r\n          value > parseInt(lodashGet(productionOrder, \"totalProduction\"), \"10\")\r\n        ) {\r\n          return \"Q Confirmada não pode exceder a quantidade produzida\";\r\n        }\r\n        if (value < 0) {\r\n          return \"Q Confirmada não pode ser negativo\";\r\n        }\r\n        return true;\r\n      },\r\n      handleChange: ({\r\n        data = {},\r\n        item: productionOrder = {},\r\n        handleChange\r\n      }) => {\r\n        const value = parseInt(lodashGet(data, \"target.value\"), \"10\");\r\n        if (\r\n          value &&\r\n          lodashGet(productionOrder, \"plant.qualityTrackType\") ===\r\n            \"Q Confirmada\"\r\n        ) {\r\n          handleChange({\r\n            target: {\r\n              name: \"wastedProduction\",\r\n              value:\r\n                (parseInt(\r\n                  lodashGet(productionOrder, \"totalProduction\"),\r\n                  \"10\"\r\n                ) || 0) - value\r\n            }\r\n          });\r\n        }\r\n      }\r\n    },\r\n    {\r\n      text: \"Quantidade Refugo\",\r\n      identity: \"wastedProduction\",\r\n      type: \"integer\",\r\n      readOnly: {\r\n        customIf: ({ data: productionOrder = {} }) =>\r\n          lodashGet(productionOrder, \"plant.qualityTrackFrequency\") !==\r\n            \"Encerramento\" ||\r\n          lodashGet(productionOrder, \"plant.qualityTrackType\") !== \"Q Refugo\"\r\n      },\r\n      show: {\r\n        useCustomIf: ({ data: productionOrder = {} }) => {\r\n          return (\r\n            !!lodashGet(productionOrder, \"isClosed\") &&\r\n            !!lodashGet(productionOrder, \"production_order_type.isInProduction\")\r\n          );\r\n        }\r\n      },\r\n      handleValidate: ({ data = {}, item: productionOrder = {} }) => {\r\n        const value = parseInt(lodashGet(data, \"target.value\"), \"10\");\r\n        if (\r\n          value > parseInt(lodashGet(productionOrder, \"totalProduction\"), \"10\")\r\n        ) {\r\n          return \"Q Refugo não pode exceder a quantidade produzida\";\r\n        }\r\n        if (value < 0) {\r\n          return \"Q Refugo não pode ser negativo\";\r\n        }\r\n        return true;\r\n      },\r\n      handleChange: ({\r\n        data = {},\r\n        item: productionOrder = {},\r\n        handleChange\r\n      }) => {\r\n        // TODO create a util parseInt to include radix auto, maybe a lodashGetInt?\r\n        const value = parseInt(lodashGet(data, \"target.value\"), \"10\");\r\n        if (\r\n          value &&\r\n          lodashGet(productionOrder, \"plant.qualityTrackType\") === \"Q Refugo\"\r\n        ) {\r\n          handleChange({\r\n            target: {\r\n              name: \"confirmedProduction\",\r\n              value:\r\n                (parseInt(\r\n                  lodashGet(productionOrder, \"totalProduction\"),\r\n                  \"10\"\r\n                ) || 0) - value\r\n            }\r\n          });\r\n        }\r\n      }\r\n    }\r\n  ],\r\n  {\r\n    text: \"Máquina\",\r\n    identity: \"machineId\",\r\n    icon: { type: \"svg\", src: machinesIcon },\r\n    required: true,\r\n    readOnly: {\r\n      ifThis: \"uuid\"\r\n    },\r\n    model: {\r\n      service: \"machines\",\r\n      hasIdentity: true,\r\n      useCustomQuery: () => {\r\n        const client = useContext(ApiContext);\r\n        return {\r\n          machineStatusId: lodashGet(\r\n            client.get(\"config.machine.status.active\"),\r\n            \"value\"\r\n          )\r\n        };\r\n      }\r\n    }\r\n  },\r\n  [\r\n    {\r\n      text: \"Molde\",\r\n      identity: \"moldId\",\r\n      icon: { type: \"svg\", src: moldsIcon },\r\n      variants: \"fullWidth\",\r\n      readOnly: {\r\n        ifThis: \"uuid\"\r\n      },\r\n      model: {\r\n        service: \"molds\",\r\n        hasIdentity: true,\r\n        useCustomQuery: () => {\r\n          const client = useContext(ApiContext);\r\n          return {\r\n            moldStatusId: lodashGet(\r\n              client.get(\"config.mold.status.active\"),\r\n              \"value\"\r\n            )\r\n          };\r\n        }\r\n      },\r\n      // TODO all handleChange async? or no need?\r\n      handleChange: ({\r\n        data = {},\r\n        handleChange,\r\n        item: productionOrder = {}\r\n      }) => {\r\n        const moldId = lodashGet(data, \"target.value\");\r\n        if (!moldId) {\r\n          handleChange({\r\n            target: {\r\n              name: \"productId\",\r\n              value: null\r\n            }\r\n          });\r\n        }\r\n      }\r\n    }\r\n  ],\r\n  [\r\n    {\r\n      text: \"Produto\",\r\n      identity: \"productId\",\r\n      icon: \"style\",\r\n      variants: \"fullWidth\",\r\n      show: {\r\n        useCustomIf: ({ data: productionOrder = {} }) => {\r\n          const { item: productionOrderType } = useGetService({\r\n            model: \"production_order_types\",\r\n            id: productionOrder.productionOrderTypeId\r\n          });\r\n          return !!lodashGet(productionOrderType, \"isInProduction\");\r\n        }\r\n      },\r\n      readOnly: {\r\n        customIf: ({ data: productionOrder = {} }) =>\r\n          !lodashGet(productionOrder, \"moldId\") ||\r\n          lodashGet(productionOrder, \"uuid\")\r\n      },\r\n      model: {\r\n        service: \"products\",\r\n        hasIdentity: true,\r\n        // TODO instead of a hook, just send client as params and leave it as async?\r\n        useCustomQuery: ({ data = {} }) => {\r\n          const client = useContext(ApiContext);\r\n          const query = {\r\n            productStatusId: lodashGet(\r\n              client.get(\"config.product.status.active\"),\r\n              \"value\"\r\n            )\r\n          };\r\n          const { item: mold } = useGetService({\r\n            model: \"molds\",\r\n            id: data.moldId\r\n          });\r\n          if (lodashGet(mold, \"id\")) {\r\n            return {\r\n              ...query,\r\n              id: {\r\n                $in: lodashMap(mold.products, product => product.id)\r\n              }\r\n            };\r\n          }\r\n          return query;\r\n        }\r\n      },\r\n      handleChange: async ({\r\n        client,\r\n        data = {},\r\n        handleChange,\r\n        item: productionOrder = {},\r\n        field = {}\r\n      }) => {\r\n        const productId = lodashGet(data, \"target.value\");\r\n        if (productId) {\r\n          field.loading = true;\r\n          try {\r\n            const { data: moldProducts } = await client\r\n              .service(\"mold_products\")\r\n              .find({\r\n                query: {\r\n                  moldId: productionOrder.moldId,\r\n                  productId\r\n                }\r\n              });\r\n            const product = await client.service(\"products\").get(productId);\r\n            // TODO always use lodashGET for objets, even if is declared?\r\n            const mold = await client\r\n              .service(\"molds\")\r\n              .get(lodashGet(productionOrder, \"moldId\"));\r\n            handleChange({\r\n              target: {\r\n                name: \"openCavities\",\r\n                value:\r\n                  // TODO review backend populates, remove not used ones anymore\r\n                  lodashGet(productionOrder, \"openCavities\") ||\r\n                  lodashGet(moldProducts, \"0.cavities\")\r\n              }\r\n            });\r\n            handleChange({\r\n              target: {\r\n                name: \"expectedProductionUM\",\r\n                value: product.UM\r\n              }\r\n            });\r\n            handleChange({\r\n              target: {\r\n                name: \"color\",\r\n                value: product.color\r\n              }\r\n            });\r\n            // TODO verify all ({} = {})\r\n            const setProductionOrderCycles = ({ cyclesData }) => {\r\n              handleChange({\r\n                target: {\r\n                  name: \"idealCycle\",\r\n                  value:\r\n                    lodashGet(productionOrder, \"idealCycle\") ||\r\n                    lodashGet(cyclesData, \"0.idealCycle\") ||\r\n                    lodashGet(mold, \"idealCycle\")\r\n                }\r\n              });\r\n              handleChange({\r\n                target: {\r\n                  name: \"idealCycleUM\",\r\n                  value:\r\n                    lodashGet(productionOrder, \"idealCycleUM\") ||\r\n                    lodashGet(cyclesData, \"0.idealCycleUM\") ||\r\n                    lodashGet(mold, \"idealCycleUM\")\r\n                }\r\n              });\r\n            };\r\n            const { data: machineMoldProductCycles } = await client\r\n              .service(\"machine_mold_products\")\r\n              .find({\r\n                query: {\r\n                  machineId: productionOrder.machineId,\r\n                  moldId: productionOrder.moldId,\r\n                  productId\r\n                }\r\n              });\r\n            if (machineMoldProductCycles.length) {\r\n              setProductionOrderCycles({\r\n                cyclesData: machineMoldProductCycles\r\n              });\r\n            } else {\r\n              const { data: machineProductCycles } = await client\r\n                .service(\"machine_mold_products\")\r\n                .find({\r\n                  query: {\r\n                    machineId: productionOrder.machineId,\r\n                    moldId: null,\r\n                    productId\r\n                  }\r\n                });\r\n              if (machineProductCycles.length) {\r\n                setProductionOrderCycles({ cyclesData: machineProductCycles });\r\n              } else {\r\n                // TODO verify all functions calling ({})\r\n                setProductionOrderCycles({});\r\n              }\r\n            }\r\n          } catch (error) {\r\n          } finally {\r\n            field.loading = false;\r\n          }\r\n        } else {\r\n          lodashForEach(\r\n            [\r\n              \"openCavities\",\r\n              \"expectedProductionUM\",\r\n              \"color\",\r\n              \"idealCycle\",\r\n              \"minCycle\",\r\n              \"maxCycle\",\r\n              \"idealCycleUM\"\r\n            ],\r\n            key => {\r\n              handleChange({\r\n                target: {\r\n                  name: key,\r\n                  value: null\r\n                }\r\n              });\r\n            }\r\n          );\r\n        }\r\n      }\r\n    }\r\n  ],\r\n  [\r\n    // TODO remove this objet under single FORM\r\n    // {\r\n    //   text: \"Montagem (min)\",\r\n    //   identity: \"setupInMinutes\",\r\n    //   variants: \"setup\",\r\n    //   type: \"integer\"\r\n    // },\r\n    // {\r\n    //   text: \"Desmontagem (min)\",\r\n    //   identity: \"setupOutMinutes\",\r\n    //   variants: \"setup\",\r\n    //   type: \"integer\"\r\n    // },\r\n    // {\r\n    //   text: \"SetUp Injeção (min)\",\r\n    //   identity: \"setupInjectionMinutes\",\r\n    //   variants: \"setup\",\r\n    //   type: \"integer\"\r\n    // },\r\n    // {\r\n    //   text: \"SetUp Automação (min)\",\r\n    //   identity: \"setupAutoMinutes\",\r\n    //   variants: \"setup\",\r\n    //   type: \"integer\"\r\n    // },\r\n    // {\r\n    //   text: \"SetUp Produto (min)\",\r\n    //   identity: \"setupProductMinutes\",\r\n    //   variants: \"setup\",\r\n    //   type: \"integer\"\r\n    // }\r\n  ],\r\n  [\r\n    {\r\n      text: \"Cavidades Abertas\",\r\n      identity: \"openCavities\",\r\n      type: \"integer\",\r\n      readOnly: {\r\n        useCustomIf: ({ data: productionOrder = {} }) => {\r\n          const { session } = useAuth();\r\n          const level = lodashGet(session, \"company.level\");\r\n          return level === \"N6\";\r\n        }\r\n      },\r\n      show: {\r\n        useCustomIf: ({ data: productionOrder = {} }) => {\r\n          const { session } = useAuth();\r\n          const level = lodashGet(session, \"company.level\");\r\n          return (\r\n            level === \"N6\" ||\r\n            (!!lodashGet(productionOrder, \"moldId\") &&\r\n              !!lodashGet(productionOrder, \"productId\"))\r\n          );\r\n        }\r\n      }\r\n    },\r\n    [\r\n      {\r\n        text: \"Quantidade Prevista\",\r\n        identity: \"expectedProduction\",\r\n        type: \"integer\",\r\n        required: {\r\n          useCustomIf: ({ data }) => {\r\n            if (data.isInProduction === 0) {\r\n              return false;\r\n            }\r\n            return true\r\n          }\r\n        },\r\n        readOnly: {\r\n          useCustomIf: ({ data: productionOrder = {} }) => {\r\n            const { session } = useAuth();\r\n            const level = lodashGet(session, \"company.level\");\r\n            return level === \"N6\";\r\n          }\r\n        },\r\n        show: {\r\n          useCustomIf: ({ data: productionOrder = {} }) => {\r\n            const { session } = useAuth();\r\n            const level = lodashGet(session, \"company.level\");\r\n            return (\r\n              level === \"N6\" ||\r\n              (!!lodashGet(productionOrder, \"moldId\") &&\r\n                !!lodashGet(productionOrder, \"productId\"))\r\n            );\r\n          }\r\n        }\r\n      },\r\n      {\r\n        text: \"UM\",\r\n        identity: \"expectedProductionUM\",\r\n        variants: \"short\",\r\n        required: {\r\n          useCustomIf: ({ data }) => {\r\n            if (data.isInProduction === 0) {\r\n              return false;\r\n            }\r\n            return true\r\n          }\r\n        },\r\n        readOnly: {\r\n          useCustomIf: ({ data: productionOrder = {} }) => {\r\n            const { session } = useAuth();\r\n            const level = lodashGet(session, \"company.level\");\r\n            return level === \"N6\";\r\n          }\r\n        },\r\n        show: {\r\n          useCustomIf: ({ data: productionOrder = {} }) => {\r\n            const { session } = useAuth();\r\n            const level = lodashGet(session, \"company.level\");\r\n            return (\r\n              level === \"N6\" ||\r\n              (!!lodashGet(productionOrder, \"moldId\") &&\r\n                !!lodashGet(productionOrder, \"productId\"))\r\n            );\r\n          }\r\n        },\r\n        model: {\r\n          service: \"measurement_units\",\r\n          query: {\r\n            type: \"quantity\"\r\n          }\r\n        }\r\n      }\r\n    ]\r\n  ],\r\n  [\r\n    {\r\n      text: \"Ciclo Ideal\",\r\n      identity: \"idealCycle\",\r\n      type: \"decimal\",\r\n      required: {\r\n        useCustomIf: ({ data }) => {\r\n          if (data.isInProduction === 0) {\r\n            return false;\r\n          }\r\n          return true\r\n        }\r\n      },\r\n      show: {\r\n        useCustomIf: ({ data: productionOrder = {} }) => {\r\n          const { session } = useAuth();\r\n          const level = lodashGet(session, \"company.level\");\r\n          return (\r\n            level === \"N6\" ||\r\n            (!!lodashGet(productionOrder, \"moldId\") &&\r\n              !!lodashGet(productionOrder, \"productId\"))\r\n          );\r\n        }\r\n      },\r\n      handleChange: ({ data = {}, handleChange }) => {\r\n        const calculateCycle = ({ value, factor }) =>\r\n          Math.round(parseFloat(value, \"10\") * factor * 100) / 100;\r\n        const value = lodashGet(data, \"target.value\");\r\n        if (value) {\r\n          handleChange({\r\n            target: {\r\n              name: \"minCycle\",\r\n              value: calculateCycle({ value, factor: 0.9 })\r\n            }\r\n          });\r\n          handleChange({\r\n            target: {\r\n              name: \"maxCycle\",\r\n              value: calculateCycle({ value, factor: 1.1 })\r\n            }\r\n          });\r\n        }\r\n      }\r\n    },\r\n    {\r\n      text: \"Ciclo Min\",\r\n      identity: \"minCycle\",\r\n      type: \"decimal\",\r\n      show: {\r\n        useCustomIf: ({ data: productionOrder = {} }) => {\r\n          const { session } = useAuth();\r\n          const level = lodashGet(session, \"company.level\");\r\n          return (\r\n            level === \"N6\" ||\r\n            (!!lodashGet(productionOrder, \"moldId\") &&\r\n              !!lodashGet(productionOrder, \"productId\"))\r\n          );\r\n        }\r\n      }\r\n    },\r\n    [\r\n      {\r\n        text: \"Ciclo Max\",\r\n        identity: \"maxCycle\",\r\n        type: \"decimal\",\r\n        show: {\r\n          useCustomIf: ({ data: productionOrder = {} }) => {\r\n            const { session } = useAuth();\r\n            const level = lodashGet(session, \"company.level\");\r\n            return (\r\n              level === \"N6\" ||\r\n              (!!lodashGet(productionOrder, \"moldId\") &&\r\n                !!lodashGet(productionOrder, \"productId\"))\r\n            );\r\n          }\r\n        }\r\n      },\r\n      {\r\n        text: \"UM\",\r\n        identity: \"cycleUM\",\r\n        variants: \"short\",\r\n        required: {\r\n          useCustomIf: ({ data }) => {\r\n            if (data.isInProduction === 0) {\r\n              return false;\r\n            }\r\n            return true\r\n          }\r\n        },\r\n        // required: [[\"idealCycle\", \"minCycle\", \"maxCycle\"]],\r\n        populate: [\"idealCycleUM\", \"minCycleUM\", \"maxCycleUM\"],\r\n        show: {\r\n          useCustomIf: ({ data: productionOrder = {} }) => {\r\n            const { session } = useAuth();\r\n            const level = lodashGet(session, \"company.level\");\r\n            return (\r\n              level === \"N6\" ||\r\n              (!!lodashGet(productionOrder, \"moldId\") &&\r\n                !!lodashGet(productionOrder, \"productId\"))\r\n            );\r\n          }\r\n        },\r\n        model: {\r\n          service: \"measurement_units\",\r\n          query: {\r\n            type: \"time\"\r\n          }\r\n        }\r\n      }\r\n    ]\r\n  ],\r\n  [\r\n    {\r\n      text: \"Lote\",\r\n      identity: \"lot\",\r\n      type: \"string\"\r\n    },\r\n    {\r\n      text: \"Descrição\",\r\n      identity: \"description\",\r\n      // TODO type longtext\r\n      type: \"string\"\r\n    },\r\n    {\r\n      text: \"Cor\",\r\n      identity: \"color\",\r\n      type: \"string\"\r\n    }\r\n  ],\r\n  [\r\n    {\r\n      text: \"UM\",\r\n      identity: \"idealCycleUM\",\r\n      variants: \"short\",\r\n      show: { useCustomIf: () => false },\r\n      model: {\r\n        service: \"measurement_units\",\r\n        query: {\r\n          type: \"time\"\r\n        }\r\n      }\r\n    },\r\n    {\r\n      text: \"UM\",\r\n      identity: \"minCycleUM\",\r\n      variants: \"short\",\r\n      show: { useCustomIf: () => false },\r\n      model: {\r\n        service: \"measurement_units\",\r\n        query: {\r\n          type: \"time\"\r\n        }\r\n      }\r\n    },\r\n    {\r\n      text: \"UM\",\r\n      identity: \"maxCycleUM\",\r\n      variants: \"short\",\r\n      show: { useCustomIf: () => false },\r\n      model: {\r\n        service: \"measurement_units\",\r\n        query: {\r\n          type: \"time\"\r\n        }\r\n      }\r\n    }\r\n  ]\r\n];\r\n\r\nexport default {\r\n  form\r\n};\r\n","import React from \"react\";\r\nimport { Grid } from \"@material-ui/core\";\r\nimport {\r\n  Link,\r\n  withRouter,\r\n  withStyles,\r\n  classNames,\r\n  lodashGet,\r\n  getPermissions,\r\n  useAuth\r\n} from \"../../../../utils\";\r\nimport { Button } from \"../../../../components\";\r\n\r\nconst styles = theme => ({\r\n  container: {\r\n    marginBottom: theme.spacing(2)\r\n  },\r\n  isActive: {\r\n    backgroundColor: theme.palette.primary.main,\r\n    color: theme.palette.common.white\r\n  },\r\n  navigation: {\r\n    color: theme.palette.common.black,\r\n    padding: 0\r\n  }\r\n});\r\n\r\nconst Actions = ({\r\n  history,\r\n  match: { params },\r\n  classes,\r\n  machine,\r\n  productionOrder,\r\n  handleSubmit\r\n}) => {\r\n  const { session, permissions } = useAuth();\r\n  const level = lodashGet(session, \"company.level\");\r\n  // TODO stringify ALL to avoid infinity cycles\r\n  const handleCopy = () => {\r\n    const copyItem = { ...productionOrder };\r\n    delete copyItem.id;\r\n    delete copyItem.uuid;\r\n    delete copyItem.totalProduction;\r\n    delete copyItem.confirmedProduction;\r\n    delete copyItem.wastedProduction;\r\n    delete copyItem.actualStartDate;\r\n    delete copyItem.actualEndDate;\r\n    localStorage.setItem(\r\n      \"copy-production-order\",\r\n      JSON.stringify({ ...copyItem })\r\n    );\r\n    // TODO remove all redirects\r\n    history.push(`/dashboard/production/${params.machineId}/order/new`);\r\n  };\r\n  const hasCRUDAccess = getPermissions({\r\n    privileges: [\r\n      \"writeActiveProductionOrders\",\r\n      \"writeScheduledStopProductionOrders\",\r\n      \"writeProductionOrderEvents\"\r\n    ],\r\n    permissions\r\n  });\r\n  const prevProductionOrder =\r\n    lodashGet(productionOrder, \"prevProductionOrder.id\") ||\r\n    lodashGet(machine, \"prevProductionOrder.id\");\r\n  const prevProductionOrderProps = {};\r\n  if (prevProductionOrder) {\r\n    prevProductionOrderProps.component = Link;\r\n    prevProductionOrderProps.to = `/dashboard/production/${params.machineId}/order/${prevProductionOrder}`;\r\n  }\r\n  const nextProductionOrder =\r\n    lodashGet(productionOrder, \"nextProductionOrder.id\") ||\r\n    lodashGet(machine, \"nextProductionOrder.id\");\r\n  const nextProductionOrderProps = {};\r\n  if (nextProductionOrder) {\r\n    nextProductionOrderProps.component = Link;\r\n    nextProductionOrderProps.to = `/dashboard/production/${params.machineId}/order/${nextProductionOrder}`;\r\n  }\r\n  const activeProductionOrder =\r\n    lodashGet(productionOrder, \"activeProductionOrder.id\") ||\r\n    lodashGet(machine, \"activeProductionOrder.id\");\r\n  const activeProductionOrderProps = {};\r\n  if (activeProductionOrder) {\r\n    activeProductionOrderProps.component = Link;\r\n    activeProductionOrderProps.to = `/dashboard/production/${params.machineId}/order/${activeProductionOrder}`;\r\n  }\r\n  return (\r\n    <Grid\r\n      item\r\n      container\r\n      spacing={1}\r\n      direction=\"row\"\r\n      justify=\"flex-start\"\r\n      alignItems=\"center\"\r\n      className={classes.container}\r\n    >\r\n      {hasCRUDAccess && (\r\n        <Grid item>\r\n          <Button\r\n            type=\"submit\"\r\n            text=\"Gravar\"\r\n            icon=\"save\"\r\n            variants=\"submit\"\r\n            onClick={handleSubmit}\r\n          />\r\n        </Grid>\r\n      )}\r\n      <Grid item>\r\n        <Button\r\n          className={classes.navigation}\r\n          type=\"icon\"\r\n          text=\"Ordem Anterior\"\r\n          icon=\"arrow_back_ios\"\r\n          disabled={!prevProductionOrder}\r\n          {...prevProductionOrderProps}\r\n        />\r\n      </Grid>\r\n      <Grid item>\r\n        <Button\r\n          className={classNames({\r\n            [classes.isActive]:\r\n              `${activeProductionOrder}` === `${params.productionOrderId}`\r\n          })}\r\n          text=\"Ativa\"\r\n          icon=\"center_focus_strong\"\r\n          disabled={!activeProductionOrder}\r\n          {...activeProductionOrderProps}\r\n        />\r\n      </Grid>\r\n      <Grid item>\r\n        <Button\r\n          className={classes.navigation}\r\n          type=\"icon\"\r\n          text=\"Próxima Ordem\"\r\n          icon=\"arrow_forward_ios\"\r\n          disabled={!nextProductionOrder}\r\n          {...nextProductionOrderProps}\r\n        />\r\n      </Grid>\r\n      {hasCRUDAccess && lodashGet(productionOrder, \"uuid\") && level === \"N1\" && (\r\n        <Grid item>\r\n          <Button\r\n            text=\"Criar Nova\"\r\n            icon=\"add\"\r\n            component={Link}\r\n            to={`/dashboard/production/${params.machineId}/order/new`}\r\n          />\r\n        </Grid>\r\n      )}\r\n      {hasCRUDAccess && lodashGet(productionOrder, \"uuid\") && (\r\n        <Grid item>\r\n          <Button\r\n            text=\"Criar como Copia\"\r\n            icon=\"file_copy\"\r\n            onClick={handleCopy}\r\n          />\r\n        </Grid>\r\n      )}\r\n    </Grid>\r\n  );\r\n};\r\n\r\nexport default withRouter(withStyles(styles, { withTheme: true })(Actions));\r\n","import React, { useContext, useState } from \"react\";\r\nimport moment from \"moment\";\r\nimport NumberFormat from \"react-number-format\";\r\nimport { Grid, Typography } from \"@material-ui/core\";\r\nimport ApiContext from \"../../../../api\";\r\nimport { withStyles, lodashGet, getColor } from \"../../../../utils\";\r\nimport { Button, FormInput } from \"../../../../components\";\r\n\r\nconst styles = theme => ({\r\n  label: {\r\n    padding: `0 ${theme.spacing(1 / 2)}px`\r\n  },\r\n  details: {\r\n    display: \"block\",\r\n    padding: theme.spacing(2)\r\n  },\r\n  item: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    width: \"100%\",\r\n    borderBottom: `1px solid ${theme.palette.primary.form}`\r\n  },\r\n  turnName: {\r\n    fontStyle: \"italic\"\r\n  }\r\n});\r\n\r\nconst StatusLine = ({ classes, index, isFirst, hasEditAccess, history, typesMap, event }) => {\r\n  const client = useContext(ApiContext);\r\n  const [formItem, setFormItem] = useState({});\r\n  const [allowEdition, setAllowEdition] = useState();\r\n  const handleChange = ({ identity }) => ({ target }) => {\r\n    const value = target.value;\r\n    if (value && value !== -1) {\r\n      setFormItem(prev => ({ ...prev, [target.name]: value }));\r\n    }\r\n  };\r\n  const handleEdit = () => setAllowEdition(prev => !prev);\r\n  const handleUpdate = () => {\r\n    if (formItem.ev) {\r\n      client.service(\"production_order_history\").patch(lodashGet(history, \"_id\"), {\r\n        $editEvent: {\r\n          index,\r\n          ev: formItem.ev,\r\n          at: lodashGet(typesMap, `${formItem.ev}.productionOrderActionTypeId`)\r\n        }\r\n      });\r\n      event.ev = formItem.ev;\r\n      setAllowEdition(false);\r\n    }\r\n  };\r\n  const getActionType = ({ type }) =>\r\n    lodashGet(client.get(`config.productionOrder.eventType.${type}`), \"value\");\r\n  return (\r\n    <React.Fragment>\r\n      <Grid\r\n        item\r\n        style={{\r\n          backgroundColor:\r\n            getColor({\r\n              data: client.get(\r\n                `actionType.${lodashGet(typesMap, `${event.ev}.productionOrderActionTypeId`)}`\r\n              ),\r\n              path: \"color\"\r\n            }) ||\r\n            getColor({\r\n              data: client.get(\r\n                `actionType.${lodashGet(\r\n                  client.get(\"config.productionOrder.eventType.undefined\"),\r\n                  \"value\"\r\n                )}`\r\n              ),\r\n              path: \"color\"\r\n            })\r\n        }}\r\n      />\r\n      <Grid item className={classes.item}>\r\n        {!allowEdition && (\r\n          <Typography variant=\"body1\">\r\n            {`${lodashGet(typesMap, `${event.ev}.name`) ||\r\n              lodashGet(\r\n                client.get(\r\n                  `actionType.${lodashGet(\r\n                    client.get(\"config.productionOrder.eventType.undefined\"),\r\n                    \"value\"\r\n                  )}`\r\n                ),\r\n                \"name\"\r\n              )}`}\r\n          </Typography>\r\n        )}\r\n        {allowEdition && (\r\n          <FormInput\r\n            field={{\r\n              text: \"Evento\",\r\n              identity: \"ev\",\r\n              model: {\r\n                service: \"production_order_event_types\",\r\n                query: {\r\n                  productionOrderActionTypeId: {\r\n                    $in: [\r\n                      `${getActionType({ type: \"setup\" })}`,\r\n                      `${getActionType({ type: \"scheduledStop\" })}`,\r\n                      `${getActionType({ type: \"noScheduledStop\" })}`,\r\n                      `${getActionType({ type: \"noWorkDay\" })}`\r\n                    ]\r\n                  }\r\n                }\r\n              }\r\n            }}\r\n            formItem={{ ...formItem }}\r\n            handleChange={handleChange({ identity: \"ev\" })}\r\n          />\r\n        )}\r\n        {hasEditAccess &&\r\n          !isFirst &&\r\n          [\r\n            `${getActionType({ type: \"noJustified\" })}`,\r\n            `${getActionType({ type: \"setup\" })}`,\r\n            `${getActionType({ type: \"scheduledStop\" })}`,\r\n            `${getActionType({ type: \"noScheduledStop\" })}`,\r\n            `${getActionType({ type: \"noWorkDay\" })}`,\r\n            `${getActionType({ type: \"undefined\" })}`,\r\n            `${-1}`\r\n          ].indexOf(`${event.at}`) !== -1 && (\r\n            <React.Fragment>\r\n              {!allowEdition && (\r\n                <Button\r\n                  type=\"icon\"\r\n                  text=\"Editar\"\r\n                  icon=\"edit_icon\"\r\n                  variants=\"editAction\"\r\n                  onClick={handleEdit}\r\n                />\r\n              )}\r\n              {allowEdition && (\r\n                <React.Fragment>\r\n                  <Button\r\n                    type=\"icon\"\r\n                    text=\"Gravar\"\r\n                    icon=\"save\"\r\n                    variants=\"editAction\"\r\n                    onClick={handleUpdate}\r\n                  />\r\n                  <Button\r\n                    type=\"icon\"\r\n                    text=\"Cancelar\"\r\n                    icon=\"close\"\r\n                    variants=\"editAction\"\r\n                    onClick={handleEdit}\r\n                  />\r\n                </React.Fragment>\r\n              )}\r\n            </React.Fragment>\r\n          )}\r\n        <div style={{ flex: \"1\" }} />\r\n        {parseInt(event.tr, \"10\") > 0 && (\r\n          <Typography className={classes.label} variant=\"body1\">\r\n            <NumberFormat\r\n              value={`${event.tr}`}\r\n              displayType={\"text\"}\r\n              thousandSeparator={\".\"}\r\n              decimalSeparator={\",\"}\r\n            />{\" \"}\r\n            ciclos |\r\n          </Typography>\r\n        )}\r\n        {event.userName && (\r\n          <Typography className={classes.label} variant=\"body1\">\r\n            {event.userName} |\r\n          </Typography>\r\n        )}\r\n        <Typography className={classes.label} variant=\"body1\">\r\n          {`${moment(event.ed === -1 ? moment() : event.ed).format(\"DD/MM/YYYY HH:mm\")}`}\r\n        </Typography>\r\n      </Grid>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default withStyles(styles, { withTheme: true })(StatusLine);\r\n","import React, { useContext, useState, useEffect } from \"react\";\r\nimport moment from \"moment\";\r\nimport NumberFormat from \"react-number-format\";\r\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\r\nimport AutoSizer from \"react-virtualized/dist/commonjs/AutoSizer\";\r\nimport {\r\n  Grid,\r\n  Typography,\r\n  ExpansionPanel,\r\n  ExpansionPanelDetails,\r\n  ExpansionPanelSummary\r\n} from \"@material-ui/core\";\r\nimport ApiContext from \"../../../../api\";\r\nimport {\r\n  withStyles,\r\n  lodashGet,\r\n  lodashForEach,\r\n  lodashMap,\r\n  getColor,\r\n  getLastReadingCycle,\r\n  getPermissions,\r\n  useAuth\r\n} from \"../../../../utils\";\r\nimport { Loader, Button } from \"../../../../components\";\r\nimport StatusLine from \"./StatusLine\";\r\n\r\nconst styles = theme => ({\r\n  container: {\r\n    flexWrap: \"nowrap\"\r\n  },\r\n  header: {\r\n    padding: `${theme.spacing(1)}px ${theme.spacing(2)}px`,\r\n    backgroundColor: theme.palette.primary.form,\r\n    \"&>div\": {\r\n      margin: \"0px !important\"\r\n    }\r\n  },\r\n  wrapper: {\r\n    justifyContent: \"center\",\r\n    flexWrap: \"nowrap\"\r\n  },\r\n  production: {\r\n    flexDirection: \"column\",\r\n    flexWrap: \"nowrap\"\r\n  },\r\n  status: {\r\n    minWidth: 40,\r\n    minHeight: 40,\r\n    width: 40,\r\n    height: 40,\r\n    borderRadius: \"50%\",\r\n    flexWrap: \"nowrap\",\r\n    justifyContent: \"center\",\r\n    color: theme.palette.common.white,\r\n    padding: `0 ${theme.spacing(1)}px !important`,\r\n    fontSize: \".65rem\"\r\n  },\r\n  divider: {\r\n    width: \"100%\",\r\n    border: `1px solid ${theme.palette.common.white}`\r\n  },\r\n  eventDetail: {\r\n    flexWrap: \"nowrap\"\r\n  },\r\n  label: {\r\n    padding: `0 ${theme.spacing(1 / 2)}px`\r\n  },\r\n  details: {\r\n    display: \"block\",\r\n    padding: theme.spacing(2)\r\n  },\r\n  item: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    width: \"100%\",\r\n    borderBottom: `1px solid ${theme.palette.primary.form}`\r\n  },\r\n  panel: {\r\n    \"& > div:nth-child(2)\": {\r\n      margin: `0 ${theme.spacing(2)}px`\r\n    }\r\n  },\r\n  turnName: {\r\n    fontStyle: \"italic\"\r\n  }\r\n});\r\n\r\nconst Status = ({ classes, productionOrder, formItem }) => {\r\n  const { session } = useAuth();\r\n  const level = lodashGet(session, \"company.level\");\r\n  const client = useContext(ApiContext);\r\n  const [currentOp, setCurrentOp] = useState()\r\n  const [cycle, setCycleValue] = useState();\r\n  const [events, setEvents] = useState([]);\r\n  const [typesMap, setTypesMap] = useState({});\r\n  const [isExpanded, setIsExpanded] = useState();\r\n  const [loading, setLoading] = useState();\r\n  const [page, setPage] = useState(0);\r\n  const [paginatedList, setPaginatedList] = useState([]);\r\n  const [historyResult, setHistoryResult] = useState();\r\n  const handleExpand = () => setIsExpanded(prev => !prev);\r\n  const stringProductionOrder = JSON.stringify(productionOrder);\r\n  useEffect(() => {\r\n    // console.log(\"!!! effect STATUS setCycleValue\");\r\n    setCycleValue(getLastReadingCycle({ data: JSON.parse(stringProductionOrder) }).toFixed(1));\r\n  }, [stringProductionOrder]);\r\n  useEffect(() => {\r\n    // console.log(\"!!! effect STATUS findEvents\");\r\n    const parsedProductionOrder = JSON.parse(stringProductionOrder);\r\n    const findEvents = async () => {\r\n      if (parsedProductionOrder) {\r\n        setLoading(true);\r\n        const { data: eventTypes } = await client.service(\"production_order_event_types\").find();\r\n        const getTypesMap = {};\r\n        lodashForEach(eventTypes, type => (getTypesMap[type.id] = type));\r\n        setTypesMap(getTypesMap);\r\n        const history = lodashGet(\r\n          await client.service(\"production_order_history\").find({\r\n            query: { poi: parsedProductionOrder.id, $populateUsers: true }\r\n          }),\r\n          \"data.0\"\r\n        );\r\n        if (parsedProductionOrder.id !== currentOp) {\r\n          setCurrentOp(parsedProductionOrder.id);\r\n          setPaginatedList([]);\r\n          setPage(0);\r\n        }\r\n        if (history) {\r\n          setEvents(history.ev.reverse());\r\n          setHistoryResult(history);\r\n        } else {\r\n          setEvents([]);\r\n        }\r\n        setLoading(false);\r\n      }\r\n    };\r\n    if (isExpanded) {\r\n      findEvents();\r\n    }\r\n  }, [client, stringProductionOrder, isExpanded]);\r\n  useEffect(() => {\r\n    if (events.length > page * 50) {\r\n      setPaginatedList(prev => [...prev, ...events.slice(page * 50, (page + 1) * 50)]);\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [events.length, page]);\r\n  const undefinedProduction = lodashGet(\r\n    // TODO replace all for getEvent util\r\n    client.get(\r\n      `actionType.${lodashGet(client.get(\"config.productionOrder.eventType.undefined\"), \"value\")}`\r\n    ),\r\n    \"name\"\r\n  );\r\n  const confirmedProduction =\r\n    lodashGet(productionOrder, \"confirmedProduction\") ||\r\n    lodashGet(productionOrder, \"totalProduction\");\r\n  const missingProduction =\r\n    parseInt(lodashGet(productionOrder, \"expectedProduction\"), \"10\") -\r\n      parseInt(confirmedProduction, \"10\") || undefinedProduction;\r\n  const expectedEndDate = moment();\r\n  const expectedProduction =\r\n    parseInt(formItem.expectedProduction, \"10\") - (parseInt(formItem.totalProduction, \"10\") || 0) ||\r\n    0;\r\n  // seconds (UM) per minute / idealCycle * openCavities gives production per minute\r\n  const productionTime =\r\n    expectedProduction /\r\n    ((60 / (parseFloat(formItem.idealCycle, \"10\") || 1)) *\r\n      (parseInt(formItem.openCavities, \"10\") || 1));\r\n  expectedEndDate.add(productionTime || 0, \"m\");\r\n  const { permissions } = useAuth();\r\n  const hasEditAccess = getPermissions({\r\n    privileges: [\"editProductionOrderEvents\"],\r\n    permissions\r\n  });\r\n  return (\r\n    (lodashGet(productionOrder, \"isActive\") || lodashGet(productionOrder, \"isClosed\")) && (\r\n      <Grid item className={classes.container}>\r\n        <ExpansionPanel className={classes.panel} expanded={isExpanded} onChange={handleExpand}>\r\n          <ExpansionPanelSummary className={classes.header} expandIcon={<ExpandMoreIcon />}>\r\n            <Grid container spacing={2}>\r\n              <Grid item container alignItems=\"center\" spacing={2} className={classes.wrapper}>\r\n                <Grid\r\n                  item\r\n                  container\r\n                  direction=\"column\"\r\n                  alignItems=\"center\"\r\n                  spacing={0}\r\n                  className={classes.status}\r\n                  style={{\r\n                    backgroundColor: getColor({\r\n                      data: productionOrder,\r\n                      path:\r\n                        \"mostRecentEvent.0.productionOrderEventType.production_order_action_type.color\"\r\n                    })\r\n                  }}\r\n                >\r\n                  <span>{cycle}</span>\r\n                  <div className={classes.divider} />\r\n                  <span>{productionOrder.idealCycle}</span>\r\n                </Grid>\r\n                <Grid item>\r\n                  <Typography variant=\"body1\">\r\n                    {`${lodashGet(\r\n                      productionOrder,\r\n                      \"mostRecentEvent.0.productionOrderEventType.name\"\r\n                    )} - ${moment(\r\n                      lodashGet(productionOrder, \"mostRecentEvent.0.ed\") === -1\r\n                        ? moment()\r\n                        : lodashGet(productionOrder, \"mostRecentEvent.0.ed\")\r\n                    ).format(\"DD/MM/YYYY HH:mm\")}`}\r\n                  </Typography>\r\n                </Grid>\r\n              </Grid>\r\n              <Grid item container spacing={2} alignItems=\"center\" className={classes.production}>\r\n                {level === \"N1\" &&\r\n                  lodashGet(productionOrder, \"production_order_type.isInProduction\") &&\r\n                  (missingProduction < 0 || missingProduction === undefinedProduction) && (\r\n                    <Typography variant=\"body2\" noWrap>\r\n                      PRODUÇÃO ESPERADA EXCEDIDA\r\n                    </Typography>\r\n                  )}\r\n                {level === \"N1\" &&\r\n                  lodashGet(productionOrder, \"production_order_type.isInProduction\") && (\r\n                    <Typography variant=\"body2\" noWrap>\r\n                      PROG:{\" \"}\r\n                      <NumberFormat\r\n                        value={`${lodashGet(productionOrder, \"expectedProduction\")}`}\r\n                        displayType={\"text\"}\r\n                        thousandSeparator={\".\"}\r\n                        decimalSeparator={\",\"}\r\n                      />{\" \"}\r\n                      / CONFIRM:{\" \"}\r\n                      <NumberFormat\r\n                        value={confirmedProduction}\r\n                        displayType={\"text\"}\r\n                        thousandSeparator={\".\"}\r\n                        decimalSeparator={\",\"}\r\n                      />{\" \"}\r\n                      / FALTA:{\" \"}\r\n                      <NumberFormat\r\n                        value={missingProduction}\r\n                        displayType={\"text\"}\r\n                        thousandSeparator={\".\"}\r\n                        decimalSeparator={\",\"}\r\n                      />\r\n                    </Typography>\r\n                  )}\r\n                <Typography color=\"textSecondary\" noWrap>\r\n                  DATA INICIO:{\" \"}\r\n                  {moment(lodashGet(productionOrder, \"actualStartDate\")).format(\r\n                    \"ddd, DD [de] MMM [de] YYYY HH:mm\"\r\n                  )}\r\n                </Typography>\r\n                {lodashGet(productionOrder, \"isActive\") &&\r\n                  lodashGet(productionOrder, \"production_order_type.isInProduction\") &&\r\n                  level === \"N1\" && (\r\n                    <Typography color=\"textSecondary\" noWrap>\r\n                      DATA FIM PREVISTA:{\" \"}\r\n                      {moment(expectedEndDate).format(\"ddd, DD [de] MMM [de] YYYY HH:mm\")}\r\n                    </Typography>\r\n                  )}\r\n                {lodashGet(productionOrder, \"isClosed\") && (\r\n                  <Typography color=\"textSecondary\" noWrap>\r\n                    DATA FIM:{\" \"}\r\n                    {moment(lodashGet(productionOrder, \"actualEndDate\")).format(\r\n                      \"ddd, DD [de] MMM [de] YYYY HH:mm\"\r\n                    )}\r\n                  </Typography>\r\n                )}\r\n              </Grid>\r\n            </Grid>\r\n          </ExpansionPanelSummary>\r\n          <div style={{ width: \"100%\", height: 500, overflow:'overlay' }}>\r\n            <ExpansionPanelDetails className={classes.details}>\r\n              {loading && <Loader />}\r\n              {!loading && paginatedList.length > 0 && (\r\n                <AutoSizer disableHeight style={{ width: \"100%\" }}>\r\n                  {({ width }) => (\r\n                    <div width={width} rowHeight={60}>\r\n                      {lodashMap(paginatedList, (event, index) => {\r\n                        const nextEV = events[index + 1];\r\n                        return (\r\n                          <React.Fragment key={index}>\r\n                            <Grid\r\n                              container\r\n                              alignItems=\"center\"\r\n                              spacing={2}\r\n                              className={classes.eventDetail}\r\n                            >\r\n                              <StatusLine\r\n                                index={events.length - 1 - index}\r\n                                isFirst={index === 0}\r\n                                hasEditAccess={hasEditAccess}\r\n                                history={historyResult}\r\n                                typesMap={typesMap}\r\n                                event={event}\r\n                              />\r\n                            </Grid>\r\n                            {(!nextEV ||\r\n                              (nextEV && `${nextEV.tu || -1}` !== `${event.tu || -1}`)) && (\r\n                              <Grid\r\n                                key={index}\r\n                                container\r\n                                alignItems=\"center\"\r\n                                spacing={2}\r\n                                className={classes.eventDetail}\r\n                              >\r\n                                <Grid item className={classes.item}>\r\n                                  <Typography\r\n                                    className={classes.turnName}\r\n                                    variant=\"body1\"\r\n                                    style={{ flex: \"1\" }}\r\n                                  >\r\n                                    {event.tu ? `Inicio de turno ${event.turnName}` : `Sem turno`}\r\n                                  </Typography>\r\n                                </Grid>\r\n                              </Grid>\r\n                            )}\r\n                          </React.Fragment>\r\n                        );\r\n                      })}\r\n                      {events.length > paginatedList.length && (\r\n                        <div style={{ display: \"flex\", justifyContent: \"center\" }}>\r\n                          <Button text=\"Mostrar mais\" onClick={() => setPage(prev => prev + 1)} />\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  )}\r\n                </AutoSizer>\r\n              )}\r\n            </ExpansionPanelDetails>\r\n          </div>\r\n        </ExpansionPanel>\r\n      </Grid>\r\n    )\r\n  );\r\n};\r\n\r\nexport default withStyles(styles, { withTheme: true })(Status);\r\n","import React from \"react\";\r\nimport { Grid, Card, Avatar, Typography, Icon } from \"@material-ui/core\";\r\nimport { withStyles } from \"../../../../utils\";\r\nimport { Button, FormInput } from \"../../../../components\";\r\n\r\nconst styles = theme => ({\r\n  fullWidth: {\r\n    flex: 1\r\n  },\r\n  title: {\r\n    flex: 1\r\n  },\r\n  card: {\r\n    height: 40,\r\n    display: \"flex\",\r\n    padding: theme.spacing(1)\r\n  },\r\n  wrapper: {\r\n    alignContent: \"center\"\r\n  },\r\n  avatar: {\r\n    width: theme.spacing(4),\r\n    maxHeight: theme.spacing(4),\r\n    marginRight: theme.spacing(1),\r\n    color: theme.palette.primary.main\r\n  }\r\n});\r\n\r\nconst ProductionOrderSelection = ({\r\n  classes,\r\n  field,\r\n  selectedItem,\r\n  formItem,\r\n  formErrors,\r\n  formReadOnly,\r\n  handleChange,\r\n  query = {},\r\n  options = {},\r\n  customContent = {}\r\n}) => {\r\n  const handleDelete = () =>\r\n    handleChange({\r\n      target: {\r\n        name: field.identity,\r\n        value: null\r\n      }\r\n    });\r\n  return (\r\n    <React.Fragment>\r\n      {!selectedItem && formItem && (\r\n        <Grid item className={classes.fullWidth}>\r\n          <FormInput\r\n            field={field}\r\n            formItem={formItem}\r\n            formErrors={formErrors}\r\n            formReadOnly={formReadOnly}\r\n            query={query}\r\n            options={options}\r\n            handleChange={handleChange}\r\n          />\r\n        </Grid>\r\n      )}\r\n      {selectedItem && (\r\n        <Grid item>\r\n          <Grid container spacing={1} alignItems=\"center\">\r\n            <Grid item className={classes.fullWidth}>\r\n              <Card className={classes.card}>\r\n                <Grid container alignItems=\"center\" className={classes.wrapper}>\r\n                  {selectedItem.image && (\r\n                    <Avatar\r\n                      alt={selectedItem.name}\r\n                      src={selectedItem.image}\r\n                      className={classes.avatar}\r\n                    />\r\n                  )}\r\n                  {!selectedItem.image && field.icon && field.icon.type === \"svg\" && (\r\n                    <img className={classes.avatar} alt=\"icon\" src={field.icon.src} />\r\n                  )}\r\n                  {!selectedItem.image && field.icon && !field.icon.type && (\r\n                    <Icon className={classes.avatar}>{field.icon}</Icon>\r\n                  )}\r\n                  <Typography variant=\"body1\" className={classes.title}>\r\n                    {selectedItem.identity} - {selectedItem.name}\r\n                  </Typography>\r\n                  {formItem && !options.readOnly && !options.dontDelete && (\r\n                    <Button\r\n                      type=\"icon\"\r\n                      text=\"Deletar\"\r\n                      icon=\"close\"\r\n                      variants=\"deleteAction\"\r\n                      onClick={handleDelete}\r\n                    />\r\n                  )}\r\n                </Grid>\r\n              </Card>\r\n            </Grid>\r\n            {customContent.afterSelected && customContent.afterSelected()}\r\n          </Grid>\r\n        </Grid>\r\n      )}\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default withStyles(styles, { withTheme: true })(ProductionOrderSelection);\r\n","import { useContext, useState, useEffect } from \"react\";\r\nimport ApiContext from \"../../../../api\";\r\nimport {\r\n  lodashGet,\r\n  lodashMap,\r\n  lodashFlattenDeep,\r\n  useUpsertService\r\n} from \"../../../../utils\";\r\nimport { form as fields } from \"./model\";\r\nimport useAuth from \"../../../../utils/useAuth\";\r\n\r\nconst useDEFAULT = ({ productionOrder, machineId, history }) => {\r\n  const { session } = useAuth();\r\n  const level = lodashGet(session, \"company.level\");\r\n  const client = useContext(ApiContext);\r\n  const [selectedMachine, setSelectedMachine] = useState();\r\n  const [selectedSensor, setSelectedSensor] = useState();\r\n  const afterChange = async ({ data }) => {\r\n    if (data.name === \"machineId\") {\r\n      try {\r\n        const machine = await client.service(\"machines\").get(data.value);\r\n        setSelectedMachine(machine);\r\n        const { data: sensors } = await client\r\n          .service(\"sensors\")\r\n          .find({ query: { machineId: data.value } });\r\n        setSelectedSensor(sensors[0]);\r\n        handleChange({\r\n          target: {\r\n            name: \"sensorId\",\r\n            value: lodashGet(sensors, \"0.id\")\r\n          }\r\n        });\r\n        handleChange({\r\n          target: {\r\n            name: \"plantId\",\r\n            value: lodashGet(productionOrder, \"uuid\")\r\n              ? productionOrder.plantId || machine.plantId\r\n              : machine.plantId\r\n          }\r\n        });\r\n      } catch (e) {\r\n        setSelectedMachine();\r\n        setSelectedSensor();\r\n      }\r\n    }\r\n  };\r\n  const beforeSubmit = async ({ data = {} }) => {\r\n    if (!data.productionOrderTypeId) {\r\n      return false;\r\n    }\r\n    const productionOrderType = await client\r\n      .service(\"production_order_types\")\r\n      .get(data.productionOrderTypeId);\r\n    if (!!productionOrderType.isInProduction) {\r\n      let continueOperation = true;\r\n      if (!data.moldId) {\r\n        handleFormErrors({\r\n          identity: \"moldId\",\r\n          value: true\r\n        });\r\n        continueOperation = false;\r\n      }\r\n      if (!data.productId && level === \"N1\") {\r\n        handleFormErrors({\r\n          identity: \"productId\",\r\n          value: true\r\n        });\r\n        continueOperation = false;\r\n      }\r\n      const openCavities = parseInt(data.openCavities, \"10\") || 0;\r\n      const expectedProduction = parseInt(data.expectedProduction, \"10\") || 0;\r\n      if (!data.expectedProductionUM && level === \"N1\") {\r\n        handleFormErrors({\r\n          identity: \"expectedProductionUM\",\r\n          value: true\r\n        });\r\n        continueOperation = false;\r\n      }\r\n      if (!data.idealCycle || parseFloat(data.idealCycle) <= 0) {\r\n        handleFormErrors({\r\n          identity: \"idealCycle\",\r\n          value: true\r\n        });\r\n        continueOperation = false;\r\n      }\r\n      if (!data.cycleUM) {\r\n        handleFormErrors({\r\n          identity: \"cycleUM\",\r\n          value: true\r\n        });\r\n        continueOperation = false;\r\n      }\r\n      if ((!expectedProduction || expectedProduction <= 0) && level === \"N1\") {\r\n        handleFormErrors({\r\n          identity: \"expectedProduction\",\r\n          value: \"Digite a quantidade prevista.\"\r\n        });\r\n        continueOperation = false;\r\n      }\r\n      if ((!openCavities || openCavities <= 0) && level === \"N1\") {\r\n        handleFormErrors({\r\n          identity: \"openCavities\",\r\n          value: \"Digite o número de cavidades.\"\r\n        });\r\n        continueOperation = false;\r\n      }\r\n      if (data.moldId) {\r\n        const mold = await client.service(\"molds\").get(data.moldId);\r\n        if (openCavities > parseInt(mold.cavities, \"10\") && level === \"N1\") {\r\n          handleFormErrors({\r\n            identity: \"openCavities\",\r\n            value: \"Cavidades do molde excedidas.\"\r\n          });\r\n          continueOperation = false;\r\n        }\r\n      }\r\n      return continueOperation;\r\n    }\r\n    return true;\r\n  };\r\n  const afterSubmit = async ({ data }) => {\r\n    history.push(`/dashboard/production/${machineId}/order/${data.id}`);\r\n  };\r\n  const {\r\n    formItem,\r\n    formErrors,\r\n    handleChange,\r\n    handleSubmit,\r\n    handleFormErrors,\r\n    loading: loadingUpsert,\r\n    errors: errorsUpsert\r\n  } = useUpsertService({\r\n    model: \"production_orders\",\r\n    data: productionOrder,\r\n    hooks: {\r\n      afterChange,\r\n      beforeSubmit,\r\n      afterSubmit\r\n    },\r\n    fields\r\n  });\r\n  const copyData = localStorage.getItem(\"copy-production-order\");\r\n  const stringCopyData = JSON.stringify(JSON.parse(copyData || \"{}\"));\r\n  useEffect(() => {\r\n    // console.log(\"!!! effect copy\", stringCopyData);\r\n    let parsedCopyData = JSON.parse(stringCopyData);\r\n    localStorage.removeItem(\"copy-production-order\");\r\n    if (Object.keys(parsedCopyData).length > 0) {\r\n      setTimeout(\r\n        () =>\r\n          lodashMap(lodashFlattenDeep(fields), field => {\r\n            const value = lodashGet(parsedCopyData, field.identity);\r\n            if (\r\n              level !== \"N1\" &&\r\n              [\r\n                \"openCavities\",\r\n                \"expectedProduction\",\r\n                \"expectedProductionUM\"\r\n              ].indexOf(field.identity) !== -1\r\n            ) {\r\n              return;\r\n            }\r\n            if (value) {\r\n              handleChange({\r\n                target: {\r\n                  name: field.identity,\r\n                  value\r\n                },\r\n                field\r\n              });\r\n            }\r\n          }),\r\n        0\r\n      );\r\n    }\r\n  }, [stringCopyData, handleChange]);\r\n  const stringProductionOrder = JSON.stringify(productionOrder || {});\r\n  useEffect(() => {\r\n    // TODO change machine to FORM INPUT\r\n    // console.log(\"!!! effect useDEFAULT\");\r\n    const parsedProductionOrder = JSON.parse(stringProductionOrder);\r\n    handleChange({\r\n      target: {\r\n        name: \"machineId\",\r\n        value: lodashGet(parsedProductionOrder, \"machineId\") || machineId\r\n      }\r\n    });\r\n  }, [stringProductionOrder, machineId, handleChange]);\r\n  return {\r\n    selectedMachine,\r\n    selectedSensor,\r\n    formItem,\r\n    formErrors,\r\n    handleChange,\r\n    handleSubmit,\r\n    loading: loadingUpsert,\r\n    errors: errorsUpsert\r\n  };\r\n};\r\n\r\nexport default useDEFAULT;\r\n","import React, { useContext, useState } from \"react\";\r\nimport moment from \"moment\";\r\nimport {\r\n  Drawer,\r\n  Toolbar,\r\n  IconButton,\r\n  Divider,\r\n  List,\r\n  ListItem,\r\n  ListItemIcon,\r\n  ListItemText,\r\n  Icon,\r\n  Typography,\r\n  Hidden\r\n} from \"@material-ui/core\";\r\nimport ApiContext from \"../../../../api\";\r\nimport {\r\n  withStyles,\r\n  lodashGet,\r\n  lodashMap,\r\n  lodashFilter,\r\n  lodashToLower,\r\n  getColor\r\n} from \"../../../../utils\";\r\nimport { Errors, Loader } from \"../../../../components\";\r\n\r\nconst styles = theme => ({\r\n  container: {\r\n    height: \" calc(100% - 70px)\",\r\n    overflow: \"overlay\",\r\n    minHeight: \"300px\"\r\n  },\r\n  sidebar: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    flexWrap: \"nowrap\",\r\n    width: \"300px\",\r\n    right: \"0px\",\r\n    margin: -theme.spacing(3),\r\n    marginLeft: theme.spacing(3),\r\n    [theme.breakpoints.down(\"xs\")]: {\r\n      margin: -theme.spacing(1),\r\n      marginLeft: theme.spacing(1)\r\n    }\r\n  },\r\n  drawer: {\r\n    [theme.breakpoints.up(\"md\")]: {\r\n      \"&>div\": {\r\n        width: 300\r\n      }\r\n    }\r\n  },\r\n  toolbar: {\r\n    backgroundColor: theme.palette.primary.main,\r\n    \"& span,& p\": { color: theme.palette.common.white }\r\n  },\r\n  list: {\r\n    padding: 0\r\n  },\r\n  item: {\r\n    cursor: \"pointer\",\r\n    \"& span,& p\": { color: theme.palette.common.white }\r\n  },\r\n  itemIcon: {\r\n    marginRight: 0\r\n  }\r\n});\r\n\r\nconst EventDrawer = ({\r\n  classes,\r\n  side,\r\n  open,\r\n  variant,\r\n  productionOrder,\r\n  eventTypes,\r\n  loading,\r\n  reload,\r\n  handleDrawer = () => {}\r\n}) => {\r\n  const client = useContext(ApiContext);\r\n  const [errors, setErrors] = useState();\r\n  const [eventLoading, setEventLoading] = useState();\r\n  const sendEvent = ({ id }) => async () => {\r\n    setErrors();\r\n    setEventLoading(true);\r\n    if (!lodashGet(productionOrder, \"isActive\")) {\r\n      const { data } = await client.service(\"production_orders\").find({\r\n        query: {\r\n          machineId: lodashGet(productionOrder, \"machineId\"),\r\n          isActive: true\r\n        }\r\n      });\r\n      if (data.length) {\r\n        setEventLoading(false);\r\n        return setErrors(\r\n          \"Existe uma Ordem de Produção já ativa. Por favor, feche-a antes de abrir uma nova.\"\r\n        );\r\n      }\r\n    }\r\n    if (lodashGet(productionOrder, \"moldId\") && !lodashGet(productionOrder, \"isActive\")) {\r\n      const { data } = await client.service(\"production_orders\").find({\r\n        query: {\r\n          moldId: lodashGet(productionOrder, \"moldId\"),\r\n          isActive: true\r\n        }\r\n      });\r\n      if (data.length) {\r\n        setEventLoading(false);\r\n        return setErrors(\r\n          \"Existe uma Ordem de Produção para o Molde selecionado já ativa. Por favor, feche-a antes de abrir uma nova.\"\r\n        );\r\n      }\r\n    }\r\n    try {\r\n      await client.service(\"production_order_events\").create({\r\n        productionOrderId: productionOrder.id,\r\n        startDate: moment().toISOString(),\r\n        endDate: -1,\r\n        productionOrderEventTypeId: id\r\n      });\r\n      reload();\r\n      handleDrawer();\r\n    } catch (error) {\r\n      setErrors(error.message);\r\n    } finally {\r\n      setEventLoading(false);\r\n    }\r\n  };\r\n  const events = lodashFilter(\r\n    eventTypes,\r\n    item => lodashGet(item, \"production_order_action_type.isSystemEvent\") === null\r\n  );\r\n  const designedStatus = lodashGet(client.get(\"config.productionOrder.status.designed\"), \"value\");\r\n  const designed =\r\n    `${lodashGet(productionOrder, \"productionOrderStatusId\")}` === `${designedStatus}`;\r\n  const listContent = (\r\n    <React.Fragment>\r\n      <Toolbar className={classes.toolbar}>\r\n        <Hidden mdUp>\r\n          <IconButton onClick={handleDrawer} style={{ marginRight: \"15px\" }}>\r\n            <Icon>keyboard_arrow_down</Icon>\r\n          </IconButton>\r\n        </Hidden>\r\n        <div>\r\n          {designed && (\r\n            <Typography variant=\"body1\">\r\n              Libere a Ordem de Produção para mostrar Eventos.\r\n            </Typography>\r\n          )}\r\n          {!designed && (\r\n            <Typography variant=\"body1\">\r\n              {lodashGet(productionOrder, \"isActive\")\r\n                ? \"Reportar Evento\"\r\n                : \"Iniciar Ordem de Produção\"}\r\n            </Typography>\r\n          )}\r\n        </div>\r\n      </Toolbar>\r\n      <Divider />\r\n      <div className={classes.container}>\r\n        <div hideTracksWhenNotNeeded style={{ width: \"100%\", minHeight: \"300px\", overflow:'overlay' }}>\r\n          {errors && <Errors errors={errors} />}\r\n          {(loading || eventLoading) && <Loader />}\r\n          <List className={classes.list}>\r\n            {!designed &&\r\n              !loading &&\r\n              lodashMap(events, ({ id, name, icon }, index) => (\r\n                <React.Fragment key={id}>\r\n                  <ListItem\r\n                    className={classes.item}\r\n                    onClick={sendEvent({ id })}\r\n                    style={{\r\n                      backgroundColor: getColor({\r\n                        data: events,\r\n                        path: `${index}.production_order_action_type.color`\r\n                      })\r\n                    }}\r\n                  >\r\n                    <ListItemIcon>\r\n                      <Icon>{lodashToLower(icon)}</Icon>\r\n                    </ListItemIcon>\r\n                    <ListItemText primary={<Typography>{name}</Typography>} />\r\n                  </ListItem>\r\n                  <Divider />\r\n                </React.Fragment>\r\n              ))}\r\n          </List>\r\n        </div>\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n  return (\r\n    <React.Fragment>\r\n      <Hidden smDown>\r\n        <div className={classes.sidebar}>{listContent}</div>\r\n      </Hidden>\r\n      <Hidden mdUp>\r\n        <Drawer open={open} anchor={side} variant={variant} className={classes.drawer}>\r\n          {listContent}\r\n        </Drawer>\r\n      </Hidden>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default withStyles(styles, { withTheme: true })(EventDrawer);\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport { Grid, Typography, Fab, Hidden, Icon } from \"@material-ui/core\";\r\nimport ApiContext from \"../../../../api\";\r\nimport {\r\n  withRouter,\r\n  withStyles,\r\n  lodashGet,\r\n  // lodashMap,\r\n  // lodashFind,\r\n  lodashDebounce,\r\n  // lodashUpperFirst,\r\n  getPermissions,\r\n  useGetService,\r\n  useAuth\r\n} from \"../../../../utils\";\r\nimport {\r\n  BreadCrumbs,\r\n  Loader,\r\n  Errors,\r\n  FormInput,\r\n  FieldsRow\r\n} from \"../../../../components\";\r\nimport { form as fields } from \"./model\";\r\nimport Actions from \"./Actions\";\r\nimport Status from \"./Status\";\r\nimport Selection from \"./Selection\";\r\nimport useDEFAULT from \"./useDEFAULT\";\r\n// import useFIXHistory from \"./useFIXHistory\";\r\nimport EventDrawer from \"./EventDrawer\";\r\n\r\nconst styles = theme => ({\r\n  container: {\r\n    flexWrap: \"nowrap\",\r\n    overflow: \"hidden\",\r\n    maxHeight: \"100%\",\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      flexDirection: \"column\",\r\n      padding: \"6px\"\r\n    }\r\n  },\r\n  wrapper: {\r\n    flex: 1,\r\n    flexWrap: \"nowrap\",\r\n    overflowY: \"auto\",\r\n    overflowX: \"hidden\"\r\n  },\r\n  grid: {\r\n    flex: 1,\r\n    flexWrap: \"nowrap\"\r\n  },\r\n  formContainer: {\r\n    overflowX: \"hidden\",\r\n    \"&>div\": {\r\n      flexWrap: \"nowrap\"\r\n    }\r\n  },\r\n  message: {\r\n    flex: 1\r\n  },\r\n  events: {\r\n    flex: 1,\r\n    flexWrap: \"nowrap\",\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      overflowY: \"auto\",\r\n      minHeight: 200\r\n    }\r\n  },\r\n  isClosed: {\r\n    color: theme.palette.primary.delete,\r\n    textAlign: \"center\",\r\n    textTransform: \"uppercase\"\r\n  },\r\n  fab: {\r\n    position: \"fixed\",\r\n    bottom: theme.spacing(2),\r\n    right: theme.spacing(2),\r\n    backgroundColor: theme.palette.secondary.main,\r\n    zIndex: 99\r\n  },\r\n  content: {\r\n    display: \"flex\",\r\n    overflowY: \"auto\",\r\n    margin: -theme.spacing(3),\r\n    padding: theme.spacing(3),\r\n    [theme.breakpoints.down(\"xs\")]: {\r\n      margin: -theme.spacing(1),\r\n      padding: theme.spacing(1)\r\n    }\r\n  },\r\n  breadCrumbs: {\r\n    [theme.breakpoints.up(\"sm\")]: {\r\n      marginTop: \"20px\",\r\n      paddingLeft: \"16px\"\r\n    }\r\n  },\r\n  inputWrapper: {\r\n    display: \"flex\"\r\n  },\r\n  deviceURL: {\r\n    textDecoration: \"underline\",\r\n    cursor: \"pointer\"\r\n  }\r\n});\r\n\r\nconst ProductionOrderFormPage = ({ history, match: { params }, classes }) => {\r\n  const { session, permissions } = useAuth();\r\n  const level = lodashGet(session, \"company.level\");\r\n  const client = useContext(ApiContext);\r\n  const {\r\n    item: productionOrder,\r\n    loading: loadingGet,\r\n    errors: errorsGet,\r\n    reload\r\n  } = useGetService({\r\n    model: \"production_orders\",\r\n    id: params.productionOrderId,\r\n    query: {\r\n      $eventsAndNavigation: true\r\n    }\r\n  });\r\n  const [machine, setMachine] = useState({});\r\n  const [openDrawer, setOpenDrawer] = useState(false);\r\n  const handleDrawer = () => {\r\n    setOpenDrawer(prev => !prev);\r\n  };\r\n  useEffect(() => {\r\n    // console.log(\"!!! effect INDEX onNewEvent\");\r\n    const onNewEvent = lodashDebounce(() => reload(), 300);\r\n    const onPatched = data => {\r\n      if (`${data.id}` === `${params.productionOrderId}`) {\r\n        onNewEvent();\r\n      }\r\n    };\r\n    client.service(\"production_orders\").on(\"patched\", onPatched);\r\n    return () =>\r\n      client.service(\"production_orders\").removeListener(\"patched\", onPatched);\r\n  }, [client, params.productionOrderId, reload]);\r\n  // TODO add loader for internal operations\r\n  const {\r\n    selectedMachine,\r\n    selectedSensor,\r\n    formItem,\r\n    formErrors,\r\n    handleChange,\r\n    handleSubmit: upsertSubmit,\r\n    loading: loadingUpsert,\r\n    errors: errorsUpsert\r\n  } = useDEFAULT({\r\n    productionOrder,\r\n    machineId: params.machineId,\r\n    history\r\n  });\r\n  useEffect(() => {\r\n    const getMachineNavigation = async () => {\r\n      const machineNavigation = await client\r\n        .service(\"machines\")\r\n        .get(params.machineId, {\r\n          query: {\r\n            $eventsAndNavigation: true\r\n          }\r\n        });\r\n      setMachine(machineNavigation);\r\n    };\r\n    if (params.productionOrderId === \"new\") {\r\n      getMachineNavigation();\r\n    }\r\n  }, [client, params.machineId, params.productionOrderId]);\r\n  // useFIXHistory({\r\n  //   productionOrderId: params.productionOrderId\r\n  // });\r\n  const errors = errorsGet || errorsUpsert;\r\n  const loading = loadingGet || loadingUpsert;\r\n  const handleSubmit = e => {\r\n    e.preventDefault();\r\n    if (loading) {\r\n      return;\r\n    }\r\n    upsertSubmit(e);\r\n  };\r\n  const hasCRUDAccess = getPermissions({\r\n    privileges: [\r\n      \"writeActiveProductionOrders\",\r\n      \"writeScheduledStopProductionOrders\"\r\n    ],\r\n    permissions\r\n  });\r\n  const hasInProductionAccess = getPermissions({\r\n    privileges: [\"writeActiveProductionOrders\"],\r\n    permissions\r\n  });\r\n  const hasNotInProductionAccess = getPermissions({\r\n    privileges: [\"writeScheduledStopProductionOrders\"],\r\n    permissions\r\n  });\r\n  const hasEventsAccess = getPermissions({\r\n    privileges: [\"writeProductionOrderEvents\"],\r\n    permissions\r\n  });\r\n  let productionOrderTypeQuery = {};\r\n  if (hasInProductionAccess && hasNotInProductionAccess) {\r\n    productionOrderTypeQuery = {};\r\n  } else if (hasInProductionAccess) {\r\n    productionOrderTypeQuery.isInProduction = true;\r\n  } else if (hasNotInProductionAccess) {\r\n    productionOrderTypeQuery.isInProduction = false;\r\n  }\r\n  // console.log(\"!! productionOrder FORM\", productionOrder);\r\n  return (\r\n    <div className={classes.content}>\r\n      <Grid container direction=\"column\" spacing={0} className={classes.grid}>\r\n        <Grid item>\r\n          <BreadCrumbs\r\n            links={[\r\n              {\r\n                text: \"Produção\",\r\n                href: \"/dashboard/production\"\r\n              },\r\n              {\r\n                text: `${\r\n                  selectedMachine\r\n                    ? `${lodashGet(selectedMachine, \"identity\")} - ${lodashGet(\r\n                        selectedMachine,\r\n                        \"name\"\r\n                      )}: `\r\n                    : \"\"\r\n                }${\r\n                  productionOrder\r\n                    ? `Order ${productionOrder.id}`\r\n                    : \"Nova Ordem de Produção\"\r\n                }`,\r\n                href: `/dashboard/production/${params.machineId}/order/${params.productionOrderId}`\r\n              }\r\n            ]}\r\n          />\r\n        </Grid>\r\n        <Grid item>\r\n          <Actions\r\n            machine={machine}\r\n            productionOrder={productionOrder}\r\n            handleSubmit={handleSubmit}\r\n          />\r\n        </Grid>\r\n        <Grid item className={classes.wrapper}>\r\n          <Grid\r\n            container\r\n            direction=\"column\"\r\n            className={classes.formContainer}\r\n            spacing={0}\r\n          >\r\n            {lodashGet(productionOrder, \"uuid\") && (\r\n              <Hidden mdUp>\r\n                <Fab\r\n                  variant=\"extended\"\r\n                  aria-label=\"Delete\"\r\n                  className={classes.fab}\r\n                  onClick={handleDrawer}\r\n                >\r\n                  <Icon>keyboard_arrow_up</Icon>\r\n                  {lodashGet(productionOrder, \"isActive\")\r\n                    ? \"Reportar Evento\"\r\n                    : \"Iniciar Ordem\"}\r\n                </Fab>\r\n              </Hidden>\r\n            )}\r\n            {loading && <Loader />}\r\n            {errors && <Errors errors={errors} />}\r\n            <Grid item container className={classes.container} spacing={2}>\r\n              <Grid item container direction=\"column\" spacing={2}>\r\n                {lodashGet(productionOrder, \"isClosed\") && (\r\n                  <Grid item>\r\n                    <Typography className={classes.isClosed} variant=\"body1\">\r\n                      Ordem Encerrada\r\n                    </Typography>\r\n                  </Grid>\r\n                )}\r\n                {(lodashGet(productionOrder, \"isActive\") ||\r\n                  lodashGet(productionOrder, \"isClosed\")) && (\r\n                  <Status\r\n                    productionOrder={productionOrder}\r\n                    formItem={formItem}\r\n                  />\r\n                )}\r\n                <Grid item className={classes.inputWrapper}>\r\n                  <FormInput\r\n                    field={fields[0]}\r\n                    formItem={formItem}\r\n                    formErrors={formErrors}\r\n                    handleChange={handleChange}\r\n                    query={productionOrderTypeQuery}\r\n                    options={{\r\n                      readOnly: !hasCRUDAccess\r\n                    }}\r\n                    loading={loadingGet}\r\n                  />\r\n                </Grid>\r\n                <Grid item>\r\n                  <FieldsRow\r\n                    fields={fields.slice(1, 2)}\r\n                    formItem={formItem}\r\n                    formErrors={formErrors}\r\n                    handleChange={handleChange}\r\n                    options={{\r\n                      readOnly: !hasCRUDAccess && !hasEventsAccess\r\n                    }}\r\n                    loading={loadingGet}\r\n                  />\r\n                </Grid>\r\n                <Selection\r\n                  field={fields[2]}\r\n                  formItem={formItem}\r\n                  selectedItem={selectedMachine}\r\n                  formErrors={formErrors}\r\n                  handleChange={handleChange}\r\n                  options={{\r\n                    dontDelete: !!lodashGet(productionOrder, \"uuid\"),\r\n                    readOnly: !hasCRUDAccess\r\n                  }}\r\n                  customContent={{\r\n                    afterSelected: () => {\r\n                      if (!selectedSensor) {\r\n                        return (\r\n                          <Grid item className={classes.message}>\r\n                            <Typography variant=\"body1\">\r\n                              Nenhum leitor registrado para esta máquina.\r\n                            </Typography>\r\n                          </Grid>\r\n                        );\r\n                      }\r\n                      const machineName = `${selectedMachine.identity} - ${selectedMachine.name}`;\r\n                      const machineURL = `http://${\r\n                        selectedSensor.ip\r\n                      }:3030/?name=${window.escape(machineName)}`;\r\n                      return (\r\n                        <div\r\n                          className={classes.deviceURL}\r\n                          onClick={() =>\r\n                            window.open(\r\n                              machineURL,\r\n                              machineName,\r\n                              \"width=650,height=350,toolbar=no,menubar=no,scrollbars=yes,resizable=yes,location=no,directories=no,status=no\"\r\n                            )\r\n                          }\r\n                        >\r\n                          <Selection\r\n                            field={{ icon: \"memory\" }}\r\n                            selectedItem={selectedSensor}\r\n                          />\r\n                        </div>\r\n                      );\r\n                    }\r\n                  }}\r\n                />\r\n                <Grid item className={classes.inputWrapper}>\r\n                  <FieldsRow\r\n                    fields={fields[3]}\r\n                    formItem={formItem}\r\n                    formErrors={formErrors}\r\n                    handleChange={handleChange}\r\n                    options={{\r\n                      dontDelete: !!lodashGet(productionOrder, \"uuid\"),\r\n                      readOnly: !hasCRUDAccess\r\n                    }}\r\n                  />\r\n                </Grid>\r\n                {level === \"N1\" && (\r\n                  <Grid item className={classes.inputWrapper}>\r\n                    <FieldsRow\r\n                      fields={fields[4]}\r\n                      formItem={formItem}\r\n                      formErrors={formErrors}\r\n                      handleChange={handleChange}\r\n                      options={{\r\n                        dontDelete: !!lodashGet(productionOrder, \"uuid\"),\r\n                        readOnly: !hasCRUDAccess\r\n                      }}\r\n                    />\r\n                  </Grid>\r\n                )}\r\n                <Grid item>\r\n                  <FieldsRow\r\n                    fields={fields.slice(6, 8)}\r\n                    formItem={formItem}\r\n                    formErrors={formErrors}\r\n                    handleChange={handleChange}\r\n                    options={{\r\n                      readOnly:\r\n                        (!hasCRUDAccess && !hasEventsAccess) ||\r\n                        !!lodashGet(productionOrder, \"isClosed\")\r\n                    }}\r\n                  />\r\n                </Grid>\r\n                <Grid item>\r\n                  <FieldsRow\r\n                    fields={fields.slice(8, 9)}\r\n                    formItem={formItem}\r\n                    handleChange={handleChange}\r\n                    options={{\r\n                      readOnly:\r\n                        !hasCRUDAccess ||\r\n                        !!lodashGet(productionOrder, \"isClosed\")\r\n                    }}\r\n                  />\r\n                </Grid>\r\n              </Grid>\r\n            </Grid>\r\n          </Grid>\r\n        </Grid>\r\n      </Grid>\r\n      {hasEventsAccess && lodashGet(productionOrder, \"uuid\") && (\r\n        <EventDrawer\r\n          handleDrawer={handleDrawer}\r\n          open={openDrawer}\r\n          side=\"bottom\"\r\n          variant=\"temporary\"\r\n          productionOrder={productionOrder}\r\n          eventTypes={lodashGet(productionOrder, \"eventTypes\")}\r\n          loading={loadingGet}\r\n          reload={reload}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default withRouter(\r\n  withStyles(styles, { withTheme: true })(ProductionOrderFormPage)\r\n);\r\n","import React, { useContext, useState, useEffect } from \"react\";\r\nimport moment from \"moment\";\r\nimport { TableCell, TableRow, Typography, Icon } from \"@material-ui/core\";\r\nimport NumberFormat from \"react-number-format\";\r\nimport ApiContext from \"../../../api\";\r\nimport {\r\n  withStyles,\r\n  classNames,\r\n  lodashGet,\r\n  lodashIsNil,\r\n  lodashMap,\r\n  getPermissions,\r\n  useAuth\r\n} from \"../../../utils\";\r\nimport { Button, FormInput } from \"../../../components\";\r\n\r\nconst styles = theme => ({\r\n  body: {\r\n    \"& td\": {\r\n      padding: theme.spacing(1),\r\n      \"& p,& a span\": {\r\n        fontSize: \".75rem\"\r\n      }\r\n    }\r\n  },\r\n  wrapper: {\r\n    display: \"flex\",\r\n    alignItems: \"center\"\r\n  },\r\n  expanded: {\r\n    transform: \"rotate(180deg)\"\r\n  },\r\n  icon: {\r\n    margin: `0 ${theme.spacing(1)}px`\r\n  },\r\n  group: {\r\n    cursor: \"pointer\",\r\n    backgroundColor: theme.palette.primary.table\r\n  }\r\n});\r\n\r\nconst DataRow = ({ classes, header, item = {}, groupBy = {}, historyBy }) => {\r\n  const { permissions } = useAuth();\r\n  const client = useContext(ApiContext);\r\n  const [formItem, setFormItem] = useState({});\r\n  const [show, setShow] = useState(true);\r\n  const stringItem = JSON.stringify(item);\r\n  useEffect(() => {\r\n    setFormItem(JSON.parse(stringItem) || {});\r\n  }, [stringItem]);\r\n  const [formErrors, setFormErrors] = useState({});\r\n  const [allowEdition, setAllowEdition] = useState();\r\n  const weight = parseFloat(lodashGet(item, \"poi.product.weight\")) || 0;\r\n  const handleChange = ({ identity }) => ({ target }) => {\r\n    const value = target.value;\r\n    item.setFormErrors = setFormErrors;\r\n    setFormItem(prev => ({ ...prev, [target.name]: value }));\r\n    if (identity === \"cp\") {\r\n      const cpw = Math.round((weight * value * 100) / 1000) / 100;\r\n      setFormItem(prev => ({\r\n        ...prev,\r\n        cpw\r\n      }));\r\n      item.cp = value;\r\n      item.cpw = cpw;\r\n      let wasteP = (parseInt(lodashGet(item, \"tp\"), \"10\") || 0) - value;\r\n      wasteP = wasteP > 0 ? wasteP : 0;\r\n      setFormItem(prev => ({ ...prev, wp: wasteP }));\r\n      const wpw = Math.round((weight * wasteP * 100) / 1000) / 100;\r\n      setFormItem(prev => ({ ...prev, wpw }));\r\n      item.wp = wasteP;\r\n      item.wpw = wpw;\r\n    }\r\n    if (identity === \"cpw\") {\r\n      const confirmP = Math.round((value * 1000) / weight);\r\n      setFormItem(prev => ({\r\n        ...prev,\r\n        cp: confirmP\r\n      }));\r\n      item.cp = confirmP;\r\n      item.cpw = value;\r\n      let wasteP = (parseInt(lodashGet(item, \"tp\"), \"10\") || 0) - confirmP;\r\n      wasteP = wasteP > 0 ? wasteP : 0;\r\n      setFormItem(prev => ({ ...prev, wp: wasteP }));\r\n      const wpw = Math.round((weight * wasteP * 100) / 1000) / 100;\r\n      setFormItem(prev => ({ ...prev, wpw }));\r\n      item.wp = wasteP;\r\n      item.wpw = wpw;\r\n    }\r\n    if (identity === \"wp\") {\r\n      const wpw = Math.round((weight * value * 100) / 1000) / 100;\r\n      setFormItem(prev => ({\r\n        ...prev,\r\n        wpw\r\n      }));\r\n      item.wp = value;\r\n      item.wpw = wpw;\r\n      let confirmP = (parseInt(lodashGet(item, \"tp\"), \"10\") || 0) - value;\r\n      confirmP = confirmP > 0 ? confirmP : 0;\r\n      setFormItem(prev => ({ ...prev, cp: confirmP }));\r\n      const cpw = Math.round((weight * confirmP * 100) / 1000) / 100;\r\n      setFormItem(prev => ({ ...prev, cpw }));\r\n      item.cp = confirmP;\r\n      item.cpw = cpw;\r\n    }\r\n    if (identity === \"wpw\") {\r\n      const wasteP = Math.round((value * 1000) / weight);\r\n      setFormItem(prev => ({\r\n        ...prev,\r\n        wp: wasteP\r\n      }));\r\n      item.wp = wasteP;\r\n      item.wpw = value;\r\n      let confirmP = (parseInt(lodashGet(item, \"tp\"), \"10\") || 0) - wasteP;\r\n      confirmP = confirmP > 0 ? confirmP : 0;\r\n      setFormItem(prev => ({ ...prev, cp: confirmP }));\r\n      const cpw = Math.round((weight * confirmP * 100) / 1000) / 100;\r\n      setFormItem(prev => ({ ...prev, cpw }));\r\n      item.cp = confirmP;\r\n      item.cpw = cpw;\r\n    }\r\n    if (identity === \"wji\") {\r\n      item.wji = value;\r\n    }\r\n  };\r\n  const handleEdit = () => setAllowEdition(prev => !prev);\r\n  const handleUpdate = () => {\r\n    client.service(\"production_order_waste\").patch(item._id, {\r\n      cp: formItem.cp,\r\n      wp: formItem.wp,\r\n      wji: formItem.wji\r\n    });\r\n    setAllowEdition(false);\r\n  };\r\n  const handleDelete = () => {\r\n    client.service(\"production_order_waste\").remove(item._id);\r\n    setShow(false);\r\n  };\r\n  const hasEditAccess = getPermissions({\r\n    privileges: [\"editPendingWaste\"],\r\n    permissions\r\n  });\r\n  return (\r\n    show && (\r\n      <TableRow className={classNames([classes.body, { [classes.group]: groupBy.enabled }])}>\r\n        {groupBy.enabled && (\r\n          <TableCell\r\n            style={{ whiteSpace: \"nowrap\" }}\r\n            colSpan={groupBy.colspan}\r\n            onClick={\r\n              groupBy.handleGroupExpand && groupBy.handleGroupExpand({ id: groupBy.expandId })\r\n            }\r\n          >\r\n            <div className={classes.wrapper}>\r\n              {groupBy.expandId && (\r\n                <Icon\r\n                  className={classNames(classes.icon, { [classes.expanded]: groupBy.expanded })}\r\n                >\r\n                  expand_more_icon\r\n                </Icon>\r\n              )}\r\n              <Typography variant=\"body1\">{groupBy.text}</Typography>\r\n            </div>\r\n          </TableCell>\r\n        )}\r\n        {lodashMap(\r\n          header,\r\n          ({ text, path, readOnly, alt, type, input, model }, index) =>\r\n            !groupBy.enabled && (\r\n              <TableCell key={index} style={{ whiteSpace: \"nowrap\" }}>\r\n                {/* // TODO remove paragraph containers */}\r\n                {/* // TODO type decimal should also format values!! */}\r\n                {model && (\r\n                  <FormInput\r\n                    field={{\r\n                      text,\r\n                      identity: path,\r\n                      model\r\n                    }}\r\n                    // TODO set item into formItem wth useEffect?\r\n                    formItem={{ ...formItem }}\r\n                    formErrors={formErrors}\r\n                    handleChange={handleChange({ identity: path })}\r\n                    options={{\r\n                      readOnly:\r\n                        (historyBy === \"history\" && !allowEdition) ||\r\n                        (historyBy !== \"history\" && !lodashGet(item, \"plant.wasteJustification\")),\r\n                      disabled:\r\n                        (historyBy === \"history\" && !allowEdition) ||\r\n                        (historyBy !== \"history\" && !lodashGet(item, \"plant.wasteJustification\"))\r\n                    }}\r\n                  />\r\n                )}\r\n                {((historyBy === \"history\" && allowEdition) || historyBy !== \"history\") &&\r\n                  input &&\r\n                  !model && (\r\n                    <div style={{ display: \"flex\" }}>\r\n                      <FormInput\r\n                        field={{\r\n                          text,\r\n                          identity: path,\r\n                          type\r\n                        }}\r\n                        formItem={formItem}\r\n                        formErrors={formErrors}\r\n                        handleChange={handleChange({ identity: path })}\r\n                        options={{\r\n                          readOnly:\r\n                            lodashGet(item, \"plant.qualityTrackType\") === readOnly && !allowEdition,\r\n                          disabled:\r\n                            lodashGet(item, \"plant.qualityTrackType\") === readOnly && !allowEdition\r\n                        }}\r\n                      />\r\n                      {[7, 9].indexOf(index) !== -1 &&\r\n                        historyBy !== \"history\" &&\r\n                        lodashGet(item, \"plant.qualityTrackType\") === readOnly && (\r\n                          <React.Fragment>\r\n                            {!allowEdition && (\r\n                              <Button\r\n                                type=\"icon\"\r\n                                text=\"Editar\"\r\n                                icon=\"edit_icon\"\r\n                                variants=\"editAction\"\r\n                                onClick={handleEdit}\r\n                              />\r\n                            )}\r\n                            {allowEdition && (\r\n                              <Button\r\n                                type=\"icon\"\r\n                                text=\"Cancelar\"\r\n                                icon=\"close\"\r\n                                variants=\"editAction\"\r\n                                onClick={handleEdit}\r\n                              />\r\n                            )}\r\n                          </React.Fragment>\r\n                        )}\r\n                    </div>\r\n                  )}\r\n                {((!input && !model) ||\r\n                  (historyBy === \"history\" && input && !model && !allowEdition)) && (\r\n                  <div style={{ display: \"flex\", alignItems: \"center\" }}>\r\n                    <Typography variant=\"body1\">\r\n                      {type === \"datetime\" ? (\r\n                        lodashGet(item, path) ? (\r\n                          moment(lodashGet(item, path)).format(\"DD/MM/YYYY HH:mm\")\r\n                        ) : (\r\n                          alt\r\n                        )\r\n                      ) : type === \"integer\" ? (\r\n                        !lodashIsNil(lodashGet(item, path)) ? (\r\n                          <NumberFormat\r\n                            value={lodashGet(item, path)}\r\n                            displayType={\"text\"}\r\n                            thousandSeparator={\".\"}\r\n                            decimalSeparator={\",\"}\r\n                          />\r\n                        ) : (\r\n                          alt\r\n                        )\r\n                      ) : !lodashIsNil(lodashGet(item, path)) ? (\r\n                        lodashGet(item, path)\r\n                      ) : (\r\n                        alt\r\n                      )}\r\n                    </Typography>\r\n                    {index === 12 && historyBy === \"history\" && (\r\n                      <React.Fragment>\r\n                        {hasEditAccess && !allowEdition && (\r\n                          <Button\r\n                            type=\"icon\"\r\n                            text=\"Editar\"\r\n                            icon=\"edit_icon\"\r\n                            variants=\"editAction\"\r\n                            onClick={handleEdit}\r\n                          />\r\n                        )}\r\n                        {allowEdition && (\r\n                          <React.Fragment>\r\n                            <Button\r\n                              type=\"icon\"\r\n                              text=\"Gravar\"\r\n                              icon=\"save\"\r\n                              variants=\"editAction\"\r\n                              onClick={handleUpdate}\r\n                            />\r\n                            <Button\r\n                              type=\"icon\"\r\n                              text=\"Deletar\"\r\n                              icon=\"delete_icon\"\r\n                              variants=\"deleteAction\"\r\n                              onClick={handleDelete}\r\n                            />\r\n                            <Button\r\n                              type=\"icon\"\r\n                              text=\"Cancelar\"\r\n                              icon=\"close\"\r\n                              variants=\"editAction\"\r\n                              onClick={handleEdit}\r\n                            />\r\n                          </React.Fragment>\r\n                        )}\r\n                      </React.Fragment>\r\n                    )}\r\n                  </div>\r\n                )}\r\n              </TableCell>\r\n            )\r\n        )}\r\n      </TableRow>\r\n    )\r\n  );\r\n};\r\n\r\nexport default withStyles(styles, { withTheme: true })(DataRow);\r\n","import React, { useState } from \"react\";\r\nimport moment from \"moment\";\r\nimport { DatePicker } from \"@material-ui/pickers\";\r\nimport { Button, IconButton, Icon } from \"@material-ui/core\";\r\nimport { withStyles } from \"../../utils\";\r\n\r\nconst styles = theme => ({\r\n  filter: {\r\n    //backgroundColor: \"rgba(255, 255, 255, .15)\",\r\n    color: theme.palette.common.black,\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    margin: theme.spacing(1),\r\n    borderRadius: 50,\r\n    padding: 4,\r\n    [theme.breakpoints.down(\"xs\")]: {\r\n      margin: 3,\r\n      padding: 2\r\n    }\r\n  },\r\n  arrow: {\r\n    padding: 0,\r\n    // color: theme.palette.common.black,\r\n  }\r\n});\r\n\r\nconst DateFilter = ({ classes, date, setDate = () => {}, maxDate, minDate, isEndDate }) => {\r\n  const handleChange = date => {\r\n    if (isEndDate) {\r\n      setDate(\r\n        moment(date)\r\n          .subtract(1, \"day\")\r\n          .endOf(\"day\")\r\n          .add(6, \"hours\")\r\n      );\r\n    } else {\r\n      setDate(\r\n        moment(date)\r\n          .startOf(\"day\")\r\n          .add(6, \"hours\")\r\n      );\r\n    }\r\n  };\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  return (\r\n    <div className={classes.filter}>\r\n      <IconButton\r\n        color='primary'\r\n        className={classes.arrow}\r\n        onClick={() => {\r\n          if (\r\n            !minDate ||\r\n            (minDate &&\r\n              !moment(date)\r\n                .subtract(1, \"day\")\r\n                .isSame(minDate, \"day\"))\r\n          ) {\r\n            handleChange(moment(date).subtract(1, \"day\"));\r\n          }\r\n        }}\r\n      >\r\n        <Icon>arrow_back_ios</Icon>\r\n      </IconButton>\r\n      <Button size=\"small\" onClick={() => setIsOpen(true)} color='primary'>\r\n        {date.format(\"ddd, DD [de] MMM HH:mm\")}\r\n      </Button>\r\n      <IconButton\r\n        color='primary'\r\n        className={classes.arrow}\r\n        onClick={() => {\r\n          console.log(\"!!!max\")\r\n          if (\r\n            !maxDate ||\r\n            (maxDate &&\r\n              !moment(date)\r\n                .add(1, \"day\")\r\n                .isAfter(maxDate, \"day\"))\r\n          ) {\r\n            handleChange(moment(date).add(1, \"day\"));\r\n          }\r\n        }}\r\n      >\r\n        <Icon>arrow_forward_ios</Icon>\r\n      </IconButton>\r\n      <div hidden>\r\n        <DatePicker\r\n          format=\"DD/MM/YYYY HH:mm\"\r\n          locale=\"pt\"\r\n          cancelLabel=\"CANCELAR\"\r\n          autoOk\r\n          value={date}\r\n          minDate={minDate}\r\n          maxDate={maxDate}\r\n          onChange={handleChange}\r\n          open={isOpen}\r\n          onOpen={() => setIsOpen(true)}\r\n          onClose={() => setIsOpen(false)}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default withStyles(styles, { withTheme: true })(DateFilter);\r\n","import React, { useRef, useState } from \"react\";\r\nimport {\r\n  Button,\r\n  Icon,\r\n  Popper,\r\n  Grow,\r\n  Paper,\r\n  ClickAwayListener,\r\n  MenuList,\r\n  MenuItem\r\n} from \"@material-ui/core\";\r\nimport { withStyles, lodashMap } from \"../../../utils\";\r\n\r\nconst styles = theme => ({\r\n  filter: {\r\n    backgroundColor: \"rgba(255, 255, 255, .15)\",\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    margin: theme.spacing(1),\r\n    borderRadius: 50,\r\n    [theme.breakpoints.down(\"xs\")]: {\r\n      margin: 3,\r\n      padding: 2\r\n    }\r\n  },\r\n  item: {\r\n    textTransform: \"uppercase\"\r\n  }\r\n});\r\n\r\nconst MenuFilter = ({ classes, filter, setFilter, identity, options }) => {\r\n  const [open, setOpen] = useState(false);\r\n  const menuRef = useRef(null);\r\n  const handleToggle = () => {\r\n    setOpen(prev => !prev);\r\n  };\r\n  const handleClose = event => {\r\n    if (menuRef.current.contains(event.target)) {\r\n      return;\r\n    }\r\n    setOpen(false);\r\n  };\r\n  const handleSelect = ({ key }) => () => {\r\n    setFilter(key);\r\n    setOpen(false);\r\n  };\r\n  return (\r\n    <React.Fragment>\r\n      <div className={classes.filter}>\r\n        <Button\r\n          buttonRef={node => {\r\n            menuRef.current = node;\r\n          }}\r\n          aria-owns={open ? identity : undefined}\r\n          aria-haspopup=\"true\"\r\n          onClick={handleToggle}\r\n        >\r\n          <span>{options[filter]}</span>\r\n        </Button>\r\n      </div>\r\n      {/* TODO use menu as filters menu, without so many wrappers */}\r\n      <Popper open={open} anchorEl={menuRef.current} transition disablePortal>\r\n        {({ TransitionProps, placement }) => (\r\n          <Grow\r\n            {...TransitionProps}\r\n            id={identity}\r\n            style={{\r\n              transformOrigin: placement === \"bottom\" ? \"center top\" : \"center bottom\"\r\n            }}\r\n          >\r\n            <Paper>\r\n              <ClickAwayListener onClickAway={handleClose}>\r\n                <MenuList>\r\n                  {lodashMap(options, (text, key) => (\r\n                    <MenuItem className={classes.item} key={key} onClick={handleSelect({ key })}>\r\n                      {text}\r\n                      {filter === key && <Icon>done</Icon>}\r\n                    </MenuItem>\r\n                  ))}\r\n                </MenuList>\r\n              </ClickAwayListener>\r\n            </Paper>\r\n          </Grow>\r\n        )}\r\n      </Popper>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default withStyles(styles, { withTheme: true })(MenuFilter);\r\n","import React, { useContext, useState, useEffect, useCallback } from \"react\";\r\nimport moment from \"moment\";\r\nimport {\r\n  Grid,\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableHead,\r\n  TableRow,\r\n  Typography,\r\n  Toolbar,\r\n  Hidden\r\n} from \"@material-ui/core\";\r\nimport { useDebouncedCallback } from \"use-debounce\";\r\nimport ApiContext from \"../../../api\";\r\nimport {\r\n  withStyles,\r\n  lodashGet,\r\n  lodashMap,\r\n  lodashForEach,\r\n  lodashFilter,\r\n  lodashReduce,\r\n  lodashIsNil,\r\n  getDateJSON,\r\n  getPermissions,\r\n  useAuth\r\n} from \"../../../utils\";\r\nimport { Loader, Button } from \"../../../components\";\r\nimport DataRow from \"./DataRow\";\r\nimport DateFilter from \"../DateFilter\";\r\nimport PlantFilter from \"../PlantFilter\";\r\nimport MenuFilter from \"../production-report/MenuFilter\";\r\n\r\nconst styles = theme => ({\r\n  title: {\r\n    fontSize: \"1rem\"\r\n  },\r\n  label: {\r\n    padding: `0 ${theme.spacing(1)}px`,\r\n    fontSize: \"1rem\"\r\n  },\r\n  container: {\r\n    height: \"100%\",\r\n    flexWrap: \"nowrap\",\r\n    overflow: \"visible\"\r\n  },\r\n  wrapper: {\r\n    position: \"relative\",\r\n    overflow: \"auto\",\r\n    flex: 1,\r\n    top: theme.spacing(1),\r\n    width: `calc(100% + ${theme.spacing(6)}px)`,\r\n    margin: -theme.spacing(3),\r\n    [theme.breakpoints.down(\"xs\")]: {\r\n      top: 0,\r\n      margin: -theme.spacing(1),\r\n      width: `calc(100% + ${theme.spacing(2)}px)`\r\n    }\r\n  },\r\n  header: {\r\n    \"& th\": {\r\n      padding: `0 ${theme.spacing(1)}px`,\r\n      textTransform: \"uppercase\",\r\n      backgroundColor: theme.palette.primary.main,\r\n      color: theme.palette.common.white,\r\n      \"& p,& a span\": {\r\n        color: theme.palette.common.white,\r\n        fontSize: \".75rem\"\r\n      }\r\n    },\r\n    [theme.breakpoints.up(\"sm\")]: {\r\n      position: \"sticky\",\r\n      top: 0,\r\n      zIndex: 1\r\n    }\r\n  },\r\n  toolbar: {\r\n    zIndex: 10,\r\n    width: `calc(100% + ${theme.spacing(6)}px)`,\r\n    margin: -theme.spacing(3),\r\n    marginBottom: theme.spacing(2),\r\n    color: theme.palette.common.black,\r\n    backgroundColor: theme.palette.secondary.main,\r\n    [theme.breakpoints.down(\"xs\")]: {\r\n      margin: -theme.spacing(1),\r\n      marginBottom: theme.spacing(1),\r\n      width: `calc(100% + ${theme.spacing(2)}px)`\r\n    }\r\n  },\r\n  export: {\r\n    minWidth: \"auto\"\r\n  },\r\n  exportWrapper: {\r\n    position: \"relative\",\r\n    display: \"flex\"\r\n  },\r\n  exportLoader: {\r\n    width: \"100%\",\r\n    position: \"absolute\",\r\n    alignSelf: \"center\"\r\n  },\r\n  scrollArea: {\r\n    height: \"100%\"\r\n  }\r\n});\r\n\r\nconst ProductionWaste = ({ classes }) => {\r\n  const { permissions } = useAuth();\r\n  const client = useContext(ApiContext);\r\n  const [pendingWasteData, setPendingWasteData] = useState([]);\r\n  const [header, setHeader] = useState([]);\r\n  const [loading, setLoading] = useState();\r\n  const [startDate, setStartDate] = useState(\r\n    moment()\r\n      .subtract(1, \"day\")\r\n      .startOf(\"day\")\r\n      .add(6, \"hours\")\r\n  );\r\n  const [endDate, setEndDate] = useState(\r\n    moment()\r\n      .subtract(1, \"day\")\r\n      .endOf(\"day\")\r\n      .add(6, \"hours\")\r\n  );\r\n  const historyByTextMap = {\r\n    waste: \"Apontamento\",\r\n    history: \"Histórico\"\r\n  };\r\n  const [historyBy, setHistoryBy] = useState();\r\n  const typesByTextMap = {\r\n    all: \"Todas\",\r\n    active: \"Ativas\",\r\n    closed: \"Encerradas\"\r\n  };\r\n  const [typesBy, setTypesBy] = useState(\"active\");\r\n  const [groupByExpandMap, setGroupByExpandMap] = useState();\r\n  const [plantIdQuery, setPlantIdQuery] = useState({});\r\n  const handleGroupExpand = ({ id }) => () =>\r\n    setGroupByExpandMap(prev => ({ ...prev, [id]: !prev[id] }));\r\n  const stringStartDate = startDate.toISOString();\r\n  const stringEndDate = endDate.toISOString();\r\n  const stringQuery = JSON.stringify(plantIdQuery);\r\n  const [getPendingWasteData] = useDebouncedCallback(\r\n    useCallback(() => {\r\n      const asyncGetPendingWasteData = async () => {\r\n        setLoading(true);\r\n        const PendingWasteData = await client.service(\"machines\").find({\r\n          query: {\r\n            ...JSON.parse(stringQuery),\r\n            $pendingWaste: {\r\n              sd: getDateJSON({ date: moment(stringStartDate) }),\r\n              ed: getDateJSON({ date: moment(stringEndDate) }),\r\n              typesBy,\r\n              historyBy\r\n            },\r\n            machineStatusId: lodashGet(client.get(\"config.machine.status.active\"), \"value\")\r\n          }\r\n        });\r\n        const expandMap = {};\r\n        lodashForEach(PendingWasteData.groupBy, item => {\r\n          expandMap[lodashGet(item, \"machine.id\")] = true;\r\n        });\r\n        setGroupByExpandMap(expandMap);\r\n        setPendingWasteData(PendingWasteData.groupBy);\r\n        setHeader(PendingWasteData.header);\r\n        setLoading(false);\r\n      };\r\n      asyncGetPendingWasteData();\r\n    }, [client, stringStartDate, stringEndDate, typesBy, historyBy, stringQuery]),\r\n    1000\r\n  );\r\n  useEffect(() => {\r\n    // TODO useDebounce\r\n    if (!historyBy) {\r\n      return;\r\n    }\r\n    // console.log(\"!!! useEffect getPendingWasteData\");\r\n    setLoading(true);\r\n    getPendingWasteData();\r\n  }, [getPendingWasteData, historyBy]);\r\n  const [loadingSubmit, setLoadingSubmit] = useState();\r\n  const handleSubmit = async () => {\r\n    if (loadingSubmit) {\r\n      return;\r\n    }\r\n    setLoadingSubmit(true);\r\n    await Promise.all(\r\n      lodashMap(pendingWasteData, async wItem => {\r\n        await lodashReduce(\r\n          wItem.groupData,\r\n          async (promise, item) => {\r\n            await promise;\r\n            const setFormErrors = item.setFormErrors || (() => {});\r\n            setFormErrors({});\r\n            let continueOperation = true;\r\n            if (!lodashIsNil(item.cp) || !lodashIsNil(item.wp)) {\r\n              const cp = parseInt(item.cp, \"10\");\r\n              if (cp < 0) {\r\n                continueOperation = false;\r\n                setFormErrors(prev => ({\r\n                  ...prev,\r\n                  cp: \"Q Confirmada não pode ser negativo\"\r\n                }));\r\n              }\r\n              const wp = parseInt(item.wp, \"10\");\r\n              if (wp < 0) {\r\n                continueOperation = false;\r\n                setFormErrors(prev => ({\r\n                  ...prev,\r\n                  wp: \"Q Refugo não pode ser negativo\"\r\n                }));\r\n              }\r\n              if (lodashGet(item, \"plant.wasteJustification\") && !item.wji && item.wp) {\r\n                continueOperation = false;\r\n                setFormErrors(prev => ({\r\n                  ...prev,\r\n                  wji: \"Campo obrigatório.\"\r\n                }));\r\n              }\r\n              if (!continueOperation) {\r\n                return Promise.resolve();\r\n              }\r\n              item.dontShow = true;\r\n              const newWaste = {\r\n                poi: lodashGet(item, \"poi.id\"),\r\n                mi: lodashGet(item, \"poi.machineId\"),\r\n                ti: lodashGet(item, \"turn.id\"),\r\n                sd: lodashGet(item, \"sd\"),\r\n                ed: lodashGet(item, \"ed\"),\r\n                tp: item.tp || 0,\r\n                cp: item.cp || 0,\r\n                wp: item.wp || 0,\r\n                wji: item.wji\r\n              };\r\n              return client.service(\"production_order_waste\").create(newWaste);\r\n            }\r\n          },\r\n          Promise.resolve()\r\n        );\r\n      })\r\n    );\r\n    setLoadingSubmit(false);\r\n  };\r\n  const hasWriteAccess = getPermissions({\r\n    privileges: [\"writePendingWaste\"],\r\n    permissions\r\n  });\r\n  useEffect(() => {\r\n    setHistoryBy(hasWriteAccess ? \"waste\" : \"history\");\r\n  }, [hasWriteAccess]);\r\n  return (\r\n    <Grid container direction=\"column\" spacing={0} className={classes.container}>\r\n      <Grid item>\r\n        <Toolbar className={classes.toolbar}>\r\n          <Typography variant=\"body1\" className={classes.title}>\r\n            Apontamento de Refugo\r\n          </Typography>\r\n          <div className={classes.exportWrapper}>\r\n            {loadingSubmit && (\r\n              <div className={classes.exportLoader}>\r\n                <Loader />\r\n              </div>\r\n            )}\r\n            {historyBy !== \"history\" && (\r\n              <Button\r\n                className={classes.export}\r\n                onClick={handleSubmit}\r\n                text=\"Gravar\"\r\n                type=\"icon\"\r\n                icon=\"save\"\r\n              />\r\n            )}\r\n          </div>\r\n          <MenuFilter\r\n            identity=\"history-by\"\r\n            filter={historyBy}\r\n            setFilter={setHistoryBy}\r\n            options={historyByTextMap}\r\n          />\r\n          <div style={{ flex: 1 }} />\r\n          <Hidden smDown>\r\n            <MenuFilter\r\n              identity=\"events-by\"\r\n              filter={typesBy}\r\n              setFilter={setTypesBy}\r\n              options={typesByTextMap}\r\n            />\r\n          </Hidden>\r\n          <DateFilter\r\n            date={startDate}\r\n            setDate={setStartDate}\r\n            maxDate={moment(endDate).subtract(1, \"days\")}\r\n          />\r\n          <Hidden smDown>\r\n            <Typography variant=\"body1\" className={classes.label}>\r\n              até\r\n            </Typography>\r\n          </Hidden>\r\n          <DateFilter\r\n            isEndDate\r\n            date={endDate}\r\n            setDate={setEndDate}\r\n            minDate={startDate}\r\n            maxDate={moment()}\r\n          />\r\n          <PlantFilter setQuery={setPlantIdQuery} />\r\n        </Toolbar>\r\n      </Grid>\r\n      <Grid item className={classes.wrapper}>\r\n        {loading && <Loader />}\r\n        {!loading && (\r\n          <Table id=\"tableId\" className={classes.table}>\r\n            <TableHead>\r\n              <TableRow className={classes.header}>\r\n                {lodashMap(header, ({ text }, index) => (\r\n                  <TableCell key={index} className={classes.header}>\r\n                    <Typography variant=\"body1\">{text}</Typography>\r\n                  </TableCell>\r\n                ))}\r\n              </TableRow>\r\n            </TableHead>\r\n            <TableBody>\r\n              {lodashMap(pendingWasteData, (wItem, index) => (\r\n                <React.Fragment key={index}>\r\n                  <React.Fragment>\r\n                    <DataRow\r\n                      header={header}\r\n                      item={wItem.groupTotal}\r\n                      groupBy={{\r\n                        handleGroupExpand,\r\n                        expandId: lodashGet(wItem, \"machine.id\"),\r\n                        expanded: lodashGet(groupByExpandMap, `${lodashGet(wItem, \"machine.id\")}`),\r\n                        enabled: true,\r\n                        colspan: wItem.colspan,\r\n                        text: `${lodashGet(wItem, \"machine.identity\")} - ${lodashGet(\r\n                          wItem,\r\n                          \"machine.name\"\r\n                        )} ${\r\n                          historyBy === \"waste\"\r\n                            ? `(${\r\n                                lodashFilter(wItem.groupData, item => !item.dontShow).length\r\n                              } Pendentes)`\r\n                            : \"\"\r\n                        }`\r\n                      }}\r\n                    />\r\n                    {lodashGet(groupByExpandMap, `${lodashGet(wItem, \"machine.id\")}`) &&\r\n                      lodashMap(\r\n                        wItem.groupData,\r\n                        (item, index) =>\r\n                          !item.dontShow && (\r\n                            <DataRow\r\n                              key={index}\r\n                              header={header}\r\n                              item={item}\r\n                              historyBy={historyBy}\r\n                            />\r\n                          )\r\n                      )}\r\n                  </React.Fragment>\r\n                </React.Fragment>\r\n              ))}\r\n            </TableBody>\r\n          </Table>\r\n        )}\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n};\r\n\r\nexport default withStyles(styles, { withTheme: true })(ProductionWaste);\r\n","import React from \"react\";\r\nimport moment from \"moment\";\r\nimport { TableCell, TableRow, Typography, Icon } from \"@material-ui/core\";\r\nimport NumberFormat from \"react-number-format\";\r\nimport {\r\n  withStyles,\r\n  classNames,\r\n  lodashGet,\r\n  lodashIsNil,\r\n  lodashMap,\r\n} from \"../../../utils\";\r\n\r\nconst styles = (theme) => ({\r\n  body: {\r\n    \"& td\": {\r\n      padding: theme.spacing(1),\r\n      \"& p,& a span\": {\r\n        fontSize: \".75rem\",\r\n      },\r\n    },\r\n  },\r\n  wrapper: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n  },\r\n  expanded: {\r\n    transform: \"rotate(180deg)\",\r\n  },\r\n  icon: {\r\n    margin: `0 ${theme.spacing(1)}px`,\r\n  },\r\n  group: {\r\n    cursor: \"pointer\",\r\n    backgroundColor: theme.palette.primary.table,\r\n  },\r\n});\r\n\r\nconst DataRow = ({ classes, header, item, groupBy = {} }) => (\r\n  <TableRow\r\n    className={classNames([classes.body, { [classes.group]: groupBy.enabled }])}\r\n  >\r\n    {groupBy.enabled && (\r\n      <TableCell\r\n        style={{ whiteSpace: \"nowrap\" }}\r\n        colSpan={groupBy.colspan}\r\n        onClick={\r\n          groupBy.handleGroupExpand &&\r\n          groupBy.handleGroupExpand({ id: groupBy.expandId })\r\n        }\r\n      >\r\n        <div className={classes.wrapper}>\r\n          {groupBy.expandId && (\r\n            <Icon\r\n              className={classNames(classes.icon, {\r\n                [classes.expanded]: groupBy.expanded,\r\n              })}\r\n            >\r\n              expand_more_icon\r\n            </Icon>\r\n          )}\r\n          <Typography variant=\"body1\">{groupBy.text}</Typography>\r\n        </div>\r\n      </TableCell>\r\n    )}\r\n    {lodashMap(header, ({ path, alt, type, add }, index) => {\r\n      const value = lodashGet(item, path);\r\n      const isNil = lodashIsNil(value);\r\n      return (\r\n        (!groupBy.enabled || add) && (\r\n          <TableCell key={index} style={{ whiteSpace: \"nowrap\" }}>\r\n            <Typography variant=\"body1\">\r\n              {!isNil &&\r\n                type === \"datetime\" &&\r\n                moment(value).format(\"DD/MM/YYYY HH:mm\")}\r\n              {!isNil && type === \"integer\" && (\r\n                <NumberFormat\r\n                  value={value}\r\n                  displayType={\"text\"}\r\n                  thousandSeparator={\".\"}\r\n                  decimalSeparator={\",\"}\r\n                />\r\n              )}\r\n              {!isNil && type === \"decimal\" && (\r\n                <NumberFormat\r\n                  value={parseFloat(value).toFixed(2).replace(\".\", \",\")}\r\n                  displayType={\"text\"}\r\n                  thousandSeparator={\".\"}\r\n                  decimalSeparator={\",\"}\r\n                />\r\n              )}\r\n              {!isNil &&\r\n                [\"datetime\", \"integer\", \"decimal\"].indexOf(type) === -1 &&\r\n                value}\r\n              {isNil && alt}\r\n            </Typography>\r\n          </TableCell>\r\n        )\r\n      );\r\n    })}\r\n  </TableRow>\r\n);\r\n\r\nexport default withStyles(styles, { withTheme: true })(DataRow);\r\n","import React, { useContext, useState, useEffect, useCallback } from \"react\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faFilePdf, faFileExcel } from \"@fortawesome/free-solid-svg-icons\";\r\nimport moment from \"moment\";\r\nimport {\r\n  Grid,\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableHead,\r\n  TableRow,\r\n  Typography,\r\n  Toolbar,\r\n  Button,\r\n  Hidden,\r\n} from \"@material-ui/core\";\r\nimport { useDebouncedCallback } from \"use-debounce\";\r\nimport ApiContext from \"../../../api\";\r\nimport {\r\n  withStyles,\r\n  lodashGet,\r\n  lodashMap,\r\n  lodashForEach,\r\n  useAuth,\r\n} from \"../../../utils\";\r\nimport { Loader } from \"../../../components\";\r\nimport DataRow from \"./DataRow\";\r\nimport DateFilter from \"../DateFilter\";\r\nimport PlantFilter from \"../PlantFilter\";\r\nimport MenuFilter from \"./MenuFilter\";\r\n\r\nconst styles = (theme) => ({\r\n  title: {\r\n    fontSize: \"1rem\",\r\n  },\r\n  label: {\r\n    padding: `0 ${theme.spacing(1)}px`,\r\n    fontSize: \"1rem\",\r\n  },\r\n  container: {\r\n    height: \"100%\",\r\n    flexWrap: \"nowrap\",\r\n    overflow: \"visible\",\r\n  },\r\n  wrapper: {\r\n    position: \"relative\",\r\n    overflow: \"auto\",\r\n    flex: 1,\r\n    width: `calc(100% + ${theme.spacing(6)}px)`,\r\n    margin: -theme.spacing(3),\r\n    [theme.breakpoints.down(\"xs\")]: {\r\n      top: 0,\r\n      margin: -theme.spacing(1),\r\n      width: `calc(100% + ${theme.spacing(2)}px)`,\r\n    },\r\n  },\r\n  loader: {\r\n    top: theme.spacing(1),\r\n    width: \"100%\",\r\n    position: \"absolute\",\r\n  },\r\n  header: {\r\n    //whiteSpace: 'nowrap',\r\n    \"& th\": {\r\n      padding: `0 ${theme.spacing(1)}px`,\r\n      textTransform: \"uppercase\",\r\n      backgroundColor: theme.palette.primary.main,\r\n      color: theme.palette.common.white,\r\n      \"& p,& a span\": {\r\n        color: theme.palette.common.white,\r\n        fontSize: \".75rem\",\r\n      },\r\n    },\r\n    [theme.breakpoints.up(\"sm\")]: {\r\n      position: \"sticky\",\r\n      top: 0,\r\n      zIndex: 1,\r\n    },\r\n  },\r\n  toolbar: {\r\n    zIndex: 10,\r\n    width: `calc(100% + ${theme.spacing(6)}px)`,\r\n    margin: -theme.spacing(3),\r\n    marginBottom: theme.spacing(2),\r\n    color: theme.palette.common.black,\r\n    backgroundColor: theme.palette.secondary.main,\r\n    [theme.breakpoints.down(\"xs\")]: {\r\n      margin: -theme.spacing(1),\r\n      marginBottom: theme.spacing(1),\r\n      width: `calc(100% + ${theme.spacing(2)}px)`,\r\n    },\r\n  },\r\n  export: {\r\n    minWidth: \"auto\",\r\n    \"& svg\": {\r\n      height: \"1rem\",\r\n      width: \"1rem !important\",\r\n    },\r\n    \"& span\": {\r\n      display: \"flex\",\r\n      flexDirection: \"column\",\r\n      flexWrap: \"nowrap\",\r\n      fontSize: \"0.75rem\",\r\n    },\r\n  },\r\n  exportWrapper: {\r\n    position: \"relative\",\r\n    display: \"flex\",\r\n  },\r\n  exportLoader: {\r\n    width: \"100%\",\r\n    position: \"absolute\",\r\n    alignSelf: \"center\",\r\n  },\r\n  scrollArea: {\r\n    height: \"100%\",\r\n  },\r\n});\r\n\r\nconst ProductionReport = ({ classes }) => {\r\n  const client = useContext(ApiContext);\r\n  const { session } = useAuth();\r\n  const [availabilityData, setAvailabilityData] = useState([]);\r\n  const [header, setHeader] = useState([]);\r\n  const [loading, setLoading] = useState();\r\n  const [startDate, setStartDate] = useState(\r\n    moment().subtract(7, \"days\").startOf(\"day\").add(6, \"hours\")\r\n  );\r\n  const [endDate, setEndDate] = useState(\r\n    moment().subtract(1, \"days\").endOf(\"day\").add(6, \"hours\")\r\n  );\r\n  const groupByTextMap = {\r\n    poi: \"por Ordem\",\r\n    mi: \"por Máquina\",\r\n    mipoi: \"por Máquina e Ordem\",\r\n  };\r\n  const [groupBy, setGroupBy] = useState(\"mipoi\");\r\n  const eventsByTextMap = {\r\n    at: \"por Tipo de Evento\",\r\n    ev: \"por Evento\",\r\n  };\r\n  const [eventsBy, setEventsBy] = useState(\"ev\");\r\n  const [groupByExpandMap, setGroupByExpandMap] = useState();\r\n  const [plantIdQuery, setPlantIdQuery] = useState({});\r\n  const handleGroupExpand = ({ id }) => () =>\r\n    setGroupByExpandMap((prev) => ({ ...prev, [id]: !prev[id] }));\r\n  const stringStartDate = startDate.toISOString();\r\n  const stringEndDate = endDate.toISOString();\r\n  const stringQuery = JSON.stringify(plantIdQuery);\r\n  const [getReportAvailabilityData] = useDebouncedCallback(\r\n    useCallback(() => {\r\n      const asyncGetReportAvailabilityData = async () => {\r\n        setLoading(true);\r\n        const ReportAvailabilityData = await client.service(\"machines\").find({\r\n          query: {\r\n            ...JSON.parse(stringQuery),\r\n            $reportAvailability: {\r\n              sd: moment(stringStartDate).toDate(),\r\n              ed: moment(stringEndDate).toDate(),\r\n              eventsBy,\r\n              groupBy,\r\n            },\r\n            machineStatusId: lodashGet(\r\n              client.get(\"config.machine.status.active\"),\r\n              \"value\"\r\n            ),\r\n          },\r\n        });\r\n        if ([\"mipoi\", \"mi\"].indexOf(groupBy) !== -1) {\r\n          const expandMap = {};\r\n          lodashForEach(ReportAvailabilityData.groupBy, (item) => {\r\n            expandMap[lodashGet(item, \"machine.id\")] = true;\r\n          });\r\n          setGroupByExpandMap(expandMap);\r\n          setAvailabilityData(ReportAvailabilityData.groupBy);\r\n        } else {\r\n          setAvailabilityData(ReportAvailabilityData.data);\r\n        }\r\n        setHeader(ReportAvailabilityData.header);\r\n        setLoading(false);\r\n      };\r\n      asyncGetReportAvailabilityData();\r\n    }, [\r\n      client,\r\n      stringStartDate,\r\n      stringEndDate,\r\n      eventsBy,\r\n      groupBy,\r\n      stringQuery,\r\n    ]),\r\n    1000\r\n  );\r\n  useEffect(() => {\r\n    // console.log(\"!!! useEffect getReportAvailabilityData\");\r\n    setLoading(true);\r\n    getReportAvailabilityData();\r\n  }, [getReportAvailabilityData]);\r\n  // TODO dependencies startDate.toISOString(), endDate.toISOString()\r\n  const fnExcelReport = () => {\r\n    let tableContent = \"<table border='2px'><tr bgcolor='#87AFC6'>\";\r\n    let table = document.getElementById(\"tableId\");\r\n    let frameId = document.getElementById(\"frameId\");\r\n    for (let i = 0; i < table.rows.length; i++) {\r\n      tableContent = tableContent + table.rows[i].innerHTML + \"</tr>\";\r\n    }\r\n    tableContent = tableContent + \"</table>\";\r\n    tableContent = tableContent.replace(/<A[^>]*>|<\\/A>/g, \"\"); //remove if u want links in your table\r\n    tableContent = tableContent.replace(/<img[^>]*>/gi, \"\"); // remove if u want images in your table\r\n    tableContent = tableContent.replace(/<input[^>]*>|<\\/input>/gi, \"\"); // reomves input params\r\n    let ua = window.navigator.userAgent;\r\n    let msie = ua.indexOf(\"MSIE \");\r\n    let sa;\r\n    if (msie > 0 || !!navigator.userAgent.match(/Trident.*rv\\:11\\./)) {\r\n      frameId.document.open(\"txt/html\", \"replace\");\r\n      frameId.document.write(tableContent);\r\n      frameId.document.close();\r\n      frameId.focus();\r\n      sa = frameId.document.execCommand(\r\n        \"SaveAs\",\r\n        true,\r\n        \"Say Thanks to Sumit.xls\"\r\n      );\r\n    } else {\r\n      sa = window.open(\r\n        \"data:application/vnd.ms-excel,\" + encodeURIComponent(tableContent)\r\n      );\r\n    }\r\n    return sa;\r\n  };\r\n  const [loadingPDF, setLoadingPDF] = useState();\r\n  const fnPDFReport = async () => {\r\n    if (loadingPDF) {\r\n      return;\r\n    }\r\n    setLoadingPDF(true);\r\n    let response = await fetch(\r\n      `${client.get(\"cloudURL\")}/report_pdf?uuid=${lodashGet(\r\n        session,\r\n        \"company.uuid\"\r\n      )}&sd=${startDate.toDate()}&ed=${endDate.toDate()}`\r\n    );\r\n    response = await response.blob();\r\n    let linkPDF = document.createElement(\"a\");\r\n    linkPDF.href = window.URL.createObjectURL(response);\r\n    linkPDF.download = `Relatório de Produção ${startDate.format(\r\n      \"YYYY-MMM-DD\"\r\n    )} ${endDate.format(\"YYYY-MMM-DD\")}.pdf`;\r\n    document.body.appendChild(linkPDF);\r\n    linkPDF.click();\r\n    linkPDF.remove();\r\n    setLoadingPDF(false);\r\n  };\r\n  //#region filter menu on mobile\r\n  // const [anchorEl, setAnchorEl] = useState(null);\r\n  // const handleClick = event => setAnchorEl(event.currentTarget);\r\n  // const handleClose = () => setAnchorEl(null);\r\n  //#endregion\r\n  return (\r\n    <Grid\r\n      container\r\n      direction=\"column\"\r\n      spacing={0}\r\n      className={classes.container}\r\n    >\r\n      <Grid item>\r\n        <Toolbar className={classes.toolbar}>\r\n          <Typography variant=\"body1\" className={classes.title}>\r\n            Relatório de Produção\r\n          </Typography>\r\n          <div>\r\n            <Button className={classes.export} onClick={fnExcelReport}>\r\n              <FontAwesomeIcon icon={faFileExcel} />\r\n              <span>Excel</span>\r\n            </Button>\r\n            <iframe title=\"frameId\" id=\"frameId\" style={{ display: \"none\" }} />\r\n          </div>\r\n          <div className={classes.exportWrapper}>\r\n            {loadingPDF && (\r\n              <div className={classes.exportLoader}>\r\n                <Loader />\r\n              </div>\r\n            )}\r\n            <Button className={classes.export} onClick={fnPDFReport}>\r\n              <FontAwesomeIcon icon={faFilePdf} />\r\n              <span>PDF</span>\r\n            </Button>\r\n          </div>\r\n          <div style={{ flex: 1 }} />\r\n          <Hidden smDown>\r\n            <MenuFilter\r\n              identity=\"menu-group-by\"\r\n              filter={groupBy}\r\n              setFilter={setGroupBy}\r\n              options={groupByTextMap}\r\n            />\r\n            <MenuFilter\r\n              identity=\"events-by\"\r\n              filter={eventsBy}\r\n              setFilter={setEventsBy}\r\n              options={eventsByTextMap}\r\n            />\r\n          </Hidden>\r\n          <DateFilter\r\n            date={startDate}\r\n            setDate={(date) => {\r\n              setStartDate(moment(date));\r\n              setEndDate(\r\n                (moment(date)\r\n                  .add(6, \"days\")\r\n                  .isAfter(moment().subtract(1, \"days\"), \"minute\")\r\n                  ? moment().subtract(1, \"days\")\r\n                  : moment(date).add(6, \"days\")\r\n                )\r\n                  .endOf(\"day\")\r\n                  .add(6, \"hours\")\r\n              );\r\n            }}\r\n            // minDate={moment(endDate).subtract(30, \"days\")}\r\n            maxDate={moment(endDate).subtract(1, \"days\")}\r\n          />\r\n          <Hidden smDown>\r\n            <Typography variant=\"body1\" className={classes.label}>\r\n              até\r\n            </Typography>\r\n          </Hidden>\r\n          <DateFilter\r\n            isEndDate\r\n            date={endDate}\r\n            setDate={setEndDate}\r\n            minDate={moment(startDate).add(1, \"days\")}\r\n            maxDate={\r\n              moment(startDate).add(15, \"days\").isAfter(moment(), \"minute\")\r\n                ? moment()\r\n                : moment(startDate).add(15, \"days\")\r\n            }\r\n          />\r\n          <PlantFilter setQuery={setPlantIdQuery} />\r\n        </Toolbar>\r\n      </Grid>\r\n      <Grid item className={classes.wrapper}>\r\n        {loading && (\r\n          <div className={classes.loader}>\r\n            <Loader />\r\n          </div>\r\n        )}\r\n        {!loading && (\r\n          <Table id=\"tableId\" className={classes.table}>\r\n            <TableHead>\r\n              <TableRow className={classes.header}>\r\n                {lodashMap(header, ({ text }, index) => (\r\n                  <TableCell key={index} className={classes.header}>\r\n                    <Typography variant=\"body1\">{text}</Typography>\r\n                  </TableCell>\r\n                ))}\r\n              </TableRow>\r\n            </TableHead>\r\n            <TableBody>\r\n              {lodashMap(availabilityData, (item, index) => (\r\n                <React.Fragment key={index}>\r\n                  {groupBy === \"mipoi\" && (\r\n                    <React.Fragment>\r\n                      {/* TODO add expand transition */}\r\n                      <DataRow\r\n                        header={header}\r\n                        item={item.groupTotal}\r\n                        groupBy={{\r\n                          handleGroupExpand,\r\n                          expandId: lodashGet(item, \"machine.id\"),\r\n                          expanded: lodashGet(\r\n                            groupByExpandMap,\r\n                            `${lodashGet(item, \"machine.id\")}`\r\n                          ),\r\n                          enabled: true,\r\n                          colspan: item.colspan,\r\n                          text: `${lodashGet(\r\n                            item,\r\n                            \"machine.identity\"\r\n                          )} - ${lodashGet(item, \"machine.name\")}`,\r\n                        }}\r\n                      />\r\n                      {lodashGet(\r\n                        groupByExpandMap,\r\n                        `${lodashGet(item, \"machine.id\")}`\r\n                      ) &&\r\n                        lodashMap(item.groupData, (item, index) => (\r\n                          <DataRow key={index} header={header} item={item} />\r\n                        ))}\r\n                    </React.Fragment>\r\n                  )}\r\n                  {groupBy === \"mi\" && (\r\n                    <DataRow header={header} item={item.groupTotal} />\r\n                  )}\r\n                  {groupBy === \"poi\" && <DataRow header={header} item={item} />}\r\n                </React.Fragment>\r\n              ))}\r\n            </TableBody>\r\n          </Table>\r\n        )}\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n};\r\n\r\nexport default withStyles(styles, { withTheme: true })(ProductionReport);\r\n","/* eslint-disable import/first */\r\nimport React from \"react\";\r\nimport Chartist from \"chartist\";\r\nimport ChartistGraph from \"react-chartist\";\r\nimport \"chartist-plugin-tooltips\";\r\nimport \"../chartist-plugin-tooltip.css\";\r\nimport \"chartist/dist/chartist.css\";\r\nimport { withStyles } from \"../../../utils\";\r\nimport \"./gauge.css\";\r\n\r\nconst styles = theme => ({});\r\n\r\nconst ProductionGauge = ({ filters, data, header }) => {\r\n  const options = {\r\n    stackBars: true,\r\n    horizontalBars: true,\r\n    height: header ? \"50px\" : \"80px\",\r\n    low: 0,\r\n    high: 1440,\r\n    classNames: {\r\n      label: \"myct-label\"\r\n    },\r\n    axisX: {\r\n      offset: header ? 100 : 10,\r\n      showLabel: header ? true : false,\r\n      type: Chartist.FixedScaleAxis,\r\n      divisor: header ?\r\n        window.innerWidth > 1400 ? 24 : window.innerWidth > 800 ? 12 : window.innerWidth > 400 ? 6 : 3\r\n        :\r\n        window.innerWidth > 1400 ? 24*2 : window.innerWidth > 800 ? 12*2 : window.innerWidth > 400 ? 6*2 : 3*2,\r\n      showGrid: true,\r\n        labelInterpolationFnc: (value, index, array) => {\r\n        if (header) {\r\n          //TODO: get first working hour of the day from location settings\r\n          console.log(value,array );\r\n          if (value % 60 === 0){\r\n            return  filters.sd\r\n              .clone()\r\n              .add(6, \"hours\")\r\n              .add(value, \"m\")\r\n              .format(\"HH:mm\");            \r\n          }\r\n        }\r\n        return \"\";\r\n      }\r\n    },\r\n    axisY: {\r\n      showGrid: false,\r\n      showLabel: false\r\n    },\r\n    plugins: [\r\n      Chartist.plugins.tooltip({\r\n        appendToBody: true,\r\n        class: \"gauge-tooltip\",\r\n        transformTooltipTextFnc: () => {}\r\n      })\r\n    ]\r\n  };\r\n  const fillBarColor = {\r\n    draw: context => {\r\n      if (context.series) {\r\n        context.element.attr({\r\n          style: \"stroke:\" + context.series.bgColor\r\n        });\r\n      }\r\n    }\r\n  };\r\n  return (\r\n    <ChartistGraph\r\n      type=\"Bar\"\r\n      data={data || { }}\r\n      options={options}\r\n      listener={fillBarColor}\r\n      style={{\r\n        marginBottom: \"-18px\",\r\n        marginTop: header ? \"\" : \"-15px\",\r\n        marginLeft: \"-35px\",\r\n        position: \"relative\",\r\n        top: header ? \"-18px\" : \"\",\r\n        overflowY: header ? \"hidden\" : \"\"\r\n      }}\r\n    />\r\n  );\r\n};\r\n\r\nexport default withStyles(styles, { withTheme: true })(ProductionGauge);\r\n","import React, { useContext, useState, useEffect } from \"react\";\r\nimport { TableRow, TableCell, Typography } from \"@material-ui/core\";\r\nimport ApiContext from \"../../../api\";\r\nimport { withStyles, lodashGet, getColor, getEventType } from \"../../../utils\";\r\nimport Status from \"../production/Status\";\r\nimport ProductionGauge from \"./ProductionGauge\";\r\n\r\nconst styles = theme => ({\r\n  label: {\r\n    fontSize: \".65rem\"\r\n  },\r\n  title: {\r\n    padding: `${theme.spacing(1)}px 0`,\r\n    height: \"100%\",\r\n    minHeight: 58\r\n  },\r\n  row: {\r\n    \"& td\": {\r\n      padding: `0 ${theme.spacing(2)}px`\r\n    }\r\n  },\r\n  status: {\r\n    padding: `${theme.spacing(0)}px !important`,\r\n    \"& > div\": {\r\n      margin: \"0 auto\"\r\n    }\r\n  }\r\n});\r\n\r\nconst MachineRow = ({ classes, machine, typesMap, filters, isSameDay }) => {\r\n  const client = useContext(ApiContext);\r\n  const undefinedEventType = getEventType({ client, type: \"undefined\" });\r\n  const undefinedColor = getColor({\r\n    data: client.get(`actionType.${undefinedEventType}`),\r\n    path: \"color\"\r\n  });\r\n  const [data, setData] = useState({});\r\n  useEffect(() => {\r\n    let total = 0;\r\n    machine.history.map(item => (total += item.value[0]));\r\n    setData({\r\n      labels: [],\r\n      series: machine.history.length\r\n        ? machine.history\r\n        : [\r\n            {\r\n              at: -1,\r\n              ev: -1,\r\n              bgColor: undefinedColor,\r\n              diff: 1440,\r\n              meta: \"SISTEMA SEM COMUNICAÇÃO\",\r\n              value: [1440]\r\n            }\r\n          ]\r\n    });\r\n  }, [machine, undefinedColor]);\r\n  // console.log(\"!!!!data\", machine.id, machine.identity, machine.stats, machine.history);\r\n  return (\r\n    <TableRow className={classes.row}>\r\n      <TableCell className={classes.title}>\r\n        <Typography variant=\"body1\">{machine.identity}</Typography>\r\n        <Typography className={classes.label} component=\"p\">\r\n          {machine.name}\r\n        </Typography>\r\n      </TableCell>\r\n      <TableCell>\r\n        {/* <ProductionGauge filters={filters} header /> */}\r\n        <ProductionGauge filters={filters} data={data} />\r\n      </TableCell>\r\n      <TableCell>\r\n        <Typography variant=\"body1\">\r\n          {parseFloat(lodashGet(machine, \"stats.oem\")) >= 0\r\n            ? `${lodashGet(machine, \"stats.oem\")}%`\r\n            : \"ND\"}\r\n        </Typography>\r\n      </TableCell>\r\n      {isSameDay && (\r\n        <TableCell className={classes.status}>\r\n          <Status productionOrder={machine.productionOrder} size={40}/>\r\n        </TableCell>\r\n      )}\r\n    </TableRow>\r\n  );\r\n};\r\n\r\nexport default withStyles(styles, { withTheme: true })(MachineRow);\r\n","import React, { useContext, useState, useEffect, useCallback } from \"react\";\r\nimport moment from \"moment\";\r\nimport {\r\n  Grid,\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableHead,\r\n  TableRow,\r\n  Typography,\r\n  Toolbar,\r\n  Hidden\r\n} from \"@material-ui/core\";\r\nimport { useDebouncedCallback } from \"use-debounce\";\r\nimport ApiContext from \"../../../api\";\r\nimport {\r\n  withRouter,\r\n  withStyles,\r\n  lodashGet,\r\n  lodashMap,\r\n  lodashFindIndex\r\n} from \"../../../utils\";\r\nimport { Loader } from \"../../../components\";\r\nimport DateFilter from \"../DateFilter\";\r\nimport PlantFilter from \"../PlantFilter\";\r\nimport MachineRow from \"./MachineRow\";\r\nimport ProductionGauge from \"./ProductionGauge\";\r\nimport { LinearProgress } from \"@material-ui/core\";\r\n\r\nconst styles = theme => ({\r\n  title: {\r\n    fontSize: \"1rem\"\r\n  },\r\n  label: {\r\n    padding: `0 ${theme.spacing(1)}px`,\r\n    fontSize: \"1rem\"\r\n  },\r\n  container: {\r\n    height: \"100%\",\r\n    flexWrap: \"nowrap\",\r\n    overflow: \"visible\"\r\n  },\r\n  wrapper: {\r\n    position: \"relative\",\r\n    overflow: \"auto\",\r\n    flex: 1,\r\n    top: theme.spacing(1),\r\n    width: `calc(100% + ${theme.spacing(6)}px)`,\r\n    margin: -theme.spacing(3),\r\n    [theme.breakpoints.down(\"xs\")]: {\r\n      top: 0,\r\n      margin: -theme.spacing(1),\r\n      width: `calc(100% + ${theme.spacing(2)}px)`\r\n    }\r\n  },\r\n  header: {\r\n    height: \"56px\",\r\n    //whiteSpace: 'nowrap',\r\n    \"& th\": {\r\n      padding: `0 ${theme.spacing(2)}px`,\r\n      textTransform: \"uppercase\",\r\n      backgroundColor: theme.palette.primary.main,\r\n      color: theme.palette.common.white,\r\n      \"& p,& a span\": {\r\n        color: theme.palette.common.white,\r\n        fontSize: \".75rem\"\r\n      }\r\n    },\r\n    [theme.breakpoints.up(\"sm\")]: {\r\n      position: \"sticky\",\r\n      top: 0,\r\n      zIndex: 1\r\n    }\r\n  },\r\n  toolbar: {\r\n    zIndex: 10,\r\n    width: `calc(100% + ${theme.spacing(6)}px)`,\r\n    margin: -theme.spacing(3),\r\n    marginBottom: theme.spacing(2),\r\n    color: theme.palette.common.black,\r\n    backgroundColor: theme.palette.secondary.main,\r\n    [theme.breakpoints.down(\"xs\")]: {\r\n      margin: -theme.spacing(1),\r\n      marginBottom: theme.spacing(1),\r\n      width: `calc(100% + ${theme.spacing(2)}px)`\r\n    }\r\n  },\r\n  scrollArea: {\r\n    height: \"100%\"\r\n  },\r\n  loader: {\r\n    marginBottom: \"-4px\",\r\n    zIndex: \"2\"\r\n    // color: theme.palette.secondary.main,\r\n    // backgroundColor: theme.palette.primary.main,\r\n  }\r\n});\r\n\r\nconst ProductionHistory = ({ classes, match: { params }, timeCarousel, limit, offset }) => {\r\n  const client = useContext(ApiContext);\r\n  const [reportHistoryData, setReportHistoryData] = useState([]);\r\n  const [loading, setLoading] = useState();\r\n  const [plantIdQuery, setPlantIdQuery] = useState({});\r\n  const [date, setDate] = useState(\r\n    moment().isAfter(\r\n      moment()\r\n        .startOf(\"day\")\r\n        .add(6, \"hours\"),\r\n      \"minute\"\r\n    )\r\n      ? moment()\r\n          .startOf(\"day\")\r\n          .add(6, \"hours\")\r\n      : moment()\r\n          .subtract(1, \"day\")\r\n          .startOf(\"day\")\r\n          .add(6, \"hours\")\r\n  );\r\n  const stringDate = date.toISOString();\r\n  const stringQuery = JSON.stringify(plantIdQuery);\r\n  const isSameDay = moment().isSame(date, \"day\");\r\n  const [getReportHistoryData] = useDebouncedCallback(\r\n    useCallback(\r\n      ({ machineId } = {}) => {\r\n        const asyncGetReportHistoryData = async () => {\r\n          setLoading(true);\r\n          const companyQuery = {};\r\n          if (params.companyId) {\r\n            companyQuery.$adminQueryCompanyId = params.companyId;\r\n          }\r\n          const machineQuery = {};\r\n          if (machineId) {\r\n            machineQuery.id = machineId;\r\n          }\r\n          const ReportHistoryData = await client.service(\"machines\").find({\r\n            query: {\r\n              ...JSON.parse(stringQuery),\r\n              ...companyQuery,\r\n              ...machineQuery,\r\n              $reportHistory: {\r\n                sd: moment(stringDate)\r\n                  .startOf(\"day\")\r\n                  .add(6, \"hours\")\r\n                  .toDate(),\r\n                ed: moment(stringDate)\r\n                  .endOf(\"day\")\r\n                  .add(6, \"hours\")\r\n                  .toDate(),\r\n                cd: moment().toDate(),\r\n                same: isSameDay\r\n              },\r\n              machineStatusId: lodashGet(\r\n                client.get(\"config.machine.status.active\"),\r\n                \"value\"\r\n              ),\r\n              $sort: {\r\n                identity: 1\r\n              },\r\n              $limit: limit,\r\n              $skip: offset\r\n            }\r\n          });\r\n          if (machineId) {\r\n            setReportHistoryData(prev => {\r\n              const index = lodashFindIndex(prev, { id: machineId });\r\n              if (index !== -1) {\r\n                prev[index] = ReportHistoryData.data[0];\r\n                // } else { // TODO add new machines too?\r\n                //   return [...prev, ...ReportHistoryData.data];\r\n              }\r\n              return [...prev];\r\n            });\r\n          } else {\r\n            setReportHistoryData(ReportHistoryData.data);\r\n          }\r\n          setLoading(false);\r\n        };\r\n        asyncGetReportHistoryData();\r\n      },\r\n      [client, stringDate, params.companyId, stringQuery, isSameDay]\r\n    ),\r\n    1000\r\n  );\r\n  // TODO do the same to ALL reports calls\r\n  useEffect(() => {\r\n    // console.log(\"!!! useEffect getReportHistoryData\");\r\n    if (timeCarousel) {\r\n      setLoading(true);\r\n      setTimeout(() => {\r\n        getReportHistoryData();\r\n      }, timeCarousel * 1000);\r\n    } else {\r\n      setLoading(true);\r\n      getReportHistoryData();\r\n    }\r\n  }, [getReportHistoryData]);\r\n  useEffect(() => {\r\n    // console.log(\"!!! useEffect getReportHistoryData\");\r\n    let getReportHistoryDataInterval;\r\n    if (isSameDay) {\r\n      getReportHistoryDataInterval = setInterval(() => {\r\n        setLoading(true);\r\n        getReportHistoryData();\r\n      }, 5 * 60 * 1000);\r\n    }\r\n    return () => {\r\n      clearInterval(getReportHistoryDataInterval);\r\n    };\r\n  }, [client, getReportHistoryData, isSameDay]);\r\n  return (\r\n    <Grid\r\n      container\r\n      direction=\"column\"\r\n      spacing={0}\r\n      className={classes.container}\r\n    >\r\n      <Grid item>\r\n        <Toolbar className={classes.toolbar}>\r\n          <Typography variant=\"body1\" className={classes.title}>\r\n            Histórico de Produção\r\n          </Typography>\r\n          <div style={{ flex: 1 }} />\r\n          <DateFilter date={date} setDate={setDate} maxDate={moment()} />\r\n          <PlantFilter setQuery={setPlantIdQuery} />\r\n        </Toolbar>\r\n      </Grid>\r\n      <Grid item className={classes.wrapper}>\r\n        {loading && <LinearProgress className={classes.loader} />}\r\n        <Table id=\"tableId\" className={classes.table}>\r\n          <colgroup>\r\n            <Hidden smDown>\r\n              <col width=\"135px\" />\r\n            </Hidden>\r\n            <Hidden mdUp>\r\n              <col width=\"50px\" />\r\n            </Hidden>\r\n            <col />\r\n            <col width=\"50px\" />\r\n            {isSameDay && <col width=\"70px\" />}\r\n          </colgroup>\r\n          <TableHead>\r\n            <TableRow className={classes.header}>\r\n              <TableCell className={classes.header}>\r\n                <Typography variant=\"body1\">Máquina</Typography>\r\n              </TableCell>\r\n              <TableCell className={classes.header}>\r\n                <ProductionGauge\r\n                  data={[30, 30, 30, 30]}\r\n                  filters={{\r\n                    sd: moment(date).startOf(\"day\"),\r\n                    ed: moment(date).endOf(\"day\")\r\n                  }}\r\n                  header\r\n                />\r\n              </TableCell>\r\n              <TableCell className={classes.header}>\r\n                <Typography variant=\"body1\">Disp.</Typography>\r\n              </TableCell>\r\n              {isSameDay && (\r\n                <TableCell className={classes.header}>\r\n                  <Typography variant=\"body1\">Status</Typography>\r\n                </TableCell>\r\n              )}\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            {lodashMap(reportHistoryData, item => (\r\n              <MachineRow\r\n                key={item.id}\r\n                machine={item}\r\n                filters={{\r\n                  sd: moment(date).startOf(\"day\"),\r\n                  ed: moment(date).endOf(\"day\")\r\n                }}\r\n                isSameDay={isSameDay}\r\n              />\r\n            ))}\r\n          </TableBody>\r\n        </Table>\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n};\r\n\r\nexport default withRouter(\r\n  withStyles(styles, { withTheme: true })(ProductionHistory)\r\n);\r\n","import React from \"react\";\r\nimport Chartist from \"chartist\";\r\nimport ChartistGraph from \"react-chartist\";\r\nimport { Grid, Typography } from \"@material-ui/core\";\r\nimport { withStyles, lodashGet, NUMBER_FORMAT } from \"../../../utils\";\r\n\r\nconst styles = (theme) => ({\r\n  container: {\r\n    display: \"flex\",\r\n    // TODO use css instead of prop on GRID\r\n    alignItems: \"center\",\r\n  },\r\n  title: {\r\n    width: 220,\r\n  },\r\n});\r\n\r\nconst BarChart = ({ classes, theme, text, data }) => {\r\n  const chartistOptions = {\r\n    height: 50,\r\n    reverseData: true,\r\n    horizontalBars: true,\r\n    axisX: {\r\n      offset: 20,\r\n      type: Chartist.FixedScaleAxis,\r\n      high: 110,\r\n      low: 0,\r\n      ticks: [0, 50, 100],\r\n      // TODO find and replace all `+ \"`\r\n      labelInterpolationFnc: (value) => `${value}%`,\r\n    },\r\n    axisY: {\r\n      showGrid: false,\r\n      showLabel: false,\r\n    },\r\n  };\r\n  const fillBarColor = {\r\n    draw: (context) => {\r\n      if (context.series) {\r\n        context.element.attr({\r\n          style: `stroke: ${lodashGet(\r\n            context,\r\n            \"series.0.bgColor\"\r\n          )}; stroke-width: ${\r\n            window.outerWidth <= theme.breakpoints.width(\"sm\") ? \"15px\" : \"30px\"\r\n          }`,\r\n        });\r\n      }\r\n      if (context.type === \"grid\") {\r\n        context.element.attr({\r\n          y1: context.y1 - 15,\r\n          y2: context.y2 + 15,\r\n          style: \"stroke: black; stroke-width: 1px; stroke-dasharray: none;\",\r\n        });\r\n      }\r\n    },\r\n  };\r\n  return (\r\n    <Grid item container spacing={0} className={classes.container}>\r\n      <Grid item className={classes.title}>\r\n        <Typography variant=\"body1\">\r\n          {text}{\" \"}\r\n          {NUMBER_FORMAT(\r\n            parseFloat(lodashGet(data, \"series.0.0.value\")).toFixed(2)\r\n          )}\r\n          %\r\n        </Typography>\r\n      </Grid>\r\n      <Grid item>\r\n        <ChartistGraph\r\n          type=\"Bar\"\r\n          className=\"ct-oee-indicators\"\r\n          data={data}\r\n          options={chartistOptions}\r\n          listener={fillBarColor}\r\n          style={{ padding: theme.spacing(2) }}\r\n        />\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n};\r\n\r\nexport default withStyles(styles, { withTheme: true })(BarChart);\r\n","import React, { useContext } from \"react\";\r\nimport { Typography, Grid, Icon, Avatar } from \"@material-ui/core\";\r\nimport ApiContext from \"../../../api\";\r\nimport {\r\n  Link,\r\n  withRouter,\r\n  withStyles,\r\n  classNames,\r\n  lodashGet,\r\n  lodashMap,\r\n  useFindService\r\n} from \"../../../utils\";\r\nimport { Loader, NotFound } from \"../../../components\";\r\n\r\nconst styles = theme => ({\r\n  card: {\r\n    color: theme.palette.common.black,\r\n    display: \"flex\",\r\n    padding: `${theme.spacing(1)}px ${theme.spacing(2)}px`\r\n  },\r\n  link: {\r\n    // TODO do all !important are needed?\r\n    textDecoration: \"none\"\r\n  },\r\n  selected: {\r\n    backgroundColor: theme.palette.primary.header\r\n  },\r\n  avatar: {\r\n    marginRight: theme.spacing(1),\r\n    color: theme.palette.primary.main\r\n  },\r\n  item: {\r\n    flexWrap: \"nowrap\"\r\n  }\r\n});\r\n\r\nconst PlantMachinesList = ({ match: { params }, classes, model, plant }) => {\r\n  const client = useContext(ApiContext);\r\n  const { list, loading } = useFindService({\r\n    model: \"machines\",\r\n    query: {\r\n      plantId: plant.id,\r\n      machineStatusId: lodashGet(client.get(\"config.machine.status.active\"), \"value\"),\r\n      $sort: {\r\n        identity: 1\r\n      }\r\n    }\r\n  });\r\n  const empty = !loading && !list.length;\r\n  return (\r\n    <React.Fragment>\r\n      {empty && <NotFound />}\r\n      {loading && <Loader />}\r\n      {lodashMap(list, machine => (\r\n        <Grid\r\n          item\r\n          xs={12}\r\n          key={machine.id}\r\n          className={classNames(classes.link, {\r\n            [classes.selected]:\r\n              parseInt(params.plantId, \"10\") === plant.id &&\r\n              parseInt(params.machineId, \"10\") === machine.id\r\n          })}\r\n          component={Link}\r\n          to={`${model.formPath}/${plant.id}/machine/${machine.id}`}\r\n        >\r\n          <div className={classes.card}>\r\n            <Grid container alignItems=\"center\" className={classes.item}>\r\n              {machine.image && (\r\n                <Avatar alt={machine.name} src={machine.image} className={classes.avatar} />\r\n              )}\r\n              {!machine.image && model.icon && <Icon className={classes.avatar}>{model.icon}</Icon>}\r\n              <Typography variant=\"body1\">\r\n                {machine.identity ? `${machine.identity} - ` : \"\"} {machine.name}\r\n              </Typography>\r\n            </Grid>\r\n          </div>\r\n        </Grid>\r\n      ))}\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default withRouter(withStyles(styles, { withTheme: true })(PlantMachinesList));\r\n","import React, { useContext, useState, useEffect, useCallback } from \"react\";\r\nimport moment from \"moment\";\r\nimport NumberFormat from \"react-number-format\";\r\nimport Chartist from \"chartist\";\r\nimport ChartistGraph from \"react-chartist\";\r\nimport \"chartist-plugin-tooltips\";\r\nimport \"../chartist-plugin-tooltip.css\";\r\nimport \"chartist/dist/chartist.css\";\r\nimport {\r\n  Paper,\r\n  Grid,\r\n  Typography,\r\n  Toolbar,\r\n  Hidden,\r\n  Icon,\r\n} from \"@material-ui/core\";\r\nimport { useDebouncedCallback } from \"use-debounce\";\r\nimport ApiContext from \"../../../api\";\r\nimport {\r\n  Link,\r\n  withRouter,\r\n  classNames,\r\n  withStyles,\r\n  lodashGet,\r\n  lodashMap,\r\n  lodashForEach,\r\n  NUMBER_FORMAT,\r\n} from \"../../../utils\";\r\nimport { Loader, Tree } from \"../../../components\";\r\nimport \"../reports.css\";\r\nimport DateFilter from \"../DateFilter\";\r\nimport GaugeChart from \"../GaugeChart\";\r\nimport PieChart from \"../PieChart\";\r\nimport BarChart from \"./BarChart\";\r\nimport PlantMachinesList from \"./PlantMachinesList\";\r\nimport { MachinesModel } from \"../../master-data/models\";\r\n\r\nconst styles = (theme) => ({\r\n  container: {\r\n    height: \"100%\",\r\n    flexWrap: \"nowrap\",\r\n    overflow: \"visible\",\r\n  },\r\n  wrapper: {\r\n    height: \"100%\",\r\n    overflow: \"hidden\",\r\n  },\r\n  toolbar: {\r\n    zIndex: 10,\r\n    width: `calc(100% + ${theme.spacing(6)}px)`,\r\n    margin: -theme.spacing(3),\r\n    marginBottom: theme.spacing(2),\r\n    color: theme.palette.common.black,\r\n    backgroundColor: theme.palette.secondary.main,\r\n    [theme.breakpoints.down(\"xs\")]: {\r\n      margin: -theme.spacing(1),\r\n      marginBottom: theme.spacing(1),\r\n      width: `calc(100% + ${theme.spacing(2)}px)`,\r\n    },\r\n  },\r\n  toolbarTitle: {\r\n    fontSize: \"1rem\",\r\n  },\r\n  // TODO use meaningful names for classes, not just generic\r\n  toolbarLabel: {\r\n    padding: `0 ${theme.spacing(1)}px`,\r\n    fontSize: \"1rem\",\r\n  },\r\n  tree: {\r\n    flex: 1,\r\n    height: \"100%\",\r\n    maxWidth: \"25%\",\r\n    overflowY: \"auto\",\r\n    overflowX: \"hidden\",\r\n  },\r\n  treeItemSelected: {\r\n    backgroundColor: theme.palette.primary.form,\r\n  },\r\n  content: {\r\n    height: \"100%\",\r\n    position: \"relative\",\r\n    overflow: \"auto\",\r\n    flex: 1,\r\n  },\r\n  graphWrapper: {\r\n    display: \"flex\",\r\n    paddingLeft: theme.spacing(3),\r\n    alignItems: \"center\",\r\n  },\r\n  graphSidebar: {\r\n    flexDirection: \"column\",\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      flexDirection: \"row\",\r\n    },\r\n  },\r\n  graphItem: {\r\n    \"& canvas\": {\r\n      paddingLeft: theme.spacing(3),\r\n      [theme.breakpoints.up(\"sm\")]: {\r\n        height: \"280px !important\",\r\n      },\r\n    },\r\n  },\r\n  graphItemDetail: {\r\n    padding: theme.spacing(1),\r\n  },\r\n  graphTitle: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    fontSize: \"1.5rem\",\r\n    padding: theme.spacing(2),\r\n    textDecoration: \"none\",\r\n  },\r\n  graphSidebarTitle: {\r\n    fontSize: \".9rem\",\r\n  },\r\n  graphIcon: {\r\n    fontSize: 50,\r\n    color: theme.palette.primary.main,\r\n  },\r\n  graphDetailTitle: {\r\n    textAlign: \"right\",\r\n    fontSize: \".9rem\",\r\n  },\r\n  graphDetail: {\r\n    fontWeight: \"bold\",\r\n  },\r\n  allPlants: {\r\n    color: theme.palette.common.black,\r\n    padding: `${theme.spacing(1)}px ${theme.spacing(2)}px`,\r\n  },\r\n\r\n  legend: {\r\n    flexWrap: \"wrap\",\r\n    display: \"flex\",\r\n    margin: `${theme.spacing(2)}px ${theme.spacing(2)}px 0`,\r\n    boxShadow: \"none\",\r\n    background: \"none\",\r\n    fontSize: \"small\",\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      fontSize: \"xx-small\",\r\n    },\r\n  },\r\n  titleLegend: {\r\n    display: \"flex\",\r\n    width: \"fit-content\",\r\n    alignItems: \"center\",\r\n    textTransform: \"uppercase\",\r\n    margin: theme.spacing(1),\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      margin: theme.spacing(1 / 2),\r\n    },\r\n  },\r\n  iconLegend: {\r\n    borderRadius: \"50%\",\r\n    height: 10,\r\n    width: 10,\r\n    margin: 5,\r\n  },\r\n});\r\n\r\nconst ProductionOEE = ({\r\n  classes,\r\n  theme,\r\n  match: { params },\r\n  location: { pathname },\r\n  timeCarousel,\r\n}) => {\r\n  const client = useContext(ApiContext);\r\n  const [availabilityData, setAvailabilityData] = useState({});\r\n  const [graphOEEData, setGraphOEEData] = useState({});\r\n  const [qualityData, setQualityData] = useState({});\r\n  const [performanceData, setPerformanceData] = useState({});\r\n  const [oeeData, setOEEData] = useState();\r\n  const [actionsData, setActionsData] = useState({});\r\n  const [statsData, setStatsData] = useState({});\r\n  const [loading, setLoading] = useState();\r\n  const [loadingGraph, setLoadingGraph] = useState();\r\n  const [startDate, setStartDate] = useState(\r\n    moment().subtract(1, \"days\").startOf(\"day\").add(6, \"hours\")\r\n  );\r\n  const [endDate, setEndDate] = useState(\r\n    moment().subtract(1, \"days\").endOf(\"day\").add(6, \"hours\")\r\n  );\r\n  const stringStartDate = startDate.toISOString();\r\n  const stringEndDate = endDate.toISOString();\r\n  const [getReportOEEData] = useDebouncedCallback(\r\n    useCallback(() => {\r\n      const asyncGetReportOEEData = async () => {\r\n        setLoading(true);\r\n        const query = {};\r\n        if (params.plantId) {\r\n          query.plantId = params.plantId;\r\n        }\r\n        if (params.machineId) {\r\n          query.id = params.machineId;\r\n        }\r\n        const ReportOEEData = await client.service(\"machines\").find({\r\n          query: {\r\n            ...query,\r\n            $reportOEE: {\r\n              sd: moment(stringStartDate).toDate(),\r\n              ed: moment(stringEndDate).toDate(),\r\n            },\r\n            machineStatusId: lodashGet(\r\n              client.get(\"config.machine.status.active\"),\r\n              \"value\"\r\n            ),\r\n            $sort: {\r\n              identity: 1,\r\n            },\r\n          },\r\n        });\r\n        setAvailabilityData(ReportOEEData.graphAvailability);\r\n        setQualityData(ReportOEEData.graphQuality);\r\n        setPerformanceData(ReportOEEData.graphPerformance);\r\n        setOEEData(ReportOEEData.graphOEE);\r\n        setActionsData(ReportOEEData.graphActions);\r\n        setStatsData(ReportOEEData.graphStats);\r\n        setLoading(false);\r\n      };\r\n      asyncGetReportOEEData();\r\n    }, [\r\n      client,\r\n      stringStartDate,\r\n      stringEndDate,\r\n      params.plantId,\r\n      params.machineId,\r\n    ]),\r\n    1000\r\n  );\r\n  const [getGraphOEEData] = useDebouncedCallback(\r\n    useCallback(() => {\r\n      const asyncGetGraphOEEData = async () => {\r\n        setLoadingGraph(true);\r\n        const query = {};\r\n        if (params.plantId) {\r\n          query.plantId = params.plantId;\r\n        }\r\n        if (params.machineId) {\r\n          query.id = params.machineId;\r\n        }\r\n        let sd = moment(stringStartDate);\r\n        let ed = moment(stringEndDate);\r\n        if (moment(ed).diff(moment(sd), \"days\") < 7) {\r\n          sd = moment(ed).subtract(7, \"days\").startOf(\"day\").add(6, \"hours\");\r\n        }\r\n        const dates = [];\r\n        for (let i = 0; i <= moment(ed).diff(moment(sd), \"days\"); i++) {\r\n          dates.push({\r\n            sd: moment(sd).add(i, \"days\").startOf(\"day\").add(6, \"hours\"),\r\n            ed: moment(sd).add(i, \"days\").endOf(\"day\").add(6, \"hours\"),\r\n          });\r\n        }\r\n        const GraphOEEData = await client.service(\"machines\").find({\r\n          query: {\r\n            ...query,\r\n            $reportIndicators: {\r\n              sd: moment(sd).toDate(),\r\n              ed: moment(ed).toDate(),\r\n              dates,\r\n            },\r\n            machineStatusId: lodashGet(\r\n              client.get(\"config.machine.status.active\"),\r\n              \"value\"\r\n            ),\r\n            $sort: {\r\n              identity: 1,\r\n            },\r\n          },\r\n        });\r\n        lodashForEach(GraphOEEData.graphIndicators.series, (item) => {\r\n          item.value = lodashMap(item.value, (v) => (v > 110 ? 110 : v));\r\n        });\r\n        setGraphOEEData(GraphOEEData.graphIndicators);\r\n        setLoadingGraph(false);\r\n      };\r\n      asyncGetGraphOEEData();\r\n    }, [\r\n      client,\r\n      stringStartDate,\r\n      stringEndDate,\r\n      params.plantId,\r\n      params.machineId,\r\n    ]),\r\n    1000\r\n  );\r\n  useEffect(() => {\r\n    // console.log(\"!!! useEffect getReportOEEData\");\r\n    if (timeCarousel) {\r\n      setLoading(true);\r\n      setTimeout(() => {\r\n        getReportOEEData();\r\n      }, timeCarousel * 1000);\r\n    } else {\r\n      setLoading(true);\r\n      getReportOEEData();\r\n    }\r\n  }, [getReportOEEData]);\r\n  useEffect(() => {\r\n    // console.log(\"!!! useEffect getGraphOEEData\");\r\n    if (timeCarousel) {\r\n      setLoadingGraph(true);\r\n      setTimeout(() => {\r\n        getGraphOEEData();\r\n      }, timeCarousel * 1000);\r\n    } else {\r\n      setLoadingGraph(true);\r\n      getGraphOEEData();\r\n    }\r\n  }, [getGraphOEEData]);\r\n  // TODO dependencies startDate.toISOString(), endDate.toISOString(),\r\n  const graphOEEOptions = {\r\n    high: 110,\r\n    low: 0,\r\n    height: 250,\r\n    axisX: {\r\n      showGrid: false,\r\n    },\r\n    axisY: {\r\n      offset: 20,\r\n      high: 110,\r\n      low: 0,\r\n      type: Chartist.FixedScaleAxis,\r\n      ticks: [0, 20, 40, 60, 80, 100],\r\n      labelInterpolationFnc: (value) => `${value}%`,\r\n    },\r\n    series: {\r\n      OEE: {\r\n        showArea: true,\r\n      },\r\n    },\r\n    plugins: [\r\n      Chartist.plugins.tooltip({\r\n        appendToBody: true,\r\n        class: \"gauge-tooltip\",\r\n        tooltipFnc: (meta, value) =>\r\n          `${meta ? `${meta} ` : \"\"}${NUMBER_FORMAT(\r\n            parseFloat(value).toFixed(2)\r\n          )}`,\r\n      }),\r\n    ],\r\n  };\r\n  const fillBarColor = {\r\n    draw: (context) => {\r\n      if (context.series) {\r\n        context.element.attr({\r\n          style: `stroke: ${context.series.bgColor};`,\r\n        });\r\n      }\r\n    },\r\n  };\r\n  const urlParams = new URLSearchParams(window.location.search);\r\n  const sd = urlParams.get(\"sd\");\r\n  const ed = urlParams.get(\"ed\");\r\n  useEffect(() => {\r\n    // console.log(\"~char\", Chartist);\r\n    if (sd) {\r\n      setStartDate(moment(sd));\r\n    }\r\n    if (ed) {\r\n      setEndDate(moment(ed));\r\n    }\r\n  }, [sd, ed]);\r\n  return (\r\n    <Grid\r\n      container\r\n      direction=\"column\"\r\n      spacing={0}\r\n      className={classes.container}\r\n    >\r\n      <Grid item>\r\n        <Toolbar className={classes.toolbar}>\r\n          <Typography variant=\"body1\" className={classes.toolbarTitle}>\r\n            OEE\r\n          </Typography>\r\n          <div style={{ flex: 1 }} />\r\n          <DateFilter\r\n            date={startDate}\r\n            setDate={(date) => {\r\n              setStartDate(moment(date));\r\n              setEndDate(\r\n                (moment(date)\r\n                  .add(6, \"days\")\r\n                  .isAfter(moment().subtract(1, \"days\"), \"minute\")\r\n                  ? moment().subtract(1, \"days\")\r\n                  : moment(date).add(6, \"days\")\r\n                )\r\n                  .endOf(\"day\")\r\n                  .add(6, \"hours\")\r\n              );\r\n            }}\r\n            // minDate={moment(endDate).subtract(30, \"days\")}\r\n            maxDate={moment(endDate).subtract(1, \"days\")}\r\n          />\r\n          <Hidden smDown>\r\n            <Typography variant=\"body1\" className={classes.toolbarLabel}>\r\n              até\r\n            </Typography>\r\n          </Hidden>\r\n          <DateFilter\r\n            isEndDate\r\n            date={endDate}\r\n            setDate={setEndDate}\r\n            minDate={moment(startDate).add(1, \"days\")}\r\n            maxDate={\r\n              moment(startDate).add(7, \"days\").isAfter(moment(), \"minute\")\r\n                ? moment()\r\n                : moment(startDate).add(7, \"days\")\r\n            }\r\n          />\r\n        </Toolbar>\r\n      </Grid>\r\n      <Grid container item spacing={2} className={classes.wrapper}>\r\n        {/* <Hidden smDown> */}\r\n        {pathname !== \"/reports/carousel\" && (\r\n          <Grid item className={classes.tree}>\r\n            <Paper elevation={4}>\r\n              <Tree\r\n                model={{\r\n                  name: \"plants\",\r\n                  formPath: \"/reports/production-oee/plant\",\r\n                  paramsProp: \"plantId\",\r\n                }}\r\n                query={{\r\n                  plantStatusId: lodashGet(\r\n                    client.get(\"config.plant.status.active\"),\r\n                    \"value\"\r\n                  ),\r\n                  $sort: {\r\n                    name: 1,\r\n                  },\r\n                }}\r\n                customContent={{\r\n                  beforeTree: () => (\r\n                    <Grid item component={Link} to=\"/reports/production-oee\">\r\n                      <Typography\r\n                        className={classNames(\r\n                          {\r\n                            [classes.treeItemSelected]: !params.plantId,\r\n                          },\r\n                          classes.allPlants\r\n                        )}\r\n                        variant=\"body1\"\r\n                      >\r\n                        TODAS\r\n                      </Typography>\r\n                    </Grid>\r\n                  ),\r\n                  afterTreeItem: ({ data }) =>\r\n                    data.id && (\r\n                      <PlantMachinesList\r\n                        model={{\r\n                          ...MachinesModel.metadata,\r\n                          formPath: \"/reports/production-oee/plant\",\r\n                          icon: \"style\",\r\n                        }}\r\n                        plant={data}\r\n                      />\r\n                    ),\r\n                }}\r\n              />\r\n            </Paper>\r\n          </Grid>\r\n        )}\r\n        {/* </Hidden> */}\r\n        <Grid item className={classes.content}>\r\n          <Grid item container spacing={2}>\r\n            <Grid item xs={12} sm={4} className={classes.graphItem}>\r\n              <div className={classes.graphWrapper}>\r\n                <Icon className={classes.graphIcon}>donut_large</Icon>\r\n                <Typography className={classes.graphTitle} variant=\"body1\">\r\n                  OEE\r\n                </Typography>\r\n              </div>\r\n              {loading && <Loader />}\r\n              {!loading && <GaugeChart value={oeeData} />}\r\n            </Grid>\r\n            <Grid item xs={12} sm={4} className={classes.graphItem}>\r\n              <div className={classes.graphWrapper}>\r\n                <Icon className={classes.graphIcon}>view_week</Icon>\r\n                <Typography className={classes.graphTitle} variant=\"body1\">\r\n                  Indicadores\r\n                </Typography>\r\n              </div>\r\n              {loading && <Loader />}\r\n              {!loading && (\r\n                <React.Fragment>\r\n                  <Grid item container spacing={2}>\r\n                    <BarChart text=\"Disponibilidade\" data={availabilityData} />\r\n                    <BarChart text=\"Qualidade\" data={qualityData} />\r\n                    <BarChart text=\"Performance\" data={performanceData} />\r\n                  </Grid>\r\n                </React.Fragment>\r\n              )}\r\n            </Grid>\r\n            <Grid item xs={12} sm={4} className={classes.graphItem}>\r\n              <div className={classes.graphWrapper}>\r\n                <Icon className={classes.graphIcon}>pie_chart</Icon>\r\n                <Typography className={classes.graphTitle} variant=\"body1\">\r\n                  Disponibilidade\r\n                </Typography>\r\n              </div>\r\n              {loading && <Loader />}\r\n              {!loading && (\r\n                <PieChart\r\n                  options={{\r\n                    chartPadding: 20,\r\n                    labelOffset: 50,\r\n                    height: 200,\r\n                  }}\r\n                  data={actionsData}\r\n                />\r\n              )}\r\n            </Grid>\r\n            <Grid item xs={12} sm={3} className={classes.graphSidebar}>\r\n              <Grid item xs={12} className={classes.graphItem}>\r\n                <div\r\n                  className={classes.graphItemDetail}\r\n                  style={{\r\n                    background: lodashGet(\r\n                      availabilityData,\r\n                      \"series.0.0.bgColor\"\r\n                    ),\r\n                  }}\r\n                >\r\n                  <Typography\r\n                    className={classes.graphSidebarTitle}\r\n                    variant=\"body1\"\r\n                  >\r\n                    Disponibilidade\r\n                  </Typography>\r\n                  <Typography\r\n                    className={classes.graphDetailTitle}\r\n                    variant=\"body1\"\r\n                  >\r\n                    Tempo Operação:{\" \"}\r\n                    <span className={classes.graphDetail}>\r\n                      <NumberFormat\r\n                        value={\r\n                          Math.round((statsData.productionTime / 60) * 100) /\r\n                          100\r\n                        }\r\n                        displayType={\"text\"}\r\n                      />{\" \"}\r\n                      h{loading && <Loader />}\r\n                    </span>\r\n                  </Typography>\r\n                  <Typography\r\n                    className={classes.graphDetailTitle}\r\n                    variant=\"body1\"\r\n                  >\r\n                    Tempo Planejado:{\" \"}\r\n                    <span className={classes.graphDetail}>\r\n                      <NumberFormat\r\n                        value={\r\n                          Math.round((statsData.plannedTime / 60) * 100) / 100\r\n                        }\r\n                        displayType={\"text\"}\r\n                      />{\" \"}\r\n                      h{loading && <Loader />}\r\n                    </span>\r\n                  </Typography>\r\n                </div>\r\n              </Grid>\r\n              <Grid item xs={12} className={classes.graphItem}>\r\n                <div\r\n                  className={classes.graphItemDetail}\r\n                  style={{\r\n                    background: lodashGet(qualityData, \"series.0.0.bgColor\"),\r\n                  }}\r\n                >\r\n                  <Typography\r\n                    className={classes.graphSidebarTitle}\r\n                    variant=\"body1\"\r\n                  >\r\n                    Qualidade\r\n                  </Typography>\r\n                  <Typography\r\n                    className={classes.graphDetailTitle}\r\n                    variant=\"body1\"\r\n                  >\r\n                    Prod. Total:{\" \"}\r\n                    <span className={classes.graphDetail}>\r\n                      <NumberFormat\r\n                        value={statsData.totalProductionInEvents}\r\n                        displayType={\"text\"}\r\n                        thousandSeparator={\".\"}\r\n                        decimalSeparator={\",\"}\r\n                      />\r\n                      {loading && <Loader />}\r\n                    </span>\r\n                  </Typography>\r\n                  <Typography\r\n                    className={classes.graphDetailTitle}\r\n                    variant=\"body1\"\r\n                  >\r\n                    Prod. Confirmada:{\" \"}\r\n                    <span className={classes.graphDetail}>\r\n                      <NumberFormat\r\n                        value={statsData.confirmedProductionInEvents}\r\n                        displayType={\"text\"}\r\n                        thousandSeparator={\".\"}\r\n                        decimalSeparator={\",\"}\r\n                      />\r\n                      {loading && <Loader />}\r\n                    </span>\r\n                  </Typography>\r\n                  <Typography\r\n                    className={classes.graphDetailTitle}\r\n                    variant=\"body1\"\r\n                  >\r\n                    Refugo:{\" \"}\r\n                    <span className={classes.graphDetail}>\r\n                      <NumberFormat\r\n                        value={statsData.wastedProductionInEvents}\r\n                        displayType={\"text\"}\r\n                        thousandSeparator={\".\"}\r\n                        decimalSeparator={\",\"}\r\n                      />\r\n                      {loading && <Loader />}\r\n                    </span>\r\n                  </Typography>\r\n                </div>\r\n              </Grid>\r\n              <Grid item xs={12} className={classes.graphItem}>\r\n                <div\r\n                  className={classes.graphItemDetail}\r\n                  style={{\r\n                    background: lodashGet(\r\n                      performanceData,\r\n                      \"series.0.0.bgColor\"\r\n                    ),\r\n                  }}\r\n                >\r\n                  <Typography\r\n                    className={classes.graphSidebarTitle}\r\n                    variant=\"body1\"\r\n                  >\r\n                    Performance\r\n                  </Typography>\r\n                  <Typography\r\n                    className={classes.graphDetailTitle}\r\n                    variant=\"body1\"\r\n                  >\r\n                    Ciclos:{\" \"}\r\n                    <span className={classes.graphDetail}>\r\n                      <NumberFormat\r\n                        value={statsData.readingsInEvents}\r\n                        displayType={\"text\"}\r\n                        thousandSeparator={\".\"}\r\n                        decimalSeparator={\",\"}\r\n                      />\r\n                      {loading && <Loader />}\r\n                    </span>\r\n                  </Typography>\r\n                  <Typography\r\n                    className={classes.graphDetailTitle}\r\n                    variant=\"body1\"\r\n                  >\r\n                    Ciclo Ideal:{\" \"}\r\n                    <span className={classes.graphDetail}>\r\n                      <NumberFormat\r\n                        value={statsData.idealCycle}\r\n                        displayType={\"text\"}\r\n                        thousandSeparator={\".\"}\r\n                        decimalSeparator={\",\"}\r\n                      />{\" \"}\r\n                      s{loading && <Loader />}\r\n                    </span>\r\n                  </Typography>\r\n                  <Typography\r\n                    className={classes.graphDetailTitle}\r\n                    variant=\"body1\"\r\n                  >\r\n                    Ciclo Real:{\" \"}\r\n                    <span className={classes.graphDetail}>\r\n                      <NumberFormat\r\n                        value={statsData.realCycleInEvents}\r\n                        displayType={\"text\"}\r\n                        thousandSeparator={\".\"}\r\n                        decimalSeparator={\",\"}\r\n                      />{\" \"}\r\n                      s{loading && <Loader />}\r\n                    </span>\r\n                  </Typography>\r\n                </div>\r\n              </Grid>\r\n            </Grid>\r\n            <Grid item xs={12} sm={9} className={classes.graphItem}>\r\n              {/* <div className={classes.graphWrapper}>\r\n                <Icon className={classes.graphIcon}>view_week</Icon>\r\n                <Typography className={classes.graphTitle} variant=\"body1\">\r\n                  Indicadores\r\n                </Typography>\r\n              </div> */}\r\n              {loadingGraph && <Loader />}\r\n              {!loadingGraph && (\r\n                <React.Fragment>\r\n                  <Paper className={classes.legend}>\r\n                    {lodashMap(\r\n                      [\"Disponibilidade\", \"Qualidade\", \"Performance\", \"OEE\"],\r\n                      (legend, index) => (\r\n                        <div key={index} className={classes.titleLegend}>\r\n                          <i\r\n                            className={classes.iconLegend}\r\n                            style={{\r\n                              background: lodashGet(\r\n                                graphOEEData,\r\n                                `series.${index}.bgColor`\r\n                              ),\r\n                            }}\r\n                          />{\" \"}\r\n                          {legend}\r\n                        </div>\r\n                      )\r\n                    )}\r\n                  </Paper>\r\n                  <ChartistGraph\r\n                    type=\"Line\"\r\n                    className=\"ct-indicators\"\r\n                    data={graphOEEData}\r\n                    options={graphOEEOptions}\r\n                    listener={fillBarColor}\r\n                    style={{ padding: theme.spacing(2) }}\r\n                  />\r\n                </React.Fragment>\r\n              )}\r\n            </Grid>\r\n          </Grid>\r\n        </Grid>\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n};\r\n\r\nexport default withRouter(\r\n  withStyles(styles, { withTheme: true })(ProductionOEE)\r\n);\r\n","import React, { useContext } from \"react\";\r\nimport Slider from \"react-slick\";\r\nimport { withStyles, getPermissions, useAuth, useFindService, lodashMap, lodashFill, lodashGet } from \"../../utils\";\r\nimport ProductionPage from \"./production\";\r\nimport ProductionHistoryPage from \"./production-history\";\r\nimport ProductionOEEPage from \"./production-oee\";\r\nimport ApiContext from '../../api';\r\nimport \"./slick.min.css\";\r\nimport \"./slick-theme.min.css\";\r\n\r\nconst styles = theme => ({\r\n  container: {\r\n    width: \"100%\",\r\n    height: \"100%\",\r\n    position: \"absolute\",\r\n    top: 0,\r\n    left: 0,\r\n    zIndex: 9999,\r\n    background: \"white\",\r\n    padding: 0,\r\n    \"&>div\": {\r\n      height: \"100%\",\r\n      \"&>div\": {\r\n        height: \"100%\",\r\n        \"&>div\": {\r\n          height: \"100%\",\r\n          \"&>div\": {\r\n            height: \"100%\",\r\n            \"&>div\": {\r\n              height: \"100%\"\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  },\r\n  wrapper: {\r\n    pointerEvents: \"none\",\r\n    height: \"100%\",\r\n    \"&>div\": {\r\n      padding: \"24px 24px\"\r\n    }\r\n  }\r\n});\r\n\r\nconst CarouselPage = ({ classes }) => {\r\n\r\n  const client = useContext(ApiContext);\r\n\r\n  const { permissions } = useAuth();\r\n\r\n  const { list: listMachines } = useFindService({\r\n    model: \"machines\",\r\n    query: {\r\n      machineStatusId: lodashGet(\r\n        client.get(\"config.machine.status.active\"),\r\n        \"value\"\r\n      )\r\n    }\r\n  })\r\n\r\n  const hasProductionOrdersAccess = getPermissions({\r\n    privileges: [\r\n      \"readProductionOrders\",\r\n      \"writeActiveProductionOrders\",\r\n      \"writeScheduledStopProductionOrders\",\r\n      \"writeProductionOrderEvents\"\r\n    ],\r\n    permissions\r\n  });\r\n  const hasReportsAccess = getPermissions({\r\n    privileges: [\"readProductionOrderReports\"],\r\n    permissions\r\n  });\r\n\r\n  const totalPages = (total) => {\r\n    return Math.ceil(listMachines.length / total);\r\n  }\r\n\r\n  let pagesProduction = new Array(totalPages(8))\r\n  lodashFill(pagesProduction, 1, 0, totalPages(8))\r\n\r\n  let pagesProductionHistory = new Array(totalPages(7))\r\n  lodashFill(pagesProductionHistory, 1, 0, totalPages(7))\r\n\r\n  return (\r\n    <div className={classes.container}>\r\n      <Slider\r\n        {...{\r\n          dots: false,\r\n          infinite: true,\r\n          autoplay: true,\r\n          autoplaySpeed: 15 * 1000,\r\n          speed: 500,\r\n          slidesToShow: 1,\r\n          slidesToScroll: 1\r\n        }}\r\n      >\r\n        {hasReportsAccess && (\r\n          lodashMap(pagesProductionHistory, (pageProductionHistory, index) =>\r\n            <div className={classes.wrapper} key={index}>\r\n              <ProductionHistoryPage timeCarousel={10} offset={7 * index} limit={7} />\r\n            </div>\r\n          )\r\n        )}\r\n        {hasReportsAccess && (\r\n          <div className={classes.wrapper}>\r\n            <ProductionOEEPage timeCarousel={20} />\r\n          </div>\r\n        )}\r\n        {hasProductionOrdersAccess && (\r\n          lodashMap(pagesProduction, (pageProduction, index) =>\r\n            <div className={classes.wrapper} key={index}>\r\n              <ProductionPage offset={8 * index} limit={8} />\r\n            </div>\r\n          )\r\n        )}\r\n      </Slider>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default withStyles(styles, { withTheme: true })(CarouselPage);\r\n","import React from \"react\";\r\nimport { Switch } from \"react-router-dom\";\r\nimport DashboardPage from \"./\";\r\nimport ReportsPage from \"./index2\";\r\nimport ProductionPage from \"./production\";\r\nimport ProductionOrderPage from \"./production/production-order\";\r\nimport ProductionWastePage from \"./production-waste\";\r\nimport ProductionReportPage from \"./production-report\";\r\nimport ProductionHistoryPage from \"./production-history\";\r\nimport CarouselPage from \"./CarouselPage\";\r\nimport ProductionOEEPage from \"./production-oee\";\r\nimport UnderConstructionPage from \"../under-construction\";\r\nimport { ClientRoute } from \"../../components\";\r\n\r\nconst MasterDataRoutes = () => (\r\n  <React.Fragment>\r\n    <Switch>\r\n      <ClientRoute\r\n        exact\r\n        path=\"/reports/carousel\"\r\n        permissions={[\r\n          \"readProductionOrders\",\r\n          \"readProductionOrderReports\",\r\n          \"writeActiveProductionOrders\",\r\n          \"writeScheduledStopProductionOrders\",\r\n          \"writeProductionOrderEvents\"\r\n        ]}\r\n        component={CarouselPage}\r\n      />\r\n      <ClientRoute\r\n        exact\r\n        path=\"/dashboard\"\r\n        permissions={[\r\n          \"readProductionOrders\",\r\n          \"readProductionOrderReports\",\r\n          \"writeActiveProductionOrders\",\r\n          \"writeScheduledStopProductionOrders\",\r\n          \"writeProductionOrderEvents\"\r\n        ]}\r\n        component={DashboardPage}\r\n      />\r\n      <ClientRoute\r\n        exact\r\n        path=\"/reports\"\r\n        permissions={[\"readProductionOrderReports\"]}\r\n        component={ReportsPage}\r\n      />\r\n      <ClientRoute\r\n        exact\r\n        path=\"/dashboard/production\"\r\n        permissions={[\r\n          \"readProductionOrders\",\r\n          \"writeActiveProductionOrders\",\r\n          \"writeScheduledStopProductionOrders\",\r\n          \"writeProductionOrderEvents\"\r\n        ]}\r\n        component={ProductionPage}\r\n      />\r\n      <ClientRoute\r\n        exact\r\n        path=\"/dashboard/production/:machineId/order/:productionOrderId\"\r\n        permissions={[\r\n          \"readProductionOrders\",\r\n          \"writeActiveProductionOrders\",\r\n          \"writeScheduledStopProductionOrders\",\r\n          \"writeProductionOrderEvents\"\r\n        ]}\r\n        component={ProductionOrderPage}\r\n      />\r\n      <ClientRoute\r\n        exact\r\n        path=\"/dashboard/production-waste\"\r\n        permissions={[\"readPendingWaste\", \"writePendingWaste\", \"editPendingWaste\"]}\r\n        component={ProductionWastePage}\r\n      />\r\n      <ClientRoute\r\n        exact\r\n        path=\"/dashboard/production-waste/:machineId/order/:productionOrderId\"\r\n        permissions={[\"readPendingWaste\", \"writePendingWaste\", \"editPendingWaste\"]}\r\n        component={ProductionWastePage}\r\n      />\r\n      <ClientRoute\r\n        exact\r\n        path=\"/dashboard/production-history\"\r\n        permissions={[\"readProductionOrderReports\"]}\r\n        component={ProductionHistoryPage}\r\n      />\r\n      <ClientRoute\r\n        exact\r\n        path=\"/reports/production-report\"\r\n        permissions={[\"readProductionOrderReports\"]}\r\n        component={ProductionReportPage}\r\n      />\r\n      <ClientRoute\r\n        exact\r\n        path=\"/reports/production-oee\"\r\n        permissions={[\"readProductionOrderReports\"]}\r\n        component={ProductionOEEPage}\r\n      />\r\n      <ClientRoute\r\n        exact\r\n        path=\"/reports/production-oee/plant/:plantId\"\r\n        permissions={[\"readProductionOrderReports\"]}\r\n        component={ProductionOEEPage}\r\n      />\r\n      <ClientRoute\r\n        exact\r\n        path=\"/reports/production-oee/plant/:plantId/machine/:machineId\"\r\n        permissions={[\"readProductionOrderReports\"]}\r\n        component={ProductionOEEPage}\r\n      />\r\n      <ClientRoute default component={UnderConstructionPage} />\r\n    </Switch>\r\n  </React.Fragment>\r\n);\r\n\r\nexport default MasterDataRoutes;\r\n","import { withAdministrationPage } from \"../../components\";\r\n\r\nconst actions = [\r\n  {\r\n    name: \"Domínios do Sistema\",\r\n    icon: \"domain\",\r\n    actions: [\r\n      {\r\n        name: \"Cores\",\r\n        href: \"/sysadmin/master-data/colors\"\r\n      },\r\n      {\r\n        name: \"Unidades de Medida\",\r\n        href: \"/sysadmin/master-data/measurement-units\"\r\n      },\r\n      {\r\n        name: \"Perfis\",\r\n        href: \"/sysadmin/master-data/roles\"\r\n      },\r\n      {\r\n        name: \"Status de Clientes\",\r\n        href: \"/sysadmin/master-data/company-statuses\"\r\n      },\r\n      {\r\n        name: \"Status de Funções do Usuário\",\r\n        href: \"/sysadmin/master-data/role-statuses\"\r\n      },\r\n      {\r\n        name: \"Status de Usuários\",\r\n        href: \"/sysadmin/master-data/user-statuses\"\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    name: \"Domínios de OP\",\r\n    icon: \"assessment\",\r\n    actions: [\r\n      {\r\n        name: \"Status de Locais\",\r\n        href: \"/sysadmin/master-data/plant-statuses\"\r\n      },\r\n      {\r\n        name: \"Status de Ordem de Produção\",\r\n        href: \"/sysadmin/master-data/production-order-statuses\"\r\n      },\r\n      {\r\n        name: \"Tipos de Eventos de Ordem de Produção\",\r\n        href: \"/sysadmin/master-data/production-order-action-types\"\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    name: \"Domínios de Máquinas\",\r\n    icon: \"build\",\r\n    actions: [\r\n      {\r\n        name: \"Status de Máquinas\",\r\n        href: \"/sysadmin/master-data/machine-statuses\"\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    name: \"Domínios de Moldes\",\r\n    icon: \"broken_image\",\r\n    actions: [\r\n      {\r\n        name: \"Status de Moldes\",\r\n        href: \"/sysadmin/master-data/mold-statuses\"\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    name: \"Domínios de Produtos\",\r\n    icon: \"style\",\r\n    actions: [\r\n      {\r\n        name: \"Status de Produtos\",\r\n        href: \"/sysadmin/master-data/product-statuses\"\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    name: \"Domínios de Sensores\",\r\n    icon: \"memory\",\r\n    actions: [\r\n      {\r\n        name: \"Status de Sensores\",\r\n        href: \"/sysadmin/master-data/sensor-statuses\"\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    name: \"Domínios de Tickets\",\r\n    icon: \"memory\",\r\n    actions: [\r\n      {\r\n        name: \"Status de Ticket\",\r\n        href: \"/sysadmin/master-data/ticket-statuses\"\r\n      }\r\n    ]\r\n  }\r\n];\r\n\r\nconst SysAdminPage = () => withAdministrationPage({ actions });\r\n\r\nexport default SysAdminPage;\r\n","export const form = [\r\n  {\r\n    text: \"Nome\",\r\n    identity: \"name\",\r\n    required: true,\r\n    type: \"string\"\r\n  },\r\n  {\r\n    text: \"Descrição\",\r\n    identity: \"description\",\r\n    type: \"string\"\r\n  },\r\n  {\r\n    text: \"Tabela\",\r\n    identity: \"model\",\r\n    enum: [\r\n      \"measurement_units\",\r\n      \"machine_statuses\",\r\n      \"mold_statuses\",\r\n      \"product_statuses\",\r\n      \"sensor_statuses\",\r\n      \"production_order_statuses\"\r\n    ]\r\n  },\r\n  {\r\n    text: \"Valor\",\r\n    identity: \"value\",\r\n    type: \"string\",\r\n    model: {\r\n      this: \"model\"\r\n    }\r\n  }\r\n];\r\n\r\nexport const metadata = {\r\n  name: \"configs\"\r\n};\r\n\r\nexport default { metadata, form };\r\n","import React, { useState, useEffect } from \"react\";\r\nimport * as lodashGet from \"lodash.get\";\r\nimport * as lodashMap from \"lodash.map\";\r\nimport classNames from \"classnames\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Tooltip from \"@material-ui/core/Tooltip\";\r\nimport Icon from \"@material-ui/core/Icon\";\r\nimport NotFound from \"../../../components/not-found\";\r\nimport Loader from \"../../../components/loader\";\r\nimport Errors from \"../../../components/errors\";\r\nimport FormInput from \"../../../components/master-data-form/FormInput\";\r\n// import MasterTableRow from \"./TableRow\";\r\nimport { metadata, form as fields } from \"./model\";\r\n// TODO move to utils\r\nimport useFindDeleteService from \"../../../utils/useFindDeleteService\";\r\nimport useUpsertService from \"../../../utils/useUpsertService\";\r\n\r\nconst styles = theme => ({\r\n  table: {\r\n    width: \"100%\"\r\n  },\r\n  header: {\r\n    backgroundColor: theme.palette.common.black,\r\n    color: theme.palette.common.white,\r\n    \"& p,&>a span\": {\r\n      color: theme.palette.common.white\r\n    }\r\n  },\r\n  button: {\r\n    padding: theme.spacing(1)\r\n  },\r\n  newButton: {\r\n    color: theme.palette.primary.main\r\n  },\r\n  deleteButton: {\r\n    color: theme.palette.primary.delete\r\n  }\r\n});\r\n\r\nconst ConfigsPage = ({ classes }) => {\r\n  const [data, setData] = useState({});\r\n  const { list, handleDelete, deleteLoading, findLoading, errors } = useFindDeleteService({\r\n    model: metadata.name,\r\n    reload: data\r\n  });\r\n  const {\r\n    formItem,\r\n    newItem,\r\n    handleChange,\r\n    handleSubmit,\r\n    loading: upsertLoading\r\n    // TODO add loader for FOrm errors and loader\r\n  } = useUpsertService({\r\n    model: metadata.name,\r\n    data,\r\n    // hooks: {\r\n    //   afterHooks: [resetForm]\r\n    // },\r\n    fields\r\n  });\r\n  // TODO implement as afterSubmit\r\n  useEffect(() => {\r\n    setData({});\r\n  }, [newItem]);\r\n  const loading = deleteLoading || findLoading || upsertLoading;\r\n  const empty = !findLoading && !errors && list.length === 0;\r\n  return (\r\n    // TODO add reload!!\r\n    <Table className={classes.table}>\r\n      <TableHead>\r\n        <TableRow>\r\n          {lodashMap(fields, ({ text }) => (\r\n            <TableCell key={text} className={classes.header}>\r\n              <Typography variant=\"body1\">{text}</Typography>\r\n            </TableCell>\r\n          ))}\r\n          <TableCell className={classes.header} />\r\n        </TableRow>\r\n      </TableHead>\r\n      <TableBody>\r\n        <TableRow>\r\n          {lodashMap(fields, row => (\r\n            <TableCell key={row.text}>\r\n              <FormInput row={row} formItem={formItem} handleChange={handleChange} />\r\n            </TableCell>\r\n          ))}\r\n          <TableCell>\r\n            <Tooltip title=\"Criar\">\r\n              <IconButton\r\n                aria-label=\"Criar\"\r\n                className={classNames(classes.button, classes.newButton)}\r\n                onClick={handleSubmit}\r\n              >\r\n                <Icon>add_icon</Icon>\r\n              </IconButton>\r\n            </Tooltip>\r\n          </TableCell>\r\n        </TableRow>\r\n        {(loading || errors || empty) && (\r\n          <TableRow className={classes.row}>\r\n            <TableCell colSpan={fields.length + 1}>\r\n              {loading && <Loader />}\r\n              {errors && <Errors errors={errors} />}\r\n              {empty && <NotFound />}\r\n            </TableCell>\r\n          </TableRow>\r\n        )}\r\n        {!findLoading &&\r\n          lodashMap(list, item => (\r\n            <TableRow key={item.id}>\r\n              {lodashMap(fields, row => (\r\n                <TableCell key={row.text}>\r\n                  <Typography variant=\"body2\">{lodashGet(item, row.identity)}</Typography>\r\n                </TableCell>\r\n              ))}\r\n              <TableCell>\r\n                <Tooltip title=\"Deletar\">\r\n                  <IconButton\r\n                    aria-label=\"Deletar\"\r\n                    className={classNames(classes.button, classes.deleteButton)}\r\n                    onClick={handleDelete(item)}\r\n                  >\r\n                    <Icon>delete</Icon>\r\n                  </IconButton>\r\n                </Tooltip>\r\n              </TableCell>\r\n            </TableRow>\r\n          ))}\r\n      </TableBody>\r\n    </Table>\r\n  );\r\n};\r\n\r\nexport default withStyles(styles, { withTheme: true })(ConfigsPage);\r\n","import React, { useContext } from \"react\";\r\nimport { Grid } from \"@material-ui/core\";\r\nimport ApiContext from \"../../../api\";\r\nimport { withRouter, withStyles, lodashGet } from \"../../../utils\";\r\nimport Button from \"../../../components/buttons\";\r\n\r\nconst styles = theme => ({});\r\n\r\nconst CustomActions = withRouter(\r\n  withStyles(styles, { withTheme: true })(({ history, classes, data = {} }) => {\r\n    const client = useContext(ApiContext);\r\n    const archiveStatus = lodashGet(client.get(\"config.sensor.status.archived\"), \"value\");\r\n    const handleArchive = async () => {\r\n      await client.service(\"sensors\").patch(data.id, {\r\n        identity: `${data.identity}-ARQ${Date.now()}`,\r\n        sensorStatusId: archiveStatus,\r\n        companyId: null\r\n      });\r\n      const newSensor = await client.service(\"sensors\").create({\r\n        barcode: data.barcode,\r\n        identity: data.identity,\r\n        sensorStatusId: data.sensorStatusId\r\n      });\r\n      history.push(`/sysadmin/sensors/${newSensor.id}`);\r\n    };\r\n    const handleSync = async () => {\r\n      // const request = new URL(`http://localhost:3030/sync_sensor`);\r\n      const request = new URL(`http://${data.identity}.local:3030/sync_sensor`);\r\n      const params = { sensorUUID: data.uuid, companyUUID: lodashGet(data, \"company.uuid\") };\r\n      request.search = new URLSearchParams(params);\r\n      const response = await (await fetch(request)).json();\r\n      if (response.status === \"OK\") {\r\n        alert(\"SYNC DONE!\");\r\n      }\r\n    };\r\n    return (\r\n      <React.Fragment>\r\n        {data.id && data.sensorStatusId !== archiveStatus && data.companyId && (\r\n          <Grid item>\r\n            <Button text=\"Arquivar\" icon=\"archive\" onClick={handleArchive} />\r\n          </Grid>\r\n        )}\r\n        {data.id && data.sensorStatusId !== archiveStatus && data.companyId && (\r\n          <Grid item>\r\n            <Button text=\"Sync\" icon=\"sync\" onClick={handleSync} />\r\n          </Grid>\r\n        )}\r\n      </React.Fragment>\r\n    );\r\n  })\r\n);\r\n\r\nexport default CustomActions;\r\n","import React from \"react\";\r\nimport { withStyles, useStatusSensor } from \"../../../utils\";\r\n\r\nconst styles = theme => ({\r\n  status: {\r\n    marginLeft: 20,\r\n    height: 30,\r\n    width: 30,\r\n    borderRadius: \"50%\"\r\n  }\r\n});\r\n\r\nconst SensorStatus = withStyles(styles, { withTheme: true })(({ classes, data = {} }) => {\r\n  const { status } = useStatusSensor({ ip: data.ip });\r\n  return (\r\n    <div\r\n      className={classes.status}\r\n      style={{\r\n        background: status\r\n      }}\r\n    />\r\n  );\r\n});\r\n\r\nexport default SensorStatus;\r\n","import React, { useContext, useState, useEffect } from \"react\";\r\nimport moment from \"moment\";\r\nimport ApiContext from \"../../../api\";\r\nimport { withStyles, lodashGet, getEventType, getColor } from \"../../../utils\";\r\n\r\nconst styles = theme => ({\r\n  status: {\r\n    marginLeft: 20,\r\n    height: 30,\r\n    width: 30,\r\n    borderRadius: \"50%\"\r\n  }\r\n});\r\n\r\nconst EventStatus = withStyles(styles, { withTheme: true })(({ classes, data = {} }) => {\r\n  const client = useContext(ApiContext);\r\n  const activeEventType = getEventType({ client, type: \"active\" });\r\n  const noScheduledStopEventType = getEventType({ client, type: \"noScheduledStop\" });\r\n  const scheduledStopEventType = getEventType({ client, type: \"scheduledStop\" });\r\n  const activeColor = getColor({\r\n    data: client.get(`actionType.${activeEventType}`),\r\n    path: \"color\"\r\n  });\r\n  const noScheduledStopColor = getColor({\r\n    data: client.get(`actionType.${noScheduledStopEventType}`),\r\n    path: \"color\"\r\n  });\r\n  const scheduledStopColor = getColor({\r\n    data: client.get(`actionType.${scheduledStopEventType}`),\r\n    path: \"color\"\r\n  });\r\n  const [status, setStatus] = useState(scheduledStopColor);\r\n  useEffect(() => {\r\n    const getStatusEvent = async () => {\r\n      const { data: events } = await client.service(\"production_order_events\").find({\r\n        query: {\r\n          si: data.id,\r\n          \"r.0\": { $exists: true },\r\n          sd: {\r\n            $gte: moment()\r\n              .startOf(\"day\")\r\n              .toDate()\r\n          },\r\n          $sort: {\r\n            sd: -1\r\n          },\r\n          $limit: 1\r\n        }\r\n      });\r\n      if (!events.length) {\r\n        return setStatus(scheduledStopColor);\r\n      }\r\n      const eventDiff = moment().diff(moment(lodashGet(events, \"0.ed\")), \"minutes\");\r\n      if (eventDiff > 30) {\r\n        return setStatus(scheduledStopColor);\r\n      } else if (eventDiff > 15) {\r\n        return setStatus(noScheduledStopColor);\r\n      } else {\r\n        return setStatus(activeColor);\r\n      }\r\n    };\r\n    getStatusEvent();\r\n  }, [client, data.id, activeColor, noScheduledStopColor, scheduledStopColor]);\r\n  return (\r\n    <div\r\n      className={classes.status}\r\n      style={{\r\n        background: status\r\n      }}\r\n    />\r\n  );\r\n});\r\n\r\nexport default EventStatus;\r\n","import React from \"react\";\r\nimport moment from \"moment\";\r\nimport { lodashGet } from \"../../../utils\";\r\nimport CustomActions from \"./CustomActions\";\r\nimport SensorStatus from \"./SensorStatus\";\r\nimport EventStatus from \"./EventStatus\";\r\n\r\nexport const list = [\r\n  {\r\n    text: \"Eventos\",\r\n    identity: \"statusEvents\",\r\n    customContent: { dontFilter: true },\r\n    customData: ({ ...props }) => <EventStatus {...props} />\r\n  },\r\n  {\r\n    text: \"Online\",\r\n    identity: \"statusSensor\",\r\n    customContent: { dontFilter: true },\r\n    customData: ({ ...props }) => <SensorStatus {...props} />\r\n  },\r\n  {\r\n    text: \"Cliente\",\r\n    identity: \"company.fantasyName\",\r\n    model: {\r\n      service: \"companies\",\r\n      identity: \"companyId\",\r\n      customName: ({ data = {} }) => data.fantasyName\r\n    }\r\n  },\r\n  {\r\n    text: \"Cod Sensor\",\r\n    identity: \"identity\",\r\n    filter: {\r\n      type: \"string\"\r\n    }\r\n  },\r\n  {\r\n    text: \"UUID\",\r\n    identity: \"uuid\",\r\n    filter: {\r\n      type: \"string\"\r\n    }\r\n  },\r\n  {\r\n    text: \"IP\",\r\n    identity: \"ip\",\r\n    filter: {\r\n      type: \"string\"\r\n    }\r\n  },\r\n  {\r\n    text: \"Status\",\r\n    identity: \"sensor_status.name\",\r\n    model: {\r\n      service: \"sensor_statuses\",\r\n      identity: \"sensorStatusId\"\r\n    }\r\n  }\r\n];\r\n\r\nexport const form = [\r\n  [\r\n    {\r\n      text: \"UUID\",\r\n      identity: \"uuid\",\r\n      variants: \"display fullWidth\",\r\n      // readOnly: true,\r\n      show: {\r\n        ifThis: \"id\"\r\n      },\r\n      type: \"string\"\r\n    }\r\n  ],\r\n  [\r\n    {\r\n      text: \"Cod Barra\",\r\n      identity: \"barcode\",\r\n      type: \"string\"\r\n    },\r\n    {\r\n      text: \"Cod Sensor\",\r\n      identity: \"identity\",\r\n      autoFocus: true,\r\n      required: true,\r\n      type: \"string\"\r\n    },\r\n    {\r\n      text: \"Status\",\r\n      identity: \"sensorStatusId\",\r\n      required: true,\r\n      model: \"sensor_statuses\",\r\n      defaultValue: {\r\n        config: \"sensor.status.init\"\r\n      }\r\n    }\r\n  ],\r\n  [\r\n    {\r\n      text: \"Cliente\",\r\n      identity: \"companyId\",\r\n      type: \"string\",\r\n      model: {\r\n        service: \"companies\",\r\n        customContent: { queryField: \"fantasyName\" },\r\n        customName: ({ data = {} }) => (data ? data.fantasyName : \"\")\r\n      }\r\n    }\r\n  ],\r\n  [\r\n    {\r\n      text: \"MAC\",\r\n      identity: \"mac\",\r\n      variants: \"display\",\r\n      readOnly: true,\r\n      show: {\r\n        ifThis: \"id\"\r\n      },\r\n      type: \"string\"\r\n    },\r\n    {\r\n      text: \"IP\",\r\n      identity: \"ip\",\r\n      variants: \"display\",\r\n      readOnly: true,\r\n      show: {\r\n        ifThis: \"id\"\r\n      },\r\n      type: \"string\"\r\n    },\r\n    {\r\n      text: \"Data Edicão\",\r\n      identity: \"updateDate\",\r\n      readOnly: true,\r\n      show: {\r\n        ifThis: \"id\"\r\n      },\r\n      type: \"string\",\r\n      defaultValue: {\r\n        // TODO a more direct way to format value\r\n        customValue: async ({ data = {}, field, handleChange }) => {\r\n          const date = moment(lodashGet(data, \"updatedAt\")).format(\"DD/MM/YYYY HH:mm\");\r\n          handleChange({\r\n            target: { name: field.identity, value: date }\r\n          });\r\n        }\r\n      }\r\n    }\r\n  ]\r\n];\r\n\r\nexport const links = [\r\n  {\r\n    text: \"Sensores\",\r\n    href: \"/sysadmin/sensors\"\r\n  }\r\n];\r\n\r\nexport const metadata = {\r\n  name: \"sensors\",\r\n  icon: \"memory\",\r\n  listPath: \"/sysadmin/sensors\",\r\n  formPath: \"/sysadmin/sensors\",\r\n  paramsProp: \"sensorId\",\r\n  newItemText: \"Novo Sensor\"\r\n};\r\n\r\nexport default {\r\n  metadata,\r\n  list,\r\n  form,\r\n  links,\r\n  query: {\r\n    $sort: { identity: 1 }\r\n  },\r\n  customContent: {\r\n    customBreadCrumbsName: ({ data = {} }) =>\r\n      `${data.identity ? `${data.identity} - ` : \"\"}${data.name}`\r\n  },\r\n  // TODO ALL to data = {}\r\n  customActions: ({ isForm, ...props }) => isForm && <CustomActions {...props} />\r\n};\r\n","import React from \"react\";\r\nimport { withStyles, getColor } from \"../../../utils\";\r\n\r\nconst styles = theme => ({\r\n  color: {\r\n    marginLeft: 20,\r\n    height: 30,\r\n    width: 30,\r\n    borderRadius: \"50%\"\r\n  }\r\n});\r\n\r\nconst Color = withStyles(styles, { withTheme: true })(({ classes, data = {} }) => (\r\n  <div\r\n    className={classes.color}\r\n    style={{\r\n      background: getColor({\r\n        data: { data },\r\n        path: \"data\"\r\n      })\r\n    }}\r\n  />\r\n));\r\n\r\nexport default Color;\r\n","import React from \"react\";\r\nimport Color from \"./Color\";\r\n\r\nexport const list = [\r\n  {\r\n    text: \"Nome\",\r\n    identity: \"name\",\r\n    filter: {\r\n      type: \"string\"\r\n    }\r\n  },\r\n  {\r\n    text: \"Descrição\",\r\n    identity: \"description\",\r\n    filter: {\r\n      type: \"string\"\r\n    }\r\n  },\r\n  {\r\n    text: \"Cor\",\r\n    identity: \"color\",\r\n    customData: ({ ...props }) => <Color {...props} />\r\n  },\r\n  {\r\n    text: \"Cod RGB\",\r\n    identity: \"rgb\",\r\n    filter: {\r\n      type: \"string\"\r\n    }\r\n  },\r\n  {\r\n    text: \"Cod HSV\",\r\n    identity: \"hsv\",\r\n    filter: {\r\n      type: \"string\"\r\n    }\r\n  },\r\n  {\r\n    text: \"Cod HEX\",\r\n    identity: \"hex\",\r\n    filter: {\r\n      type: \"string\"\r\n    }\r\n  }\r\n];\r\n\r\nexport const form = [\r\n  [\r\n    {\r\n      text: \"Nome\",\r\n      identity: \"name\",\r\n      autoFocus: true,\r\n      required: true,\r\n      type: \"string\"\r\n    },\r\n    {\r\n      text: \"Descrição\",\r\n      identity: \"description\",\r\n      type: \"string\"\r\n    }\r\n  ],\r\n  [\r\n    {\r\n      text: \"Cod RGB\",\r\n      identity: \"rgb\",\r\n      type: \"string\"\r\n    },\r\n    {\r\n      text: \"Cod HSV\",\r\n      identity: \"hsv\",\r\n      type: \"string\"\r\n    },\r\n    {\r\n      text: \"Cod HEX\",\r\n      identity: \"hex\",\r\n      type: \"string\"\r\n    }\r\n  ]\r\n];\r\n\r\nexport const links = [\r\n  {\r\n    text: \"Cadastros\",\r\n    href: \"/sysadmin/master-data\"\r\n  },\r\n  {\r\n    text: \"Cores\",\r\n    href: \"/sysadmin/master-data/colors\"\r\n  }\r\n];\r\n\r\nexport const metadata = {\r\n  name: \"colors\",\r\n  listPath: \"/sysadmin/master-data/colors\",\r\n  formPath: \"/sysadmin/master-data/colors\",\r\n  paramsProp: \"colorId\",\r\n  newItemText: \"Novo Cor\"\r\n};\r\n\r\nexport default {\r\n  metadata,\r\n  list,\r\n  form,\r\n  links,\r\n  query: {\r\n    $sort: { name: 1 }\r\n  }\r\n};\r\n","export const list = [\r\n  {\r\n    text: \"Nome\",\r\n    identity: \"name\",\r\n    filter: {\r\n      type: \"string\"\r\n    }\r\n  },\r\n  {\r\n    text: \"Descrição\",\r\n    identity: \"description\",\r\n    filter: {\r\n      type: \"string\"\r\n    }\r\n  },\r\n  {\r\n    text: \"Tipo\",\r\n    identity: \"type\",\r\n    filter: {\r\n      type: \"string\"\r\n    }\r\n  }\r\n];\r\n\r\nexport const form = [\r\n  [\r\n    {\r\n      text: \"Nome\",\r\n      identity: \"name\",\r\n      autoFocus: true,\r\n      required: true,\r\n      type: \"string\"\r\n    },\r\n    {\r\n      text: \"Descrição\",\r\n      identity: \"description\",\r\n      type: \"string\"\r\n    },\r\n    {\r\n      text: \"Tipo\",\r\n      identity: \"type\",\r\n      required: true,\r\n      // TODO FIX DROPDOWN FOR ENUM\r\n      enum: [\"distance\", \"force\", \"frequency\", \"mass\", \"quantity\", \"temperature\", \"time\", \"other\"]\r\n    }\r\n  ]\r\n];\r\n\r\nexport const links = [\r\n  {\r\n    text: \"Cadastros\",\r\n    href: \"/sysadmin/master-data\"\r\n  },\r\n  {\r\n    text: \"Unidades de Medida\",\r\n    href: \"/sysadmin/master-data/measurement-units\"\r\n  }\r\n];\r\n\r\nexport const metadata = {\r\n  name: \"measurement_units\",\r\n  listPath: \"/sysadmin/master-data/measurement-units\",\r\n  formPath: \"/sysadmin/master-data/measurement-units\",\r\n  paramsProp: \"measurementUnitId\",\r\n  newItemText: \"Nova Unidade de Medida\"\r\n};\r\n\r\nexport default { metadata, list, form, links };\r\n","export const list = [\r\n  {\r\n    text: \"Nome\",\r\n    identity: \"name\",\r\n    filter: {\r\n      type: \"string\"\r\n    }\r\n  },\r\n  {\r\n    text: \"Descrição\",\r\n    identity: \"description\",\r\n    filter: {\r\n      type: \"string\"\r\n    }\r\n  }\r\n];\r\n\r\nexport const form = [\r\n  [\r\n    {\r\n      text: \"Nome\",\r\n      identity: \"name\",\r\n      autoFocus: true,\r\n      required: true,\r\n      type: \"string\"\r\n    },\r\n    {\r\n      text: \"Descrição\",\r\n      identity: \"description\",\r\n      type: \"string\"\r\n    }\r\n  ]\r\n];\r\n\r\nexport const links = [\r\n  {\r\n    text: \"Cadastros\",\r\n    href: \"/sysadmin/master-data\"\r\n  },\r\n  {\r\n    text: \"Status de Locais\",\r\n    href: \"/sysadmin/master-data/plant-statuses\"\r\n  }\r\n];\r\n\r\nexport const metadata = {\r\n  name: \"plant_statuses\",\r\n  listPath: \"/sysadmin/master-data/plant-statuses\",\r\n  formPath: \"/sysadmin/master-data/plant-statuses\",\r\n  paramsProp: \"plantStatusId\",\r\n  newItemText: \"Novo Status de Local\"\r\n};\r\n\r\nexport default { metadata, list, form, links };\r\n","export const list = [\r\n  {\r\n    text: \"Nome\",\r\n    identity: \"name\",\r\n    filter: {\r\n      type: \"string\"\r\n    }\r\n  },\r\n  {\r\n    text: \"Descrição\",\r\n    identity: \"description\",\r\n    filter: {\r\n      type: \"string\"\r\n    }\r\n  }\r\n];\r\n\r\nexport const form = [\r\n  [\r\n    {\r\n      text: \"Nome\",\r\n      identity: \"name\",\r\n      autoFocus: true,\r\n      required: true,\r\n      type: \"string\"\r\n    },\r\n    {\r\n      text: \"Descrição\",\r\n      identity: \"description\",\r\n      type: \"string\"\r\n    }\r\n  ]\r\n];\r\n\r\nexport const links = [\r\n  {\r\n    text: \"Cadastros\",\r\n    href: \"/sysadmin/master-data\"\r\n  },\r\n  {\r\n    text: \"Status de Ordem de Produção\",\r\n    href: \"/sysadmin/master-data/production-order-statuses\"\r\n  }\r\n];\r\n\r\nexport const metadata = {\r\n  name: \"production_order_statuses\",\r\n  listPath: \"/sysadmin/master-data/production-order-statuses\",\r\n  formPath: \"/sysadmin/master-data/production-order-statuses\",\r\n  paramsProp: \"productionOrderStatusId\",\r\n  newItemText: \"Novo Status de Ordem de Produção\"\r\n};\r\n\r\nexport default { metadata, list, form, links };\r\n","import React from \"react\";\r\nimport { withStyles, getColor } from \"../../../utils\";\r\n\r\nconst styles = theme => ({\r\n  color: {\r\n    marginLeft: 20,\r\n    height: 30,\r\n    width: 30,\r\n    borderRadius: \"50%\"\r\n  }\r\n});\r\n\r\nconst Color = withStyles(styles, { withTheme: true })(({ classes, data = {} }) => (\r\n  <div\r\n    className={classes.color}\r\n    style={{\r\n      background: getColor({\r\n        data,\r\n        path: \"color\"\r\n      })\r\n    }}\r\n  />\r\n));\r\n\r\nexport default Color;\r\n","import eCompaniesModel from \"./companies/model\";\r\nimport eSensorsModel from \"./sensors/model\";\r\nimport eColorsModel from \"./colors/model\";\r\nimport eMeasurementUnitsModel from \"./measurement-units/model\";\r\nimport ePlantStatusesModel from \"./plant-statuses/model\";\r\nimport eProductionOrderStatusesModel from \"./production-order-statuses/model\";\r\nimport eProductionOrderActionTypesModel from \"./production-order-action-types/model\";\r\nimport eCompanyStatusesModel from \"./company-statuses/model\";\r\nimport eMachineStatusesModel from \"./machine-statuses/model\";\r\nimport eMoldStatusesModel from \"./mold-statuses/model\";\r\nimport eProductStatusesModel from \"./product-statuses/model\";\r\nimport eSensorStatusesModel from \"./sensor-statuses/model\";\r\nimport eRolesModel from \"./roles/model\";\r\nimport eRoleStatusesModel from \"./role-statuses/model\";\r\nimport eUserStatusesModel from \"./user-statuses/model\";\r\nimport eTicketStatusesModel from \"./ticket-statuses/model\";\r\n\r\nexport const CompaniesModel = eCompaniesModel;\r\nexport const SensorsModel = eSensorsModel;\r\nexport const ColorsModel = eColorsModel;\r\nexport const MeasurementUnitsModel = eMeasurementUnitsModel;\r\nexport const PlantStatusesModel = ePlantStatusesModel;\r\nexport const ProductionOrderStatusesModel = eProductionOrderStatusesModel;\r\nexport const ProductionOrderActionTypesModel = eProductionOrderActionTypesModel;\r\nexport const CompanyStatusesModel = eCompanyStatusesModel;\r\nexport const MachineStatusesModel = eMachineStatusesModel;\r\nexport const MoldStatusesModel = eMoldStatusesModel;\r\nexport const ProductStatusesModel = eProductStatusesModel;\r\nexport const SensorStatusesModel = eSensorStatusesModel;\r\nexport const RolesModel = eRolesModel;\r\nexport const RoleStatusesModel = eRoleStatusesModel;\r\nexport const UserStatusesModel = eUserStatusesModel;\r\nexport const TicketStatusesModel = eTicketStatusesModel;\r\n","import React from \"react\";\r\nimport Color from \"./Color\";\r\n\r\nexport const list = [\r\n  {\r\n    text: \"Nome\",\r\n    identity: \"name\",\r\n    filter: {\r\n      type: \"string\"\r\n    }\r\n  },\r\n  {\r\n    text: \"Descrição\",\r\n    identity: \"description\",\r\n    filter: {\r\n      type: \"string\"\r\n    }\r\n  },\r\n  {\r\n    text: \"Cor\",\r\n    identity: \"color\",\r\n    model: {\r\n      service: \"colors\",\r\n      identity: \"colorId\"\r\n    },\r\n    customData: ({ ...props }) => <Color {...props} />\r\n  }\r\n];\r\n\r\nexport const form = [\r\n  [\r\n    {\r\n      text: \"Nome\",\r\n      identity: \"name\",\r\n      autoFocus: true,\r\n      required: true,\r\n      type: \"string\"\r\n    },\r\n    {\r\n      text: \"Descrição\",\r\n      identity: \"description\",\r\n      type: \"string\"\r\n    }\r\n  ],\r\n  [\r\n    {\r\n      text: \"Cor\",\r\n      identity: \"colorId\",\r\n      required: true,\r\n      model: \"colors\"\r\n    },\r\n    {\r\n      text: \"Evento do Sistema\",\r\n      identity: \"isSystemEvent\",\r\n      type: \"boolean\"\r\n    }\r\n  ]\r\n];\r\n\r\nexport const links = [\r\n  {\r\n    text: \"Cadastros\",\r\n    href: \"/sysadmin/master-data\"\r\n  },\r\n  {\r\n    text: \"Tipos de Eventos de Ordem de Produção\",\r\n    href: \"/sysadmin/master-data/production-order-action-types\"\r\n  }\r\n];\r\n\r\nexport const metadata = {\r\n  name: \"production_order_action_types\",\r\n  listPath: \"/sysadmin/master-data/production-order-action-types\",\r\n  formPath: \"/sysadmin/master-data/production-order-action-types\",\r\n  paramsProp: \"productionOrderActionTypeId\",\r\n  newItemText: \"Novo Tipo de Evento de Ordem de Produção\"\r\n};\r\n\r\nexport default { metadata, list, form, links };\r\n","export const list = [\r\n  {\r\n    text: \"Nome\",\r\n    identity: \"name\",\r\n    filter: {\r\n      type: \"string\"\r\n    }\r\n  },\r\n  {\r\n    text: \"Descrição\",\r\n    identity: \"description\",\r\n    filter: {\r\n      type: \"string\"\r\n    }\r\n  }\r\n];\r\n\r\nexport const form = [\r\n  [\r\n    {\r\n      text: \"Nome\",\r\n      identity: \"name\",\r\n      autoFocus: true,\r\n      required: true,\r\n      type: \"string\"\r\n    },\r\n    {\r\n      text: \"Descrição\",\r\n      identity: \"description\",\r\n      type: \"string\"\r\n    }\r\n  ]\r\n];\r\n\r\nexport const links = [\r\n  {\r\n    text: \"Cadastros\",\r\n    href: \"/sysadmin/master-data\"\r\n  },\r\n  {\r\n    text: \"Status de Clientes\",\r\n    href: \"/sysadmin/master-data/company-statuses\"\r\n  }\r\n];\r\n\r\nexport const metadata = {\r\n  name: \"company_statuses\",\r\n  listPath: \"/sysadmin/master-data/company-statuses\",\r\n  formPath: \"/sysadmin/master-data/company-statuses\",\r\n  paramsProp: \"companyStatusId\",\r\n  newItemText: \"Novo Status de Cliente\"\r\n};\r\n\r\nexport default { metadata, list, form, links };\r\n","export const list = [\r\n  {\r\n    text: \"Nome\",\r\n    identity: \"name\",\r\n    filter: {\r\n      type: \"string\"\r\n    }\r\n  },\r\n  {\r\n    text: \"Descrição\",\r\n    identity: \"description\",\r\n    filter: {\r\n      type: \"string\"\r\n    }\r\n  }\r\n];\r\n\r\nexport const form = [\r\n  [\r\n    {\r\n      text: \"Nome\",\r\n      identity: \"name\",\r\n      autoFocus: true,\r\n      required: true,\r\n      type: \"string\"\r\n    },\r\n    {\r\n      text: \"Descrição\",\r\n      identity: \"description\",\r\n      type: \"string\"\r\n    }\r\n  ]\r\n];\r\n\r\nexport const links = [\r\n  {\r\n    text: \"Cadastros\",\r\n    href: \"/sysadmin/master-data\"\r\n  },\r\n  {\r\n    text: \"Status de Máquinas\",\r\n    href: \"/sysadmin/master-data/machine-statuses\"\r\n  }\r\n];\r\n\r\nexport const metadata = {\r\n  name: \"machine_statuses\",\r\n  listPath: \"/sysadmin/master-data/machine-statuses\",\r\n  formPath: \"/sysadmin/master-data/machine-statuses\",\r\n  paramsProp: \"machineStatusId\",\r\n  newItemText: \"Novo Status de Máquina\"\r\n};\r\n\r\nexport default { metadata, list, form, links };\r\n","export const list = [\r\n  {\r\n    text: \"Nome\",\r\n    identity: \"name\",\r\n    filter: {\r\n      type: \"string\"\r\n    }\r\n  },\r\n  {\r\n    text: \"Descrição\",\r\n    identity: \"description\",\r\n    filter: {\r\n      type: \"string\"\r\n    }\r\n  }\r\n];\r\n\r\nexport const form = [\r\n  [\r\n    {\r\n      text: \"Nome\",\r\n      identity: \"name\",\r\n      autoFocus: true,\r\n      required: true,\r\n      type: \"string\"\r\n    },\r\n    {\r\n      text: \"Descrição\",\r\n      identity: \"description\",\r\n      type: \"string\"\r\n    }\r\n  ]\r\n];\r\n\r\nexport const links = [\r\n  {\r\n    text: \"Cadastros\",\r\n    href: \"/sysadmin/master-data\"\r\n  },\r\n  {\r\n    text: \"Status de Moldes\",\r\n    href: \"/sysadmin/master-data/mold-statuses\"\r\n  }\r\n];\r\n\r\nexport const metadata = {\r\n  name: \"mold_statuses\",\r\n  listPath: \"/sysadmin/master-data/mold-statuses\",\r\n  formPath: \"/sysadmin/master-data/mold-statuses\",\r\n  paramsProp: \"moldStatusId\",\r\n  newItemText: \"Novo Status de Molde\"\r\n};\r\n\r\nexport default { metadata, list, form, links };\r\n","export const list = [\r\n  {\r\n    text: \"Nome\",\r\n    identity: \"name\",\r\n    filter: {\r\n      type: \"string\"\r\n    }\r\n  },\r\n  {\r\n    text: \"Descrição\",\r\n    identity: \"description\",\r\n    filter: {\r\n      type: \"string\"\r\n    }\r\n  }\r\n];\r\n\r\nexport const form = [\r\n  [\r\n    {\r\n      text: \"Nome\",\r\n      identity: \"name\",\r\n      autoFocus: true,\r\n      required: true,\r\n      type: \"string\"\r\n    },\r\n    {\r\n      text: \"Descrição\",\r\n      identity: \"description\",\r\n      type: \"string\"\r\n    }\r\n  ]\r\n];\r\n\r\nexport const links = [\r\n  {\r\n    text: \"Cadastros\",\r\n    href: \"/sysadmin/master-data\"\r\n  },\r\n  {\r\n    text: \"Status de Produtos\",\r\n    href: \"/sysadmin/master-data/product-statuses\"\r\n  }\r\n];\r\n\r\nexport const metadata = {\r\n  name: \"product_statuses\",\r\n  listPath: \"/sysadmin/master-data/product-statuses\",\r\n  formPath: \"/sysadmin/master-data/product-statuses\",\r\n  paramsProp: \"productStatusId\",\r\n  newItemText: \"Novo Status de Produto\"\r\n};\r\n\r\nexport default { metadata, list, form, links };\r\n","export const list = [\r\n  {\r\n    text: \"Nome\",\r\n    identity: \"name\",\r\n    filter: {\r\n      type: \"string\"\r\n    }\r\n  },\r\n  {\r\n    text: \"Descrição\",\r\n    identity: \"description\",\r\n    filter: {\r\n      type: \"string\"\r\n    }\r\n  }\r\n];\r\n\r\nexport const form = [\r\n  [\r\n    {\r\n      text: \"Nome\",\r\n      identity: \"name\",\r\n      autoFocus: true,\r\n      required: true,\r\n      type: \"string\"\r\n    },\r\n    {\r\n      text: \"Descrição\",\r\n      identity: \"description\",\r\n      type: \"string\"\r\n    }\r\n  ]\r\n];\r\n\r\nexport const links = [\r\n  {\r\n    text: \"Cadastros\",\r\n    href: \"/sysadmin/master-data\"\r\n  },\r\n  {\r\n    text: \"Status de Sensores\",\r\n    href: \"/sysadmin/master-data/sensor-statuses\"\r\n  }\r\n];\r\n\r\nexport const metadata = {\r\n  name: \"sensor_statuses\",\r\n  listPath: \"/sysadmin/master-data/sensor-statuses\",\r\n  formPath: \"/sysadmin/master-data/sensor-statuses\",\r\n  paramsProp: \"sensorStatusId\",\r\n  newItemText: \"Novo Status de Sensor\"\r\n};\r\n\r\nexport default { metadata, list, form, links };\r\n","export const list = [\r\n  {\r\n    text: \"Nome\",\r\n    identity: \"name\",\r\n    filter: {\r\n      type: \"string\"\r\n    }\r\n  },\r\n  {\r\n    text: \"Descrição\",\r\n    identity: \"description\",\r\n    filter: {\r\n      type: \"string\"\r\n    }\r\n  },\r\n  {\r\n    text: \"Status\",\r\n    identity: \"role_status.name\",\r\n    model: {\r\n      service: \"role_statuses\",\r\n      identity: \"roleStatusId\"\r\n    }\r\n  }\r\n];\r\n\r\nexport const form = [\r\n  [\r\n    {\r\n      text: \"Nome\",\r\n      identity: \"name\",\r\n      autoFocus: true,\r\n      required: true,\r\n      type: \"string\"\r\n    },\r\n    {\r\n      text: \"Descrição\",\r\n      identity: \"description\",\r\n      type: \"string\"\r\n    },\r\n    {\r\n      text: \"Status\",\r\n      identity: \"roleStatusId\",\r\n      required: true,\r\n      model: \"role_statuses\",\r\n      defaultValue: {\r\n        config: \"role.status.init\"\r\n      }\r\n    }\r\n  ],\r\n  [\r\n    {\r\n      text: \"Criar/Modificar Cadastros\",\r\n      identity: \"writeMasterData\",\r\n      type: \"boolean\"\r\n    }\r\n  ],\r\n  [\r\n    {\r\n      text: \"Visualizar Cadastros\",\r\n      identity: \"readMasterData\",\r\n      type: \"boolean\"\r\n    }\r\n  ],\r\n  [\r\n    {\r\n      text: \"Acesso a Dados Administração\",\r\n      identity: \"crudAdminData\",\r\n      type: \"boolean\"\r\n    }\r\n  ],\r\n  [\r\n    {\r\n      text: \"Cadastro Usuario/Perfil\",\r\n      identity: \"crudUserData\",\r\n      type: \"boolean\"\r\n    }\r\n  ],\r\n  [\r\n    {\r\n      text: \"Criar Ordens Produção\",\r\n      identity: \"writeActiveProductionOrders\",\r\n      type: \"boolean\"\r\n    }\r\n  ],\r\n  [\r\n    {\r\n      text: \"Criar Ordens Não Produção\",\r\n      identity: \"writeScheduledStopProductionOrders\",\r\n      type: \"boolean\"\r\n    }\r\n  ],\r\n  [\r\n    {\r\n      text: \"Liberar Ordens (sequenciaador)\",\r\n      identity: \"openProductionOrders\",\r\n      type: \"boolean\"\r\n    }\r\n  ],\r\n  [\r\n    {\r\n      text: \"Apontar Eventos Ordem\",\r\n      identity: \"writeProductionOrderEvents\",\r\n      type: \"boolean\"\r\n    }\r\n  ],\r\n  [\r\n    {\r\n      text: \"Modificar Eventos Ordem\",\r\n      identity: \"editProductionOrderEvents\",\r\n      type: \"boolean\"\r\n    }\r\n  ],\r\n  [\r\n    {\r\n      text: \"Visualizar Ordens\",\r\n      identity: \"readProductionOrders\",\r\n      type: \"boolean\"\r\n    }\r\n  ],\r\n  [\r\n    {\r\n      text: \"Visualizar Relatorios\",\r\n      identity: \"readProductionOrderReports\",\r\n      type: \"boolean\"\r\n    }\r\n  ],\r\n  [\r\n    {\r\n      text: \"Visualizar Refugo\",\r\n      identity: \"readPendingWaste\",\r\n      type: \"boolean\"\r\n    }\r\n  ],\r\n  [\r\n    {\r\n      text: \"Apontar Refugo\",\r\n      identity: \"writePendingWaste\",\r\n      type: \"boolean\"\r\n    }\r\n  ],\r\n  [\r\n    {\r\n      text: \"Modificar Refugo\",\r\n      identity: \"editPendingWaste\",\r\n      type: \"boolean\"\r\n    }\r\n  ]\r\n];\r\n\r\nexport const links = [\r\n  {\r\n    text: \"Cadastros\",\r\n    href: \"/sysadmin/master-data\"\r\n  },\r\n  {\r\n    text: \"Perfis\",\r\n    href: \"/sysadmin/master-data/roles\"\r\n  }\r\n];\r\n\r\nexport const metadata = {\r\n  name: \"roles\",\r\n  listPath: \"/sysadmin/master-data/roles\",\r\n  formPath: \"/sysadmin/master-data/roles\",\r\n  paramsProp: \"roleId\",\r\n  newItemText: \"Novo Perfil\"\r\n};\r\n\r\nexport default {\r\n  metadata,\r\n  list,\r\n  form,\r\n  links,\r\n  query: {\r\n    name: { $nin: [\"sysadmin\"] },\r\n    $sort: { name: 1 }\r\n  }\r\n};\r\n","export const list = [\r\n  {\r\n    text: \"Nome\",\r\n    identity: \"name\",\r\n    filter: {\r\n      type: \"string\"\r\n    }\r\n  },\r\n  {\r\n    text: \"Descrição\",\r\n    identity: \"description\",\r\n    filter: {\r\n      type: \"string\"\r\n    }\r\n  }\r\n];\r\n\r\nexport const form = [\r\n  [\r\n    {\r\n      text: \"Nome\",\r\n      identity: \"name\",\r\n      autoFocus: true,\r\n      required: true,\r\n      type: \"string\"\r\n    },\r\n    {\r\n      text: \"Descrição\",\r\n      identity: \"description\",\r\n      type: \"string\"\r\n    }\r\n  ]\r\n];\r\n\r\nexport const links = [\r\n  {\r\n    text: \"Cadastros\",\r\n    href: \"/sysadmin/master-data\"\r\n  },\r\n  {\r\n    text: \"Status de Funções do Usuário\",\r\n    href: \"/sysadmin/master-data/role-statuses\"\r\n  }\r\n];\r\n\r\nexport const metadata = {\r\n  name: \"role_statuses\",\r\n  listPath: \"/sysadmin/master-data/role-statuses\",\r\n  formPath: \"/sysadmin/master-data/role-statuses\",\r\n  paramsProp: \"roleStatusId\",\r\n  newItemText: \"Novo Status de Função do Usuário\"\r\n};\r\n\r\nexport default { metadata, list, form, links };\r\n","export const list = [\r\n  {\r\n    text: \"Nome\",\r\n    identity: \"name\",\r\n    filter: {\r\n      type: \"string\"\r\n    }\r\n  },\r\n  {\r\n    text: \"Descrição\",\r\n    identity: \"description\",\r\n    filter: {\r\n      type: \"string\"\r\n    }\r\n  }\r\n];\r\n\r\nexport const form = [\r\n  [\r\n    {\r\n      text: \"Nome\",\r\n      identity: \"name\",\r\n      autoFocus: true,\r\n      required: true,\r\n      type: \"string\"\r\n    },\r\n    {\r\n      text: \"Descrição\",\r\n      identity: \"description\",\r\n      type: \"string\"\r\n    }\r\n  ]\r\n];\r\n\r\nexport const links = [\r\n  {\r\n    text: \"Cadastros\",\r\n    href: \"/sysadmin/master-data\"\r\n  },\r\n  {\r\n    text: \"Status de Usuários\",\r\n    href: \"/sysadmin/master-data/user-statuses\"\r\n  }\r\n];\r\n\r\nexport const metadata = {\r\n  name: \"user_statuses\",\r\n  listPath: \"/sysadmin/master-data/user-statuses\",\r\n  formPath: \"/sysadmin/master-data/user-statuses\",\r\n  paramsProp: \"userStatusId\",\r\n  newItemText: \"Novo Status de Usuário\"\r\n};\r\n\r\nexport default { metadata, list, form, links };\r\n","export const list = [\r\n  {\r\n    text: \"Nome\",\r\n    identity: \"name\",\r\n    filter: {\r\n      type: \"string\"\r\n    }\r\n  },\r\n  {\r\n    text: \"Descrição\",\r\n    identity: \"description\",\r\n    filter: {\r\n      type: \"string\"\r\n    }\r\n  }\r\n];\r\n\r\nexport const form = [\r\n  [\r\n    {\r\n      text: \"Nome\",\r\n      identity: \"name\",\r\n      autoFocus: true,\r\n      required: true,\r\n      type: \"string\"\r\n    },\r\n    {\r\n      text: \"Descrição\",\r\n      identity: \"description\",\r\n      type: \"string\"\r\n    }\r\n  ]\r\n];\r\n\r\nexport const links = [\r\n  {\r\n    text: \"Cadastros\",\r\n    href: \"/sysadmin/master-data\"\r\n  },\r\n  {\r\n    text: \"Status de Ticket\",\r\n    href: \"/sysadmin/master-data/ticket-statuses\"\r\n  }\r\n];\r\n\r\nexport const metadata = {\r\n  name: \"ticket_statuses\",\r\n  listPath: \"/sysadmin/master-data/ticket-statuses\",\r\n  formPath: \"/sysadmin/master-data/ticket-statuses\",\r\n  paramsProp: \"ticketStatusId\",\r\n  newItemText: \"Novo Status do Ticket\"\r\n};\r\n\r\nexport default { metadata, list, form, links };\r\n","import React from \"react\";\r\nimport { Switch } from \"../../utils\";\r\nimport { AdminRoute, withMasterDataListPage, withMasterDataFormPage } from \"../../components\";\r\nimport SysAdminPage from \"./\";\r\nimport ConfigsPage from \"./configs\";\r\nimport LandingPage from \"../landing\";\r\nimport ProductionHistoryPage from \"../dashboard/production-history\";\r\nimport UnderConstructionPage from \"../under-construction\";\r\nimport {\r\n  CompaniesModel,\r\n  CompanyStatusesModel,\r\n  SensorsModel,\r\n  ColorsModel,\r\n  MeasurementUnitsModel,\r\n  PlantStatusesModel,\r\n  ProductionOrderStatusesModel,\r\n  ProductionOrderActionTypesModel,\r\n  MachineStatusesModel,\r\n  MoldStatusesModel,\r\n  ProductStatusesModel,\r\n  SensorStatusesModel,\r\n  RolesModel,\r\n  RoleStatusesModel,\r\n  UserStatusesModel,\r\n  TicketStatusesModel\r\n} from \"./models\";\r\n\r\nconst SysAdminRoutes = () => (\r\n  <React.Fragment>\r\n    <Switch>\r\n      <AdminRoute exact path=\"/sysadmin\" component={() => <LandingPage title=\"Sys Admin\" />} />\r\n      <AdminRoute\r\n        exact\r\n        path=\"/sysadmin/companies\"\r\n        component={() => withMasterDataListPage(CompaniesModel)}\r\n      />\r\n      <AdminRoute\r\n        exact\r\n        path=\"/sysadmin/companies/:companyId\"\r\n        component={() => withMasterDataFormPage(CompaniesModel)}\r\n      />\r\n      <AdminRoute\r\n        exact\r\n        path=\"/sysadmin/companies/:companyId/production-history\"\r\n        component={ProductionHistoryPage}\r\n      />\r\n      <AdminRoute\r\n        exact\r\n        path=\"/sysadmin/sensors\"\r\n        component={() => withMasterDataListPage(SensorsModel)}\r\n      />\r\n      <AdminRoute\r\n        exact\r\n        path=\"/sysadmin/sensors/:sensorId\"\r\n        component={() => withMasterDataFormPage(SensorsModel)}\r\n      />\r\n      <AdminRoute\r\n        exact\r\n        path=\"/sysadmin/master-data/colors\"\r\n        component={() => withMasterDataListPage(ColorsModel)}\r\n      />\r\n      <AdminRoute\r\n        exact\r\n        path=\"/sysadmin/master-data/colors/:colorId\"\r\n        component={() => withMasterDataFormPage(ColorsModel)}\r\n      />\r\n      <AdminRoute exact path=\"/sysadmin/configs\" component={ConfigsPage} />\r\n      <AdminRoute exact path=\"/sysadmin/master-data\" component={SysAdminPage} />\r\n      <AdminRoute\r\n        exact\r\n        path=\"/sysadmin/master-data/measurement-units\"\r\n        component={() => withMasterDataListPage(MeasurementUnitsModel)}\r\n      />\r\n      <AdminRoute\r\n        exact\r\n        path=\"/sysadmin/master-data/measurement-units/:measurementUnitId\"\r\n        component={() => withMasterDataFormPage(MeasurementUnitsModel)}\r\n      />\r\n      <AdminRoute\r\n        exact\r\n        path=\"/sysadmin/master-data/plant-statuses\"\r\n        component={() => withMasterDataListPage(PlantStatusesModel)}\r\n      />\r\n      <AdminRoute\r\n        exact\r\n        path=\"/sysadmin/master-data/plant-statuses/:plantStatusId\"\r\n        component={() => withMasterDataFormPage(PlantStatusesModel)}\r\n      />\r\n      <AdminRoute\r\n        exact\r\n        path=\"/sysadmin/master-data/production-order-statuses\"\r\n        component={() => withMasterDataListPage(ProductionOrderStatusesModel)}\r\n      />\r\n      <AdminRoute\r\n        exact\r\n        path=\"/sysadmin/master-data/production-order-statuses/:productionOrderStatusId\"\r\n        component={() => withMasterDataFormPage(ProductionOrderStatusesModel)}\r\n      />\r\n      <AdminRoute\r\n        exact\r\n        path=\"/sysadmin/master-data/production-order-action-types\"\r\n        component={() => withMasterDataListPage(ProductionOrderActionTypesModel)}\r\n      />\r\n      <AdminRoute\r\n        exact\r\n        path=\"/sysadmin/master-data/production-order-action-types/:productionOrderActionTypeId\"\r\n        component={() => withMasterDataFormPage(ProductionOrderActionTypesModel)}\r\n      />\r\n      <AdminRoute\r\n        exact\r\n        path=\"/sysadmin/master-data/company-statuses\"\r\n        component={() => withMasterDataListPage(CompanyStatusesModel)}\r\n      />\r\n      <AdminRoute\r\n        exact\r\n        path=\"/sysadmin/master-data/company-statuses/:companyStatusId\"\r\n        component={() => withMasterDataFormPage(CompanyStatusesModel)}\r\n      />\r\n      <AdminRoute\r\n        exact\r\n        path=\"/sysadmin/master-data/machine-statuses\"\r\n        component={() => withMasterDataListPage(MachineStatusesModel)}\r\n      />\r\n      <AdminRoute\r\n        exact\r\n        path=\"/sysadmin/master-data/machine-statuses/:machineStatusId\"\r\n        component={() => withMasterDataFormPage(MachineStatusesModel)}\r\n      />\r\n      <AdminRoute\r\n        exact\r\n        path=\"/sysadmin/master-data/mold-statuses\"\r\n        component={() => withMasterDataListPage(MoldStatusesModel)}\r\n      />\r\n      <AdminRoute\r\n        exact\r\n        path=\"/sysadmin/master-data/mold-statuses/:moldStatusId\"\r\n        component={() => withMasterDataFormPage(MoldStatusesModel)}\r\n      />\r\n      <AdminRoute\r\n        exact\r\n        path=\"/sysadmin/master-data/product-statuses\"\r\n        component={() => withMasterDataListPage(ProductStatusesModel)}\r\n      />\r\n      <AdminRoute\r\n        exact\r\n        path=\"/sysadmin/master-data/product-statuses/:productStatusId\"\r\n        component={() => withMasterDataFormPage(ProductStatusesModel)}\r\n      />\r\n      <AdminRoute\r\n        exact\r\n        path=\"/sysadmin/master-data/sensor-statuses\"\r\n        component={() => withMasterDataListPage(SensorStatusesModel)}\r\n      />\r\n      <AdminRoute\r\n        exact\r\n        path=\"/sysadmin/master-data/sensor-statuses/:sensorStatusId\"\r\n        component={() => withMasterDataFormPage(SensorStatusesModel)}\r\n      />\r\n      <AdminRoute\r\n        exact\r\n        path=\"/sysadmin/master-data/roles\"\r\n        component={() => withMasterDataListPage(RolesModel)}\r\n      />\r\n      <AdminRoute\r\n        exact\r\n        path=\"/sysadmin/master-data/roles/:roleId\"\r\n        component={() => withMasterDataFormPage(RolesModel)}\r\n      />\r\n      <AdminRoute\r\n        exact\r\n        path=\"/sysadmin/master-data/role-statuses\"\r\n        component={() => withMasterDataListPage(RoleStatusesModel)}\r\n      />\r\n      <AdminRoute\r\n        exact\r\n        path=\"/sysadmin/master-data/role-statuses/:roleStatusId\"\r\n        component={() => withMasterDataFormPage(RoleStatusesModel)}\r\n      />\r\n      <AdminRoute\r\n        exact\r\n        path=\"/sysadmin/master-data/user-statuses\"\r\n        component={() => withMasterDataListPage(UserStatusesModel)}\r\n      />\r\n      <AdminRoute\r\n        exact\r\n        path=\"/sysadmin/master-data/user-statuses/:userStatusId\"\r\n        component={() => withMasterDataFormPage(UserStatusesModel)}\r\n      />\r\n      <AdminRoute\r\n        exact\r\n        path=\"/sysadmin/master-data/ticket-statuses\"\r\n        component={() => withMasterDataListPage(TicketStatusesModel)}\r\n      />\r\n      <AdminRoute\r\n        exact\r\n        path=\"/sysadmin/master-data/ticket-statuses/:ticketStatusId\"\r\n        component={() => withMasterDataFormPage(TicketStatusesModel)}\r\n      />\r\n      <AdminRoute default component={UnderConstructionPage} />\r\n    </Switch>\r\n  </React.Fragment>\r\n);\r\n\r\nexport default SysAdminRoutes;\r\n","import React, {useState, useEffect} from \"react\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport { MuiThemeProvider, createMuiTheme } from \"@material-ui/core/styles\";\r\nimport { ThemeProvider } from \"@material-ui/styles\";\r\nimport { MuiPickersUtilsProvider } from \"@material-ui/pickers\";\r\nimport MomentUtils from \"@date-io/moment\";\r\nimport moment from \"moment\";\r\nimport \"moment/locale/pt-br\";\r\nimport { BrowserRouter, Route, Switch } from \"./utils\";\r\nimport { Shell, SessionRoute, AdminRoute } from \"./components\";\r\nimport LoginPage from \"./pages/login\";\r\nimport WikiPage from \"./pages/help\";\r\nimport SupportTicket from './pages/support';\r\nimport LandingPage from \"./pages/landing\";\r\nimport UnderConstructionPage from \"./pages/under-construction\";\r\nimport MasterDataRoutes from \"./pages/master-data/routes\";\r\nimport AdministrationRoutes from \"./pages/administration/routes\";\r\nimport DashboardRoutes from \"./pages/dashboard/routes\";\r\nimport SysAdminRoutes from \"./pages/sysadmin/routes\";\r\nimport { SnackbarProvider } from 'notistack';\r\n\r\n// import Ubuntu from\"./components/fonts/ubuntu.css\";\r\nmoment.locale(\"pt-br\");\r\n\r\n\r\nconst App = () => {\r\n  \r\n  const [dark, setDark] = useState(localStorage.getItem('DarkTheme') === \"true\");\r\n\r\n  const swtichTheme = () => setDark(p => !p);\r\n\r\n  useEffect(() => {\r\n    localStorage.setItem('DarkTheme' , dark);\r\n  },[dark])\r\n\r\n  const theme = createMuiTheme({\r\n    typography: {\r\n      useNextVariants: true\r\n      // fontFamily: 'TypoGraphica_demo' TODO://make this font work!!!\r\n    },\r\n    palette: {\r\n      type: dark ? \"dark\" : \"light\",\r\n      primary: {\r\n        main: \"#424242\",\r\n        header: \"#616161\",\r\n        // header: \"#00b5ad\",\r\n        table: \"rgba(0, 0, 0, .14)\",\r\n        form: \"rgba(0, 0, 0, .14)\",\r\n        disabled: \"rgba(0, 0, 0, .14)\",\r\n        delete: \"#db2828\"\r\n      },\r\n      secondary: {\r\n        main: \"#ffb300\"\r\n      }\r\n    }\r\n  });\r\n\r\n  return (\r\n    <ThemeProvider theme={theme}>\r\n      <MuiThemeProvider theme={theme}>\r\n        <MuiPickersUtilsProvider utils={MomentUtils}>\r\n          <CssBaseline />\r\n          <BrowserRouter>\r\n            <SnackbarProvider\r\n              maxSnack={3}\r\n            >\r\n              <Shell swtichTheme = {swtichTheme} dark={dark}>\r\n                <Switch>\r\n                  <Route exact path=\"/\" component={() => <LandingPage title=\"MonitorProd\" />} />\r\n                  <Route path=\"/login/:companyUUID\" component={LoginPage} />\r\n                  <Route path=\"/master-data\" component={MasterDataRoutes} />\r\n                  <Route path=\"/administration\" component={AdministrationRoutes} />\r\n                  <Route path=\"/dashboard\" component={DashboardRoutes} />\r\n                  <Route path=\"/reports\" component={DashboardRoutes} />\r\n                  <Route path=\"/sysadmin\" component={SysAdminRoutes} />\r\n                  <SessionRoute path=\"/help/home\" component={WikiPage} />\r\n                  <SessionRoute path=\"/help/:wikiPageId\" component={WikiPage} />\r\n                  <SessionRoute exact path=\"/support\" component={SupportTicket} />\r\n                  <SessionRoute exact path=\"/support/:ticketId\" component={SupportTicket} />\r\n                  <AdminRoute exact path=\"/support/company/:companyId/ticket/:ticketId\" component={SupportTicket} />\r\n                  <Route default component={UnderConstructionPage} />\r\n                </Switch>\r\n              </Shell>\r\n            </SnackbarProvider>\r\n          </BrowserRouter>\r\n        </MuiPickersUtilsProvider>\r\n      </MuiThemeProvider>\r\n    </ThemeProvider>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read http://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === \"localhost\" ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === \"[::1]\" ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n    window.addEventListener(\"load\", () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            \"This web app is being served cache-first by a service \" +\r\n              \"worker. To learn more, visit http://bit.ly/CRA-PWA\"\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === \"installed\") {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                \"New content is available and will be used when all \" +\r\n                  \"tabs for this page are closed. See http://bit.ly/CRA-PWA.\"\r\n              );\r\n              alert(\r\n                \"Nova versão está disponível! Por favor, feche todas as abas de monitorprod.com.br para usar a nova funcionalidade.\"\r\n              );\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log(\"Content is cached for offline use.\");\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error(\"Error during service worker registration:\", error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get(\"content-type\");\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf(\"javascript\") === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\"No internet connection found. App is running in offline mode.\");\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if (\"serviceWorker\" in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\nimport * as serviceWorker from \"./serviceWorker\";\r\nimport \"./App.css\";\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: http://bit.ly/CRA-PWA\r\nserviceWorker.register();\r\n"],"sourceRoot":""}